(()=>{var an,Ut,Rk={714:Ut=>{function an(tt){return Promise.resolve().then(()=>{var cn=new Error("Cannot find module '"+tt+"'");throw cn.code="MODULE_NOT_FOUND",cn})}an.keys=()=>[],an.resolve=an,an.id=714,Ut.exports=an},653:(Ut,an,tt)=>{Ut.exports=tt(450)},37:Ut=>{!function(an){if("undefined"!=typeof window){var tt=!0,Ye="",Nn=0,p="",at=null,un="",Bt=!1,nt={resize:1,click:1},Wi=!0,Sn=1,pn="bodyOffset",oi=pn,ht=!0,zn="",xa={},Jt=32,Gt=null,An=!1,Ta=!1,Pa="[iFrameSizer]",Qi=Pa.length,Mi="",pi={max:1,min:1,bodyScroll:1,documentElementScroll:1},on="child",Fr=window.parent,ji="*",Rr=0,zr=!1,nr=null,fr=16,Xa=1,ci="scroll",Ha=window,dr=function(){pa("onMessage function not defined")},Ki=function(){},Ya=function(){},hn={height:function(){return pa("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return pa("Custom width calculation function not defined"),document.body.scrollWidth}},yo={},Vo=!1;try{var Ms=Object.create({},{passive:{get:function(){Vo=!0}}});window.addEventListener("test",Ka,Ms),window.removeEventListener("test",Ka,Ms)}catch(ke){}var ke,xe,Xe,gt,bt,Ht,mn,ne={bodyOffset:function(){return document.body.offsetHeight+tn("marginTop")+tn("marginBottom")},offset:function(){return ne.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return hn.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Un(ne))},min:function(){return Math.min.apply(null,Un(ne))},grow:function(){return ne.max()},lowestElement:function(){return Math.max(ne.bodyOffset()||ne.documentElementOffset(),qr("bottom",Vn()))},taggedElement:function(){return wt("bottom","data-iframe-height")}},Y={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return hn.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Y.bodyScroll(),Y.documentElementScroll())},max:function(){return Math.max.apply(null,Un(Y))},min:function(){return Math.min.apply(null,Un(Y))},rightMostElement:function(){return qr("right",Vn())},taggedElement:function(){return wt("right","data-iframe-width")}},de=(ke=X,bt=null,Ht=0,mn=function(){Ht=Date.now(),bt=null,gt=ke.apply(xe,Xe),bt||(xe=Xe=null)},function(){var fn=Date.now();Ht||(Ht=fn);var bn=fr-(fn-Ht);return xe=this,Xe=arguments,bn<=0||bn>fr?(bt&&(clearTimeout(bt),bt=null),Ht=fn,gt=ke.apply(xe,Xe),bt||(xe=Xe=null)):bt||(bt=setTimeout(mn,bn)),gt});Nr(window,"message",function(ke){var Mn,xe={init:function(){zn=ke.data,Fr=ke.source,function(){var ke,xe;(function(){function ke(Xe){return"true"===Xe}var xe=zn.substr(Qi).split(":");Mi=xe[0],Nn=an!==xe[1]?Number(xe[1]):Nn,Bt=an!==xe[2]?ke(xe[2]):Bt,An=an!==xe[3]?ke(xe[3]):An,Jt=an!==xe[4]?Number(xe[4]):Jt,tt=an!==xe[6]?ke(xe[6]):tt,p=xe[7],oi=an!==xe[8]?xe[8]:oi,Ye=xe[9],un=xe[10],Rr=an!==xe[11]?Number(xe[11]):Rr,xa.enable=an!==xe[12]&&ke(xe[12]),on=an!==xe[13]?xe[13]:on,ci=an!==xe[14]?xe[14]:ci,Ta=an!==xe[15]?Boolean(xe[15]):Ta})(),qn("Initialising iFrame ("+window.location.href+")"),function(){function ke(){var Xe=window.iFrameResizer;qn("Reading data from page: "+JSON.stringify(Xe)),Object.keys(Xe).forEach(ti,Xe),dr="onMessage"in Xe?Xe.onMessage:dr,Ki="onReady"in Xe?Xe.onReady:Ki,ji="targetOrigin"in Xe?Xe.targetOrigin:ji,oi="heightCalculationMethod"in Xe?Xe.heightCalculationMethod:oi,ci="widthCalculationMethod"in Xe?Xe.widthCalculationMethod:ci}function xe(Xe,gt){return"function"==typeof Xe&&(qn("Setup custom "+gt+"CalcMethod"),hn[gt]=Xe,Xe="custom"),Xe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(ke(),oi=xe(oi,"height"),ci=xe(ci,"width")),qn("TargetOrigin for parent set to: "+ji)}(),an===p&&(p=Nn+"px"),Bn("margin",(ke="margin",-1!==(xe=p).indexOf("-")&&(pa("Negative CSS value ignored for "+ke),xe=""),xe)),Bn("background",Ye),Bn("padding",un),function(){var ke=document.createElement("div");ke.style.clear="both",ke.style.display="block",ke.style.height="0",document.body.appendChild(ke)}(),Da(),ni(),document.documentElement.style.height="",document.body.style.height="",qn('HTML & body height set to "auto"'),qn("Enable public methods"),Ha.parentIFrame={autoResize:function(xe){return!0===xe&&!1===tt?(tt=!0,Sa()):!1===xe&&!0===tt&&(tt=!1,fa("remove"),null!==at&&at.disconnect(),clearInterval(Gt)),Ie(0,0,"autoResize",JSON.stringify(tt)),tt},close:function(){Ie(0,0,"close")},getId:function(){return Mi},getPageInfo:function(xe){"function"==typeof xe?(Ya=xe,Ie(0,0,"pageInfo")):(Ya=function(){},Ie(0,0,"pageInfoStop"))},moveToAnchor:function(xe){xa.findTarget(xe)},reset:function(){ye("parentIFrame.reset")},scrollTo:function(xe,Xe){Ie(Xe,xe,"scrollTo")},scrollToOffset:function(xe,Xe){Ie(Xe,xe,"scrollToOffset")},sendMessage:function(xe,Xe){Ie(0,0,"message",JSON.stringify(xe),Xe)},setHeightCalculationMethod:function(xe){oi=xe,Da()},setWidthCalculationMethod:function(xe){ci=xe,ni()},setTargetOrigin:function(xe){qn("Set targetOrigin: "+xe),ji=xe},size:function(xe,Xe){le("size","parentIFrame.size("+(xe||"")+(Xe?","+Xe:"")+")",xe,Xe)}},function(){function ke(Xe){Ie(0,0,Xe.type,Xe.screenY+":"+Xe.screenX)}function xe(Xe,gt){qn("Add event listener: "+gt),Nr(window.document,Xe,ke)}!0===Ta&&(xe("mouseenter","Mouse Enter"),xe("mouseleave","Mouse Leave"))}(),Sa(),xa=function(){function ke(){return{x:window.pageXOffset!==an?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==an?window.pageYOffset:document.documentElement.scrollTop}}function xe(bn){var Mn=bn.getBoundingClientRect(),At=ke();return{x:parseInt(Mn.left,10)+parseInt(At.x,10),y:parseInt(Mn.top,10)+parseInt(At.y,10)}}function Xe(bn){function Mn(Fn){var Ui=xe(Fn);qn("Moving to in page link (#"+At+") at x: "+Ui.x+" y: "+Ui.y),Ie(Ui.y,Ui.x,"scrollToOffset")}var At=bn.split("#")[1]||bn,je=decodeURIComponent(At),Li=document.getElementById(je)||document.getElementsByName(je)[0];an!==Li?Mn(Li):(qn("In page link (#"+At+") not found in iFrame, so sending to parent"),Ie(0,0,"inPageLink","#"+At))}function gt(){var bn=window.location.hash,Mn=window.location.href;""!==bn&&"#"!==bn&&Xe(Mn)}function bt(){function bn(Mn){function At(je){je.preventDefault(),Xe(this.getAttribute("href"))}"#"!==Mn.getAttribute("href")&&Nr(Mn,"click",At)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),bn)}function Ht(){Nr(window,"hashchange",gt)}function mn(){setTimeout(gt,128)}function fn(){Array.prototype.forEach&&document.querySelectorAll?(qn("Setting up location.hash handlers"),bt(),Ht(),mn()):pa("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return xa.enable?fn():qn("In page linking not enabled"),{findTarget:Xe}}(),le("init","Init message from host page"),Ki()}(),Wi=!1,setTimeout(function(){ht=!1},128)},reset:function(){ht?qn("Page reset ignored by init"):(qn("Page size reset by host page"),ze("resetPage"))},resize:function(){le("resizeParent","Parent window requested size check")},moveToAnchor:function(){xa.findTarget(bt())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var At=bt();qn("PageInfoFromParent called from parent: "+At),Ya(JSON.parse(At)),qn(" --")},message:function(){var At=bt();qn("onMessage called from parent: "+At),dr(JSON.parse(At)),qn(" --")}};function gt(){return ke.data.split("]")[1].split(":")[0]}function bt(){return ke.data.substr(ke.data.indexOf(":")+1)}function mn(){return ke.data.split(":")[2]in{true:1,false:1}}Pa===(""+ke.data).substr(0,Qi)&&(!1===Wi?(Mn=gt())in xe?xe[Mn]():!(!Ut.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype)&&!mn()&&pa("Unexpected message ("+ke.data+")"):mn()?xe.init():qn('Ignored message of type "'+gt()+'". Received before initialization.'))}),Nr(window,"readystatechange",Je),Je()}function Ka(){}function Nr(ke,xe,Xe,gt){ke.addEventListener(xe,Xe,!!Vo&&(gt||{}))}function xi(ke){return ke.charAt(0).toUpperCase()+ke.slice(1)}function Yr(ke){return Pa+"["+Mi+"] "+ke}function qn(ke){An&&"object"==typeof window.console&&console.log(Yr(ke))}function pa(ke){"object"==typeof window.console&&console.warn(Yr(ke))}function ti(ke){var xe=ke.split("Callback");if(2===xe.length){var Xe="on"+xe[0].charAt(0).toUpperCase()+xe[0].slice(1);this[Xe]=this[ke],delete this[ke],pa("Deprecated: '"+ke+"' has been renamed '"+Xe+"'. The old method will be removed in the next major version.")}}function Bn(ke,xe){an!==xe&&""!==xe&&"null"!==xe&&(document.body.style[ke]=xe,qn("Body "+ke+' set to "'+xe+'"'))}function On(ke){var xe={add:function(Xe){function gt(){le(ke.eventName,ke.eventType)}yo[Xe]=gt,Nr(window,Xe,gt,{passive:!0})},remove:function(Xe){var gt=yo[Xe];delete yo[Xe],function(ke,xe,Xe){ke.removeEventListener(xe,Xe,!1)}(window,Xe,gt)}};ke.eventNames&&Array.prototype.map?(ke.eventName=ke.eventNames[0],ke.eventNames.map(xe[ke.method])):xe[ke.method](ke.eventName),qn(xi(ke.method)+" event listener: "+ke.eventType)}function fa(ke){On({method:ke,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),On({method:ke,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),On({method:ke,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),On({method:ke,eventType:"Input",eventName:"input"}),On({method:ke,eventType:"Mouse Up",eventName:"mouseup"}),On({method:ke,eventType:"Mouse Down",eventName:"mousedown"}),On({method:ke,eventType:"Orientation Change",eventName:"orientationchange"}),On({method:ke,eventType:"Print",eventName:["afterprint","beforeprint"]}),On({method:ke,eventType:"Ready State Change",eventName:"readystatechange"}),On({method:ke,eventType:"Touch Start",eventName:"touchstart"}),On({method:ke,eventType:"Touch End",eventName:"touchend"}),On({method:ke,eventType:"Touch Cancel",eventName:"touchcancel"}),On({method:ke,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),On({method:ke,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),On({method:ke,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===on&&On({method:ke,eventType:"IFrame Resized",eventName:"resize"})}function Ea(ke,xe,Xe,gt){return xe!==ke&&(ke in Xe||(pa(ke+" is not a valid option for "+gt+"CalculationMethod."),ke=xe),qn(gt+' calculation method set to "'+ke+'"')),ke}function Da(){oi=Ea(oi,pn,ne,"height")}function ni(){ci=Ea(ci,"scroll",Y,"width")}function Sa(){!0===tt?(fa("add"),window.MutationObserver||window.WebKitMutationObserver?0>Jt?ir():at=function(){function ke(je){function Li(Fn){!1===Fn.complete&&(qn("Attach listeners to "+Fn.src),Fn.addEventListener("load",bt,!1),Fn.addEventListener("error",Ht,!1),bn.push(Fn))}"attributes"===je.type&&"src"===je.attributeName?Li(je.target):"childList"===je.type&&Array.prototype.forEach.call(je.target.querySelectorAll("img"),Li)}function Xe(je){qn("Remove listeners from "+je.src),je.removeEventListener("load",bt,!1),je.removeEventListener("error",Ht,!1),function(je){bn.splice(bn.indexOf(je),1)}(je)}function gt(je,Li,Fn){Xe(je.target),le(Li,Fn+": "+je.target.src)}function bt(je){gt(je,"imageLoad","Image loaded")}function Ht(je){gt(je,"imageLoadFailed","Image load failed")}function mn(je){le("mutationObserver","mutationObserver: "+je[0].target+" "+je[0].type),je.forEach(ke)}var je,bn=[],Mn=window.MutationObserver||window.WebKitMutationObserver,At=(je=document.querySelector("body"),At=new Mn(mn),qn("Create body MutationObserver"),At.observe(je,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),At);return{disconnect:function(){"disconnect"in At&&(qn("Disconnect body MutationObserver"),At.disconnect(),bn.forEach(Xe))}}}():(qn("MutationObserver not supported in this browser!"),ir())):qn("Auto Resize disabled")}function ir(){0!==Jt&&(qn("setInterval: "+Jt+"ms"),Gt=setInterval(function(){le("interval","setInterval: "+Jt)},Math.abs(Jt)))}function tn(ke,xe){var Xe=0;return xe=xe||document.body,Xe=null!==(Xe=document.defaultView.getComputedStyle(xe,null))?Xe[ke]:0,parseInt(Xe,10)}function qr(ke,xe){for(var Xe=xe.length,gt=0,bt=0,Ht=xi(ke),mn=Date.now(),fn=0;fn<Xe;fn++)(gt=xe[fn].getBoundingClientRect()[ke]+tn("margin"+Ht,xe[fn]))>bt&&(bt=gt);return mn=Date.now()-mn,qn("Parsed "+Xe+" HTML elements"),qn("Element position calculated in "+mn+"ms"),function(ke){ke>fr/2&&qn("Event throttle increased to "+(fr=2*ke)+"ms")}(mn),bt}function Un(ke){return[ke.bodyOffset(),ke.bodyScroll(),ke.documentElementOffset(),ke.documentElementScroll()]}function wt(ke,xe){var gt=document.querySelectorAll("["+xe+"]");return 0===gt.length&&(pa("No tagged elements ("+xe+") found on page"),document.querySelectorAll("body *")),qr(ke,gt)}function Vn(){return document.querySelectorAll("body *")}function X(ke,xe,Xe,gt){var At,je;!function(){function Li(Fn,Ui){return!(Math.abs(Fn-Ui)<=Rr)}return At=an!==Xe?Xe:ne[oi](),je=an!==gt?gt:Y[ci](),Li(Sn,At)||Bt&&Li(Xa,je)}()&&"init"!==ke?!(ke in{init:1,interval:1,size:1})&&(oi in pi||Bt&&ci in pi)?ye(xe):ke in{interval:1}||qn("No change in size detected"):(be(),Ie(Sn=At,Xa=je,ke))}function le(ke,xe,Xe,gt){zr&&ke in nt?qn("Trigger event cancelled: "+ke):(ke in{reset:1,resetPage:1,init:1}||qn("Trigger event: "+xe),"init"===ke?X(ke,xe,Xe,gt):de(ke,xe,Xe,gt))}function be(){zr||(zr=!0,qn("Trigger event lock on")),clearTimeout(nr),nr=setTimeout(function(){zr=!1,qn("Trigger event lock off"),qn("--")},128)}function ze(ke){Sn=ne[oi](),Xa=Y[ci](),Ie(Sn,Xa,ke)}function ye(ke){var xe=oi;oi=pn,qn("Reset trigger event: "+ke),be(),ze("reset"),oi=xe}function Ie(ke,xe,Xe,gt,bt){var bn;an===bt?bt=ji:qn("Message targetOrigin: "+bt),qn("Sending message to host page ("+(bn=Mi+":"+ke+":"+xe+":"+Xe+(an!==gt?":"+gt:""))+")"),Fr.postMessage(Pa+bn,bt)}function Je(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},179:(Ut,an)=>{var tt,cn,Ye;!function(Nn){if("undefined"!=typeof window){var it,p=0,at=!1,un=!1,nt="message".length,rn="[iFrameSizer]",Wi=rn.length,Sn=null,pn=window.requestAnimationFrame,oi={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},ht={},zn=null,xa={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){$a("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},Ka={};window.jQuery&&((it=window.jQuery).fn?it.fn.iFrameResize||(it.fn.iFrameResize=function(ti){return this.filter("iframe").each(function(Pn,Bn){yo(Bn,ti)}).end()}):on("","Unable to bind to jQuery, it is not fully loaded.")),cn=[],(Ye="function"==typeof(tt=qn)?tt.apply(an,cn):tt)!==Nn&&(Ut.exports=Ye),window.iFrameResize=window.iFrameResize||qn()}function Jt(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Gt(it,yt,ti){it.addEventListener(yt,ti,!1)}function An(it,yt,ti){it.removeEventListener(yt,ti,!1)}function Mi(it){return ht[it]?ht[it].log:at}function pi(it,yt){Fr("log",it,yt,Mi(it))}function on(it,yt){Fr("info",it,yt,Mi(it))}function $a(it,yt){Fr("warn",it,yt,!0)}function Fr(it,yt,ti,_n){!0===_n&&"object"==typeof window.console&&console[it](function(it){return rn+"["+function(it){var yt="Host page: "+it;return window.top!==window.self&&(yt=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+it:"Nested host page: "+it),yt}(it)+"]"}(yt),ti)}function ji(it){function yt(){Bn("Height"),Bn("Width"),dr(function(){Ha(wt),Xa(Vn),ui("onResized",wt)},wt,"init")}function Bn(ne){var Y=Number(ht[Vn]["max"+ne]),X=Number(ht[Vn]["min"+ne]),de=ne.toLowerCase(),le=Number(wt[de]);pi(Vn,"Checking "+de+" is in range "+X+"-"+Y),le<X&&(le=X,pi(Vn,"Set "+de+" to min value")),le>Y&&(le=Y,pi(Vn,"Set "+de+" to max value")),wt[de]=""+le}function fa(ne){return Un.substr(Un.indexOf(":")+nt+ne)}function ni(ne,Y){var ti;Ka[ti=Y]||(Ka[ti]=setTimeout(function(){Ka[ti]=null,Ki("Send Page Info","pageInfo:"+function(){var ne=document.body.getBoundingClientRect(),Y=wt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Y.height,iframeWidth:Y.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Y.top-ne.top,10),offsetLeft:parseInt(Y.left-ne.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}(),ne,Y)},32))}function Gn(ne){var Y=ne.getBoundingClientRect();return fr(Vn),{x:Math.floor(Number(Y.left)+Number(Sn.x)),y:Math.floor(Number(Y.top)+Number(Sn.y))}}function jn(ne){var le=ne?Gn(wt.iframe):{x:0,y:0},be={x:Number(wt.width)+le.x,y:Number(wt.height)+le.y};pi(Vn,"Reposition requested from iFrame (offset x:"+le.x+" y:"+le.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(ne?"Offset":"")](be.x,be.y):$a(Vn,"Unable to scroll to requested position, window.parentIFrame not found"):(Sn=be,sa(),pi(Vn,"--"))}function sa(){!1!==ui("onScroll",Sn)?Xa(Vn):Jr()}function ir(ne){var Y={};if(0===Number(wt.width)&&0===Number(wt.height)){var X=fa(9).split(":");Y={x:X[1],y:X[0]}}else Y={x:wt.width,y:wt.height};ui(ne,{iframe:wt.iframe,screenX:Number(Y.x),screenY:Number(Y.y),type:wt.type})}function ui(ne,Y){return Rr(Vn,ne,Y)}var ne,Y,X,de,Un=it.data,wt={},Vn=null;"[iFrameResizerChild]Ready"===Un?function(){for(var ne in ht)Ki("iFrame requested init",Ya(ne),ht[ne].iframe,ne)}():rn===(""+Un).substr(0,Wi)&&Un.substr(Wi).split(":")[0]in ht?(Y=(ne=Un.substr(Wi).split(":"))[1]?parseInt(ne[1],10):0,X=ht[ne[0]]&&ht[ne[0]].iframe,de=getComputedStyle(X),wt={iframe:X,id:ne[0],height:Y+function(ne){return"border-box"!==ne.boxSizing?0:(ne.paddingTop?parseInt(ne.paddingTop,10):0)+(ne.paddingBottom?parseInt(ne.paddingBottom,10):0)}(de)+function(ne){return"border-box"!==ne.boxSizing?0:(ne.borderTopWidth?parseInt(ne.borderTopWidth,10):0)+(ne.borderBottomWidth?parseInt(ne.borderBottomWidth,10):0)}(de),width:ne[2],type:ne[3]},ht[Vn=wt.id]&&(ht[Vn].loaded=!0),!function(){var ne=wt.type in{true:1,false:1,undefined:1};return ne&&pi(Vn,"Ignoring init message from meta parent page"),ne}()&&function(ne){var Y=!0;return ht[ne]||(Y=!1,$a(wt.type+" No settings for "+ne+". Message was: "+Un)),Y}(Vn)&&(pi(Vn,"Received: "+Un),function(){var ne=!0;return null===wt.iframe&&($a(Vn,"IFrame ("+wt.id+") not found"),ne=!1),ne}()&&function(){var be,Y=it.origin,X=ht[Vn]&&ht[Vn].checkOrigin;if(X&&""+Y!="null"&&!(X.constructor===Array?function(){var be=0,ze=!1;for(pi(Vn,"Checking connection is from allowed list of origins: "+X);be<X.length;be++)if(X[be]===Y){ze=!0;break}return ze}():(pi(Vn,"Checking connection is from: "+(be=ht[Vn]&&ht[Vn].remoteHost)),Y===be)))throw new Error("Unexpected message received from: "+Y+" for "+wt.iframe.id+". Message was: "+it.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(ht[Vn]&&ht[Vn].firstRun&&ht[Vn]&&(ht[Vn].firstRun=!1),wt.type){case"close":nr(wt.iframe);break;case"message":ne=fa(6),pi(Vn,"onMessage passed: {iframe: "+wt.iframe.id+", message: "+ne+"}"),ui("onMessage",{iframe:wt.iframe,message:JSON.parse(ne)}),pi(Vn,"--");break;case"mouseenter":ir("onMouseEnter");break;case"mouseleave":ir("onMouseLeave");break;case"autoResize":ht[Vn].autoResize=JSON.parse(fa(9));break;case"scrollTo":jn(!1);break;case"scrollToOffset":jn(!0);break;case"pageInfo":ni(ht[Vn]&&ht[Vn].iframe,Vn),function(){function ne(le,be){function ze(){ht[de]?ni(ht[de].iframe,de):Y()}["scroll","resize"].forEach(function(ye){pi(de,le+ye+" listener for sendPageInfo"),be(window,ye,ze)})}function Y(){ne("Remove ",An)}var de=Vn;ne("Add ",Gt),ht[de]&&(ht[de].stopPageInfo=Y)}();break;case"pageInfoStop":ht[Vn]&&ht[Vn].stopPageInfo&&(ht[Vn].stopPageInfo(),delete ht[Vn].stopPageInfo);break;case"inPageLink":!function(ne){var ze,de=ne.split("#")[1]||"",le=decodeURIComponent(de),be=document.getElementById(le)||document.getElementsByName(le)[0];be?(ze=Gn(be),pi(Vn,"Moving to in page link (#"+de+") at x: "+ze.x+" y: "+ze.y),Sn={x:ze.x,y:ze.y},sa(),pi(Vn,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(de):pi(Vn,"In page link #"+de+" not found and window.parentIFrame not found"):pi(Vn,"In page link #"+de+" not found")}(fa(9));break;case"reset":ci(wt);break;case"init":yt(),ui("onInit",wt.iframe);break;default:0===Number(wt.width)&&0===Number(wt.height)?$a("Unsupported message received ("+wt.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):yt()}var ne}())):on(Vn,"Ignored: "+Un)}function Rr(it,yt,ti){var _n=null,Pn=null;if(ht[it]){if("function"!=typeof(_n=ht[it][yt]))throw new TypeError(yt+" on iFrame["+it+"] is not a function");Pn=_n(ti)}return Pn}function zr(it){delete ht[it.id]}function nr(it){var yt=it.id;if(!1!==Rr(yt,"onClose",yt)){pi(yt,"Removing iFrame: "+yt);try{it.parentNode&&it.parentNode.removeChild(it)}catch(ti){$a(ti)}Rr(yt,"onClosed",yt),pi(yt,"--"),zr(it)}else pi(yt,"Close iframe cancelled by onClose event")}function fr(it){null===Sn&&pi(it,"Get page position: "+(Sn={x:window.pageXOffset!==Nn?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==Nn?window.pageYOffset:document.documentElement.scrollTop}).x+","+Sn.y)}function Xa(it){null!==Sn&&(window.scrollTo(Sn.x,Sn.y),pi(it,"Set page position: "+Sn.x+","+Sn.y),Jr())}function Jr(){Sn=null}function ci(it){pi(it.id,"Size reset requested by "+("init"===it.type?"host page":"iFrame")),fr(it.id),dr(function(){Ha(it),Ki("reset","reset",it.iframe,it.id)},it,"reset")}function Ha(it){function ti(Bn){!un&&"0"===it[Bn]&&(un=!0,pi(Pn,"Hidden iFrame detected, creating visibility listener"),function(){function it(){Object.keys(ht).forEach(function(Bn){!function(Bn){function qa(On){return"0px"===(ht[Bn]&&ht[Bn].iframe.style[On])}ht[Bn]&&null!==ht[Bn].iframe.offsetParent&&(qa("height")||qa("width"))&&Ki("Visibility change","resize",ht[Bn].iframe,Bn)}(Bn)})}function yt(Pn){pi("window","Mutation observed: "+Pn[0].target+" "+Pn[0].type),Vo(it,16)}var _n=Jt();_n&&function(){var Pn=document.querySelector("body");new _n(yt).observe(Pn,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}()}())}function _n(Bn){(function(Bn){it.id?(it.iframe.style[Bn]=it[Bn]+"px",pi(it.id,"IFrame ("+Pn+") "+Bn+" set to "+it[Bn]+"px")):pi("undefined","messageData id not set")})(Bn),ti(Bn)}var Pn=it.iframe.id;ht[Pn]&&(ht[Pn].sizeHeight&&_n("height"),ht[Pn].sizeWidth&&_n("width"))}function dr(it,yt,ti){ti!==yt.type&&pn&&!window.jasmine?(pi(yt.id,"Requesting animation frame"),pn(it)):it()}function Ki(it,yt,ti,_n,Pn){var Ea,fa=!1;ht[_n=_n||ti.id]&&(ti&&"contentWindow"in ti&&null!==ti.contentWindow?(pi(_n,"["+it+"] Sending msg to iframe["+_n+"] ("+yt+") targetOrigin: "+(Ea=ht[_n]&&ht[_n].targetOrigin)),ti.contentWindow.postMessage(rn+yt,Ea)):$a(_n,"["+it+"] IFrame("+_n+") not found"),Pn&&ht[_n]&&ht[_n].warningTimeout&&(ht[_n].msgTimeout=setTimeout(function(){ht[_n]&&!ht[_n].loaded&&!fa&&(fa=!0,$a(_n,"IFrame has not responded within "+ht[_n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},ht[_n].warningTimeout)))}function Ya(it){return it+":"+ht[it].bodyMarginV1+":"+ht[it].sizeWidth+":"+ht[it].log+":"+ht[it].interval+":"+ht[it].enablePublicMethods+":"+ht[it].autoResize+":"+ht[it].bodyMargin+":"+ht[it].heightCalculationMethod+":"+ht[it].bodyBackground+":"+ht[it].bodyPadding+":"+ht[it].tolerance+":"+ht[it].inPageLinks+":"+ht[it].resizeFrom+":"+ht[it].widthCalculationMethod+":"+ht[it].mouseEvents}function yo(it,yt){function Sa(jn){var sa=jn.split("Callback");if(2===sa.length){var Ni="on"+sa[0].charAt(0).toUpperCase()+sa[0].slice(1);this[Ni]=this[jn],delete this[jn],$a(Gn,"Deprecated: '"+jn+"' has been renamed '"+Ni+"'. The old method will be removed in the next major version.")}}var jn,Gn=(""===(jn=it.id)&&(it.id=jn=function(){var jn=yt&&yt.id||xa.id+p++;return null!==document.getElementById(jn)&&(jn+=p++),jn}(),at=(yt||{}).log,pi(jn,"Added missing iframe ID: "+jn+" ("+it.src+")")),jn);Gn in ht&&"iFrameResizer"in it?$a(Gn,"Ignored iFrame, already setup."):(function(jn){jn=jn||{},ht[Gn]={firstRun:!0,iframe:it,remoteHost:it.src&&it.src.split("/").slice(0,3).join("/")},function(jn){if("object"!=typeof jn)throw new TypeError("Options is not an object")}(jn),Object.keys(jn).forEach(Sa,jn),function(jn){for(var sa in xa)Object.prototype.hasOwnProperty.call(xa,sa)&&(ht[Gn][sa]=Object.prototype.hasOwnProperty.call(jn,sa)?jn[sa]:xa[sa])}(jn),ht[Gn]&&(ht[Gn].targetOrigin=!0===ht[Gn].checkOrigin?function(jn){return""===jn||null!==jn.match(/^(about:blank|javascript:|file:\/\/)/)?"*":jn}(ht[Gn].remoteHost):"*")}(yt),function(){switch(pi(Gn,"IFrame scrolling "+(ht[Gn]&&ht[Gn].scrolling?"enabled":"disabled")+" for "+Gn),it.style.overflow=!1===(ht[Gn]&&ht[Gn].scrolling)?"hidden":"auto",ht[Gn]&&ht[Gn].scrolling){case"omit":break;case!0:it.scrolling="yes";break;case!1:it.scrolling="no";break;default:it.scrolling=ht[Gn]?ht[Gn].scrolling:"no"}}(),function(){function jn(Ni){var ir=ht[Gn][Ni];ir!==1/0&&0!==ir&&(it.style[Ni]=function(it){return"number"==typeof it}(ir)?ir+"px":ir,pi(Gn,"Set "+Ni+" = "+it.style[Ni]))}function sa(Ni){if(ht[Gn]["min"+Ni]>ht[Gn]["max"+Ni])throw new Error("Value for min"+Ni+" can not be greater than max"+Ni)}sa("Height"),sa("Width"),jn("maxHeight"),jn("minHeight"),jn("maxWidth"),jn("minWidth")}(),("number"==typeof(ht[Gn]&&ht[Gn].bodyMargin)||"0"===(ht[Gn]&&ht[Gn].bodyMargin))&&(ht[Gn].bodyMarginV1=ht[Gn].bodyMargin,ht[Gn].bodyMargin=ht[Gn].bodyMargin+"px"),function(jn){var ir=Jt();ir&&(it.parentNode&&new ir(function(tn){tn.forEach(function(br){Array.prototype.slice.call(br.removedNodes).forEach(function(Un){Un===it&&nr(it)})})}).observe(it.parentNode,{childList:!0})),Gt(it,"load",function(){Ki("iFrame.onload",jn,it,Nn,!0),(!ht[Gn]||!ht[Gn].firstRun)&&ht[Gn]&&ht[Gn].heightCalculationMethod in oi&&ci({iframe:it,height:0,width:0,type:"init"})}),Ki("init",jn,it,Nn,!0)}(Ya(Gn)),ht[Gn]&&(ht[Gn].iframe.iFrameResizer={close:nr.bind(null,ht[Gn].iframe),removeListeners:zr.bind(null,ht[Gn].iframe),resize:Ki.bind(null,"Window resize","resize",ht[Gn].iframe),moveToAnchor:function(jn){Ki("Move to anchor","moveToAnchor:"+jn,ht[Gn].iframe,Gn)},sendMessage:function(jn){Ki("Send Message","message:"+(jn=JSON.stringify(jn)),ht[Gn].iframe,Gn)}}))}function Vo(it,yt){null===zn&&(zn=setTimeout(function(){zn=null,it()},yt))}function xi(){"hidden"!==document.visibilityState&&(pi("document","Trigger event: Visiblity change"),Vo(function(){gr("Tab Visable","resize")},16))}function gr(it,yt){Object.keys(ht).forEach(function(_n){(function(_n){return ht[_n]&&"parent"===ht[_n].resizeFrom&&ht[_n].autoResize&&!ht[_n].firstRun})(_n)&&Ki(it,yt,ht[_n].iframe,_n)})}function qn(){function it(_n,Pn){Pn&&(function(){if(!Pn.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==Pn.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+Pn.tagName+">")}(),yo(Pn,_n),ti.push(Pn))}var ti;return function(){var yt,it=["moz","webkit","o","ms"];for(yt=0;yt<it.length&&!pn;yt+=1)pn=window[it[yt]+"RequestAnimationFrame"];pn?pn=pn.bind(window):pi("setup","RequestAnimationFrame not supported")}(),Gt(window,"message",ji),Gt(window,"resize",function(){pi("window","Trigger event: resize"),Vo(function(){gr("Window resize","resize")},16)}),Gt(document,"visibilitychange",xi),Gt(document,"-webkit-visibilitychange",xi),function(Pn,Bn){switch(ti=[],(_n=Pn)&&_n.enablePublicMethods&&$a("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof Bn){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Bn||"iframe"),it.bind(Nn,Pn));break;case"object":it(Pn,Bn);break;default:throw new TypeError("Unexpected data type ("+typeof Bn+")")}var _n;return ti}}}()},450:(Ut,an,tt)=>{var Ye=tt(179);an.iframeResizer=Ye,tt(37)},811:function(Ut){Ut.exports=function(){"use strict";var an,tt,cn;function Ye(p,at){if(an)if(tt){var un="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+an+")(sharedChunk); ("+tt+")(sharedChunk); self.onerror = null;",Bt={};an(Bt),cn=at(Bt),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(cn.workerUrl=window.URL.createObjectURL(new Blob([un],{type:"text/javascript"})))}else tt=at;else an=at}return Ye(0,function(p){var at="undefined"!=typeof self?self:{},un=Bt;function Bt(o,r,s,d){this.cx=3*o,this.bx=3*(s-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(d-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=d,this.p2x=s,this.p2y=d}Bt.prototype.sampleCurveX=function(o){return((this.ax*o+this.bx)*o+this.cx)*o},Bt.prototype.sampleCurveY=function(o){return((this.ay*o+this.by)*o+this.cy)*o},Bt.prototype.sampleCurveDerivativeX=function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},Bt.prototype.solveCurveX=function(o,r){var s,d,m,g,y;for(void 0===r&&(r=1e-6),m=o,y=0;y<8;y++){if(g=this.sampleCurveX(m)-o,Math.abs(g)<r)return m;var v=this.sampleCurveDerivativeX(m);if(Math.abs(v)<1e-6)break;m-=g/v}if((m=o)<(s=0))return s;if(m>(d=1))return d;for(;s<d;){if(g=this.sampleCurveX(m),Math.abs(g-o)<r)return m;o>g?s=m:d=m,m=.5*(d-s)+s}return m},Bt.prototype.solve=function(o,r){return this.sampleCurveY(this.solveCurveX(o,r))};var nt=rn;function rn(o,r){this.x=o,this.y=r}rn.prototype={clone:function(){return new rn(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,r){return this.clone()._rotateAround(o,r)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var r=o.x-this.x,s=o.y-this.y;return r*r+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,r){return Math.atan2(this.x*r-this.y*o,this.x*o+this.y*r)},_matMult:function(o){var r=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=r,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var r=Math.cos(o),s=Math.sin(o),d=s*this.x+r*this.y;return this.x=r*this.x-s*this.y,this.y=d,this},_rotateAround:function(o,r){var s=Math.cos(o),d=Math.sin(o),m=r.y+d*(this.x-r.x)+s*(this.y-r.y);return this.x=r.x+s*(this.x-r.x)-d*(this.y-r.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},rn.convert=function(o){return o instanceof rn?o:Array.isArray(o)?new rn(o[0],o[1]):o};const Wi=Math.PI/180,Sn=180/Math.PI;function pn(o){return o*Wi}function oi(o){return o*Sn}const ht=[[0,0],[1,0],[1,1],[0,1]];function zn(o){if(o<=0)return 0;if(o>=1)return 1;const r=o*o,s=r*o;return 4*(o<.5?s:3*(o-r)+s-.75)}function xa(o,r,s,d){const m=new un(o,r,s,d);return function(g){return m.solve(g)}}const Jt=xa(.25,.1,.25,1);function Gt(o,r,s){return Math.min(s,Math.max(r,o))}function An(o,r,s){return(s=Gt((s-o)/(r-o),0,1))*s*(3-2*s)}function Ta(o,r,s){const d=s-r,m=((o-r)%d+d)%d+r;return m===r?s:m}function Pa(o,r,s){if(!o.length)return s(null,[]);let d=o.length;const m=new Array(o.length);let g=null;o.forEach((y,v)=>{r(y,(M,T)=>{M&&(g=M),m[v]=T,0==--d&&s(g,m)})})}function Qi(o){const r=[];for(const s in o)r.push(o[s]);return r}function Mi(o,...r){for(const s of r)for(const d in s)o[d]=s[d];return o}let pi=1;function on(){return pi++}function $a(){return function o(r){return r?(r^Math.random()*(16>>r/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function Fr(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function ji(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function Rr(o,r){o.forEach(s=>{r[s]&&(r[s]=r[s].bind(r))})}function zr(o,r){return-1!==o.indexOf(r,o.length-r.length)}function nr(o,r,s){const d={};for(const m in o)d[m]=r.call(s||this,o[m],m,o);return d}function fr(o,r,s){const d={};for(const m in o)r.call(s||this,o[m],m,o)&&(d[m]=o[m]);return d}function Xa(o){return Array.isArray(o)?o.map(Xa):"object"==typeof o&&o?nr(o,Xa):o}const Jr={};function ci(o){Jr[o]||("undefined"!=typeof console&&console.warn(o),Jr[o]=!0)}function Ha(o,r,s){return(s.y-o.y)*(r.x-o.x)>(r.y-o.y)*(s.x-o.x)}function dr(o){let r=0;for(let s,d,m=0,g=o.length,y=g-1;m<g;y=m++)s=o[m],d=o[y],r+=(d.x-s.x)*(s.y+d.y);return r}function Ki(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Ya(o){const r={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,d,m,g)=>{const y=m||g;return r[d]=!y||y.toLowerCase(),""}),r["max-age"]){const s=parseInt(r["max-age"],10);isNaN(s)?delete r["max-age"]:r["max-age"]=s}return r}let hn=null;function yo(o){if(null==hn){const r=o.navigator?o.navigator.userAgent:null;hn=!!o.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return hn}function Vo(o){try{const r=at[o];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch(r){return!1}}function Ka(o,r){return[o[4*r],o[4*r+1],o[4*r+2],o[4*r+3]]}const Ms=at.performance;function Nr(o){const r=o?o.url.toString():void 0;return Ms.getEntriesByName(r)}let xi,gr,Yr,qn;const pa={now:()=>void 0!==Yr?Yr:at.performance.now(),setNow(o){Yr=o},restoreNow(){Yr=void 0},frame(o){const r=at.requestAnimationFrame(o);return{cancel:()=>at.cancelAnimationFrame(r)}},getImageData(o,r=0){const{width:s,height:d}=o;qn||(qn=at.document.createElement("canvas"));const m=qn.getContext("2d");if(!m)throw new Error("failed to create canvas 2d context");return(s>qn.width||d>qn.height)&&(qn.width=s,qn.height=d),m.clearRect(-r,-r,s+2*r,d+2*r),m.drawImage(o,0,0,s,d),m.getImageData(-r,-r,s+2*r,d+2*r)},resolveURL:o=>(xi||(xi=at.document.createElement("a")),xi.href=o,xi.href),get devicePixelRatio(){return at.devicePixelRatio},get prefersReducedMotion(){return!!at.matchMedia&&(null==gr&&(gr=at.matchMedia("(prefers-reduced-motion: reduce)")),gr.matches)}};let it;const yt={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==it){const o=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{it=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):o}catch(r){it=o}}return it},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ti={supported:!1,testSupport:function(o){!Bn&&Pn&&(qa?Dr(o):_n=o)}};let _n,Pn,Bn=!1,qa=!1;function Dr(o){const r=o.createTexture();o.bindTexture(o.TEXTURE_2D,r);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,Pn),o.isContextLost())return;ti.supported=!0}catch(s){}o.deleteTexture(r),Bn=!0}at.document&&(Pn=at.document.createElement("img"),Pn.onload=function(){_n&&Dr(_n),_n=null,qa=!0},Pn.onerror=function(){Bn=!0,_n=null},Pn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const On="01",fa="NO_ACCESS_TOKEN";function Ea(o){return 0===o.indexOf("mapbox:")}function Da(o){return yt.API_URL_REGEX.test(o)}const ni=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Sa(o){const r=o.match(ni);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function _r(o){const r=o.params.length?`?${o.params.join("&")}`:"";return`${o.protocol}://${o.authority}${o.path}${r}`}function Ts(o){if(!o)return null;const r=o.split(".");if(!r||3!==r.length)return null;try{return JSON.parse(decodeURIComponent(at.atob(r[1]).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(s){return null}}class Gn{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const s=Ts(yt.ACCESS_TOKEN);let d="";return d=s&&s.u?at.btoa(encodeURIComponent(s.u).replace(/%([0-9A-F]{2})/g,(m,g)=>String.fromCharCode(Number("0x"+g)))):yt.ACCESS_TOKEN||"",r?`mapbox.eventData.${r}:${d}`:`mapbox.eventData:${d}`}fetchEventData(){const r=Vo("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(r)try{const m=at.localStorage.getItem(s);m&&(this.eventData=JSON.parse(m));const g=at.localStorage.getItem(d);g&&(this.anonId=g)}catch(m){ci("Unable to read from LocalStorage")}}saveEventData(){const r=Vo("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(r)try{at.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&at.localStorage.setItem(s,JSON.stringify(this.eventData))}catch(m){ci("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,s,d,m){if(!yt.EVENTS_URL)return;const g=Sa(yt.EVENTS_URL);g.params.push(`access_token=${m||yt.ACCESS_TOKEN||""}`);const y={event:this.type,created:new Date(r).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.10.0",skuId:On,userId:this.anonId},v=s?Mi(y,s):y,M={url:_r(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([v])};this.pendingRequest=Je(M,T=>{this.pendingRequest=null,d(T),this.saveEventData(),this.processRequests(m)})}queueRequest(r,s){this.queue.push(r),this.processRequests(s)}}const jn=new class extends Gn{constructor(o){super("appUserTurnstile"),this._customAccessToken=o}postTurnstileEvent(o,r){yt.EVENTS_URL&&yt.ACCESS_TOKEN&&Array.isArray(o)&&o.some(s=>Ea(s)||Da(s))&&this.queueRequest(Date.now(),r)}processRequests(o){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Ts(yt.ACCESS_TOKEN),s=r?r.u:yt.ACCESS_TOKEN;let d=s!==this.eventData.tokenU;ji(this.anonId)||(this.anonId=$a(),d=!0);const m=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),y=new Date(m),v=(m-this.eventData.lastSuccess)/864e5;d=d||v>=1||v<-1||g.getDate()!==y.getDate()}else d=!0;d?this.postEvent(m,{"enabled.telemetry":!1},g=>{g||(this.eventData.lastSuccess=m,this.eventData.tokenU=s)},o):this.processRequests()}},sa=jn.postTurnstileEvent.bind(jn),Ni=new class extends Gn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(o,r,s,d){this.skuToken=r,this.errorCb=d,yt.EVENTS_URL&&(s||yt.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},s):this.errorCb(new Error(fa)))}processRequests(o){if(this.pendingRequest||0===this.queue.length)return;const{id:r,timestamp:s}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),ji(this.anonId)||(this.anonId=$a()),this.postEvent(s,{skuToken:this.skuToken},d=>{d?this.errorCb(d):r&&(this.success[r]=!0)},o))}},ir=Ni.postMapLoadEvent.bind(Ni),ui=new class extends Gn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(o,r,s,d){if(!yt.API_URL||!yt.SESSION_PATH)return;const m=Sa(yt.API_URL+yt.SESSION_PATH);m.params.push(`sku=${r||""}`),m.params.push(`access_token=${d||yt.ACCESS_TOKEN||""}`);const g={url:_r(m),headers:{"Content-Type":"text/plain"}};this.pendingRequest=ke(g,y=>{this.pendingRequest=null,s(y),this.saveEventData(),this.processRequests(d)})}getSessionAPI(o,r,s,d){this.skuToken=r,this.errorCb=d,yt.SESSION_PATH&&yt.API_URL&&(s||yt.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},s):this.errorCb(new Error(fa)))}processRequests(o){if(this.pendingRequest||0===this.queue.length)return;const{id:r,timestamp:s}=this.queue.shift();r&&this.success[r]||this.getSession(s,this.skuToken,d=>{d?this.errorCb(d):r&&(this.success[r]=!0)},o)}},Qr=ui.getSessionAPI.bind(ui),tn=new Set;let br,qr=500,Un=50,wt={};function Vn(o){const r=X(o);let s,d;r&&r.forEach(g=>{const y=g.split("=");"language"===y[0]?s=y[1]:"worldview"===y[0]&&(d=y[1])});let m="mapbox-tiles";return s&&(m+=`-${s}`),d&&(m+=`-${d}`),m}function ne(){try{return at.caches}catch(o){}}function Y(o){const r=ne();r&&!wt[o]&&(wt[o]=r.open(o))}function X(o){const r=o.indexOf("?");return r>0?o.slice(r+1).split("&"):[]}function de(o){const r=o.indexOf("?");if(r<0)return o;const s=X(o).filter(d=>{const m=d.split("=");return"language"===m[0]||"worldview"===m[0]});return s.length?`${o.slice(0,r)}?${s.join("&")}`:o.slice(0,r)}let le=1/0;const be={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(be);class ze extends Error{constructor(r,s,d){401===s&&Da(d)&&(r+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(r),this.status=s,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ye=Ki()?()=>self.worker&&self.worker.referrer:()=>("blob:"===at.location.protocol?at.parent:at).location.href,Ie=function(o,r){if(!(/^file:/.test(s=o.url)||/^file:/.test(ye())&&!/^\w+:/.test(s))){if(at.fetch&&at.Request&&at.AbortController&&at.Request.prototype.hasOwnProperty("signal"))return function(d,m){const g=new at.AbortController,y=new at.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:ye(),signal:g.signal});let v=!1,M=!1;const T=(A=y.url).indexOf("sku=")>0&&Da(A);var A;"json"===d.type&&y.headers.set("Accept","application/json");const P=(G,j,J)=>{if(M)return;if(G&&"SecurityError"!==G.message&&ci(G),j&&J)return N(j);const ae=Date.now();at.fetch(y).then(ge=>{if(ge.ok){const Ce=T?ge.clone():null;return N(ge,Ce,ae)}return m(new ze(ge.statusText,ge.status,d.url))}).catch(ge=>{20!==ge.code&&m(new Error(ge.message))})},N=(G,j,J)=>{("arrayBuffer"===d.type?G.arrayBuffer():"json"===d.type?G.json():G.text()).then(ae=>{M||(j&&J&&function(ge,Ce,_e){const ve=Vn(ge.url);if(Y(ve),!wt[ve])return;const Ae={status:Ce.status,statusText:Ce.statusText,headers:new at.Headers};Ce.headers.forEach((Ge,rt)=>Ae.headers.set(rt,Ge));const Te=Ya(Ce.headers.get("Cache-Control")||"");if(Te["no-store"])return;Te["max-age"]&&Ae.headers.set("Expires",new Date(_e+1e3*Te["max-age"]).toUTCString());const $e=Ae.headers.get("Expires");$e&&(new Date($e).getTime()-_e<42e4||function(Ge,rt){if(void 0===br)try{new Response(new ReadableStream),br=!0}catch(Mt){br=!1}br?rt(Ge.body):Ge.blob().then(rt)}(Ce,Ge=>{const rt=new at.Response(Ge,Ae);Y(ve),wt[ve]&&wt[ve].then(Mt=>Mt.put(de(ge.url),rt)).catch(Mt=>ci(Mt.message))}))}(y,j,J),v=!0,m(null,ae,G.headers.get("Cache-Control"),G.headers.get("Expires")))}).catch(ae=>{M||m(new Error(ae.message))})};return T?function(G,j){const J=Vn(G.url);if(Y(J),!wt[J])return j(null);const ae=de(G.url);wt[J].then(ge=>{ge.match(ae).then(Ce=>{const _e=function(ve){if(!ve)return!1;const Ae=new Date(ve.headers.get("Expires")||0),Te=Ya(ve.headers.get("Cache-Control")||"");return Ae>Date.now()&&!Te["no-cache"]}(Ce);ge.delete(ae),_e&&ge.put(ae,Ce.clone()),j(null,Ce,_e)}).catch(j)}).catch(j)}(y,P):P(null,null),{cancel:()=>{M=!0,v||g.abort()}}}(o,r);if(Ki()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,r,void 0,!0)}var s;return function(d,m){const g=new at.XMLHttpRequest;g.open(d.method||"GET",d.url,!0),"arrayBuffer"===d.type&&(g.responseType="arraybuffer");for(const y in d.headers)g.setRequestHeader(y,d.headers[y]);return"json"===d.type&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials="include"===d.credentials,g.onerror=()=>{m(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||0===g.status)&&null!==g.response){let y=g.response;if("json"===d.type)try{y=JSON.parse(g.response)}catch(v){return m(v)}m(null,y,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else m(new ze(g.statusText,g.status,d.url))},g.send(d.body),{cancel:()=>g.abort()}}(o,r)},He=function(o,r){return Ie(Mi(o,{type:"arrayBuffer"}),r)},Je=function(o,r){return Ie(Mi(o,{method:"POST"}),r)},ke=function(o,r){return Ie(Mi(o,{method:"GET"}),r)};function xe(o){const r=at.document.createElement("a");return r.href=o,r.protocol===at.document.location.protocol&&r.host===at.document.location.host}const Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let gt,bt;gt=[],bt=0;const Ht=function(o,r){if(ti.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),bt>=yt.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:o,callback:r,cancelled:!1,cancel(){this.cancelled=!0}};return gt.push(g),g}bt++;let s=!1;const d=()=>{if(!s)for(s=!0,bt--;gt.length&&bt<yt.MAX_PARALLEL_IMAGE_REQUESTS;){const g=gt.shift(),{requestParameters:y,callback:v,cancelled:M}=g;M||(g.cancel=Ht(y,v).cancel)}},m=He(o,(g,y,v,M)=>{d(),g?r(g):y&&(at.createImageBitmap?function(T,A){const P=new at.Blob([new Uint8Array(T)],{type:"image/png"});at.createImageBitmap(P).then(N=>{A(null,N)}).catch(N=>{A(new Error(`Could not load image because of ${N.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(y,(T,A)=>r(T,A,v,M)):function(T,A){const P=new at.Image,N=at.URL;P.onload=()=>{A(null,P),N.revokeObjectURL(P.src),P.onload=null,at.requestAnimationFrame(()=>{P.src=Xe})},P.onerror=()=>A(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const G=new at.Blob([new Uint8Array(T)],{type:"image/png"});P.src=T.byteLength?N.createObjectURL(G):Xe}(y,(T,A)=>r(T,A,v,M)))});return{cancel:()=>{m.cancel(),d()}}};function mn(o,r,s){s[o]&&-1!==s[o].indexOf(r)||(s[o]=s[o]||[],s[o].push(r))}function fn(o,r,s){if(s&&s[o]){const d=s[o].indexOf(r);-1!==d&&s[o].splice(d,1)}}class bn{constructor(r,s={}){Mi(this,s),this.type=r}}class Mn extends bn{constructor(r,s={}){super("error",Mi({error:r},s))}}class At{on(r,s){return this._listeners=this._listeners||{},mn(r,s,this._listeners),this}off(r,s){return fn(r,s,this._listeners),fn(r,s,this._oneTimeListeners),this}once(r,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},mn(r,s,this._oneTimeListeners),this):new Promise(d=>this.once(r,d))}fire(r,s){"string"==typeof r&&(r=new bn(r,s||{}));const d=r.type;if(this.listens(d)){r.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const v of m)v.call(this,r);const g=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const v of g)fn(d,v,this._oneTimeListeners),v.call(this,r);const y=this._eventedParent;y&&(Mi(r,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),y.fire(r))}else r instanceof Mn&&console.error(r.error);return this}listens(r){return!!(this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r))}setEventedParent(r,s){return this._eventedParent=r,this._eventedParentData=s,this}}var je=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Li(o,...r){for(const s of r)for(const d in s)o[d]=s[d];return o}function Fn(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Ui(o){if(Array.isArray(o))return o.map(Ui);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const r={};for(const s in o)r[s]=Ui(o[s]);return r}return Fn(o)}class sl extends Error{constructor(r,s){super(s),this.message=s,this.key=r}}var Es=sl;class $t{constructor(r,s=[]){this.parent=r,this.bindings={};for(const[d,m]of s)this.bindings[d]=m}concat(r){return new $t(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}var _p=$t;const dn={kind:"null"},Lt={kind:"number"},bi={kind:"string"},wi={kind:"boolean"},ns={kind:"color"},Ho={kind:"object"},Qn={kind:"value"},ll={kind:"collator"},cc={kind:"formatted"},Yc={kind:"resolvedImage"};function kn(o,r){return{kind:"array",itemType:o,N:r}}function la(o){if("array"===o.kind){const r=la(o.itemType);return"number"==typeof o.N?`array<${r}, ${o.N}>`:"value"===o.itemType.kind?"array":`array<${r}>`}return o.kind}const dc=[dn,Lt,bi,wi,ns,cc,Ho,kn(Qn),Yc];function eo(o,r){if("error"===r.kind)return null;if("array"===o.kind){if("array"===r.kind&&(0===r.N&&"value"===r.itemType.kind||!eo(o.itemType,r.itemType))&&("number"!=typeof o.N||o.N===r.N))return null}else{if(o.kind===r.kind)return null;if("value"===o.kind)for(const s of dc)if(!eo(s,r))return null}return`Expected ${la(o)} but found ${la(r)} instead.`}function qc(o,r){return r.some(s=>s.kind===o.kind)}function Ol(o,r){return r.some(s=>"null"===s?null===o:"array"===s?Array.isArray(o):"object"===s?o&&!Array.isArray(o)&&"object"==typeof o:s===typeof o)}function to(o){var r={exports:{}};return o(r,r.exports),r.exports}var Wa=to(function(o,r){var s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(v){return(v=Math.round(v))<0?0:v>255?255:v}function m(v){return d("%"===v[v.length-1]?parseFloat(v)/100*255:parseInt(v))}function g(v){return(M="%"===v[v.length-1]?parseFloat(v)/100:parseFloat(v))<0?0:M>1?1:M;var M}function y(v,M,T){return T<0?T+=1:T>1&&(T-=1),6*T<1?v+(M-v)*T*6:2*T<1?M:3*T<2?v+(M-v)*(2/3-T)*6:v}try{r.parseCSSColor=function(v){var M,T=v.replace(/ /g,"").toLowerCase();if(T in s)return s[T].slice();if("#"===T[0])return 4===T.length?(M=parseInt(T.substr(1),16))>=0&&M<=4095?[(3840&M)>>4|(3840&M)>>8,240&M|(240&M)>>4,15&M|(15&M)<<4,1]:null:7===T.length&&(M=parseInt(T.substr(1),16))>=0&&M<=16777215?[(16711680&M)>>16,(65280&M)>>8,255&M,1]:null;var A=T.indexOf("("),P=T.indexOf(")");if(-1!==A&&P+1===T.length){var N=T.substr(0,A),G=T.substr(A+1,P-(A+1)).split(","),j=1;switch(N){case"rgba":if(4!==G.length)return null;j=g(G.pop());case"rgb":return 3!==G.length?null:[m(G[0]),m(G[1]),m(G[2]),j];case"hsla":if(4!==G.length)return null;j=g(G.pop());case"hsl":if(3!==G.length)return null;var J=(parseFloat(G[0])%360+360)%360/360,ae=g(G[1]),ge=g(G[2]),Ce=ge<=.5?ge*(ae+1):ge+ae-ge*ae,_e=2*ge-Ce;return[d(255*y(_e,Ce,J+1/3)),d(255*y(_e,Ce,J)),d(255*y(_e,Ce,J-1/3)),j];default:return null}}return null}}catch(v){}});class Wr{constructor(r,s,d,m=1){this.r=r,this.g=s,this.b=d,this.a=m}static parse(r){if(!r)return;if(r instanceof Wr)return r;if("string"!=typeof r)return;const s=Wa.parseCSSColor(r);return s?new Wr(s[0]/255*s[3],s[1]/255*s[3],s[2]/255*s[3],s[3]):void 0}toString(){const[r,s,d,m]=this.toArray();return`rgba(${Math.round(r)},${Math.round(s)},${Math.round(d)},${m})`}toArray(){const{r,g:s,b:d,a:m}=this;return 0===m?[0,0,0,0]:[255*r/m,255*s/m,255*d/m,m]}toArray01(){const{r,g:s,b:d,a:m}=this;return 0===m?[0,0,0,0]:[r/m,s/m,d/m,m]}toArray01PremultipliedAlpha(){const{r,g:s,b:d,a:m}=this;return[r,s,d,m]}}Wr.black=new Wr(0,0,0,1),Wr.white=new Wr(1,1,1,1),Wr.transparent=new Wr(0,0,0,0),Wr.red=new Wr(1,0,0,1),Wr.blue=new Wr(0,0,1,1);var Gi=Wr;class ea{constructor(r,s,d){this.sensitivity=r?s?"variant":"case":s?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,s){return this.collator.compare(r,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Wc{constructor(r,s,d,m,g){this.text=r.normalize?r.normalize():r,this.image=s,this.scale=d,this.fontStack=m,this.textColor=g}}class no{constructor(r){this.sections=r}static fromString(r){return new no([new Wc(r,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(r=>0!==r.text.length||r.image&&0!==r.image.name.length)}static factory(r){return r instanceof no?r:no.fromString(r)}toString(){return 0===this.sections.length?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const s of this.sections){if(s.image){r.push(["image",s.image.name]);continue}r.push(s.text);const d={};s.fontStack&&(d["text-font"]=["literal",s.fontStack.split(",")]),s.scale&&(d["font-scale"]=s.scale),s.textColor&&(d["text-color"]=["rgba"].concat(s.textColor.toArray())),r.push(d)}return r}}class io{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new io({name:r,available:!1}):null}serialize(){return["image",this.name]}}function cm(o,r,s,d){return"number"==typeof o&&o>=0&&o<=255&&"number"==typeof r&&r>=0&&r<=255&&"number"==typeof s&&s>=0&&s<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:`Invalid rgba value [${[o,r,s,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof d?[o,r,s,d]:[o,r,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ri(o){if(null===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||o instanceof Gi||o instanceof ea||o instanceof no||o instanceof io)return!0;if(Array.isArray(o)){for(const r of o)if(!Ri(r))return!1;return!0}if("object"==typeof o){for(const r in o)if(!Ri(o[r]))return!1;return!0}return!1}function Ja(o){if(null===o)return dn;if("string"==typeof o)return bi;if("boolean"==typeof o)return wi;if("number"==typeof o)return Lt;if(o instanceof Gi)return ns;if(o instanceof ea)return ll;if(o instanceof no)return cc;if(o instanceof io)return Yc;if(Array.isArray(o)){const r=o.length;let s;for(const d of o){const m=Ja(d);if(s){if(s===m)continue;s=Qn;break}s=m}return kn(s||Qn,r)}return Ho}function Zd(o){const r=typeof o;return null===o?"":"string"===r||"number"===r||"boolean"===r?String(o):o instanceof Gi||o instanceof no||o instanceof io?o.toString():JSON.stringify(o)}class cl{constructor(r,s){this.type=r,this.value=s}static parse(r,s){if(2!==r.length)return s.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!Ri(r[1]))return s.error("invalid value");const d=r[1];let m=Ja(d);const g=s.expectedType;return"array"!==m.kind||0!==m.N||!g||"array"!==g.kind||"number"==typeof g.N&&0!==g.N||(m=g),new cl(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Gi?["rgba"].concat(this.value.toArray()):this.value instanceof no?this.value.serialize():this.value}}var $i=cl,Qa=class{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}};const dl={string:bi,number:Lt,boolean:wi,object:Ho};class Zc{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");let d,m=1;const g=r[0];if("array"===g){let v,M;if(r.length>2){const T=r[1];if("string"!=typeof T||!(T in dl)||"object"===T)return s.error('The item type argument of "array" must be one of string, number, boolean',1);v=dl[T],m++}else v=Qn;if(r.length>3){if(null!==r[2]&&("number"!=typeof r[2]||r[2]<0||r[2]!==Math.floor(r[2])))return s.error('The length argument to "array" must be a positive integer literal',2);M=r[2],m++}d=kn(v,M)}else d=dl[g];const y=[];for(;m<r.length;m++){const v=s.parse(r[m],m,Qn);if(!v)return null;y.push(v)}return new Zc(d,y)}evaluate(r){for(let s=0;s<this.args.length;s++){const d=this.args[s].evaluate(r);if(!eo(this.type,Ja(d)))return d;if(s===this.args.length-1)throw new Qa(`Expected value to be of type ${la(this.type)}, but found ${la(Ja(d))} instead.`)}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=this.type,s=[r.kind];if("array"===r.kind){const d=r.itemType;if("string"===d.kind||"number"===d.kind||"boolean"===d.kind){s.push(d.kind);const m=r.N;("number"==typeof m||this.args.length>1)&&s.push(m)}}return s.concat(this.args.map(d=>d.serialize()))}}var vo=Zc;class Xc{constructor(r){this.type=cc,this.sections=r}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");const d=r[1];if(!Array.isArray(d)&&"object"==typeof d)return s.error("First argument must be an image or text section.");const m=[];let g=!1;for(let y=1;y<=r.length-1;++y){const v=r[y];if(g&&"object"==typeof v&&!Array.isArray(v)){g=!1;let M=null;if(v["font-scale"]&&(M=s.parse(v["font-scale"],1,Lt),!M))return null;let T=null;if(v["text-font"]&&(T=s.parse(v["text-font"],1,kn(bi)),!T))return null;let A=null;if(v["text-color"]&&(A=s.parse(v["text-color"],1,ns),!A))return null;const P=m[m.length-1];P.scale=M,P.font=T,P.textColor=A}else{const M=s.parse(r[y],1,Qn);if(!M)return null;const T=M.type.kind;if("string"!==T&&"value"!==T&&"null"!==T&&"resolvedImage"!==T)return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,m.push({content:M,scale:null,font:null,textColor:null})}}return new Xc(m)}evaluate(r){return new no(this.sections.map(s=>{const d=s.content.evaluate(r);return Ja(d)===Yc?new Wc("",d,null,null,null):new Wc(Zd(d),null,s.scale?s.scale.evaluate(r):null,s.font?s.font.evaluate(r).join(","):null,s.textColor?s.textColor.evaluate(r):null)}))}eachChild(r){for(const s of this.sections)r(s.content),s.scale&&r(s.scale),s.font&&r(s.font),s.textColor&&r(s.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const s of this.sections){r.push(s.content.serialize());const d={};s.scale&&(d["font-scale"]=s.scale.serialize()),s.font&&(d["text-font"]=s.font.serialize()),s.textColor&&(d["text-color"]=s.textColor.serialize()),r.push(d)}return r}}class jo{constructor(r){this.type=Yc,this.input=r}static parse(r,s){if(2!==r.length)return s.error("Expected two arguments.");const d=s.parse(r[1],1,bi);return d?new jo(d):s.error("No image name provided.")}evaluate(r){const s=this.input.evaluate(r),d=io.fromString(s);return d&&r.availableImages&&(d.available=r.availableImages.indexOf(s)>-1),d}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Kc={"to-boolean":wi,"to-color":ns,"to-number":Lt,"to-string":bi};class eh{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");const d=r[0];if(("to-boolean"===d||"to-string"===d)&&2!==r.length)return s.error("Expected one argument.");const m=Kc[d],g=[];for(let y=1;y<r.length;y++){const v=s.parse(r[y],y,Qn);if(!v)return null;g.push(v)}return new eh(m,g)}evaluate(r){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(r));if("color"===this.type.kind){let s,d;for(const m of this.args){if(s=m.evaluate(r),d=null,s instanceof Gi)return s;if("string"==typeof s){const g=r.parseColor(s);if(g)return g}else if(Array.isArray(s)&&(d=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:cm(s[0],s[1],s[2],s[3]),!d))return new Gi(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Qa(d||`Could not parse color from value '${"string"==typeof s?s:String(JSON.stringify(s))}'`)}if("number"===this.type.kind){let s=null;for(const d of this.args){if(s=d.evaluate(r),null===s)return 0;const m=Number(s);if(!isNaN(m))return m}throw new Qa(`Could not convert ${JSON.stringify(s)} to number.`)}return"formatted"===this.type.kind?no.fromString(Zd(this.args[0].evaluate(r))):"resolvedImage"===this.type.kind?io.fromString(Zd(this.args[0].evaluate(r))):Zd(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Xc([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new jo(this.args[0]).serialize();const r=[`to-${this.type.kind}`];return this.eachChild(s=>{r.push(s.serialize())}),r}}var Ct=eh;const th=["Unknown","Point","LineString","Polygon"];var nh=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?th[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const o=this.featureDistanceData.center,r=this.featureDistanceData.scale,{x:s,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(s*r-o[0])+this.featureDistanceData.bearing[1]*(d*r-o[1])}return 0}parseColor(o){let r=this._parseColorCache[o];return r||(r=this._parseColorCache[o]=Gi.parse(o)),r}};class ul{constructor(r,s,d,m){this.name=r,this.type=s,this._evaluate=d,this.args=m}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>r.serialize()))}static parse(r,s){const d=r[0],m=ul.definitions[d];if(!m)return s.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(m)?m[0]:m.type,y=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,v=y.filter(([T])=>!Array.isArray(T)||T.length===r.length-1);let M=null;for(const[T,A]of v){M=new rr(s.registry,s.path,null,s.scope);const P=[];let N=!1;for(let G=1;G<r.length;G++){const j=r[G],J=Array.isArray(T)?T[G-1]:T.type,ae=M.parse(j,1+P.length,J);if(!ae){N=!0;break}P.push(ae)}if(!N)if(Array.isArray(T)&&T.length!==P.length)M.error(`Expected ${T.length} arguments, but found ${P.length} instead.`);else{for(let G=0;G<P.length;G++){const j=Array.isArray(T)?T[G]:T.type,J=P[G];M.concat(G+1).checkSubtype(j,J.type)}if(0===M.errors.length)return new ul(d,g,A,P)}}if(1===v.length)s.errors.push(...M.errors);else{const T=(v.length?v:y).map(([P])=>{return N=P,Array.isArray(N)?`(${N.map(la).join(", ")})`:`(${la(N.type)}...)`;var N}).join(" | "),A=[];for(let P=1;P<r.length;P++){const N=s.parse(r[P],1+A.length);if(!N)return null;A.push(la(N.type))}s.error(`Expected arguments of type ${T}, but found (${A.join(", ")}) instead.`)}return null}static register(r,s){ul.definitions=s;for(const d in s)r[d]=ul}}var Uo=ul;class gn{constructor(r,s,d){this.type=ll,this.locale=d,this.caseSensitive=r,this.diacriticSensitive=s}static parse(r,s){if(2!==r.length)return s.error("Expected one argument.");const d=r[1];if("object"!=typeof d||Array.isArray(d))return s.error("Collator options argument must be an object.");const m=s.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,wi);if(!m)return null;const g=s.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,wi);if(!g)return null;let y=null;return d.locale&&(y=s.parse(d.locale,1,bi),!y)?null:new gn(m,g,y)}evaluate(r){return new ea(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]}}const hl=8192;function Xd(o,r){o[0]=Math.min(o[0],r[0]),o[1]=Math.min(o[1],r[1]),o[2]=Math.max(o[2],r[0]),o[3]=Math.max(o[3],r[1])}function Tt(o,r){return!(o[0]<=r[0]||o[2]>=r[2]||o[1]<=r[1]||o[3]>=r[3])}function ar(o,r){const s=(180+o[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,m=Math.pow(2,r.z);return[Math.round(s*m*hl),Math.round(d*m*hl)]}function Sr(o,r,s){const d=o[0]-r[0],m=o[1]-r[1],g=o[0]-s[0],y=o[1]-s[1];return d*y-g*m==0&&d*g<=0&&m*y<=0}function is(o,r){let s=!1;for(let y=0,v=r.length;y<v;y++){const M=r[y];for(let T=0,A=M.length;T<A-1;T++){if(Sr(o,M[T],M[T+1]))return!1;(m=M[T])[1]>(d=o)[1]!=(g=M[T+1])[1]>d[1]&&d[0]<(g[0]-m[0])*(d[1]-m[1])/(g[1]-m[1])+m[0]&&(s=!s)}}var d,m,g;return s}function as(o,r){for(let s=0;s<r.length;s++)if(is(o,r[s]))return!0;return!1}function ao(o,r,s,d){const m=d[0]-s[0],g=d[1]-s[1],y=(o[0]-s[0])*g-m*(o[1]-s[1]),v=(r[0]-s[0])*g-m*(r[1]-s[1]);return y>0&&v<0||y<0&&v>0}function bp(o,r,s){for(const T of s)for(let A=0;A<T.length-1;++A)if((v=[(y=T[A+1])[0]-(g=T[A])[0],y[1]-g[1]])[0]*(M=[(m=r)[0]-(d=o)[0],m[1]-d[1]])[1]-v[1]*M[0]!=0&&ao(d,m,g,y)&&ao(g,y,d,m))return!0;var d,m,g,y,v,M;return!1}function xo(o,r){for(let s=0;s<o.length;++s)if(!is(o[s],r))return!1;for(let s=0;s<o.length-1;++s)if(bp(o[s],o[s+1],r))return!1;return!0}function sn(o,r){for(let s=0;s<r.length;s++)if(xo(o,r[s]))return!0;return!1}function ii(o,r,s){const d=[];for(let m=0;m<o.length;m++){const g=[];for(let y=0;y<o[m].length;y++){const v=ar(o[m][y],s);Xd(r,v),g.push(v)}d.push(g)}return d}function ga(o,r,s){const d=[];for(let m=0;m<o.length;m++){const g=ii(o[m],r,s);d.push(g)}return d}function Pi(o,r,s,d){if(o[0]<s[0]||o[0]>s[2]){const m=.5*d;let g=o[0]-s[0]>m?-d:s[0]-o[0]>m?d:0;0===g&&(g=o[0]-s[2]>m?-d:s[2]-o[0]>m?d:0),o[0]+=g}Xd(r,o)}function wo(o,r,s,d){const m=Math.pow(2,d.z)*hl,g=[d.x*hl,d.y*hl],y=[];if(!o)return y;for(const v of o)for(const M of v){const T=[M.x+g[0],M.y+g[1]];Pi(T,r,s,m),y.push(T)}return y}function Fa(o,r,s,d){const m=Math.pow(2,d.z)*hl,g=[d.x*hl,d.y*hl],y=[];if(!o)return y;for(const M of o){const T=[];for(const A of M){const P=[A.x+g[0],A.y+g[1]];Xd(r,P),T.push(P)}y.push(T)}if(r[2]-r[0]<=m/2){(v=r)[0]=v[1]=1/0,v[2]=v[3]=-1/0;for(const M of y)for(const T of M)Pi(T,r,s,m)}var v;return y}class Go{constructor(r,s){this.type=wi,this.geojson=r,this.geometries=s}static parse(r,s){if(2!==r.length)return s.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(Ri(r[1])){const d=r[1];if("FeatureCollection"===d.type)for(let m=0;m<d.features.length;++m){const g=d.features[m].geometry.type;if("Polygon"===g||"MultiPolygon"===g)return new Go(d,d.features[m].geometry)}else if("Feature"===d.type){const m=d.geometry.type;if("Polygon"===m||"MultiPolygon"===m)return new Go(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new Go(d,d)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(null!=r.geometry()&&null!=r.canonicalID()){if("Point"===r.geometryType())return function(s,d){const m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],y=s.canonicalID();if(!y)return!1;if("Polygon"===d.type){const v=ii(d.coordinates,g,y),M=wo(s.geometry(),m,g,y);if(!Tt(m,g))return!1;for(const T of M)if(!is(T,v))return!1}if("MultiPolygon"===d.type){const v=ga(d.coordinates,g,y),M=wo(s.geometry(),m,g,y);if(!Tt(m,g))return!1;for(const T of M)if(!as(T,v))return!1}return!0}(r,this.geometries);if("LineString"===r.geometryType())return function(s,d){const m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],y=s.canonicalID();if(!y)return!1;if("Polygon"===d.type){const v=ii(d.coordinates,g,y),M=Fa(s.geometry(),m,g,y);if(!Tt(m,g))return!1;for(const T of M)if(!xo(T,v))return!1}if("MultiPolygon"===d.type){const v=ga(d.coordinates,g,y),M=Fa(s.geometry(),m,g,y);if(!Tt(m,g))return!1;for(const T of M)if(!sn(T,v))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Ia=Go;function rs(o){if(o instanceof Uo&&("get"===o.name&&1===o.args.length||"feature-state"===o.name||"has"===o.name&&1===o.args.length||"properties"===o.name||"geometry-type"===o.name||"id"===o.name||/^filter-/.test(o.name))||o instanceof Ia)return!1;let r=!0;return o.eachChild(s=>{r&&!rs(s)&&(r=!1)}),r}function Co(o){if(o instanceof Uo&&"feature-state"===o.name)return!1;let r=!0;return o.eachChild(s=>{r&&!Co(s)&&(r=!1)}),r}function si(o,r){if(o instanceof Uo&&r.indexOf(o.name)>=0)return!1;let s=!0;return o.eachChild(d=>{s&&!si(d,r)&&(s=!1)}),s}class ro{constructor(r,s){this.type=s.type,this.name=r,this.boundExpression=s}static parse(r,s){if(2!==r.length||"string"!=typeof r[1])return s.error("'var' expression requires exactly one string literal argument.");const d=r[1];return s.scope.has(d)?new ro(d,s.scope.get(d)):s.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var os=ro;class uc{constructor(r,s=[],d,m=new _p,g=[]){this.registry=r,this.path=s,this.key=s.map(y=>`[${y}]`).join(""),this.scope=m,this.errors=g,this.expectedType=d}parse(r,s,d,m,g={}){return s?this.concat(s,d,m)._parse(r,g):this._parse(r,g)}_parse(r,s){function d(m,g,y){return"assert"===y?new vo(g,[m]):"coerce"===y?new Ct(g,[m]):m}if(null!==r&&"string"!=typeof r&&"boolean"!=typeof r&&"number"!=typeof r||(r=["literal",r]),Array.isArray(r)){if(0===r.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=r[0];if("string"!=typeof m)return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[m];if(g){let y=g.parse(r,this);if(!y)return null;if(this.expectedType){const v=this.expectedType,M=y.type;if("string"!==v.kind&&"number"!==v.kind&&"boolean"!==v.kind&&"object"!==v.kind&&"array"!==v.kind||"value"!==M.kind)if("color"!==v.kind&&"formatted"!==v.kind&&"resolvedImage"!==v.kind||"value"!==M.kind&&"string"!==M.kind){if(this.checkSubtype(v,M))return null}else y=d(y,v,s.typeAnnotation||"coerce");else y=d(y,v,s.typeAnnotation||"assert")}if(!(y instanceof $i)&&"resolvedImage"!==y.type.kind&&li(y)){const v=new nh;try{y=new $i(y.type,y.evaluate(v))}catch(M){return this.error(M.message),null}}return y}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===r?"'undefined' value invalid. Use null instead.":"object"==typeof r?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,s,d){const m="number"==typeof r?this.path.concat(r):this.path,g=d?this.scope.concat(d):this.scope;return new uc(this.registry,m,s||null,g,this.errors)}error(r,...s){const d=`${this.key}${s.map(m=>`[${m}]`).join("")}`;this.errors.push(new Es(d,r))}checkSubtype(r,s){const d=eo(r,s);return d&&this.error(d),d}}var rr=uc;function li(o){if(o instanceof os)return li(o.boundExpression);if(o instanceof Uo&&"error"===o.name||o instanceof gn||o instanceof Ia)return!1;const r=o instanceof Ct||o instanceof vo;let s=!0;return o.eachChild(d=>{s=r?s&&li(d):s&&d instanceof $i}),!!s&&rs(o)&&si(o,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ds(o,r){const s=o.length-1;let d,m,g=0,y=s,v=0;for(;g<=y;)if(v=Math.floor((g+y)/2),d=o[v],m=o[v+1],d<=r){if(v===s||r<m)return v;g=v+1}else{if(!(d>r))throw new Qa("Input is not a number.");y=v-1}return 0}class ml{constructor(r,s,d){this.type=r,this.input=s,this.labels=[],this.outputs=[];for(const[m,g]of d)this.labels.push(m),this.outputs.push(g)}static parse(r,s){if(r.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return s.error("Expected an even number of arguments.");const d=s.parse(r[1],1,Lt);if(!d)return null;const m=[];let g=null;s.expectedType&&"value"!==s.expectedType.kind&&(g=s.expectedType);for(let y=1;y<r.length;y+=2){const v=1===y?-1/0:r[y],M=r[y+1],T=y,A=y+1;if("number"!=typeof v)return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',T);if(m.length&&m[m.length-1][0]>=v)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',T);const P=s.parse(M,A,g);if(!P)return null;g=g||P.type,m.push([v,P])}return new ml(g,d,m)}evaluate(r){const s=this.labels,d=this.outputs;if(1===s.length)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=s[0])return d[0].evaluate(r);const g=s.length;return m>=s[g-1]?d[g-1].evaluate(r):d[Ds(s,m)].evaluate(r)}eachChild(r){r(this.input);for(const s of this.outputs)r(s)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let s=0;s<this.labels.length;s++)s>0&&r.push(this.labels[s]),r.push(this.outputs[s].serialize());return r}}var ko=ml;function In(o,r,s){return o*(1-s)+r*s}function $s(o,r,s){return o.map((d,m)=>In(d,r[m],s))}var Ll=Object.freeze({__proto__:null,number:In,color:function(o,r,s){return new Gi(In(o.r,r.r,s),In(o.g,r.g,s),In(o.b,r.b,s),In(o.a,r.a,s))},array:$s});const Pl=4/29,$o=6/29,ss=3*$o*$o,Br=Math.PI/180,ih=180/Math.PI;function Mo(o){return o>.008856451679035631?Math.pow(o,1/3):o/ss+Pl}function To(o){return o>$o?o*o*o:ss*(o-Pl)}function mc(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Fl(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function Ss(o){const r=Fl(o.r),s=Fl(o.g),d=Fl(o.b),m=Mo((.4124564*r+.3575761*s+.1804375*d)/.95047),g=Mo((.2126729*r+.7151522*s+.072175*d)/1);return{l:116*g-16,a:500*(m-g),b:200*(g-Mo((.0193339*r+.119192*s+.9503041*d)/1.08883)),alpha:o.a}}function Eo(o){let r=(o.l+16)/116,s=isNaN(o.a)?r:r+o.a/500,d=isNaN(o.b)?r:r-o.b/200;return r=1*To(r),s=.95047*To(s),d=1.08883*To(d),new Gi(mc(3.2404542*s-1.5371385*r-.4985314*d),mc(-.969266*s+1.8760108*r+.041556*d),mc(.0556434*s-.2040259*r+1.0572252*d),o.alpha)}function Kd(o,r,s){const d=r-o;return o+s*(d>180||d<-180?d-360*Math.round(d/360):d)}const Jd={forward:Ss,reverse:Eo,interpolate:function(o,r,s){return{l:In(o.l,r.l,s),a:In(o.a,r.a,s),b:In(o.b,r.b,s),alpha:In(o.alpha,r.alpha,s)}}},pl={forward:function(o){const{l:r,a:s,b:d}=Ss(o),m=Math.atan2(d,s)*ih;return{h:m<0?m+360:m,c:Math.sqrt(s*s+d*d),l:r,alpha:o.a}},reverse:function(o){const r=o.h*Br,s=o.c;return Eo({l:o.l,a:Math.cos(r)*s,b:Math.sin(r)*s,alpha:o.alpha})},interpolate:function(o,r,s){return{h:Kd(o.h,r.h,s),c:In(o.c,r.c,s),l:In(o.l,r.l,s),alpha:In(o.alpha,r.alpha,s)}}};var dm=Object.freeze({__proto__:null,lab:Jd,hcl:pl});class Qd{constructor(r,s,d,m,g){this.type=r,this.operator=s,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[y,v]of g)this.labels.push(y),this.outputs.push(v)}static interpolationFactor(r,s,d,m){let g=0;if("exponential"===r.name)g=ah(s,r.base,d,m);else if("linear"===r.name)g=ah(s,1,d,m);else if("cubic-bezier"===r.name){const y=r.controlPoints;g=new un(y[0],y[1],y[2],y[3]).solve(ah(s,1,d,m))}return g}static parse(r,s){let[d,m,g,...y]=r;if(!Array.isArray(m)||0===m.length)return s.error("Expected an interpolation type expression.",1);if("linear"===m[0])m={name:"linear"};else if("exponential"===m[0]){const T=m[1];if("number"!=typeof T)return s.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:T}}else{if("cubic-bezier"!==m[0])return s.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const T=m.slice(1);if(4!==T.length||T.some(A=>"number"!=typeof A||A<0||A>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:T}}}if(r.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(g=s.parse(g,2,Lt),!g)return null;const v=[];let M=null;"interpolate-hcl"===d||"interpolate-lab"===d?M=ns:s.expectedType&&"value"!==s.expectedType.kind&&(M=s.expectedType);for(let T=0;T<y.length;T+=2){const A=y[T],P=y[T+1],N=T+3,G=T+4;if("number"!=typeof A)return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(v.length&&v[v.length-1][0]>=A)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',N);const j=s.parse(P,G,M);if(!j)return null;M=M||j.type,v.push([A,j])}return"number"===M.kind||"color"===M.kind||"array"===M.kind&&"number"===M.itemType.kind&&"number"==typeof M.N?new Qd(M,d,m,g,v):s.error(`Type ${la(M)} is not interpolatable.`)}evaluate(r){const s=this.labels,d=this.outputs;if(1===s.length)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=s[0])return d[0].evaluate(r);const g=s.length;if(m>=s[g-1])return d[g-1].evaluate(r);const y=Ds(s,m),v=Qd.interpolationFactor(this.interpolation,m,s[y],s[y+1]),M=d[y].evaluate(r),T=d[y+1].evaluate(r);return"interpolate"===this.operator?Ll[this.type.kind.toLowerCase()](M,T,v):"interpolate-hcl"===this.operator?pl.reverse(pl.interpolate(pl.forward(M),pl.forward(T),v)):Jd.reverse(Jd.interpolate(Jd.forward(M),Jd.forward(T),v))}eachChild(r){r(this.input);for(const s of this.outputs)r(s)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){let r;r="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const s=[this.operator,r,this.input.serialize()];for(let d=0;d<this.labels.length;d++)s.push(this.labels[d],this.outputs[d].serialize());return s}}function ah(o,r,s,d){const m=d-s,g=o-s;return 0===m?0:1===r?g/m:(Math.pow(r,g)-1)/(Math.pow(r,m)-1)}var Ys=Qd;class rh{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expectected at least one argument.");let d=null;const m=s.expectedType;m&&"value"!==m.kind&&(d=m);const g=[];for(const v of r.slice(1)){const M=s.parse(v,1+g.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,g.push(M)}const y=m&&g.some(v=>eo(m,v.type));return new rh(y?Qn:d,g)}evaluate(r){let s,d=null,m=0;for(const g of this.args){if(m++,d=g.evaluate(r),d&&d instanceof io&&!d.available&&(s||(s=d),d=null,m===this.args.length))return s;if(null!==d)break}return d}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];return this.eachChild(s=>{r.push(s.serialize())}),r}}var yp=rh;class oh{constructor(r,s){this.type=s.type,this.bindings=[].concat(r),this.result=s}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const s of this.bindings)r(s[1]);r(this.result)}static parse(r,s){if(r.length<4)return s.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const d=[];for(let g=1;g<r.length-1;g+=2){const y=r[g];if("string"!=typeof y)return s.error(`Expected string, but found ${typeof y} instead.`,g);if(/[^a-zA-Z0-9_]/.test(y))return s.error("Variable names must contain only alphanumeric characters or '_'.",g);const v=s.parse(r[g+1],g+1);if(!v)return null;d.push([y,v])}const m=s.parse(r[r.length-1],r.length-1,s.expectedType,d);return m?new oh(d,m):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=["let"];for(const[s,d]of this.bindings)r.push(s,d.serialize());return r.push(this.result.serialize()),r}}var Aa=oh;class um{constructor(r,s,d){this.type=r,this.index=s,this.input=d}static parse(r,s){if(3!==r.length)return s.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=s.parse(r[1],1,Lt),m=s.parse(r[2],2,kn(s.expectedType||Qn));return d&&m?new um(m.type.itemType,d,m):null}evaluate(r){const s=this.index.evaluate(r),d=this.input.evaluate(r);if(s<0)throw new Qa(`Array index out of bounds: ${s} < 0.`);if(s>=d.length)throw new Qa(`Array index out of bounds: ${s} > ${d.length-1}.`);if(s!==Math.floor(s))throw new Qa(`Array index must be an integer, but found ${s} instead.`);return d[s]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var vp=um;class sh{constructor(r,s){this.type=wi,this.needle=r,this.haystack=s}static parse(r,s){if(3!==r.length)return s.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=s.parse(r[1],1,Qn),m=s.parse(r[2],2,Qn);return d&&m?qc(d.type,[wi,bi,Lt,dn,Qn])?new sh(d,m):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${la(d.type)} instead`):null}evaluate(r){const s=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(null==d)return!1;if(!Ol(s,["boolean","string","number","null"]))throw new Qa(`Expected first argument to be of type boolean, string, number or null, but found ${la(Ja(s))} instead.`);if(!Ol(d,["string","array"]))throw new Qa(`Expected second argument to be of type array or string, but found ${la(Ja(d))} instead.`);return d.indexOf(s)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Uf=sh;class lh{constructor(r,s,d){this.type=Lt,this.needle=r,this.haystack=s,this.fromIndex=d}static parse(r,s){if(r.length<=2||r.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=s.parse(r[1],1,Qn),m=s.parse(r[2],2,Qn);if(!d||!m)return null;if(!qc(d.type,[wi,bi,Lt,dn,Qn]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${la(d.type)} instead`);if(4===r.length){const g=s.parse(r[3],3,Lt);return g?new lh(d,m,g):null}return new lh(d,m)}evaluate(r){const s=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!Ol(s,["boolean","string","number","null"]))throw new Qa(`Expected first argument to be of type boolean, string, number or null, but found ${la(Ja(s))} instead.`);if(!Ol(d,["string","array"]))throw new Qa(`Expected second argument to be of type array or string, but found ${la(Ja(d))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(r);return d.indexOf(s,m)}return d.indexOf(s)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Gf=lh;class Rl{constructor(r,s,d,m,g,y){this.inputType=r,this.type=s,this.input=d,this.cases=m,this.outputs=g,this.otherwise=y}static parse(r,s){if(r.length<5)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return s.error("Expected an even number of arguments.");let d,m;s.expectedType&&"value"!==s.expectedType.kind&&(m=s.expectedType);const g={},y=[];for(let T=2;T<r.length-1;T+=2){let A=r[T];const P=r[T+1];Array.isArray(A)||(A=[A]);const N=s.concat(T);if(0===A.length)return N.error("Expected at least one branch label.");for(const j of A){if("number"!=typeof j&&"string"!=typeof j)return N.error("Branch labels must be numbers or strings.");if("number"==typeof j&&Math.abs(j)>Number.MAX_SAFE_INTEGER)return N.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof j&&Math.floor(j)!==j)return N.error("Numeric branch labels must be integer values.");if(d){if(N.checkSubtype(d,Ja(j)))return null}else d=Ja(j);if(void 0!==g[String(j)])return N.error("Branch labels must be unique.");g[String(j)]=y.length}const G=s.parse(P,T,m);if(!G)return null;m=m||G.type,y.push(G)}const v=s.parse(r[1],1,Qn);if(!v)return null;const M=s.parse(r[r.length-1],r.length-1,m);return M?"value"!==v.type.kind&&s.concat(1).checkSubtype(d,v.type)?null:new Rl(d,m,v,g,y,M):null}evaluate(r){const s=this.input.evaluate(r);return(Ja(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()],s=Object.keys(this.cases).sort(),d=[],m={};for(const y of s){const v=m[this.cases[y]];void 0===v?(m[this.cases[y]]=d.length,d.push([this.cases[y],[y]])):d[v][1].push(y)}const g=y=>"number"===this.inputType.kind?Number(y):y;for(const[y,v]of d)r.push(1===v.length?g(v[0]):v.map(g)),r.push(this.outputs[y].serialize());return r.push(this.otherwise.serialize()),r}}var ch=Rl;class pc{constructor(r,s,d){this.type=r,this.branches=s,this.otherwise=d}static parse(r,s){if(r.length<4)return s.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return s.error("Expected an odd number of arguments.");let d;s.expectedType&&"value"!==s.expectedType.kind&&(d=s.expectedType);const m=[];for(let y=1;y<r.length-1;y+=2){const v=s.parse(r[y],y,wi);if(!v)return null;const M=s.parse(r[y+1],y+1,d);if(!M)return null;m.push([v,M]),d=d||M.type}const g=s.parse(r[r.length-1],r.length-1,d);return g?new pc(d,m,g):null}evaluate(r){for(const[s,d]of this.branches)if(s.evaluate(r))return d.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[s,d]of this.branches)r(s),r(d);r(this.otherwise)}outputDefined(){return this.branches.every(([r,s])=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];return this.eachChild(s=>{r.push(s.serialize())}),r}}var $f=pc;class fc{constructor(r,s,d,m){this.type=r,this.input=s,this.beginIndex=d,this.endIndex=m}static parse(r,s){if(r.length<=2||r.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=s.parse(r[1],1,Qn),m=s.parse(r[2],2,Lt);if(!d||!m)return null;if(!qc(d.type,[kn(Qn),bi,Qn]))return s.error(`Expected first argument to be of type array or string, but found ${la(d.type)} instead`);if(4===r.length){const g=s.parse(r[3],3,Lt);return g?new fc(d.type,d,m,g):null}return new fc(d.type,d,m)}evaluate(r){const s=this.input.evaluate(r),d=this.beginIndex.evaluate(r);if(!Ol(s,["string","array"]))throw new Qa(`Expected first argument to be of type array or string, but found ${la(Ja(s))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(r);return s.slice(d,m)}return s.slice(d)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var eu=fc;function ls(o,r){return"=="===o||"!="===o?"boolean"===r.kind||"string"===r.kind||"number"===r.kind||"null"===r.kind||"value"===r.kind:"string"===r.kind||"number"===r.kind||"value"===r.kind}function Qc(o,r,s,d){return 0===d.compare(r,s)}function Yi(o,r,s){const d="=="!==o&&"!="!==o;return class Q5{constructor(g,y,v){this.type=wi,this.lhs=g,this.rhs=y,this.collator=v,this.hasUntypedArgument="value"===g.type.kind||"value"===y.type.kind}static parse(g,y){if(3!==g.length&&4!==g.length)return y.error("Expected two or three arguments.");const v=g[0];let M=y.parse(g[1],1,Qn);if(!M)return null;if(!ls(v,M.type))return y.concat(1).error(`"${v}" comparisons are not supported for type '${la(M.type)}'.`);let T=y.parse(g[2],2,Qn);if(!T)return null;if(!ls(v,T.type))return y.concat(2).error(`"${v}" comparisons are not supported for type '${la(T.type)}'.`);if(M.type.kind!==T.type.kind&&"value"!==M.type.kind&&"value"!==T.type.kind)return y.error(`Cannot compare types '${la(M.type)}' and '${la(T.type)}'.`);d&&("value"===M.type.kind&&"value"!==T.type.kind?M=new vo(T.type,[M]):"value"!==M.type.kind&&"value"===T.type.kind&&(T=new vo(M.type,[T])));let A=null;if(4===g.length){if("string"!==M.type.kind&&"string"!==T.type.kind&&"value"!==M.type.kind&&"value"!==T.type.kind)return y.error("Cannot use collator to compare non-string types.");if(A=y.parse(g[3],3,ll),!A)return null}return new Q5(M,T,A)}evaluate(g){const y=this.lhs.evaluate(g),v=this.rhs.evaluate(g);if(d&&this.hasUntypedArgument){const M=Ja(y),T=Ja(v);if(M.kind!==T.kind||"string"!==M.kind&&"number"!==M.kind)throw new Qa(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${M.kind}, ${T.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const M=Ja(y),T=Ja(v);if("string"!==M.kind||"string"!==T.kind)return r(g,y,v)}return this.collator?s(g,y,v,this.collator.evaluate(g)):r(g,y,v)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[o];return this.eachChild(y=>{g.push(y.serialize())}),g}}}const hm=Yi("==",function(o,r,s){return r===s},Qc),dh=Yi("!=",function(o,r,s){return r!==s},function(o,r,s,d){return!Qc(0,r,s,d)}),uh=Yi("<",function(o,r,s){return r<s},function(o,r,s,d){return d.compare(r,s)<0}),zl=Yi(">",function(o,r,s){return r>s},function(o,r,s,d){return d.compare(r,s)>0}),hh=Yi("<=",function(o,r,s){return r<=s},function(o,r,s,d){return d.compare(r,s)<=0}),mm=Yi(">=",function(o,r,s){return r>=s},function(o,r,s,d){return d.compare(r,s)>=0});class ed{constructor(r,s,d,m,g,y){this.type=bi,this.number=r,this.locale=s,this.currency=d,this.unit=m,this.minFractionDigits=g,this.maxFractionDigits=y}static parse(r,s){if(3!==r.length)return s.error("Expected two arguments.");const d=s.parse(r[1],1,Lt);if(!d)return null;const m=r[2];if("object"!=typeof m||Array.isArray(m))return s.error("NumberFormat options argument must be an object.");let g=null;if(m.locale&&(g=s.parse(m.locale,1,bi),!g))return null;let y=null;if(m.currency&&(y=s.parse(m.currency,1,bi),!y))return null;let v=null;if(m.unit&&(v=s.parse(m.unit,1,bi),!v))return null;let M=null;if(m["min-fraction-digits"]&&(M=s.parse(m["min-fraction-digits"],1,Lt),!M))return null;let T=null;return m["max-fraction-digits"]&&(T=s.parse(m["max-fraction-digits"],1,Lt),!T)?null:new ed(d,g,y,v,M,T)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(r):void 0,unit:this.unit?this.unit.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.unit&&r(this.unit),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.unit&&(r.unit=this.unit.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]}}class mh{constructor(r){this.type=Lt,this.input=r}static parse(r,s){if(2!==r.length)return s.error(`Expected 1 argument, but found ${r.length-1} instead.`);const d=s.parse(r[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?s.error(`Expected argument of type string or array, but found ${la(d.type)} instead.`):new mh(d):null}evaluate(r){const s=this.input.evaluate(r);if("string"==typeof s||Array.isArray(s))return s.length;throw new Qa(`Expected value to be of type string or array, but found ${la(Ja(s))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];return this.eachChild(s=>{r.push(s.serialize())}),r}}const Do={"==":hm,"!=":dh,">":zl,"<":uh,">=":mm,"<=":hh,array:vo,at:vp,boolean:vo,case:$f,coalesce:yp,collator:gn,format:Xc,image:jo,in:Uf,"index-of":Gf,interpolate:Ys,"interpolate-hcl":Ys,"interpolate-lab":Ys,length:mh,let:Aa,literal:$i,match:ch,number:vo,"number-format":ed,object:vo,slice:eu,step:ko,string:vo,"to-boolean":Ct,"to-color":Ct,"to-number":Ct,"to-string":Ct,var:os,within:Ia};function tu(o,[r,s,d,m]){r=r.evaluate(o),s=s.evaluate(o),d=d.evaluate(o);const g=m?m.evaluate(o):1,y=cm(r,s,d,g);if(y)throw new Qa(y);return new Gi(r/255*g,s/255*g,d/255*g,g)}function nu(o,r){return o in r}function gc(o,r){const s=r[o];return void 0===s?null:s}function qs(o){return{type:o}}Uo.register(Do,{error:[{kind:"error"},[bi],(o,[r])=>{throw new Qa(r.evaluate(o))}],typeof:[bi,[Qn],(o,[r])=>la(Ja(r.evaluate(o)))],"to-rgba":[kn(Lt,4),[ns],(o,[r])=>r.evaluate(o).toArray()],rgb:[ns,[Lt,Lt,Lt],tu],rgba:[ns,[Lt,Lt,Lt,Lt],tu],has:{type:wi,overloads:[[[bi],(o,[r])=>nu(r.evaluate(o),o.properties())],[[bi,Ho],(o,[r,s])=>nu(r.evaluate(o),s.evaluate(o))]]},get:{type:Qn,overloads:[[[bi],(o,[r])=>gc(r.evaluate(o),o.properties())],[[bi,Ho],(o,[r,s])=>gc(r.evaluate(o),s.evaluate(o))]]},"feature-state":[Qn,[bi],(o,[r])=>gc(r.evaluate(o),o.featureState||{})],properties:[Ho,[],o=>o.properties()],"geometry-type":[bi,[],o=>o.geometryType()],id:[Qn,[],o=>o.id()],zoom:[Lt,[],o=>o.globals.zoom],pitch:[Lt,[],o=>o.globals.pitch||0],"distance-from-center":[Lt,[],o=>o.distanceFromCenter()],"heatmap-density":[Lt,[],o=>o.globals.heatmapDensity||0],"line-progress":[Lt,[],o=>o.globals.lineProgress||0],"sky-radial-progress":[Lt,[],o=>o.globals.skyRadialProgress||0],accumulated:[Qn,[],o=>void 0===o.globals.accumulated?null:o.globals.accumulated],"+":[Lt,qs(Lt),(o,r)=>{let s=0;for(const d of r)s+=d.evaluate(o);return s}],"*":[Lt,qs(Lt),(o,r)=>{let s=1;for(const d of r)s*=d.evaluate(o);return s}],"-":{type:Lt,overloads:[[[Lt,Lt],(o,[r,s])=>r.evaluate(o)-s.evaluate(o)],[[Lt],(o,[r])=>-r.evaluate(o)]]},"/":[Lt,[Lt,Lt],(o,[r,s])=>r.evaluate(o)/s.evaluate(o)],"%":[Lt,[Lt,Lt],(o,[r,s])=>r.evaluate(o)%s.evaluate(o)],ln2:[Lt,[],()=>Math.LN2],pi:[Lt,[],()=>Math.PI],e:[Lt,[],()=>Math.E],"^":[Lt,[Lt,Lt],(o,[r,s])=>Math.pow(r.evaluate(o),s.evaluate(o))],sqrt:[Lt,[Lt],(o,[r])=>Math.sqrt(r.evaluate(o))],log10:[Lt,[Lt],(o,[r])=>Math.log(r.evaluate(o))/Math.LN10],ln:[Lt,[Lt],(o,[r])=>Math.log(r.evaluate(o))],log2:[Lt,[Lt],(o,[r])=>Math.log(r.evaluate(o))/Math.LN2],sin:[Lt,[Lt],(o,[r])=>Math.sin(r.evaluate(o))],cos:[Lt,[Lt],(o,[r])=>Math.cos(r.evaluate(o))],tan:[Lt,[Lt],(o,[r])=>Math.tan(r.evaluate(o))],asin:[Lt,[Lt],(o,[r])=>Math.asin(r.evaluate(o))],acos:[Lt,[Lt],(o,[r])=>Math.acos(r.evaluate(o))],atan:[Lt,[Lt],(o,[r])=>Math.atan(r.evaluate(o))],min:[Lt,qs(Lt),(o,r)=>Math.min(...r.map(s=>s.evaluate(o)))],max:[Lt,qs(Lt),(o,r)=>Math.max(...r.map(s=>s.evaluate(o)))],abs:[Lt,[Lt],(o,[r])=>Math.abs(r.evaluate(o))],round:[Lt,[Lt],(o,[r])=>{const s=r.evaluate(o);return s<0?-Math.round(-s):Math.round(s)}],floor:[Lt,[Lt],(o,[r])=>Math.floor(r.evaluate(o))],ceil:[Lt,[Lt],(o,[r])=>Math.ceil(r.evaluate(o))],"filter-==":[wi,[bi,Qn],(o,[r,s])=>o.properties()[r.value]===s.value],"filter-id-==":[wi,[Qn],(o,[r])=>o.id()===r.value],"filter-type-==":[wi,[bi],(o,[r])=>o.geometryType()===r.value],"filter-<":[wi,[bi,Qn],(o,[r,s])=>{const d=o.properties()[r.value],m=s.value;return typeof d==typeof m&&d<m}],"filter-id-<":[wi,[Qn],(o,[r])=>{const s=o.id(),d=r.value;return typeof s==typeof d&&s<d}],"filter->":[wi,[bi,Qn],(o,[r,s])=>{const d=o.properties()[r.value],m=s.value;return typeof d==typeof m&&d>m}],"filter-id->":[wi,[Qn],(o,[r])=>{const s=o.id(),d=r.value;return typeof s==typeof d&&s>d}],"filter-<=":[wi,[bi,Qn],(o,[r,s])=>{const d=o.properties()[r.value],m=s.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[wi,[Qn],(o,[r])=>{const s=o.id(),d=r.value;return typeof s==typeof d&&s<=d}],"filter->=":[wi,[bi,Qn],(o,[r,s])=>{const d=o.properties()[r.value],m=s.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[wi,[Qn],(o,[r])=>{const s=o.id(),d=r.value;return typeof s==typeof d&&s>=d}],"filter-has":[wi,[Qn],(o,[r])=>r.value in o.properties()],"filter-has-id":[wi,[],o=>null!==o.id()&&void 0!==o.id()],"filter-type-in":[wi,[kn(bi)],(o,[r])=>r.value.indexOf(o.geometryType())>=0],"filter-id-in":[wi,[kn(Qn)],(o,[r])=>r.value.indexOf(o.id())>=0],"filter-in-small":[wi,[bi,kn(Qn)],(o,[r,s])=>s.value.indexOf(o.properties()[r.value])>=0],"filter-in-large":[wi,[bi,kn(Qn)],(o,[r,s])=>function(d,m,g,y){for(;g<=y;){const v=g+y>>1;if(m[v]===d)return!0;m[v]>d?y=v-1:g=v+1}return!1}(o.properties()[r.value],s.value,0,s.value.length-1)],all:{type:wi,overloads:[[[wi,wi],(o,[r,s])=>r.evaluate(o)&&s.evaluate(o)],[qs(wi),(o,r)=>{for(const s of r)if(!s.evaluate(o))return!1;return!0}]]},any:{type:wi,overloads:[[[wi,wi],(o,[r,s])=>r.evaluate(o)||s.evaluate(o)],[qs(wi),(o,r)=>{for(const s of r)if(s.evaluate(o))return!0;return!1}]]},"!":[wi,[wi],(o,[r])=>!r.evaluate(o)],"is-supported-script":[wi,[bi],(o,[r])=>{const s=o.globals&&o.globals.isSupportedScript;return!s||s(r.evaluate(o))}],upcase:[bi,[bi],(o,[r])=>r.evaluate(o).toUpperCase()],downcase:[bi,[bi],(o,[r])=>r.evaluate(o).toLowerCase()],concat:[bi,qs(Qn),(o,r)=>r.map(s=>Zd(s.evaluate(o))).join("")],"resolved-locale":[bi,[ll],(o,[r])=>r.evaluate(o).resolvedLocale()]});var Nl=Do;function pm(o){return{result:"success",value:o}}function _a(o){return{result:"error",value:o}}function td(o){return"data-driven"===o["property-type"]||"cross-faded-data-driven"===o["property-type"]}function So(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Ws(o){return!!o.expression&&o.expression.interpolated}function Wn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":null===o?"null":typeof o}function nd(o){return"object"==typeof o&&null!==o&&!Array.isArray(o)}function fm(o){return o}function Zs(o,r){const s="color"===r.type,d=o.stops&&"object"==typeof o.stops[0][0],m=d||!(d||void 0!==o.property),g=o.type||(Ws(r)?"exponential":"interval");if(s&&((o=Li({},o)).stops&&(o.stops=o.stops.map(T=>[T[0],Gi.parse(T[1])])),o.default=Gi.parse(o.default?o.default:r.default)),o.colorSpace&&"rgb"!==o.colorSpace&&!dm[o.colorSpace])throw new Error(`Unknown color space: ${o.colorSpace}`);let y,v,M;if("exponential"===g)y=fl;else if("interval"===g)y=cs;else if("categorical"===g){y=xp,v=Object.create(null);for(const T of o.stops)v[T[0]]=T[1];M=typeof o.stops[0][0]}else{if("identity"!==g)throw new Error(`Unknown function type "${g}"`);y=yr}if(d){const T={},A=[];for(let G=0;G<o.stops.length;G++){const j=o.stops[G],J=j[0].zoom;void 0===T[J]&&(T[J]={zoom:J,type:o.type,property:o.property,default:o.default,stops:[]},A.push(J)),T[J].stops.push([j[0].value,j[1]])}const P=[];for(const G of A)P.push([T[G].zoom,Zs(T[G],r)]);const N={name:"linear"};return{kind:"composite",interpolationType:N,interpolationFactor:Ys.interpolationFactor.bind(void 0,N),zoomStops:P.map(G=>G[0]),evaluate:({zoom:G},j)=>fl({stops:P,base:o.base},r,G).evaluate(G,j)}}if(m){const T="exponential"===g?{name:"exponential",base:void 0!==o.base?o.base:1}:null;return{kind:"camera",interpolationType:T,interpolationFactor:Ys.interpolationFactor.bind(void 0,T),zoomStops:o.stops.map(A=>A[0]),evaluate:({zoom:A})=>y(o,r,A,v,M)}}return{kind:"source",evaluate(T,A){const P=A&&A.properties?A.properties[o.property]:void 0;return void 0===P?Vr(o.default,r.default):y(o,r,P,v,M)}}}function Vr(o,r,s){return void 0!==o?o:void 0!==r?r:void 0!==s?s:void 0}function xp(o,r,s,d,m){return Vr(typeof s===m?d[s]:void 0,o.default,r.default)}function cs(o,r,s){if("number"!==Wn(s))return Vr(o.default,r.default);const d=o.stops.length;if(1===d||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[d-1][0])return o.stops[d-1][1];const m=Ds(o.stops.map(g=>g[0]),s);return o.stops[m][1]}function fl(o,r,s){const d=void 0!==o.base?o.base:1;if("number"!==Wn(s))return Vr(o.default,r.default);const m=o.stops.length;if(1===m||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[m-1][0])return o.stops[m-1][1];const g=Ds(o.stops.map(A=>A[0]),s),y=function(A,P,N,G){const j=G-N,J=A-N;return 0===j?0:1===P?J/j:(Math.pow(P,J)-1)/(Math.pow(P,j)-1)}(s,d,o.stops[g][0],o.stops[g+1][0]),v=o.stops[g][1],M=o.stops[g+1][1];let T=Ll[r.type]||fm;if(o.colorSpace&&"rgb"!==o.colorSpace){const A=dm[o.colorSpace];T=(P,N)=>A.reverse(A.interpolate(A.forward(P),A.forward(N),y))}return"function"==typeof v.evaluate?{evaluate(...A){const P=v.evaluate.apply(void 0,A),N=M.evaluate.apply(void 0,A);if(void 0!==P&&void 0!==N)return T(P,N,y)}}:T(v,M,y)}function yr(o,r,s){return"color"===r.type?s=Gi.parse(s):"formatted"===r.type?s=no.fromString(s.toString()):"resolvedImage"===r.type?s=io.fromString(s.toString()):Wn(s)===r.type||"enum"===r.type&&r.values[s]||(s=void 0),Vr(s,o.default,r.default)}class iu{constructor(r,s){var d;this.expression=r,this._warningHistory={},this._evaluator=new nh,this._defaultValue=s?"color"===(d=s).type&&(nd(d.default)||Array.isArray(d.default))?new Gi(0,0,0,0):"color"===d.type?Gi.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=s&&"enum"===s.type?s.values:null}evaluateWithoutErrorHandling(r,s,d,m,g,y,v,M){return this._evaluator.globals=r,this._evaluator.feature=s,this._evaluator.featureState=d,this._evaluator.canonical=m||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=y,this._evaluator.featureTileCoord=v||null,this._evaluator.featureDistanceData=M||null,this.expression.evaluate(this._evaluator)}evaluate(r,s,d,m,g,y,v,M){this._evaluator.globals=r,this._evaluator.feature=s||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=y||null,this._evaluator.featureTileCoord=v||null,this._evaluator.featureDistanceData=M||null;try{const T=this.expression.evaluate(this._evaluator);if(null==T||"number"==typeof T&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new Qa(`Expected value to be one of ${Object.keys(this._enumValues).map(A=>JSON.stringify(A)).join(", ")}, but found ${JSON.stringify(T)} instead.`);return T}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,"undefined"!=typeof console&&console.warn(T.message)),this._defaultValue}}}function _c(o){return Array.isArray(o)&&o.length>0&&"string"==typeof o[0]&&o[0]in Nl}function bc(o,r){const s=new rr(Nl,[],r?function(m){const g={color:ns,string:bi,number:Lt,enum:bi,boolean:wi,formatted:cc,resolvedImage:Yc};return"array"===m.type?kn(g[m.value]||Qn,m.length):g[m.type]}(r):void 0),d=s.parse(o,void 0,void 0,void 0,r&&"string"===r.type?{typeAnnotation:"coerce"}:void 0);return d?pm(new iu(d,r)):_a(s.errors)}class Is{constructor(r,s){this.kind=r,this._styleExpression=s,this.isStateDependent="constant"!==r&&!Co(s.expression)}evaluateWithoutErrorHandling(r,s,d,m,g,y){return this._styleExpression.evaluateWithoutErrorHandling(r,s,d,m,g,y)}evaluate(r,s,d,m,g,y){return this._styleExpression.evaluate(r,s,d,m,g,y)}}class yc{constructor(r,s,d,m){this.kind=r,this.zoomStops=d,this._styleExpression=s,this.isStateDependent="camera"!==r&&!Co(s.expression),this.interpolationType=m}evaluateWithoutErrorHandling(r,s,d,m,g,y){return this._styleExpression.evaluateWithoutErrorHandling(r,s,d,m,g,y)}evaluate(r,s,d,m,g,y){return this._styleExpression.evaluate(r,s,d,m,g,y)}interpolationFactor(r,s,d){return this.interpolationType?Ys.interpolationFactor(this.interpolationType,r,s,d):0}}function id(o,r){if("error"===(o=bc(o,r)).result)return o;const s=o.value.expression,d=rs(s);if(!d&&!td(r))return _a([new Es("","data expressions not supported")]);const m=si(s,["zoom","pitch","distance-from-center"]);if(!m&&!So(r))return _a([new Es("","zoom expressions not supported")]);const g=ad(s);return g||m?g instanceof Es?_a([g]):g instanceof Ys&&!Ws(r)?_a([new Es("",'"interpolate" expressions cannot be used with this property')]):pm(g?new yc(d?"camera":"composite",o.value,g.labels,g instanceof Ys?g.interpolation:void 0):new Is(d?"constant":"source",o.value)):_a([new Es("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ei{constructor(r,s){this._parameters=r,this._specification=s,Li(this,Zs(this._parameters,this._specification))}static deserialize(r){return new ei(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function ad(o){let r=null;if(o instanceof Aa)r=ad(o.result);else if(o instanceof yp){for(const s of o.args)if(r=ad(s),r)break}else(o instanceof ko||o instanceof Ys)&&o.input instanceof Uo&&"zoom"===o.input.name&&(r=o);return r instanceof Es||o.eachChild(s=>{const d=ad(s);d instanceof Es?r=d:!r&&d?r=new Es("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&d&&r!==d&&(r=new Es("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}class jt{constructor(r,s,d,m){this.message=(r?`${r}: `:"")+d,m&&(this.identifier=m),null!=s&&s.__line__&&(this.line=s.__line__)}}function Io(o){const r=o.key,s=o.value,d=o.valueSpec||{},m=o.objectElementValidators||{},g=o.style,y=o.styleSpec;let v=[];const M=Wn(s);if("object"!==M)return[new jt(r,s,`object expected, ${M} found`)];for(const T in s){const A=T.split(".")[0],P=d[A]||d["*"];let N;m[A]?N=m[A]:d[A]?N=sr:m["*"]?N=m["*"]:d["*"]&&(N=sr),N?v=v.concat(N({key:(r&&`${r}.`)+T,value:s[T],valueSpec:P,style:g,styleSpec:y,object:s,objectKey:T},s)):v.push(new jt(r,s[T],`unknown property "${T}"`))}for(const T in d)m[T]||d[T].required&&void 0===d[T].default&&void 0===s[T]&&v.push(new jt(r,s,`missing required property "${T}"`));return v}function ph(o){const r=o.value,s=o.valueSpec,d=o.style,m=o.styleSpec,g=o.key,y=o.arrayElementValidator||sr;if("array"!==Wn(r))return[new jt(g,r,`array expected, ${Wn(r)} found`)];if(s.length&&r.length!==s.length)return[new jt(g,r,`array length ${s.length} expected, length ${r.length} found`)];if(s["min-length"]&&r.length<s["min-length"])return[new jt(g,r,`array length at least ${s["min-length"]} expected, length ${r.length} found`)];let v={type:s.value,values:s.values,minimum:s.minimum,maximum:s.maximum,function:void 0};m.$version<7&&(v.function=s.function),"object"===Wn(s.value)&&(v=s.value);let M=[];for(let T=0;T<r.length;T++)M=M.concat(y({array:r,arrayIndex:T,value:r[T],valueSpec:v,style:d,styleSpec:m,key:`${g}[${T}]`}));return M}function au(o){const r=o.key,s=o.value,d=o.valueSpec;let m=Wn(s);if("number"===m&&s!=s&&(m="NaN"),"number"!==m)return[new jt(r,s,`number expected, ${m} found`)];if("minimum"in d){let g=d.minimum;if("array"===Wn(d.minimum)&&(g=d.minimum[o.arrayIndex]),s<g)return[new jt(r,s,`${s} is less than the minimum value ${g}`)]}if("maximum"in d){let g=d.maximum;if("array"===Wn(d.maximum)&&(g=d.maximum[o.arrayIndex]),s>g)return[new jt(r,s,`${s} is greater than the maximum value ${g}`)]}return[]}function gl(o){const r=o.valueSpec,s=Fn(o.value.type);let d,m,g,y={};const v="categorical"!==s&&void 0===o.value.property,M=!v,T="array"===Wn(o.value.stops)&&"array"===Wn(o.value.stops[0])&&"object"===Wn(o.value.stops[0][0]),A=Io({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(G){if("identity"===s)return[new jt(G.key,G.value,'identity function may not have a "stops" property')];let j=[];const J=G.value;return j=j.concat(ph({key:G.key,value:J,valueSpec:G.valueSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:P})),"array"===Wn(J)&&0===J.length&&j.push(new jt(G.key,J,"array must have at least one stop")),j},default:function(G){return sr({key:G.key,value:G.value,valueSpec:r,style:G.style,styleSpec:G.styleSpec})}}});return"identity"===s&&v&&A.push(new jt(o.key,o.value,'missing required property "property"')),"identity"===s||o.value.stops||A.push(new jt(o.key,o.value,'missing required property "stops"')),"exponential"===s&&o.valueSpec.expression&&!Ws(o.valueSpec)&&A.push(new jt(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(M&&!td(o.valueSpec)?A.push(new jt(o.key,o.value,"property functions not supported")):v&&!So(o.valueSpec)&&A.push(new jt(o.key,o.value,"zoom functions not supported"))),"categorical"!==s&&!T||void 0!==o.value.property||A.push(new jt(o.key,o.value,'"property" property is required')),A;function P(G){let j=[];const J=G.value,ae=G.key;if("array"!==Wn(J))return[new jt(ae,J,`array expected, ${Wn(J)} found`)];if(2!==J.length)return[new jt(ae,J,`array length 2 expected, length ${J.length} found`)];if(T){if("object"!==Wn(J[0]))return[new jt(ae,J,`object expected, ${Wn(J[0])} found`)];if(void 0===J[0].zoom)return[new jt(ae,J,"object stop key must have zoom")];if(void 0===J[0].value)return[new jt(ae,J,"object stop key must have value")];const ge=Fn(J[0].zoom);if("number"!=typeof ge)return[new jt(ae,J[0].zoom,"stop zoom values must be numbers")];if(g&&g>ge)return[new jt(ae,J[0].zoom,"stop zoom values must appear in ascending order")];ge!==g&&(g=ge,m=void 0,y={}),j=j.concat(Io({key:`${ae}[0]`,value:J[0],valueSpec:{zoom:{}},style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:au,value:N}}))}else j=j.concat(N({key:`${ae}[0]`,value:J[0],valueSpec:{},style:G.style,styleSpec:G.styleSpec},J));return _c(Ui(J[1]))?j.concat([new jt(`${ae}[1]`,J[1],"expressions are not allowed in function stops.")]):j.concat(sr({key:`${ae}[1]`,value:J[1],valueSpec:r,style:G.style,styleSpec:G.styleSpec}))}function N(G,j){const J=Wn(G.value),ae=Fn(G.value),ge=null!==G.value?G.value:j;if(d){if(J!==d)return[new jt(G.key,ge,`${J} stop domain type must match previous stop domain type ${d}`)]}else d=J;if("number"!==J&&"string"!==J&&"boolean"!==J&&"number"!=typeof ae&&"string"!=typeof ae&&"boolean"!=typeof ae)return[new jt(G.key,ge,"stop domain value must be a number, string, or boolean")];if("number"!==J&&"categorical"!==s){let Ce=`number expected, ${J} found`;return td(r)&&void 0===s&&(Ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new jt(G.key,ge,Ce)]}return"categorical"!==s||"number"!==J||"number"==typeof ae&&isFinite(ae)&&Math.floor(ae)===ae?"categorical"!==s&&"number"===J&&"number"==typeof ae&&"number"==typeof m&&void 0!==m&&ae<m?[new jt(G.key,ge,"stop domain values must appear in ascending order")]:(m=ae,"categorical"===s&&ae in y?[new jt(G.key,ge,"stop domain values must be unique")]:(y[ae]=!0,[])):[new jt(G.key,ge,`integer expected, found ${String(ae)}`)]}}function ds(o){const r=("property"===o.expressionContext?id:bc)(Ui(o.value),o.valueSpec);if("error"===r.result)return r.value.map(d=>new jt(`${o.key}${d.key}`,o.value,d.message));const s=r.value.expression||r.value._styleExpression.expression;if("property"===o.expressionContext&&"text-font"===o.propertyKey&&!s.outputDefined())return[new jt(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===o.expressionContext&&"layout"===o.propertyType&&!Co(s))return[new jt(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===o.expressionContext)return vt(s,o);if(o.expressionContext&&0===o.expressionContext.indexOf("cluster")){if(!si(s,["zoom","feature-state"]))return[new jt(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===o.expressionContext&&!rs(s))return[new jt(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vt(o,r){const s=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const m of r.valueSpec.expression.parameters)s.delete(m);if(0===s.size)return[];const d=[];return o instanceof Uo&&s.has(o.name)?[new jt(r.key,r.value,`["${o.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(o.eachChild(m=>{d.push(...vt(m,r))}),d)}function Fi(o){const r=o.key,s=o.value,d=o.valueSpec,m=[];return Array.isArray(d.values)?-1===d.values.indexOf(Fn(s))&&m.push(new jt(r,s,`expected one of [${d.values.join(", ")}], ${JSON.stringify(s)} found`)):-1===Object.keys(d.values).indexOf(Fn(s))&&m.push(new jt(r,s,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(s)} found`)),m}function mt(o){if(!0===o||!1===o)return!0;if(!Array.isArray(o)||0===o.length)return!1;switch(o[0]){case"has":return o.length>=2&&"$id"!==o[1]&&"$type"!==o[1];case"in":return o.length>=3&&("string"!=typeof o[1]||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==o.length||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const r of o.slice(1))if(!mt(r)&&"boolean"!=typeof r)return!1;return!0;default:return!0}}function ja(o,r="fill"){if(null==o)return{filter:()=>!0,needGeometry:!1,needFeature:!1};mt(o)||(o=Vl(o));const s=o;let d=!0;try{d=function(T){if(!vr(T))return T;let A=Ui(T);return Bl(A),A=fh(A),A}(s)}catch(T){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(s,null,2)}\n        `)}const m=je[`filter_${r}`],g=bc(d,m);let y=null;if("error"===g.result)throw new Error(g.value.map(T=>`${T.key}: ${T.message}`).join(", "));y=(T,A,P)=>g.value.evaluate(T,A,{},P);let v=null,M=null;if(d!==s){const T=bc(s,m);if("error"===T.result)throw new Error(T.value.map(A=>`${A.key}: ${A.message}`).join(", "));v=(A,P,N,G,j)=>T.value.evaluate(A,P,{},N,void 0,void 0,G,j),M=!rs(T.value.expression)}return{filter:y,dynamicFilter:v||void 0,needGeometry:gm(d),needFeature:!!M}}function fh(o){if(!Array.isArray(o))return o;const r=function(s){if(ru.has(s[0]))for(let d=1;d<s.length;d++)if(vr(s[d]))return!0;return s}(o);return!0===r?r:r.map(s=>fh(s))}function Bl(o){let r=!1;const s=[];if("case"===o[0]){for(let d=1;d<o.length-1;d+=2)r=r||vr(o[d]),s.push(o[d+1]);s.push(o[o.length-1])}else if("match"===o[0]){r=r||vr(o[1]);for(let d=2;d<o.length-1;d+=2)s.push(o[d+1]);s.push(o[o.length-1])}else if("step"===o[0]){r=r||vr(o[1]);for(let d=1;d<o.length-1;d+=2)s.push(o[d+1])}r&&(o.length=0,o.push("any",...s));for(let d=1;d<o.length;d++)Bl(o[d])}function vr(o){if(!Array.isArray(o))return!1;if("pitch"===(r=o[0])||"distance-from-center"===r)return!0;var r;for(let s=1;s<o.length;s++)if(vr(o[s]))return!0;return!1}const ru=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ou(o,r){return o<r?-1:o>r?1:0}function gm(o){if(!Array.isArray(o))return!1;if("within"===o[0])return!0;for(let r=1;r<o.length;r++)if(gm(o[r]))return!0;return!1}function Vl(o){if(!o)return!0;const r=o[0];return o.length<=1?"any"!==r:"=="===r?us(o[1],o[2],"=="):"!="===r?ta(us(o[1],o[2],"==")):"<"===r||">"===r||"<="===r||">="===r?us(o[1],o[2],r):"any"===r?(s=o.slice(1),["any"].concat(s.map(Vl))):"all"===r?["all"].concat(o.slice(1).map(Vl)):"none"===r?["all"].concat(o.slice(1).map(Vl).map(ta)):"in"===r?hs(o[1],o.slice(2)):"!in"===r?ta(hs(o[1],o.slice(2))):"has"===r?or(o[1]):"!has"===r?ta(or(o[1])):"within"!==r||o;var s}function us(o,r,s){switch(o){case"$type":return[`filter-type-${s}`,r];case"$id":return[`filter-id-${s}`,r];default:return[`filter-${s}`,o,r]}}function hs(o,r){if(0===r.length)return!1;switch(o){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(s=>typeof s!=typeof r[0])?["filter-in-large",o,["literal",r.sort(ou)]]:["filter-in-small",o,["literal",r]]}}function or(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function ta(o){return["!",o]}function _l(o){return mt(Ui(o.value))?ds(Li({},o,{expressionContext:"filter",valueSpec:o.styleSpec[`filter_${o.layerType||"fill"}`]})):bl(o)}function bl(o){const r=o.value,s=o.key;if("array"!==Wn(r))return[new jt(s,r,`array expected, ${Wn(r)} found`)];const d=o.styleSpec;let m,g=[];if(r.length<1)return[new jt(s,r,"filter array must have at least 1 element")];switch(g=g.concat(Fi({key:`${s}[0]`,value:r[0],valueSpec:d.filter_operator,style:o.style,styleSpec:o.styleSpec})),Fn(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Fn(r[1])&&g.push(new jt(s,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&g.push(new jt(s,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(m=Wn(r[1]),"string"!==m&&g.push(new jt(`${s}[1]`,r[1],`string expected, ${m} found`)));for(let y=2;y<r.length;y++)m=Wn(r[y]),"$type"===Fn(r[1])?g=g.concat(Fi({key:`${s}[${y}]`,value:r[y],valueSpec:d.geometry_type,style:o.style,styleSpec:o.styleSpec})):"string"!==m&&"number"!==m&&"boolean"!==m&&g.push(new jt(`${s}[${y}]`,r[y],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let y=1;y<r.length;y++)g=g.concat(bl({key:`${s}[${y}]`,value:r[y],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":m=Wn(r[1]),2!==r.length?g.push(new jt(s,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==m&&g.push(new jt(`${s}[1]`,r[1],`string expected, ${m} found`));break;case"within":m=Wn(r[1]),2!==r.length?g.push(new jt(s,r,`filter array for "${r[0]}" operator must have 2 elements`)):"object"!==m&&g.push(new jt(`${s}[1]`,r[1],`object expected, ${m} found`))}return g}function As(o,r){const s=o.key,d=o.style,m=o.styleSpec,g=o.value,y=o.objectKey,v=m[`${r}_${o.layerType}`];if(!v)return[];const M=y.match(/^(.*)-transition$/);if("paint"===r&&M&&v[M[1]]&&v[M[1]].transition)return sr({key:s,value:g,valueSpec:m.transition,style:d,styleSpec:m});const T=o.valueSpec||v[y];if(!T)return[new jt(s,g,`unknown property "${y}"`)];let A;if("string"===Wn(g)&&td(T)&&!T.tokens&&(A=/^{([^}]+)}$/.exec(g)))return[new jt(s,g,`"${y}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(A[1])} }\`.`)];const P=[];return"symbol"===o.layerType&&("text-field"===y&&d&&!d.glyphs&&P.push(new jt(s,g,'use of "text-field" requires a style "glyphs" property')),"text-font"===y&&nd(Ui(g))&&"identity"===Fn(g.type)&&P.push(new jt(s,g,'"text-font" does not support identity functions'))),P.concat(sr({key:o.key,value:g,valueSpec:T,style:d,styleSpec:m,expressionContext:"property",propertyType:r,propertyKey:y}))}function _m(o){return As(o,"paint")}function gh(o){return As(o,"layout")}function su(o){let r=[];const s=o.value,d=o.key,m=o.style,g=o.styleSpec;s.type||s.ref||r.push(new jt(d,s,'either "type" or "ref" is required'));let y=Fn(s.type);const v=Fn(s.ref);if(s.id){const M=Fn(s.id);for(let T=0;T<o.arrayIndex;T++){const A=m.layers[T];Fn(A.id)===M&&r.push(new jt(d,s.id,`duplicate layer id "${s.id}", previously used at line ${A.id.__line__}`))}}if("ref"in s){let M;["type","source","source-layer","filter","layout"].forEach(T=>{T in s&&r.push(new jt(d,s[T],`"${T}" is prohibited for ref layers`))}),m.layers.forEach(T=>{Fn(T.id)===v&&(M=T)}),M?M.ref?r.push(new jt(d,s.ref,"ref cannot reference another ref layer")):y=Fn(M.type):"string"==typeof v&&r.push(new jt(d,s.ref,`ref layer "${v}" not found`))}else if("background"!==y&&"sky"!==y)if(s.source){const M=m.sources&&m.sources[s.source],T=M&&Fn(M.type);M?"vector"===T&&"raster"===y?r.push(new jt(d,s.source,`layer "${s.id}" requires a raster source`)):"raster"===T&&"raster"!==y?r.push(new jt(d,s.source,`layer "${s.id}" requires a vector source`)):"vector"!==T||s["source-layer"]?"raster-dem"===T&&"hillshade"!==y?r.push(new jt(d,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==y||!s.paint||!s.paint["line-gradient"]&&!s.paint["line-trim-offset"]||"geojson"===T&&M.lineMetrics||r.push(new jt(d,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new jt(d,s,`layer "${s.id}" must specify a "source-layer"`)):r.push(new jt(d,s.source,`source "${s.source}" not found`))}else r.push(new jt(d,s,'missing required property "source"'));return r=r.concat(Io({key:d,value:s,valueSpec:g.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":()=>[],type:()=>sr({key:`${d}.type`,value:s.type,valueSpec:g.layer.type,style:o.style,styleSpec:o.styleSpec,object:s,objectKey:"type"}),filter:M=>_l(Li({layerType:y},M)),layout:M=>Io({layer:s,key:M.key,value:M.value,valueSpec:{},style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":T=>gh(Li({layerType:y},T))}}),paint:M=>Io({layer:s,key:M.key,value:M.value,valueSpec:{},style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":T=>_m(Li({layerType:y},T))}})}})),r}function vc(o){const r=o.value,s=o.key,d=Wn(r);return"string"!==d?[new jt(s,r,`string expected, ${d} found`)]:[]}const xc={promoteId:function({key:o,value:r}){if("string"===Wn(r))return vc({key:o,value:r});{const s=[];for(const d in r)s.push(...vc({key:`${o}.${d}`,value:r[d]}));return s}}};function lu(o){const r=o.value,s=o.key,d=o.styleSpec,m=o.style;if(!r.type)return[new jt(s,r,'"type" is required')];const g=Fn(r.type);let y;switch(g){case"vector":case"raster":case"raster-dem":return y=Io({key:s,value:r,valueSpec:d[`source_${g.replace("-","_")}`],style:o.style,styleSpec:d,objectElementValidators:xc}),y;case"geojson":if(y=Io({key:s,value:r,valueSpec:d.source_geojson,style:m,styleSpec:d,objectElementValidators:xc}),r.cluster)for(const v in r.clusterProperties){const[M,T]=r.clusterProperties[v],A="string"==typeof M?[M,["accumulated"],["get",v]]:M;y.push(...ds({key:`${s}.${v}.map`,value:T,expressionContext:"cluster-map"})),y.push(...ds({key:`${s}.${v}.reduce`,value:A,expressionContext:"cluster-reduce"}))}return y;case"video":return Io({key:s,value:r,valueSpec:d.source_video,style:m,styleSpec:d});case"image":return Io({key:s,value:r,valueSpec:d.source_image,style:m,styleSpec:d});case"canvas":return[new jt(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Fi({key:`${s}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,styleSpec:d})}}function _h(o){const r=o.value,s=o.styleSpec,d=s.light,m=o.style;let g=[];const y=Wn(r);if(void 0===r)return g;if("object"!==y)return g=g.concat([new jt("light",r,`object expected, ${y} found`)]),g;for(const v in r){const M=v.match(/^(.*)-transition$/);g=g.concat(M&&d[M[1]]&&d[M[1]].transition?sr({key:v,value:r[v],valueSpec:s.transition,style:m,styleSpec:s}):d[v]?sr({key:v,value:r[v],valueSpec:d[v],style:m,styleSpec:s}):[new jt(v,r[v],`unknown property "${v}"`)])}return g}function wc(o){const r=o.value,s=o.key,d=o.style,m=o.styleSpec,g=m.terrain;let y=[];const v=Wn(r);if(void 0===r)return y;if("object"!==v)return y=y.concat([new jt("terrain",r,`object expected, ${v} found`)]),y;for(const M in r){const T=M.match(/^(.*)-transition$/);y=y.concat(T&&g[T[1]]&&g[T[1]].transition?sr({key:M,value:r[M],valueSpec:m.transition,style:d,styleSpec:m}):g[M]?sr({key:M,value:r[M],valueSpec:g[M],style:d,styleSpec:m}):[new jt(M,r[M],`unknown property "${M}"`)])}if(r.source){const M=d.sources&&d.sources[r.source],T=M&&Fn(M.type);M?"raster-dem"!==T&&y.push(new jt(s,r.source,`terrain cannot be used with a source of type ${String(T)}, it only be used with a "raster-dem" source type`)):y.push(new jt(s,r.source,`source "${r.source}" not found`))}else y.push(new jt(s,r,'terrain is missing required property "source"'));return y}function bm(o){const r=o.value,s=o.style,d=o.styleSpec,m=d.fog;let g=[];const y=Wn(r);if(void 0===r)return g;if("object"!==y)return g=g.concat([new jt("fog",r,`object expected, ${y} found`)]),g;for(const v in r){const M=v.match(/^(.*)-transition$/);g=g.concat(M&&m[M[1]]&&m[M[1]].transition?sr({key:v,value:r[v],valueSpec:d.transition,style:s,styleSpec:d}):m[v]?sr({key:v,value:r[v],valueSpec:m[v],style:s,styleSpec:d}):[new jt(v,r[v],`unknown property "${v}"`)])}return g}const cu={"*":()=>[],array:ph,boolean:function(o){const r=o.value,s=o.key,d=Wn(r);return"boolean"!==d?[new jt(s,r,`boolean expected, ${d} found`)]:[]},number:au,color:function(o){const r=o.key,s=o.value,d=Wn(s);return"string"!==d?[new jt(r,s,`color expected, ${d} found`)]:null===Wa.parseCSSColor(s)?[new jt(r,s,`color expected, "${s}" found`)]:[]},enum:Fi,filter:_l,function:gl,layer:su,object:Io,source:lu,light:_h,terrain:wc,fog:bm,string:vc,formatted:function(o){return 0===vc(o).length?[]:ds(o)},resolvedImage:function(o){return 0===vc(o).length?[]:ds(o)},projection:function(o){const r=o.value,s=o.styleSpec,d=s.projection,m=o.style;let g=[];const y=Wn(r);if("object"===y)for(const v in r)g=g.concat(sr({key:v,value:r[v],valueSpec:d[v],style:m,styleSpec:s}));else"string"!==y&&(g=g.concat([new jt("projection",r,`object or string expected, ${y} found`)]));return g}};function sr(o){const r=o.value,s=o.valueSpec,d=o.styleSpec;return s.expression&&nd(Fn(r))?gl(o):s.expression&&_c(Ui(r))?ds(o):s.type&&cu[s.type]?cu[s.type](o):Io(Li({},o,{valueSpec:s.type?d[s.type]:s}))}function ym(o){const r=o.value,s=o.key,d=vc(o);return d.length||(-1===r.indexOf("{fontstack}")&&d.push(new jt(s,r,'"glyphs" url must include a "{fontstack}" token')),-1===r.indexOf("{range}")&&d.push(new jt(s,r,'"glyphs" url must include a "{range}" token'))),d}function rd(o,r=je){return Yo(sr({key:"",value:o,valueSpec:r.$root,styleSpec:r,style:o,objectElementValidators:{glyphs:ym,"*":()=>[]}}))}const od=o=>Yo(_m(o)),bh=o=>Yo(gh(o));function Yo(o){return o.slice().sort((r,s)=>r.line&&s.line?r.line-s.line:0)}function yh(o,r){let s=!1;if(r&&r.length)for(const d of r)o.fire(new Mn(new Error(d.message))),s=!0;return s}var Cc=wa;function wa(o,r,s){var d=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var m=new Int32Array(this.arrayBuffer);o=m[0],this.d=(r=m[1])+2*(s=m[2]);for(var g=0;g<this.d*this.d;g++){var y=m[3+g],v=m[3+g+1];d.push(y===v?null:m.subarray(y,v))}var M=m[3+d.length+1];this.keys=m.subarray(m[3+d.length],M),this.bboxes=m.subarray(M),this.insert=this._insertReadonly}else{this.d=r+2*s;for(var T=0;T<this.d*this.d;T++)d.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=o,this.padding=s,this.scale=r/o,this.uid=0;var A=s/r*o;this.min=-A,this.max=o+A}wa.prototype.insert=function(o,r,s,d,m){this._forEachCell(r,s,d,m,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(r),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(m)},wa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},wa.prototype._insertCell=function(o,r,s,d,m,g){this.cells[m].push(g)},wa.prototype.query=function(o,r,s,d,m){var g=this.min,y=this.max;if(o<=g&&r<=g&&y<=s&&y<=d&&!m)return Array.prototype.slice.call(this.keys);var v=[];return this._forEachCell(o,r,s,d,this._queryCell,v,{},m),v},wa.prototype._queryCell=function(o,r,s,d,m,g,y,v){var M=this.cells[m];if(null!==M)for(var T=this.keys,A=this.bboxes,P=0;P<M.length;P++){var N=M[P];if(void 0===y[N]){var G=4*N;(v?v(A[G+0],A[G+1],A[G+2],A[G+3]):o<=A[G+2]&&r<=A[G+3]&&s>=A[G+0]&&d>=A[G+1])?(y[N]=!0,g.push(T[N])):y[N]=!1}}},wa.prototype._forEachCell=function(o,r,s,d,m,g,y,v){for(var M=this._convertToCellCoord(o),T=this._convertToCellCoord(r),A=this._convertToCellCoord(s),P=this._convertToCellCoord(d),N=M;N<=A;N++)for(var G=T;G<=P;G++){var j=this.d*G+N;if((!v||v(this._convertFromCellCoord(N),this._convertFromCellCoord(G),this._convertFromCellCoord(N+1),this._convertFromCellCoord(G+1)))&&m.call(this,o,r,s,d,j,g,y,v))return}},wa.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},wa.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},wa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,r=3+this.cells.length+1+1,s=0,d=0;d<this.cells.length;d++)s+=this.cells[d].length;var m=new Int32Array(r+s+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;for(var g=r,y=0;y<o.length;y++){var v=o[y];m[3+y]=g,m.set(v,g),g+=v.length}return m[3+o.length]=g,m.set(this.keys,g),m[3+o.length+1]=g+=this.keys.length,m.set(this.bboxes,g),g+=this.bboxes.length,m.buffer};const ms={};function kt(o,r,s={}){Object.defineProperty(o,"_classRegistryKey",{value:r,writeable:!1}),ms[r]={klass:o,omit:s.omit||[]}}kt(Object,"Object"),Cc.serialize=function(o,r){const s=o.toArrayBuffer();return r&&r.push(s),{buffer:s}},Cc.deserialize=function(o){return new Cc(o.buffer)},Object.defineProperty(Cc,"name",{value:"Grid"}),kt(Cc,"Grid"),kt(Gi,"Color"),kt(Error,"Error"),kt(ze,"AJAXError"),kt(io,"ResolvedImage"),kt(ei,"StylePropertyFunction"),kt(iu,"StyleExpression",{omit:["_evaluator"]}),kt(yc,"ZoomDependentExpression"),kt(Is,"ZoomConstantExpression"),kt(Uo,"CompoundExpression",{omit:["_evaluate"]});for(const o in Nl)ms[Nl[o]._classRegistryKey]||kt(Nl[o],`Expression${o}`);function kc(o){return o&&"undefined"!=typeof ArrayBuffer&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function vm(o){return at.ImageBitmap&&o instanceof at.ImageBitmap}function Hl(o,r){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(kc(o)||vm(o))return r&&r.push(o),o;if(ArrayBuffer.isView(o)){const s=o;return r&&r.push(s.buffer),s}if(o instanceof at.ImageData)return r&&r.push(o.data.buffer),o;if(Array.isArray(o)){const s=[];for(const d of o)s.push(Hl(d,r));return s}if("object"==typeof o){const s=o.constructor,d=s._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const m=s.serialize?s.serialize(o,r):{};if(!s.serialize){for(const g in o)o.hasOwnProperty(g)&&(ms[d].omit.indexOf(g)>=0||(m[g]=Hl(o[g],r)));o instanceof Error&&(m.message=o.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==d&&(m.$name=d),m}throw new Error("can't serialize object of type "+typeof o)}function sd(o){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||kc(o)||vm(o)||ArrayBuffer.isView(o)||o instanceof at.ImageData)return o;if(Array.isArray(o))return o.map(sd);if("object"==typeof o){const r=o.$name||"Object",{klass:s}=ms[r];if(!s)throw new Error(`can't deserialize unregistered class ${r}`);if(s.deserialize)return s.deserialize(o);const d=Object.create(s.prototype);for(const m of Object.keys(o))"$name"!==m&&(d[m]=sd(o[m]));return d}throw new Error("can't deserialize object of type "+typeof o)}class du{constructor(){this.first=!0}update(r,s){const d=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=s):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=s),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=d,!0))}}const ld=o=>o>=1536&&o<=1791,cd=o=>o>=1872&&o<=1919,dd=o=>o>=2208&&o<=2303,ud=o=>o>=11904&&o<=12031,uu=o=>o>=12032&&o<=12255,Mc=o=>o>=12272&&o<=12287,hu=o=>o>=12288&&o<=12351,ps=o=>o>=12352&&o<=12447,fs=o=>o>=12448&&o<=12543,xm=o=>o>=12544&&o<=12591,mu=o=>o>=12704&&o<=12735,Tc=o=>o>=12736&&o<=12783,hd=o=>o>=12784&&o<=12799,vh=o=>o>=12800&&o<=13055,Os=o=>o>=13056&&o<=13311,xh=o=>o>=13312&&o<=19903,pu=o=>o>=19968&&o<=40959,jl=o=>o>=40960&&o<=42127,wh=o=>o>=42128&&o<=42191,St=o=>o>=44032&&o<=55215,md=o=>o>=63744&&o<=64255,Ec=o=>o>=64336&&o<=65023,fu=o=>o>=65040&&o<=65055,Ai=o=>o>=65072&&o<=65103,pd=o=>o>=65104&&o<=65135,Xs=o=>o>=65136&&o<=65279,Ul=o=>o>=65280&&o<=65519;function Gl(o){for(const r of o)if(fd(r.charCodeAt(0)))return!0;return!1}function Yf(o){for(const r of o)if(!wm(r.charCodeAt(0)))return!1;return!0}function wm(o){return!(ld(o)||cd(o)||dd(o)||Ec(o)||Xs(o))}function fd(o){return!(746!==o&&747!==o&&(o<4352||!(mu(o)||xm(o)||Ai(o)&&!(o>=65097&&o<=65103)||md(o)||Os(o)||ud(o)||Tc(o)||!(!hu(o)||o>=12296&&o<=12305||o>=12308&&o<=12319||12336===o)||xh(o)||pu(o)||vh(o)||(r=o,r>=12592&&r<=12687)||(r=>r>=43360&&r<=43391)(o)||(r=>r>=55216&&r<=55295)(o)||(r=>r>=4352&&r<=4607)(o)||St(o)||ps(o)||Mc(o)||(r=>r>=12688&&r<=12703)(o)||uu(o)||hd(o)||fs(o)&&12540!==o||!(!Ul(o)||65288===o||65289===o||65293===o||o>=65306&&o<=65310||65339===o||65341===o||65343===o||o>=65371&&o<=65503||65507===o||o>=65512&&o<=65519)||!(!pd(o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||(r=>r>=5120&&r<=5759)(o)||(r=>r>=6320&&r<=6399)(o)||fu(o)||(r=>r>=19904&&r<=19967)(o)||jl(o)||wh(o))));var r}function gd(o){return!(fd(o)||(r=o,(s=r)>=128&&s<=255&&(167===r||169===r||174===r||177===r||188===r||189===r||190===r||215===r||247===r)||(s=>s>=8192&&s<=8303)(r)&&(8214===r||8224===r||8225===r||8240===r||8241===r||8251===r||8252===r||8258===r||8263===r||8264===r||8265===r||8273===r)||(s=>s>=8448&&s<=8527)(r)||(s=>s>=8528&&s<=8591)(r)||(s=>s>=8960&&s<=9215)(r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||9003===r||r>=9085&&r<=9114||r>=9150&&r<=9165||9167===r||r>=9169&&r<=9179||r>=9186&&r<=9215)||(s=>s>=9216&&s<=9279)(r)&&9251!==r||(s=>s>=9280&&s<=9311)(r)||(s=>s>=9312&&s<=9471)(r)||(s=>s>=9632&&s<=9727)(r)||(s=>s>=9728&&s<=9983)(r)&&!(r>=9754&&r<=9759)||(s=>s>=11008&&s<=11263)(r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||hu(r)||fs(r)||(s=>s>=57344&&s<=63743)(r)||Ai(r)||pd(r)||Ul(r)||8734===r||8756===r||8757===r||r>=9984&&r<=10087||r>=10102&&r<=10131||65532===r||65533===r));var r,s}function f(o){return o>=1424&&o<=2303||Ec(o)||Xs(o)}function l(o,r){return!(!r&&f(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||(s=o,s>=6016&&s<=6143));var s}function u(o){for(const r of o)if(f(r.charCodeAt(0)))return!0;return!1}const _="deferred",x="loading",C="loaded";let D=null,I="unavailable",O=null;const V=function(o){o&&"string"==typeof o&&o.indexOf("NetworkError")>-1&&(I="error"),D&&D(o)};function U(){W.fire(new bn("pluginStateChange",{pluginStatus:I,pluginURL:O}))}const W=new At,te=function(){return I},me=function(){if(I!==_||!O)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");I=x,U(),O&&He({url:O},o=>{o?V(o):(I=C,U())})},se={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>I===C||null!=se.applyArabicShaping,isLoading:()=>I===x,setState(o){I=o.pluginStatus,O=o.pluginURL},isParsed:()=>null!=se.applyArabicShaping&&null!=se.processBidirectionalText&&null!=se.processStyledBidirectionalText,getPluginURL:()=>O};class ce{constructor(r,s){this.zoom=r,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.zoomHistory=s.zoomHistory,this.transition=s.transition,this.pitch=s.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new du,this.transition={},this.pitch=0)}isSupportedScript(r){return function(s,d){for(const m of s)if(!l(m.charCodeAt(0),d))return!1;return!0}(r,se.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,s=r-Math.floor(r),d=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:s+(1-s)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*s}}}class ue{constructor(r,s){this.property=r,this.value=s,this.expression=function(d,m){if(nd(d))return new ei(d,m);if(_c(d)){const g=id(d,m);if("error"===g.result)throw new Error(g.value.map(y=>`${y.key}: ${y.message}`).join(", "));return g.value}{let g=d;return"string"==typeof d&&"color"===m.type&&(g=Gi.parse(d)),{kind:"constant",evaluate:()=>g}}}(void 0===s?r.specification.default:s,r.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(r,s,d){return this.property.possiblyEvaluate(this,r,s,d)}}class re{constructor(r){this.property=r,this.value=new ue(r,void 0)}transitioned(r,s){return new oe(this.property,this.value,s,Mi({},r.transition,this.transition),r.now)}untransitioned(){return new oe(this.property,this.value,null,{},0)}}class fe{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Xa(this._values[r].value.value)}setValue(r,s){this._values.hasOwnProperty(r)||(this._values[r]=new re(this._values[r].property)),this._values[r].value=new ue(this._values[r].property,null===s?void 0:Xa(s))}getTransition(r){return Xa(this._values[r].transition)}setTransition(r,s){this._values.hasOwnProperty(r)||(this._values[r]=new re(this._values[r].property)),this._values[r].transition=Xa(s)||void 0}serialize(){const r={};for(const s of Object.keys(this._values)){const d=this.getValue(s);void 0!==d&&(r[s]=d);const m=this.getTransition(s);void 0!==m&&(r[`${s}-transition`]=m)}return r}transitioned(r,s){const d=new Le(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(r,s._values[m]);return d}untransitioned(){const r=new Le(this._properties);for(const s of Object.keys(this._values))r._values[s]=this._values[s].untransitioned();return r}}class oe{constructor(r,s,d,m,g){const y=m.delay||0,v=m.duration||0;g=g||0,this.property=r,this.value=s,this.begin=g+y,this.end=this.begin+v,r.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(r,s,d){const m=r.now||0,g=this.value.possiblyEvaluate(r,s,d),y=this.prior;if(y){if(m>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(m<this.begin)return y.possiblyEvaluate(r,s,d);{const v=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(y.possiblyEvaluate(r,s,d),g,zn(v))}}return g}}class Le{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,s,d){const m=new Ee(this._properties);for(const g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(r,s,d);return m}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class De{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}getValue(r){return Xa(this._values[r].value)}setValue(r,s){this._values[r]=new ue(this._values[r].property,null===s?void 0:Xa(s))}serialize(){const r={};for(const s of Object.keys(this._values)){const d=this.getValue(s);void 0!==d&&(r[s]=d)}return r}possiblyEvaluate(r,s,d){const m=new Ee(this._properties);for(const g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(r,s,d);return m}}class we{constructor(r,s,d){this.property=r,this.value=s,this.parameters=d}isConstant(){return"constant"===this.value.kind}constantOr(r){return"constant"===this.value.kind?this.value.value:r}evaluate(r,s,d,m){return this.property.evaluate(this.value,this.parameters,r,s,d,m)}}class Ee{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class Me{constructor(r){this.specification=r}possiblyEvaluate(r,s){return r.expression.evaluate(s)}interpolate(r,s,d){const m=Ll[this.specification.type];return m?m(r,s,d):r}}class Re{constructor(r,s){this.specification=r,this.overrides=s}possiblyEvaluate(r,s,d,m){return new we(this,"constant"===r.expression.kind||"camera"===r.expression.kind?{kind:"constant",value:r.expression.evaluate(s,null,{},d,m)}:r.expression,s)}interpolate(r,s,d){if("constant"!==r.value.kind||"constant"!==s.value.kind)return r;if(void 0===r.value.value||void 0===s.value.value)return new we(this,{kind:"constant",value:void 0},r.parameters);const m=Ll[this.specification.type];return m?new we(this,{kind:"constant",value:m(r.value.value,s.value.value,d)},r.parameters):r}evaluate(r,s,d,m,g,y){return"constant"===r.kind?r.value:r.evaluate(s,d,m,g,y)}}class Ue extends Re{possiblyEvaluate(r,s,d,m){if(void 0===r.value)return new we(this,{kind:"constant",value:void 0},s);if("constant"===r.expression.kind){const g=r.expression.evaluate(s,null,{},d,m),y="resolvedImage"===r.property.specification.type&&"string"!=typeof g?g.name:g,v=this._calculate(y,y,y,s);return new we(this,{kind:"constant",value:v},s)}if("camera"===r.expression.kind){const g=this._calculate(r.expression.evaluate({zoom:s.zoom-1}),r.expression.evaluate({zoom:s.zoom}),r.expression.evaluate({zoom:s.zoom+1}),s);return new we(this,{kind:"constant",value:g},s)}return new we(this,r.expression,s)}evaluate(r,s,d,m,g,y){if("source"===r.kind){const v=r.evaluate(s,d,m,g,y);return this._calculate(v,v,v,s)}return"composite"===r.kind?this._calculate(r.evaluate({zoom:Math.floor(s.zoom)-1},d,m),r.evaluate({zoom:Math.floor(s.zoom)},d,m),r.evaluate({zoom:Math.floor(s.zoom)+1},d,m),s):r.value}_calculate(r,s,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:s,other:d}:{from:d,to:s,other:r}}interpolate(r){return r}}class _t{constructor(r){this.specification=r}possiblyEvaluate(r,s,d,m){if(void 0!==r.value){if("constant"===r.expression.kind){const g=r.expression.evaluate(s,null,{},d,m);return this._calculate(g,g,g,s)}return this._calculate(r.expression.evaluate(new ce(Math.floor(s.zoom-1),s)),r.expression.evaluate(new ce(Math.floor(s.zoom),s)),r.expression.evaluate(new ce(Math.floor(s.zoom+1),s)),s)}}_calculate(r,s,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:s}:{from:d,to:s}}interpolate(r){return r}}class Be{constructor(r){this.specification=r}possiblyEvaluate(r,s,d,m){return!!r.expression.evaluate(s,null,{},d,m)}interpolate(){return!1}}class st{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const s=new ce(0,{});for(const d in r){const m=r[d];m.specification.overridable&&this.overridableProperties.push(d);const g=this.defaultPropertyValues[d]=new ue(m,void 0),y=this.defaultTransitionablePropertyValues[d]=new re(m);this.defaultTransitioningPropertyValues[d]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=g.possiblyEvaluate(s)}}}function ut(o,r){return 256*(o=Gt(Math.floor(o),0,255))+Gt(Math.floor(r),0,255)}kt(Re,"DataDrivenProperty"),kt(Me,"DataConstantProperty"),kt(Ue,"CrossFadedDataDrivenProperty"),kt(_t,"CrossFadedProperty"),kt(Be,"ColorRampProperty");const It={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class qe{constructor(r,s){this._structArray=r,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ve{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,s){return r._trim(),s&&(r.isTransferred=!0,s.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const s=Object.create(this.prototype);return s.arrayBuffer=r.arrayBuffer,s.length=r.length,s.capacity=r.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function lt(o,r=1){let s=0,d=0;return{members:o.map(m=>{const g=It[m.type].BYTES_PER_ELEMENT,y=s=Rt(s,Math.max(r,g)),v=m.components||1;return d=Math.max(d,g),s+=g*v,{name:m.name,type:m.type,components:v,offset:y}}),size:Rt(s,Math.max(d,r)),alignment:r}}function Rt(o,r){return Math.ceil(o/r)*r}class Pt extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s){const d=this.length;return this.resize(d+1),this.emplace(d,r,s)}emplace(r,s,d){const m=2*r;return this.int16[m+0]=s,this.int16[m+1]=d,r}}Pt.prototype.bytesPerElement=4,kt(Pt,"StructArrayLayout2i4");class ln extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,s,d)}emplace(r,s,d,m){const g=3*r;return this.int16[g+0]=s,this.int16[g+1]=d,this.int16[g+2]=m,r}}ln.prototype.bytesPerElement=6,kt(ln,"StructArrayLayout3i6");class Tn extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,d,m){const g=this.length;return this.resize(g+1),this.emplace(g,r,s,d,m)}emplace(r,s,d,m,g){const y=4*r;return this.int16[y+0]=s,this.int16[y+1]=d,this.int16[y+2]=m,this.int16[y+3]=g,r}}Tn.prototype.bytesPerElement=8,kt(Tn,"StructArrayLayout4i8");class $n extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v){const M=this.length;return this.resize(M+1),this.emplace(M,r,s,d,m,g,y,v)}emplace(r,s,d,m,g,y,v,M){const T=6*r,A=12*r,P=3*r;return this.int16[T+0]=s,this.int16[T+1]=d,this.uint8[A+4]=m,this.uint8[A+5]=g,this.uint8[A+6]=y,this.uint8[A+7]=v,this.float32[P+2]=M,r}}$n.prototype.bytesPerElement=12,kt($n,"StructArrayLayout2i4ub1f12");class hi extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d,m){const g=this.length;return this.resize(g+1),this.emplace(g,r,s,d,m)}emplace(r,s,d,m,g){const y=4*r;return this.float32[y+0]=s,this.float32[y+1]=d,this.float32[y+2]=m,this.float32[y+3]=g,r}}hi.prototype.bytesPerElement=16,kt(hi,"StructArrayLayout4f16");class nn extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M,T,A){const P=this.length;return this.resize(P+1),this.emplace(P,r,s,d,m,g,y,v,M,T,A)}emplace(r,s,d,m,g,y,v,M,T,A,P){const N=10*r;return this.uint16[N+0]=s,this.uint16[N+1]=d,this.uint16[N+2]=m,this.uint16[N+3]=g,this.uint16[N+4]=y,this.uint16[N+5]=v,this.uint16[N+6]=M,this.uint16[N+7]=T,this.uint16[N+8]=A,this.uint16[N+9]=P,r}}nn.prototype.bytesPerElement=20,kt(nn,"StructArrayLayout10ui20");class Yt extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M){const T=this.length;return this.resize(T+1),this.emplace(T,r,s,d,m,g,y,v,M)}emplace(r,s,d,m,g,y,v,M,T){const A=8*r;return this.uint16[A+0]=s,this.uint16[A+1]=d,this.uint16[A+2]=m,this.uint16[A+3]=g,this.uint16[A+4]=y,this.uint16[A+5]=v,this.uint16[A+6]=M,this.uint16[A+7]=T,r}}Yt.prototype.bytesPerElement=16,kt(Yt,"StructArrayLayout8ui16");class k extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y){const v=this.length;return this.resize(v+1),this.emplace(v,r,s,d,m,g,y)}emplace(r,s,d,m,g,y,v){const M=6*r;return this.int16[M+0]=s,this.int16[M+1]=d,this.int16[M+2]=m,this.int16[M+3]=g,this.int16[M+4]=y,this.int16[M+5]=v,r}}k.prototype.bytesPerElement=12,kt(k,"StructArrayLayout6i12");class S extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M,T,A,P,N){const G=this.length;return this.resize(G+1),this.emplace(G,r,s,d,m,g,y,v,M,T,A,P,N)}emplace(r,s,d,m,g,y,v,M,T,A,P,N,G){const j=12*r;return this.int16[j+0]=s,this.int16[j+1]=d,this.int16[j+2]=m,this.int16[j+3]=g,this.uint16[j+4]=y,this.uint16[j+5]=v,this.uint16[j+6]=M,this.uint16[j+7]=T,this.int16[j+8]=A,this.int16[j+9]=P,this.int16[j+10]=N,this.int16[j+11]=G,r}}S.prototype.bytesPerElement=24,kt(S,"StructArrayLayout4i4ui4i24");class H extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y){const v=this.length;return this.resize(v+1),this.emplace(v,r,s,d,m,g,y)}emplace(r,s,d,m,g,y,v){const M=10*r,T=5*r;return this.int16[M+0]=s,this.int16[M+1]=d,this.int16[M+2]=m,this.float32[T+2]=g,this.float32[T+3]=y,this.float32[T+4]=v,r}}H.prototype.bytesPerElement=20,kt(H,"StructArrayLayout3i3f20");class q extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.uint32[1*r+0]=s,r}}q.prototype.bytesPerElement=4,kt(q,"StructArrayLayout1ul4");class ee extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M,T,A,P,N,G){const j=this.length;return this.resize(j+1),this.emplace(j,r,s,d,m,g,y,v,M,T,A,P,N,G)}emplace(r,s,d,m,g,y,v,M,T,A,P,N,G,j){const J=20*r,ae=10*r;return this.int16[J+0]=s,this.int16[J+1]=d,this.int16[J+2]=m,this.int16[J+3]=g,this.int16[J+4]=y,this.float32[ae+3]=v,this.float32[ae+4]=M,this.float32[ae+5]=T,this.float32[ae+6]=A,this.int16[J+14]=P,this.uint32[ae+8]=N,this.uint16[J+18]=G,this.uint16[J+19]=j,r}}ee.prototype.bytesPerElement=40,kt(ee,"StructArrayLayout5i4f1i1ul2ui40");class Fe extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v){const M=this.length;return this.resize(M+1),this.emplace(M,r,s,d,m,g,y,v)}emplace(r,s,d,m,g,y,v,M){const T=8*r;return this.int16[T+0]=s,this.int16[T+1]=d,this.int16[T+2]=m,this.int16[T+4]=g,this.int16[T+5]=y,this.int16[T+6]=v,this.int16[T+7]=M,r}}Fe.prototype.bytesPerElement=16,kt(Fe,"StructArrayLayout3i2i2i16");class et extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,r,s,d,m,g)}emplace(r,s,d,m,g,y){const v=4*r,M=8*r;return this.float32[v+0]=s,this.float32[v+1]=d,this.float32[v+2]=m,this.int16[M+6]=g,this.int16[M+7]=y,r}}et.prototype.bytesPerElement=16,kt(et,"StructArrayLayout2f1f2i16");class Qt extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d,m){const g=this.length;return this.resize(g+1),this.emplace(g,r,s,d,m)}emplace(r,s,d,m,g){const y=12*r,v=3*r;return this.uint8[y+0]=s,this.uint8[y+1]=d,this.float32[v+1]=m,this.float32[v+2]=g,r}}Qt.prototype.bytesPerElement=12,kt(Qt,"StructArrayLayout2ub2f12");class wn extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,s,d)}emplace(r,s,d,m){const g=3*r;return this.float32[g+0]=s,this.float32[g+1]=d,this.float32[g+2]=m,r}}wn.prototype.bytesPerElement=12,kt(wn,"StructArrayLayout3f12");class qt extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,s,d)}emplace(r,s,d,m){const g=3*r;return this.uint16[g+0]=s,this.uint16[g+1]=d,this.uint16[g+2]=m,r}}qt.prototype.bytesPerElement=6,kt(qt,"StructArrayLayout3ui6");class yi extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae){const Te=this.length;return this.resize(Te+1),this.emplace(Te,r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae)}emplace(r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae,Te){const $e=30*r,Ge=15*r,rt=60*r;return this.int16[$e+0]=s,this.int16[$e+1]=d,this.int16[$e+2]=m,this.float32[Ge+2]=g,this.float32[Ge+3]=y,this.uint16[$e+8]=v,this.uint16[$e+9]=M,this.uint32[Ge+5]=T,this.uint32[Ge+6]=A,this.uint32[Ge+7]=P,this.uint16[$e+16]=N,this.uint16[$e+17]=G,this.uint16[$e+18]=j,this.float32[Ge+10]=J,this.float32[Ge+11]=ae,this.uint8[rt+48]=ge,this.uint8[rt+49]=Ce,this.uint8[rt+50]=_e,this.uint32[Ge+13]=ve,this.int16[$e+28]=Ae,this.uint8[rt+58]=Te,r}}yi.prototype.bytesPerElement=60,kt(yi,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class ba extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke,ct,pt,dt){const xt=this.length;return this.resize(xt+1),this.emplace(xt,r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke,ct,pt,dt)}emplace(r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae,ge,Ce,_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke,ct,pt,dt,xt){const ft=38*r,Vt=19*r;return this.int16[ft+0]=s,this.int16[ft+1]=d,this.int16[ft+2]=m,this.float32[Vt+2]=g,this.float32[Vt+3]=y,this.int16[ft+8]=v,this.int16[ft+9]=M,this.int16[ft+10]=T,this.int16[ft+11]=A,this.int16[ft+12]=P,this.int16[ft+13]=N,this.uint16[ft+14]=G,this.uint16[ft+15]=j,this.uint16[ft+16]=J,this.uint16[ft+17]=ae,this.uint16[ft+18]=ge,this.uint16[ft+19]=Ce,this.uint16[ft+20]=_e,this.uint16[ft+21]=ve,this.uint16[ft+22]=Ae,this.uint16[ft+23]=Te,this.uint16[ft+24]=$e,this.uint16[ft+25]=Ge,this.uint16[ft+26]=rt,this.uint16[ft+27]=Mt,this.uint16[ft+28]=Ke,this.uint32[Vt+15]=ct,this.float32[Vt+16]=pt,this.float32[Vt+17]=dt,this.float32[Vt+18]=xt,r}}ba.prototype.bytesPerElement=76,kt(ba,"StructArrayLayout3i2f6i15ui1ul3f76");class Ti extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.float32[1*r+0]=s,r}}Ti.prototype.bytesPerElement=4,kt(Ti,"StructArrayLayout1f4");class er extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,d,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,r,s,d,m,g)}emplace(r,s,d,m,g,y){const v=5*r;return this.float32[v+0]=s,this.float32[v+1]=d,this.float32[v+2]=m,this.float32[v+3]=g,this.float32[v+4]=y,r}}er.prototype.bytesPerElement=20,kt(er,"StructArrayLayout5f20");class Dc extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,d,m){const g=this.length;return this.resize(g+1),this.emplace(g,r,s,d,m)}emplace(r,s,d,m,g){const y=6*r;return this.uint32[3*r+0]=s,this.uint16[y+2]=d,this.uint16[y+3]=m,this.uint16[y+4]=g,r}}Dc.prototype.bytesPerElement=12,kt(Dc,"StructArrayLayout1ul3ui12");class Ao extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s){const d=this.length;return this.resize(d+1),this.emplace(d,r,s)}emplace(r,s,d){const m=2*r;return this.uint16[m+0]=s,this.uint16[m+1]=d,r}}Ao.prototype.bytesPerElement=4,kt(Ao,"StructArrayLayout2ui4");class _d extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.uint16[1*r+0]=s,r}}_d.prototype.bytesPerElement=2,kt(_d,"StructArrayLayout1ui2");class gu extends Ve{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s){const d=this.length;return this.resize(d+1),this.emplace(d,r,s)}emplace(r,s,d){const m=2*r;return this.float32[m+0]=s,this.float32[m+1]=d,r}}gu.prototype.bytesPerElement=8,kt(gu,"StructArrayLayout2f8");class _u extends qe{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}_u.prototype.size=12;class oo extends k{get(r){return new _u(this,r)}}kt(oo,"FillExtrusionExtArray");class Ir extends qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ir.prototype.size=40;class yl extends ee{get(r){return new Ir(this,r)}}kt(yl,"CollisionBoxArray");class vl extends qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(r){this._structArray.uint8[this._pos1+49]=r}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(r){this._structArray.uint8[this._pos1+50]=r}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(r){this._structArray.uint32[this._pos4+13]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(r){this._structArray.uint8[this._pos1+58]=r}}vl.prototype.size=60;class $x extends yi{get(r){return new vl(this,r)}}kt($x,"PlacedSymbolArray");class v_ extends qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(r){this._structArray.uint32[this._pos4+15]=r}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}v_.prototype.size=76;class ty extends ba{get(r){return new v_(this,r)}}kt(ty,"SymbolInstanceArray");class ny extends Ti{getoffsetX(r){return this.float32[1*r+0]}}kt(ny,"GlyphOffsetArray");class iy extends ln{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}kt(iy,"SymbolLineVertexArray");class ay extends qe{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}ay.prototype.size=12;class ry extends Dc{get(r){return new ay(this,r)}}kt(ry,"FeatureIndexArray");class Cm extends qe{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Cm.prototype.size=4;class qf extends Ao{get(r){return new Cm(this,r)}}kt(qf,"FillExtrusionCentroidArray");class wp extends qe{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}wp.prototype.size=12;class Yx extends k{get(r){return new wp(this,r)}}kt(Yx,"CircleGlobeExtArray");const Cp=lt([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),x_=lt([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Ch=to(function(o){o.exports=function(r,s){var d,m,g,y,v,M,T,A;for(m=r.length-(d=3&r.length),g=s,v=3432918353,M=461845907,A=0;A<m;)T=255&r.charCodeAt(A)|(255&r.charCodeAt(++A))<<8|(255&r.charCodeAt(++A))<<16|(255&r.charCodeAt(++A))<<24,++A,g=27492+(65535&(y=5*(65535&(g=(g^=T=(65535&(T=(T=(65535&T)*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*M+(((T>>>16)*M&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(T=0,d){case 3:T^=(255&r.charCodeAt(A+2))<<16;case 2:T^=(255&r.charCodeAt(A+1))<<8;case 1:g^=T=(65535&(T=(T=(65535&(T^=255&r.charCodeAt(A)))*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*M+(((T>>>16)*M&65535)<<16)&4294967295}return g^=r.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0}}),qx=to(function(o){o.exports=function(r,s){for(var d,m=r.length,g=s^m,y=0;m>=4;)d=1540483477*(65535&(d=255&r.charCodeAt(y)|(255&r.charCodeAt(++y))<<8|(255&r.charCodeAt(++y))<<16|(255&r.charCodeAt(++y))<<24))+((1540483477*(d>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++y;switch(m){case 3:g^=(255&r.charCodeAt(y+2))<<16;case 2:g^=(255&r.charCodeAt(y+1))<<8;case 1:g=1540483477*(65535&(g^=255&r.charCodeAt(y)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0}}),kp=Ch,Wx=qx;kp.murmur3=Ch,kp.murmur2=Wx;class km{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,s,d,m){this.ids.push(Zx(r)),this.positions.push(s,d,m)}getPositions(r){const s=Zx(r);let d=0,m=this.ids.length-1;for(;d<m;){const y=d+m>>1;this.ids[y]>=s?m=y:d=y+1}const g=[];for(;this.ids[d]===s;)g.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return g}static serialize(r,s){const d=new Float64Array(r.ids),m=new Uint32Array(r.positions);return Mp(d,m,0,d.length-1),s&&s.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(r){const s=new km;return s.ids=r.ids,s.positions=r.positions,s.indexed=!0,s}}function Zx(o){const r=+o;return!isNaN(r)&&Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:kp(String(o))}function Mp(o,r,s,d){for(;s<d;){const m=o[s+d>>1];let g=s-1,y=d+1;for(;;){do{g++}while(o[g]<m);do{y--}while(o[y]>m);if(g>=y)break;bu(o,g,y),bu(r,3*g,3*y),bu(r,3*g+1,3*y+1),bu(r,3*g+2,3*y+2)}y-s<d-y?(Mp(o,r,s,y),s=y+1):(Mp(o,r,y+1,d),d=y)}}function bu(o,r,s){const d=o[r];o[r]=o[s],o[s]=d}kt(km,"FeaturePositionMap");class Ls{constructor(r){this.gl=r.gl,this.initialized=!1}fetchUniformLocation(r,s){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(r,s),this.initialized=!0),!!this.location}}class Wf extends Ls{constructor(r){super(r),this.current=0}set(r,s,d){this.fetchUniformLocation(r,s)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class Ne extends Ls{constructor(r){super(r),this.current=[0,0,0,0]}set(r,s,d){this.fetchUniformLocation(r,s)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class w_ extends Ls{constructor(r){super(r),this.current=Gi.transparent}set(r,s,d){this.fetchUniformLocation(r,s)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const oy=new Float32Array(16),kh=new Float32Array(9),Tp=new Float32Array(4);function C_(o){return[ut(255*o.r,255*o.g),ut(255*o.b,255*o.a)]}class Mm{constructor(r,s,d){this.value=r,this.uniformNames=s.map(m=>`u_${m}`),this.type=d}setUniform(r,s,d,m,g){s.set(r,g,m.constantOr(this.value))}getBinding(r,s){return"color"===this.type?new w_(r):new Wf(r)}}class Mh{constructor(r,s){this.uniformNames=s.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,s){this.pixelRatioFrom=s.pixelRatio||1,this.pixelRatioTo=r.pixelRatio||1,this.patternFrom=s.tl.concat(s.br),this.patternTo=r.tl.concat(r.br)}setUniform(r,s,d,m,g){const y="u_pattern_to"===g||"u_dash_to"===g?this.patternTo:"u_pattern_from"===g||"u_dash_from"===g?this.patternFrom:"u_pixel_ratio_to"===g?this.pixelRatioTo:"u_pixel_ratio_from"===g?this.pixelRatioFrom:null;y&&s.set(r,g,y)}getBinding(r,s){return"u_pattern_from"===s||"u_pattern_to"===s||"u_dash_from"===s||"u_dash_to"===s?new Ne(r):new Wf(r)}}class yu{constructor(r,s,d,m){this.expression=r,this.type=d,this.maxValue=0,this.paintVertexAttributes=s.map(g=>({name:`a_${g}`,type:"Float32",components:"color"===d?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(r,s,d,m,g,y){const v=this.paintVertexArray.length,M=this.expression.evaluate(new ce(0),s,{},g,m,y);this.paintVertexArray.resize(r),this._setPaintValue(v,r,M)}updatePaintArray(r,s,d,m,g){const y=this.expression.evaluate({zoom:0},d,m,void 0,g);this._setPaintValue(r,s,y)}_setPaintValue(r,s,d){if("color"===this.type){const m=C_(d);for(let g=r;g<s;g++)this.paintVertexArray.emplace(g,m[0],m[1])}else{for(let m=r;m<s;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class gs{constructor(r,s,d,m,g,y){this.expression=r,this.uniformNames=s.map(v=>`u_${v}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=s.map(v=>({name:`a_${v}`,type:"Float32",components:"color"===d?4:2,offset:0})),this.paintVertexArray=new y}populatePaintArray(r,s,d,m,g,y){const v=this.expression.evaluate(new ce(this.zoom),s,{},g,m,y),M=this.expression.evaluate(new ce(this.zoom+1),s,{},g,m,y),T=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(T,r,v,M)}updatePaintArray(r,s,d,m,g){const y=this.expression.evaluate({zoom:this.zoom},d,m,void 0,g),v=this.expression.evaluate({zoom:this.zoom+1},d,m,void 0,g);this._setPaintValue(r,s,y,v)}_setPaintValue(r,s,d,m){if("color"===this.type){const g=C_(d),y=C_(m);for(let v=r;v<s;v++)this.paintVertexArray.emplace(v,g[0],g[1],y[0],y[1])}else{for(let g=r;g<s;g++)this.paintVertexArray.emplace(g,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,s,d,m,g){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,v=Gt(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);s.set(r,g,v)}getBinding(r,s){return new Wf(r)}}class Hr{constructor(r,s,d,m,g,y,v){this.expression=r,this.type=d,this.useIntegerZoom=m,this.zoom=g,this.layerId=v,this.paintVertexAttributes=("array"===d?x_:Cp).members;for(let M=0;M<s.length;++M);this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y}populatePaintArray(r,s,d){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(m,r,s.patterns&&s.patterns[this.layerId],d)}updatePaintArray(r,s,d,m,g,y){this._setPaintValues(r,s,d.patterns&&d.patterns[this.layerId],y)}_setPaintValues(r,s,d,m){if(!m||!d)return;const{min:g,mid:y,max:v}=d,M=m[g],T=m[y],A=m[v];if(M&&T&&A)for(let P=r;P<s;P++)this._setPaintValue(this.zoomInPaintVertexArray,P,T,M),this._setPaintValue(this.zoomOutPaintVertexArray,P,T,A)}_setPaintValue(r,s,d,m){r.emplace(s,d.tl[0],d.tl[1],d.br[0],d.br[1],m.tl[0],m.tl[1],m.br[0],m.br[1],d.pixelRatio,m.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $l{constructor(r,s,d=(()=>!0)){this.binders={},this._buffers=[];const m=[];for(const g in r.paint._values){if(!d(g))continue;const y=r.paint.get(g);if(!(y instanceof we&&td(y.property.specification)))continue;const v=sy(g,r.type),M=y.value,T=y.property.specification.type,A=y.property.useIntegerZoom,P=y.property.specification["property-type"],N="cross-faded"===P||"cross-faded-data-driven"===P,G="line-dasharray"===String(g)&&"constant"!==r.layout.get("line-cap").value.kind;if("constant"!==M.kind||G)if("source"===M.kind||G||N){const j=M_(g,T,"source");this.binders[g]=N?new Hr(M,v,T,A,s,j,r.id):new yu(M,v,T,j),m.push(`/a_${g}`)}else{const j=M_(g,T,"composite");this.binders[g]=new gs(M,v,T,A,s,j),m.push(`/z_${g}`)}else this.binders[g]=N?new Mh(M.value,v):new Mm(M.value,v,T),m.push(`/u_${g}`)}this.cacheKey=m.sort().join("")}getMaxValue(r){const s=this.binders[r];return s instanceof yu||s instanceof gs?s.maxValue:0}populatePaintArrays(r,s,d,m,g,y){for(const v in this.binders){const M=this.binders[v];(M instanceof yu||M instanceof gs||M instanceof Hr)&&M.populatePaintArray(r,s,d,m,g,y)}}setConstantPatternPositions(r,s){for(const d in this.binders){const m=this.binders[d];m instanceof Mh&&m.setConstantPatternPositions(r,s)}}updatePaintArrays(r,s,d,m,g,y){let v=!1;for(const M in r){const T=s.getPositions(M);for(const A of T){const P=d.feature(A.index);for(const N in this.binders){const G=this.binders[N];if((G instanceof yu||G instanceof gs||G instanceof Hr)&&!0===G.expression.isStateDependent){const j=m.paint.get(N);G.expression=j.value,G.updatePaintArray(A.start,A.end,P,r[M],g,y),v=!0}}}}return v}defines(){const r=[];for(const s in this.binders){const d=this.binders[s];(d instanceof Mm||d instanceof Mh)&&r.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return r}getBinderAttributes(){const r=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof yu||d instanceof gs||d instanceof Hr)for(let m=0;m<d.paintVertexAttributes.length;m++)r.push(d.paintVertexAttributes[m].name)}return r}getBinderUniforms(){const r=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof Mm||d instanceof Mh||d instanceof gs)for(const m of d.uniformNames)r.push(m)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r){const s=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Mm||m instanceof Mh||m instanceof gs)for(const g of m.uniformNames)s.push({name:g,property:d,binding:m.getBinding(r,g)})}return s}setUniforms(r,s,d,m,g){for(const{name:y,property:v,binding:M}of d)this.binders[v].setUniform(r,M,g,m.get(v),y)}updatePaintBuffers(r){this._buffers=[];for(const s in this.binders){const d=this.binders[s];if(r&&d instanceof Hr){const m=2===r.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof yu||d instanceof gs)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(r){for(const s in this.binders){const d=this.binders[s];(d instanceof yu||d instanceof gs||d instanceof Hr)&&d.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const s=this.binders[r];(s instanceof yu||s instanceof gs||s instanceof Hr)&&s.destroy()}}}class qo{constructor(r,s,d=(()=>!0)){this.programConfigurations={};for(const m of r)this.programConfigurations[m.id]=new $l(m,s,d);this.needsUpload=!1,this._featureMap=new km,this._bufferOffset=0}populatePaintArrays(r,s,d,m,g,y,v){for(const M in this.programConfigurations)this.programConfigurations[M].populatePaintArrays(r,s,m,g,y,v);void 0!==s.id&&this._featureMap.add(s.id,d,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,s,d,m,g){for(const y of d)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(r,this._featureMap,s,y,m,g)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}const Xx={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function sy(o,r){return Xx[o]||[o.replace(`${r}-`,"").replace(/-/g,"_")]}const k_={"line-pattern":{source:nn,composite:nn},"fill-pattern":{source:nn,composite:nn},"fill-extrusion-pattern":{source:nn,composite:nn},"line-dasharray":{source:Yt,composite:Yt}},Zf={color:{source:gu,composite:hi},number:{source:Ti,composite:gu}};function M_(o,r,s){const d=k_[o];return d&&d[s]||Zf[r][s]}kt(Mm,"ConstantBinder"),kt(Mh,"CrossFadedConstantBinder"),kt(yu,"SourceExpressionBinder"),kt(Hr,"CrossFadedCompositeBinder"),kt(gs,"CompositeExpressionBinder"),kt($l,"ProgramConfiguration",{omit:["_buffers"]}),kt(qo,"ProgramConfigurationSet");const Xf="-transition";class Yl extends At{constructor(r,s){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==r.type&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,"background"!==r.type&&"sky"!==r.type&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),s.layout&&(this._unevaluatedLayout=new De(s.layout)),s.paint)){this._transitionablePaint=new fe(s.paint);for(const d in r.paint)this.setPaintProperty(d,r.paint[d],{validate:!1});for(const d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ee(s.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return"visibility"===r?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,s,d={}){null!=s&&this._validate(bh,`layers.${this.id}.layout.${r}`,r,s,d)||("visibility"!==r?this._unevaluatedLayout.setValue(r,s):this.visibility=s)}getPaintProperty(r){return zr(r,Xf)?this._transitionablePaint.getTransition(r.slice(0,-Xf.length)):this._transitionablePaint.getValue(r)}setPaintProperty(r,s,d={}){if(null!=s&&this._validate(od,`layers.${this.id}.paint.${r}`,r,s,d))return!1;if(zr(r,Xf))return this._transitionablePaint.setTransition(r.slice(0,-Xf.length),s||void 0),!1;{const m=this._transitionablePaint._values[r],g="cross-faded-data-driven"===m.property.specification["property-type"],y=m.value.isDataDriven(),v=m.value;this._transitionablePaint.setValue(r,s),this._handleSpecialPaintPropertyUpdate(r);const M=this._transitionablePaint._values[r].value;return M.isDataDriven()||y||g||this._handleOverridablePaintPropertyUpdate(r,v,M)}}_handleSpecialPaintPropertyUpdate(r){}getProgramIds(){return null}getProgramConfiguration(r){return null}_handleOverridablePaintPropertyUpdate(r,s,d){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||"none"===this.visibility}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,s){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,s)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),fr(r,(s,d)=>!(void 0===s||"layout"===d&&!Object.keys(s).length||"paint"===d&&!Object.keys(s).length))}_validate(r,s,d,m,g={}){return(!g||!1!==g.validate)&&yh(this,r.call(rd,{key:s,layerType:this.type,objectKey:d,value:m,styleSpec:je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const s=this.paint.get(r);if(s instanceof we&&td(s.property.specification)&&("source"===s.value.kind||"composite"===s.value.kind)&&s.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=ja(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Tm=lt([{name:"a_pos",components:2,type:"Int16"}],4),Ep=lt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class xr{constructor(r=[]){this.segments=r}prepareSegment(r,s,d,m){let g=this.segments[this.segments.length-1];return r>xr.MAX_VERTEX_ARRAY_LENGTH&&ci(`Max vertices per segment is ${xr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!g||g.vertexLength+r>xr.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==m)&&(g={vertexOffset:s.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==m&&(g.sortKey=m),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const r of this.segments)for(const s in r.vaos)r.vaos[s].destroy()}static simpleSegment(r,s,d,m){return new xr([{vertexOffset:r,primitiveOffset:s,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}xr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,kt(xr,"SegmentVector");var Zn=8192;class bd{constructor(r,s){r&&(s?this.setSouthWest(r).setNorthEast(s):4===r.length?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))}setNorthEast(r){return this._ne=r instanceof na?new na(r.lng,r.lat):na.convert(r),this}setSouthWest(r){return this._sw=r instanceof na?new na(r.lng,r.lat):na.convert(r),this}extend(r){const s=this._sw,d=this._ne;let m,g;if(r instanceof na)m=r,g=r;else{if(!(r instanceof bd))return Array.isArray(r)?4===r.length||r.every(Array.isArray)?this.extend(bd.convert(r)):this.extend(na.convert(r)):this;if(m=r._sw,g=r._ne,!m||!g)return this}return s||d?(s.lng=Math.min(m.lng,s.lng),s.lat=Math.min(m.lat,s.lat),d.lng=Math.max(g.lng,d.lng),d.lat=Math.max(g.lat,d.lat)):(this._sw=new na(m.lng,m.lat),this._ne=new na(g.lng,g.lat)),this}getCenter(){return new na((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new na(this.getWest(),this.getNorth())}getSouthEast(){return new na(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:s,lat:d}=na.convert(r);let m=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&m}static convert(r){return!r||r instanceof bd?r:new bd(r)}}const T_=6371008.8;class na{constructor(r,s){if(isNaN(r)||isNaN(s))throw new Error(`Invalid LngLat object: (${r}, ${s})`);if(this.lng=+r,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new na(Ta(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const s=Math.PI/180,d=this.lat*s,m=r.lat*s,g=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((r.lng-this.lng)*s);return T_*Math.acos(Math.min(g,1))}toBounds(r=0){const s=360*r/40075017,d=s/Math.cos(Math.PI/180*this.lat);return new bd(new na(this.lng-d,this.lat-s),new na(this.lng+d,this.lat+s))}static convert(r){if(r instanceof na)return r;if(Array.isArray(r)&&(2===r.length||3===r.length))return new na(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&"object"==typeof r&&null!==r)return new na(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ly=2*Math.PI*T_;function E_(o){return ly*Math.cos(o*Math.PI/180)}function Sc(o){return(180+o)/360}function xl(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function Ps(o,r){return o/E_(r)}function Oo(o){return 360*o-180}function so(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}function cy(o,r){return o*E_(so(r))}const yd=85.051129;function Dp(o){return 1/Math.cos(o*Math.PI/180)}class vu{constructor(r,s,d=0){this.x=+r,this.y=+s,this.z=+d}static fromLngLat(r,s=0){const d=na.convert(r);return new vu(Sc(d.lng),xl(d.lat),Ps(s,d.lat))}toLngLat(){return new na(Oo(this.x),so(this.y))}toAltitude(){return cy(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ly*Dp(so(this.y))}}function Kf(o,r,s,d,m,g,y,v,M){const T=(r+d)/2,A=(s+m)/2,P=new nt(T,A);v(P),function(N,G,j,J,ae,ge){const Ce=j-ae,_e=J-ge;return Math.abs((J-G)*Ce-(j-N)*_e)/Math.hypot(Ce,_e)}(P.x,P.y,g.x,g.y,y.x,y.y)>=M?(Kf(o,r,s,T,A,g,P,v,M),Kf(o,T,A,d,m,P,y,v,M)):o.push(y)}function D_(o,r,s){let d=o[0],m=d.x,g=d.y;r(d);const y=[d];for(let v=1;v<o.length;v++){const M=o[v],{x:T,y:A}=M;r(M),Kf(y,m,g,T,A,d,M,r,s),m=T,g=A,d=M}return y}function Jf(o,r,s,d,m){if(m(r,s)){const g=r.add(s).mult(.5);d(g),Jf(o,r,g,d,m),Jf(o,g,s,d,m)}else o.push(s)}function Th(o,r,s){let d=o[0];r(d);const m=[d];for(let g=1;g<o.length;g++){const y=o[g];r(y),Jf(m,d,y,r,s),d=y}return m}const S_=Math.pow(2,14)-1,dy=-S_-1;function Kx(o,r){const s=Math.round(o.x*r),d=Math.round(o.y*r);return o.x=Gt(s,dy,S_),o.y=Gt(d,dy,S_),(s<o.x||s>o.x+1||d<o.y||d>o.y+1)&&ci("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o}function vd(o,r,s){const d=o.loadGeometry(),m=o.extent,g=Zn/m;if(r&&s&&s.projection.isReprojectedInTileSpace){const y=1<<r.z,{scale:v,x:M,y:T,projection:A}=s,P=N=>{const G=Oo((r.x+N.x/m)/y),j=so((r.y+N.y/m)/y),J=A.project(G,j);N.x=(J.x*v-M)*m,N.y=(J.y*v-T)*m};for(let N=0;N<d.length;N++)if(1!==o.type)d[N]=D_(d[N],P,1);else{const G=[];for(const j of d[N])j.x<0||j.x>=m||j.y<0||j.y>=m||(P(j),G.push(j));d[N]=G}}for(const y of d)for(const v of y)Kx(v,g);return d}function Eh(o,r){return{type:o.type,id:o.id,properties:o.properties,geometry:r?vd(o):[]}}function Wo(o,r,s,d,m){o.emplaceBack(2*r+(d+1)/2,2*s+(m+1)/2)}function Ks(o,r,s){const d=16384;o.emplaceBack(r.x,r.y,r.z,s[0]*d,s[1]*d,s[2]*d)}class Qf{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(s=>s.id),this.index=r.index,this.hasPattern=!1,this.projection=r.projection,this.layoutVertexArray=new Pt,this.indexArray=new qt,this.segments=new xr,this.programConfigurations=new qo(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(r,s,d,m){const g=this.layers[0],y=[];let v=null;"circle"===g.type&&(v=g.layout.get("circle-sort-key"));for(const{feature:T,id:A,index:P,sourceLayerIndex:N}of r){const G=this.layers[0]._featureFilter.needGeometry,j=Eh(T,G);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),j,d))continue;const J=v?v.evaluate(j,{},d):void 0,ae={id:A,properties:T.properties,type:T.type,sourceLayerIndex:N,index:P,geometry:G?j.geometry:vd(T,d,m),patterns:{},sortKey:J};y.push(ae)}v&&y.sort((T,A)=>T.sortKey-A.sortKey);let M=null;"globe"===m.projection.name&&(this.globeExtVertexArray=new Yx,M=m.projection);for(const T of y){const{geometry:A,index:P,sourceLayerIndex:N}=T,G=r[P].feature;this.addFeature(T,A,P,s.availableImages,d,M),s.featureIndex.insert(G,A,P,N,this.index)}}update(r,s,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Tm.members),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,Ep.members))),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(r,s,d,m,g,y){for(const v of s)for(const M of v){const T=M.x,A=M.y;if(T<0||T>=Zn||A<0||A>=Zn)continue;if(y){const G=y.projectTilePoint(T,A,g),j=y.upVector(g,T,A),J=this.globeExtVertexArray;Ks(J,G,j),Ks(J,G,j),Ks(J,G,j),Ks(J,G,j)}const P=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),N=P.vertexLength;Wo(this.layoutVertexArray,T,A,-1,-1),Wo(this.layoutVertexArray,T,A,1,-1),Wo(this.layoutVertexArray,T,A,1,1),Wo(this.layoutVertexArray,T,A,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+2,N+3),P.vertexLength+=4,P.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,{},m,g)}}function uy(o,r){for(let s=0;s<o.length;s++)if(Dh(r,o[s]))return!0;for(let s=0;s<r.length;s++)if(Dh(o,r[s]))return!0;return!!I_(o,r)}function Jx(o,r,s){return!!Dh(o,r)||!!A_(r,o,s)}function hy(o,r){if(1===o.length)return fy(r,o[0]);for(let s=0;s<r.length;s++){const d=r[s];for(let m=0;m<d.length;m++)if(Dh(o,d[m]))return!0}for(let s=0;s<o.length;s++)if(fy(r,o[s]))return!0;for(let s=0;s<r.length;s++)if(I_(o,r[s]))return!0;return!1}function Qx(o,r,s){if(o.length>1){if(I_(o,r))return!0;for(let d=0;d<r.length;d++)if(A_(r[d],o,s))return!0}for(let d=0;d<o.length;d++)if(A_(o[d],r,s))return!0;return!1}function I_(o,r){if(0===o.length||0===r.length)return!1;for(let s=0;s<o.length-1;s++){const d=o[s],m=o[s+1];for(let g=0;g<r.length-1;g++)if(my(d,m,r[g],r[g+1]))return!0}return!1}function my(o,r,s,d){return Ha(o,s,d)!==Ha(r,s,d)&&Ha(o,r,s)!==Ha(o,r,d)}function A_(o,r,s){const d=s*s;if(1===r.length)return o.distSqr(r[0])<d;for(let m=1;m<r.length;m++)if(py(o,r[m-1],r[m])<d)return!0;return!1}function py(o,r,s){const d=r.distSqr(s);if(0===d)return o.distSqr(r);const m=((o.x-r.x)*(s.x-r.x)+(o.y-r.y)*(s.y-r.y))/d;return o.distSqr(m<0?r:m>1?s:s.sub(r)._mult(m)._add(r))}function fy(o,r){let s,d,m,g=!1;for(let y=0;y<o.length;y++){s=o[y];for(let v=0,M=s.length-1;v<s.length;M=v++)d=s[v],m=s[M],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(g=!g)}return g}function Dh(o,r){let s=!1;for(let d=0,m=o.length-1;d<o.length;m=d++){const g=o[d],y=o[m];g.y>r.y!=y.y>r.y&&r.x<(y.x-g.x)*(r.y-g.y)/(y.y-g.y)+g.x&&(s=!s)}return s}function ew(o,r,s,d,m){for(const y of o)if(r<=y.x&&s<=y.y&&d>=y.x&&m>=y.y)return!0;const g=[new nt(r,s),new nt(r,m),new nt(d,m),new nt(d,s)];if(o.length>2)for(const y of g)if(Dh(o,y))return!0;for(let y=0;y<o.length-1;y++)if(tw(o[y],o[y+1],g))return!0;return!1}function tw(o,r,s){const d=s[0],m=s[2];if(o.x<d.x&&r.x<d.x||o.x>m.x&&r.x>m.x||o.y<d.y&&r.y<d.y||o.y>m.y&&r.y>m.y)return!1;const g=Ha(o,r,s[0]);return g!==Ha(o,r,s[1])||g!==Ha(o,r,s[2])||g!==Ha(o,r,s[3])}function Ic(o,r,s){const d=r.paint.get(o).value;return"constant"===d.kind?d.value:s.programConfigurations.get(r.id).getMaxValue(o)}function Sp(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function ql(o,r,s,d,m){if(!r[0]&&!r[1])return o;const g=nt.convert(r)._mult(m);"viewport"===s&&g._rotate(-d);const y=[];for(let v=0;v<o.length;v++)y.push(o[v].sub(g));return y}function Em(o,r,s,d){const m=nt.convert(o)._mult(d);return"viewport"===r&&m._rotate(-s),m}kt(Qf,"CircleBucket",{omit:["layers"]});const gy=new st({"circle-sort-key":new Re(je.layout_circle["circle-sort-key"])});var _y={paint:new st({"circle-radius":new Re(je.paint_circle["circle-radius"]),"circle-color":new Re(je.paint_circle["circle-color"]),"circle-blur":new Re(je.paint_circle["circle-blur"]),"circle-opacity":new Re(je.paint_circle["circle-opacity"]),"circle-translate":new Me(je.paint_circle["circle-translate"]),"circle-translate-anchor":new Me(je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Me(je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Me(je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Re(je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Re(je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Re(je.paint_circle["circle-stroke-opacity"])}),layout:gy},Ip=1e-6,Js="undefined"!=typeof Float32Array?Float32Array:Array;function nw(){var o=new Js(9);return Js!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o}function xd(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Ap(o,r){var s=r[0],d=r[1],m=r[2],g=r[3],y=r[4],v=r[5],M=r[6],T=r[7],A=r[8],P=r[9],N=r[10],G=r[11],j=r[12],J=r[13],ae=r[14],ge=r[15],Ce=s*v-d*y,_e=s*M-m*y,ve=s*T-g*y,Ae=d*M-m*v,Te=d*T-g*v,$e=m*T-g*M,Ge=A*J-P*j,rt=A*ae-N*j,Mt=A*ge-G*j,Ke=P*ae-N*J,ct=P*ge-G*J,pt=N*ge-G*ae,dt=Ce*pt-_e*ct+ve*Ke+Ae*Mt-Te*rt+$e*Ge;return dt?(o[0]=(v*pt-M*ct+T*Ke)*(dt=1/dt),o[1]=(m*ct-d*pt-g*Ke)*dt,o[2]=(J*$e-ae*Te+ge*Ae)*dt,o[3]=(N*Te-P*$e-G*Ae)*dt,o[4]=(M*Mt-y*pt-T*rt)*dt,o[5]=(s*pt-m*Mt+g*rt)*dt,o[6]=(ae*ve-j*$e-ge*_e)*dt,o[7]=(A*$e-N*ve+G*_e)*dt,o[8]=(y*ct-v*Mt+T*Ge)*dt,o[9]=(d*Mt-s*ct-g*Ge)*dt,o[10]=(j*Te-J*ve+ge*Ce)*dt,o[11]=(P*ve-A*Te-G*Ce)*dt,o[12]=(v*rt-y*Ke-M*Ge)*dt,o[13]=(s*Ke-d*rt+m*Ge)*dt,o[14]=(J*_e-j*Ae-ae*Ce)*dt,o[15]=(A*Ae-P*_e+N*Ce)*dt,o):null}function xu(o,r,s){var d=r[0],m=r[1],g=r[2],y=r[3],v=r[4],M=r[5],T=r[6],A=r[7],P=r[8],N=r[9],G=r[10],j=r[11],J=r[12],ae=r[13],ge=r[14],Ce=r[15],_e=s[0],ve=s[1],Ae=s[2],Te=s[3];return o[0]=_e*d+ve*v+Ae*P+Te*J,o[1]=_e*m+ve*M+Ae*N+Te*ae,o[2]=_e*g+ve*T+Ae*G+Te*ge,o[3]=_e*y+ve*A+Ae*j+Te*Ce,o[4]=(_e=s[4])*d+(ve=s[5])*v+(Ae=s[6])*P+(Te=s[7])*J,o[5]=_e*m+ve*M+Ae*N+Te*ae,o[6]=_e*g+ve*T+Ae*G+Te*ge,o[7]=_e*y+ve*A+Ae*j+Te*Ce,o[8]=(_e=s[8])*d+(ve=s[9])*v+(Ae=s[10])*P+(Te=s[11])*J,o[9]=_e*m+ve*M+Ae*N+Te*ae,o[10]=_e*g+ve*T+Ae*G+Te*ge,o[11]=_e*y+ve*A+Ae*j+Te*Ce,o[12]=(_e=s[12])*d+(ve=s[13])*v+(Ae=s[14])*P+(Te=s[15])*J,o[13]=_e*m+ve*M+Ae*N+Te*ae,o[14]=_e*g+ve*T+Ae*G+Te*ge,o[15]=_e*y+ve*A+Ae*j+Te*Ce,o}function Sh(o,r,s){var d,m,g,y,v,M,T,A,P,N,G,j,J=s[0],ae=s[1],ge=s[2];return r===o?(o[12]=r[0]*J+r[4]*ae+r[8]*ge+r[12],o[13]=r[1]*J+r[5]*ae+r[9]*ge+r[13],o[14]=r[2]*J+r[6]*ae+r[10]*ge+r[14],o[15]=r[3]*J+r[7]*ae+r[11]*ge+r[15]):(m=r[1],g=r[2],y=r[3],v=r[4],M=r[5],T=r[6],A=r[7],P=r[8],N=r[9],G=r[10],j=r[11],o[0]=d=r[0],o[1]=m,o[2]=g,o[3]=y,o[4]=v,o[5]=M,o[6]=T,o[7]=A,o[8]=P,o[9]=N,o[10]=G,o[11]=j,o[12]=d*J+v*ae+P*ge+r[12],o[13]=m*J+M*ae+N*ge+r[13],o[14]=g*J+T*ae+G*ge+r[14],o[15]=y*J+A*ae+j*ge+r[15]),o}function Dm(o,r,s){var d=s[0],m=s[1],g=s[2];return o[0]=r[0]*d,o[1]=r[1]*d,o[2]=r[2]*d,o[3]=r[3]*d,o[4]=r[4]*m,o[5]=r[5]*m,o[6]=r[6]*m,o[7]=r[7]*m,o[8]=r[8]*g,o[9]=r[9]*g,o[10]=r[10]*g,o[11]=r[11]*g,o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15],o}function by(o,r,s){var d=Math.sin(s),m=Math.cos(s),g=r[4],y=r[5],v=r[6],M=r[7],T=r[8],A=r[9],P=r[10],N=r[11];return r!==o&&(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[4]=g*m+T*d,o[5]=y*m+A*d,o[6]=v*m+P*d,o[7]=M*m+N*d,o[8]=T*m-g*d,o[9]=A*m-y*d,o[10]=P*m-v*d,o[11]=N*m-M*d,o}function Op(o,r,s){var d=Math.sin(s),m=Math.cos(s),g=r[0],y=r[1],v=r[2],M=r[3],T=r[8],A=r[9],P=r[10],N=r[11];return r!==o&&(o[4]=r[4],o[5]=r[5],o[6]=r[6],o[7]=r[7],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[0]=g*m-T*d,o[1]=y*m-A*d,o[2]=v*m-P*d,o[3]=M*m-N*d,o[8]=g*d+T*m,o[9]=y*d+A*m,o[10]=v*d+P*m,o[11]=M*d+N*m,o}function yy(o,r){return o[0]=r[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=r[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=r[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function vy(o,r,s){var d,m,g,y=s[0],v=s[1],M=s[2],T=Math.hypot(y,v,M);return T<Ip?null:(y*=T=1/T,v*=T,M*=T,d=Math.sin(r),m=Math.cos(r),o[0]=y*y*(g=1-m)+m,o[1]=v*y*g+M*d,o[2]=M*y*g-v*d,o[3]=0,o[4]=y*v*g-M*d,o[5]=v*v*g+m,o[6]=M*v*g+y*d,o[7]=0,o[8]=y*M*g+v*d,o[9]=v*M*g-y*d,o[10]=M*M*g+m,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}Math.hypot||(Math.hypot=function(){for(var o=0,r=arguments.length;r--;)o+=arguments[r]*arguments[r];return Math.sqrt(o)});var iw=xu;function O_(){var o=new Js(3);return Js!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function L_(o){var r=new Js(3);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r}function wu(o){return Math.hypot(o[0],o[1],o[2])}function Ih(o,r,s){var d=new Js(3);return d[0]=o,d[1]=r,d[2]=s,d}function Ac(o,r,s){return o[0]=r[0]+s[0],o[1]=r[1]+s[1],o[2]=r[2]+s[2],o}function P_(o,r,s){return o[0]=r[0]-s[0],o[1]=r[1]-s[1],o[2]=r[2]-s[2],o}function Ra(o,r,s){return o[0]=r[0]*s[0],o[1]=r[1]*s[1],o[2]=r[2]*s[2],o}function Zi(o,r,s){return o[0]=Math.min(r[0],s[0]),o[1]=Math.min(r[1],s[1]),o[2]=Math.min(r[2],s[2]),o}function F_(o,r,s){return o[0]=Math.max(r[0],s[0]),o[1]=Math.max(r[1],s[1]),o[2]=Math.max(r[2],s[2]),o}function en(o,r,s){return o[0]=r[0]*s,o[1]=r[1]*s,o[2]=r[2]*s,o}function Cu(o,r,s,d){return o[0]=r[0]+s[0]*d,o[1]=r[1]+s[1]*d,o[2]=r[2]+s[2]*d,o}function Zo(o,r){var s=r[0],d=r[1],m=r[2],g=s*s+d*d+m*m;return g>0&&(g=1/Math.sqrt(g)),o[0]=r[0]*g,o[1]=r[1]*g,o[2]=r[2]*g,o}function wl(o,r){return o[0]*r[0]+o[1]*r[1]+o[2]*r[2]}function R_(o,r,s){var d=r[0],m=r[1],g=r[2],y=s[0],v=s[1],M=s[2];return o[0]=m*M-g*v,o[1]=g*y-d*M,o[2]=d*v-m*y,o}function Ar(o,r,s){var d=r[0],m=r[1],g=r[2],y=s[3]*d+s[7]*m+s[11]*g+s[15];return o[0]=(s[0]*d+s[4]*m+s[8]*g+s[12])/(y=y||1),o[1]=(s[1]*d+s[5]*m+s[9]*g+s[13])/y,o[2]=(s[2]*d+s[6]*m+s[10]*g+s[14])/y,o}function xy(o,r,s){var d=s[0],m=s[1],g=s[2],y=r[0],v=r[1],M=r[2],T=m*M-g*v,A=g*y-d*M,P=d*v-m*y,N=m*P-g*A,G=g*T-d*P,j=d*A-m*T,J=2*s[3];return A*=J,P*=J,G*=2,j*=2,o[0]=y+(T*=J)+(N*=2),o[1]=v+A+G,o[2]=M+P+j,o}var eg,Oc=P_,Lp=Ra,_s=wu;function tg(o,r,s){return o[0]=r[0]*s,o[1]=r[1]*s,o[2]=r[2]*s,o[3]=r[3]*s,o}function ku(o,r,s){var d=r[0],m=r[1],g=r[2],y=r[3];return o[0]=s[0]*d+s[4]*m+s[8]*g+s[12]*y,o[1]=s[1]*d+s[5]*m+s[9]*g+s[13]*y,o[2]=s[2]*d+s[6]*m+s[10]*g+s[14]*y,o[3]=s[3]*d+s[7]*m+s[11]*g+s[15]*y,o}function z_(){var o=new Js(4);return Js!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o[3]=1,o}function Lo(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=1,o}function Sm(o,r,s){s*=.5;var d=r[0],m=r[1],g=r[2],y=r[3],v=Math.sin(s),M=Math.cos(s);return o[0]=d*M+y*v,o[1]=m*M+g*v,o[2]=g*M-m*v,o[3]=y*M-d*v,o}function ng(o,r,s){s*=.5;var d=r[0],m=r[1],g=r[2],y=r[3],v=Math.sin(s),M=Math.cos(s);return o[0]=d*M-g*v,o[1]=m*M+y*v,o[2]=g*M+d*v,o[3]=y*M-m*v,o}O_(),eg=new Js(4),Js!=Float32Array&&(eg[0]=0,eg[1]=0,eg[2]=0,eg[3]=0),O_(),Ih(1,0,0),Ih(0,1,0),z_(),z_(),nw();class N_{constructor(r,s){this.pos=r,this.dir=s}intersectsPlane(r,s,d){const m=wl(s,this.dir);if(Math.abs(m)<1e-6)return!1;const g=((r[0]-this.pos[0])*s[0]+(r[1]-this.pos[1])*s[1]+(r[2]-this.pos[2])*s[2])/m;return d[0]=this.pos[0]+this.dir[0]*g,d[1]=this.pos[1]+this.dir[1]*g,d[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(r,s,d){if(J=(G=this.pos)[0],ae=G[1],ge=G[2],Ce=(j=r)[0],_e=j[1],ve=j[2],Math.abs(J-Ce)<=Ip*Math.max(1,Math.abs(J),Math.abs(Ce))&&Math.abs(ae-_e)<=Ip*Math.max(1,Math.abs(ae),Math.abs(_e))&&Math.abs(ge-ve)<=Ip*Math.max(1,Math.abs(ge),Math.abs(ve))||0===s)return d[0]=d[1]=d[2]=0,!1;var G,j,J,ae,ge,Ce,_e,ve;const[m,g,y]=this.dir,v=this.pos[0]-r[0],M=this.pos[1]-r[1],T=this.pos[2]-r[2],A=m*m+g*g+y*y,P=2*(v*m+M*g+T*y),N=P*P-4*A*(v*v+M*M+T*T-s*s);if(N<0){const G=Math.max(-P/2,0),j=v+m*G,J=M+g*G,ae=T+y*G,ge=Math.hypot(j,J,ae);return d[0]=j*s/ge,d[1]=J*s/ge,d[2]=ae*s/ge,!1}{const G=(-P-Math.sqrt(N))/(2*A);if(G<0){const j=Math.hypot(v,M,T);return d[0]=v*s/j,d[1]=M*s/j,d[2]=T*s/j,!1}return d[0]=v+m*G,d[1]=M+g*G,d[2]=T+y*G,!0}}}class B_{constructor(r,s,d,m,g){this.TL=r,this.TR=s,this.BR=d,this.BL=m,this.horizon=g}static fromInvProjectionMatrix(r,s,d){const m=[-1,1,1],g=[1,1,1],y=[1,-1,1],v=[-1,-1,1],M=Ar(m,m,r),T=Ar(g,g,r),A=Ar(y,y,r),P=Ar(v,v,r);return new B_(M,T,A,P,s/d)}}class ig{constructor(r,s){this.points=r,this.planes=s}static fromInvProjectionMatrix(r,s,d,m){const g=Math.pow(2,d),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(M=>{const T=ku([],M,r),A=1/T[3]/s*g;return(P=T)[0]=(N=T)[0]*(G=[A,A,m?1/T[3]:A,A])[0],P[1]=N[1]*G[1],P[2]=N[2]*G[2],P[3]=N[3]*G[3],P;var P,N,G}),v=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(M=>{const T=Zo([],R_([],Oc([],y[M[0]],y[M[1]]),Oc([],y[M[2]],y[M[1]]))),A=-wl(T,y[M[1]]);return T.concat(A)});return new ig(y,v)}}class bs{static fromPoints(r){const s=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],d=[Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE];for(const m of r)s[0]=Math.min(s[0],m[0]),s[1]=Math.min(s[1],m[1]),s[2]=Math.min(s[2],m[2]),d[0]=Math.max(d[0],m[0]),d[1]=Math.max(d[1],m[1]),d[2]=Math.max(d[2],m[2]);return new bs(s,d)}constructor(r,s){this.min=r,this.max=s,this.center=en([],Ac([],this.min,this.max),.5)}quadrant(r){const s=[r%2==0,r<2],d=L_(this.min),m=L_(this.max);for(let g=0;g<s.length;g++)d[g]=s[g]?this.min[g]:this.center[g],m[g]=s[g]?this.center[g]:this.max[g];return m[2]=this.max[2],new bs(d,m)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}distanceZ(r){return Math.max(Math.min(this.max[2],r[2]),this.min[2])-r[2]}getCorners(){const r=this.min,s=this.max;return[[r[0],r[1],r[2]],[s[0],r[1],r[2]],[s[0],s[1],r[2]],[r[0],s[1],r[2]],[r[0],r[1],s[2]],[s[0],r[1],s[2]],[s[0],s[1],s[2]],[r[0],s[1],s[2]]]}intersects(r){const s=this.getCorners();let d=!0;for(let m=0;m<r.planes.length;m++){const g=r.planes[m];let y=0;for(let v=0;v<s.length;v++)y+=wl(g,s[v])+g[3]>=0;if(0===y)return 0;y!==s.length&&(d=!1)}if(d)return 2;for(let m=0;m<3;m++){let g=Number.MAX_VALUE,y=-Number.MAX_VALUE;for(let v=0;v<r.points.length;v++){const M=r.points[v][m]-this.min[m];g=Math.min(g,M),y=Math.max(y,M)}if(y<0||g>this.max[m]-this.min[m])return 0}return 1}}function V_(o,r,s,d,m,g,y,v,M){if(g&&o.queryGeometry.isAboveHorizon)return!1;g&&(M*=o.pixelToTileUnitsFactor);const T=o.tileID.canonical,A=s.projection.upVectorScale(T,s.center.lat,s.worldSize).metersToTile;for(const P of r)for(const N of P){const G=N.add(v),j=m&&s.elevation?s.elevation.exaggeration()*m.getElevationAt(G.x,G.y,!0):0,J=s.projection.projectTilePoint(G.x,G.y,T);if(j>0){const _e=s.projection.upVector(T,G.x,G.y);J.x+=_e[0]*A*j,J.y+=_e[1]*A*j,J.z+=_e[2]*A*j}const ae=g?G:aw(J.x,J.y,J.z,d),ge=g?o.tilespaceRays.map(_e=>ow(_e,j)):o.queryGeometry.screenGeometry,Ce=ku([],[J.x,J.y,J.z,1],d);if(!y&&g?M*=Ce[3]/s.cameraToCenterDistance:y&&!g&&(M*=s.cameraToCenterDistance/Ce[3]),g){const _e=so((N.y/Zn+T.y)/(1<<T.z));M/=s.projection.pixelsPerMeter(_e,1)/Ps(1,_e)}if(Jx(ge,ae,M))return!0}return!1}function aw(o,r,s,d){const m=ku([],[o,r,s,1],d);return new nt(m[0]/m[3],m[1]/m[3])}const H_=Ih(0,0,0),rw=Ih(0,0,1);function ow(o,r){const s=O_();return H_[2]=r,o.intersectsPlane(H_,rw,s),new nt(s[0],s[1])}class wy extends Qf{}function j_(o,{width:r,height:s},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==r*s*d)throw new RangeError("mismatched image size")}else m=new Uint8Array(r*s*d);return o.width=r,o.height=s,o.data=m,o}function ag(o,r,s){const{width:d,height:m}=r;d===o.width&&m===o.height||(rg(o,r,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,d),height:Math.min(o.height,m)},s),o.width=d,o.height=m,o.data=r.data)}function rg(o,r,s,d,m,g){if(0===m.width||0===m.height)return r;if(m.width>o.width||m.height>o.height||s.x>o.width-m.width||s.y>o.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>r.width||m.height>r.height||d.x>r.width-m.width||d.y>r.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const y=o.data,v=r.data;for(let M=0;M<m.height;M++){const T=((s.y+M)*o.width+s.x)*g,A=((d.y+M)*r.width+d.x)*g;for(let P=0;P<m.width*g;P++)v[A+P]=y[T+P]}return r}kt(wy,"HeatmapBucket",{omit:["layers"]});class wd{constructor(r,s){j_(this,r,1,s)}resize(r){ag(this,new wd(r),1)}clone(){return new wd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,s,d,m,g){rg(r,s,d,m,g,1)}}class Qs{constructor(r,s){j_(this,r,4,s)}resize(r){ag(this,new Qs(r),4)}replace(r,s){s?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new Qs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,s,d,m,g){rg(r,s,d,m,g,4)}}kt(wd,"AlphaImage"),kt(Qs,"RGBAImage");var Cy={paint:new st({"heatmap-radius":new Re(je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Re(je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Me(je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Be(je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Me(je.paint_heatmap["heatmap-opacity"])})};function Im(o){const r={},s=o.resolution||256,d=o.clips?o.clips.length:1,m=o.image||new Qs({width:s,height:d}),g=(y,v,M)=>{r[o.evaluationKey]=M;const T=o.expression.evaluate(r);m.data[y+v+0]=Math.floor(255*T.r/T.a),m.data[y+v+1]=Math.floor(255*T.g/T.a),m.data[y+v+2]=Math.floor(255*T.b/T.a),m.data[y+v+3]=Math.floor(255*T.a)};if(o.clips)for(let y=0,v=0;y<d;++y,v+=4*s)for(let M=0,T=0;M<s;M++,T+=4){const A=M/(s-1),{start:P,end:N}=o.clips[y];g(v,T,P*(1-A)+N*A)}else for(let y=0,v=0;y<s;y++,v+=4)g(0,v,y/(s-1));return m}var sw={paint:new st({"hillshade-illumination-direction":new Me(je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Me(je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Me(je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Me(je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Me(je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Me(je.paint_hillshade["hillshade-accent-color"])})};const lw=lt([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ah}=lw;var og=sg,cw=sg;function sg(o,r,s){s=s||2;var d,m,g,y,v,M,T,A=r&&r.length,P=A?r[0]*s:o.length,N=ky(o,0,P,s,!0),G=[];if(!N||N.next===N.prev)return G;if(A&&(N=function(J,ae,ge,Ce){var _e,ve,Ae,Te=[];for(_e=0,ve=ae.length;_e<ve;_e++)(Ae=ky(J,ae[_e]*Ce,_e<ve-1?ae[_e+1]*Ce:J.length,Ce,!1))===Ae.next&&(Ae.steiner=!0),Te.push(Dy(Ae));for(Te.sort(Ty),_e=0;_e<Te.length;_e++)ge=Nk(Te[_e],ge);return ge}(o,r,N,s)),o.length>80*s){d=g=o[0],m=y=o[1];for(var j=s;j<P;j+=s)(v=o[j])<d&&(d=v),(M=o[j+1])<m&&(m=M),v>g&&(g=v),M>y&&(y=M);T=0!==(T=Math.max(g-d,y-m))?32767/T:0}return Mu(N,G,s,d,m,T,0),G}function ky(o,r,s,d,m){var g,y;if(m===Lh(o,r,s,d)>0)for(g=r;g<s;g+=d)y=dg(g,o[g],o[g+1],y);else for(g=s-d;g>=r;g-=d)y=dg(g,o[g],o[g+1],y);return y&&U_(y,y.next)&&(Fp(y),y=y.next),y}function Oh(o,r){if(!o)return o;r||(r=o);var s,d=o;do{if(s=!1,d.steiner||!U_(d,d.next)&&0!==ca(d.prev,d,d.next))d=d.next;else{if(Fp(d),(d=r=d.prev)===d.next)break;s=!0}}while(s||d!==r);return r}function Mu(o,r,s,d,m,g,y){if(o){!y&&g&&function(A,P,N,G){var j=A;do{0===j.z&&(j.z=lg(j.x,j.y,P,N,G)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next}while(j!==A);j.prevZ.nextZ=null,j.prevZ=null,function(J){var ae,ge,Ce,_e,ve,Ae,Te,$e,Ge=1;do{for(ge=J,J=null,ve=null,Ae=0;ge;){for(Ae++,Ce=ge,Te=0,ae=0;ae<Ge&&(Te++,Ce=Ce.nextZ);ae++);for($e=Ge;Te>0||$e>0&&Ce;)0!==Te&&(0===$e||!Ce||ge.z<=Ce.z)?(_e=ge,ge=ge.nextZ,Te--):(_e=Ce,Ce=Ce.nextZ,$e--),ve?ve.nextZ=_e:J=_e,_e.prevZ=ve,ve=_e;ge=Ce}ve.nextZ=null,Ge*=2}while(Ae>1)}(j)}(o,d,m,g);for(var v,M,T=o;o.prev!==o.next;)if(v=o.prev,M=o.next,g?My(o,d,m,g):Cl(o))r.push(v.i/s|0),r.push(o.i/s|0),r.push(M.i/s|0),Fp(o),o=M.next,T=M.next;else if((o=M)===T){y?1===y?Mu(o=dw(Oh(o),r,s),r,s,d,m,g,2):2===y&&uw(o,r,s,d,m,g):Mu(Oh(o),r,s,d,m,g,1);break}}}function Cl(o){var r=o.prev,s=o,d=o.next;if(ca(r,s,d)>=0)return!1;for(var m=r.x,g=s.x,y=d.x,v=r.y,M=s.y,T=d.y,A=m<g?m<y?m:y:g<y?g:y,P=v<M?v<T?v:T:M<T?M:T,N=m>g?m>y?m:y:g>y?g:y,G=v>M?v>T?v:T:M>T?M:T,j=d.next;j!==r;){if(j.x>=A&&j.x<=N&&j.y>=P&&j.y<=G&&Am(m,v,g,M,y,T,j.x,j.y)&&ca(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function My(o,r,s,d){var m=o.prev,g=o,y=o.next;if(ca(m,g,y)>=0)return!1;for(var v=m.x,M=g.x,T=y.x,A=m.y,P=g.y,N=y.y,G=v<M?v<T?v:T:M<T?M:T,j=A<P?A<N?A:N:P<N?P:N,J=v>M?v>T?v:T:M>T?M:T,ae=A>P?A>N?A:N:P>N?P:N,ge=lg(G,j,r,s,d),Ce=lg(J,ae,r,s,d),_e=o.prevZ,ve=o.nextZ;_e&&_e.z>=ge&&ve&&ve.z<=Ce;){if(_e.x>=G&&_e.x<=J&&_e.y>=j&&_e.y<=ae&&_e!==m&&_e!==y&&Am(v,A,M,P,T,N,_e.x,_e.y)&&ca(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,ve.x>=G&&ve.x<=J&&ve.y>=j&&ve.y<=ae&&ve!==m&&ve!==y&&Am(v,A,M,P,T,N,ve.x,ve.y)&&ca(ve.prev,ve,ve.next)>=0))return!1;ve=ve.nextZ}for(;_e&&_e.z>=ge;){if(_e.x>=G&&_e.x<=J&&_e.y>=j&&_e.y<=ae&&_e!==m&&_e!==y&&Am(v,A,M,P,T,N,_e.x,_e.y)&&ca(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;ve&&ve.z<=Ce;){if(ve.x>=G&&ve.x<=J&&ve.y>=j&&ve.y<=ae&&ve!==m&&ve!==y&&Am(v,A,M,P,T,N,ve.x,ve.y)&&ca(ve.prev,ve,ve.next)>=0)return!1;ve=ve.nextZ}return!0}function dw(o,r,s){var d=o;do{var m=d.prev,g=d.next.next;!U_(m,g)&&hw(m,d,d.next,g)&&Po(m,g)&&Po(g,m)&&(r.push(m.i/s|0),r.push(d.i/s|0),r.push(g.i/s|0),Fp(d),Fp(d.next),d=o=g),d=d.next}while(d!==o);return Oh(d)}function uw(o,r,s,d,m,g){var y=o;do{for(var v=y.next.next;v!==y.prev;){if(y.i!==v.i&&Om(y,v)){var M=cg(y,v);return y=Oh(y,y.next),M=Oh(M,M.next),Mu(y,r,s,d,m,g,0),void Mu(M,r,s,d,m,g,0)}v=v.next}y=y.next}while(y!==o)}function Ty(o,r){return o.x-r.x}function Nk(o,r){var s=function(m,g){var y,v=g,M=m.x,T=m.y,A=-1/0;do{if(T<=v.y&&T>=v.next.y&&v.next.y!==v.y){var P=v.x+(T-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(P<=M&&P>A&&(A=P,y=v.x<v.next.x?v:v.next,P===M))return y}v=v.next}while(v!==g);if(!y)return null;var N,G=y,j=y.x,J=y.y,ae=1/0;v=y;do{M>=v.x&&v.x>=j&&M!==v.x&&Am(T<J?M:A,T,j,J,T<J?A:M,T,v.x,v.y)&&(N=Math.abs(T-v.y)/(M-v.x),Po(v,m)&&(N<ae||N===ae&&(v.x>y.x||v.x===y.x&&Ey(y,v)))&&(y=v,ae=N)),v=v.next}while(v!==G);return y}(o,r);if(!s)return r;var d=cg(s,o);return Oh(d,d.next),Oh(s,s.next)}function Ey(o,r){return ca(o.prev,o,r.prev)<0&&ca(r.next,o,o.next)<0}function lg(o,r,s,d,m){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-s)*m|0)|o<<8))|o<<4))|o<<2))|o<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-d)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function Dy(o){var r=o,s=o;do{(r.x<s.x||r.x===s.x&&r.y<s.y)&&(s=r),r=r.next}while(r!==o);return s}function Am(o,r,s,d,m,g,y,v){return(m-y)*(r-v)>=(o-y)*(g-v)&&(o-y)*(d-v)>=(s-y)*(r-v)&&(s-y)*(g-v)>=(m-y)*(d-v)}function Om(o,r){return o.next.i!==r.i&&o.prev.i!==r.i&&!function(s,d){var m=s;do{if(m.i!==s.i&&m.next.i!==s.i&&m.i!==d.i&&m.next.i!==d.i&&hw(m,m.next,s,d))return!0;m=m.next}while(m!==s);return!1}(o,r)&&(Po(o,r)&&Po(r,o)&&function(s,d){var m=s,g=!1,y=(s.x+d.x)/2,v=(s.y+d.y)/2;do{m.y>v!=m.next.y>v&&m.next.y!==m.y&&y<(m.next.x-m.x)*(v-m.y)/(m.next.y-m.y)+m.x&&(g=!g),m=m.next}while(m!==s);return g}(o,r)&&(ca(o.prev,o,r.prev)||ca(o,r.prev,r))||U_(o,r)&&ca(o.prev,o,o.next)>0&&ca(r.prev,r,r.next)>0)}function ca(o,r,s){return(r.y-o.y)*(s.x-r.x)-(r.x-o.x)*(s.y-r.y)}function U_(o,r){return o.x===r.x&&o.y===r.y}function hw(o,r,s,d){var m=G_(ca(o,r,s)),g=G_(ca(o,r,d)),y=G_(ca(s,d,o)),v=G_(ca(s,d,r));return m!==g&&y!==v||!(0!==m||!Pp(o,s,r))||!(0!==g||!Pp(o,d,r))||!(0!==y||!Pp(s,o,d))||!(0!==v||!Pp(s,r,d))}function Pp(o,r,s){return r.x<=Math.max(o.x,s.x)&&r.x>=Math.min(o.x,s.x)&&r.y<=Math.max(o.y,s.y)&&r.y>=Math.min(o.y,s.y)}function G_(o){return o>0?1:o<0?-1:0}function Po(o,r){return ca(o.prev,o,o.next)<0?ca(o,r,o.next)>=0&&ca(o,o.prev,r)>=0:ca(o,r,o.prev)<0||ca(o,o.next,r)<0}function cg(o,r){var s=new ug(o.i,o.x,o.y),d=new ug(r.i,r.x,r.y),m=o.next,g=r.prev;return o.next=r,r.prev=o,s.next=m,m.prev=s,d.next=s,s.prev=d,g.next=d,d.prev=g,d}function dg(o,r,s,d){var m=new ug(o,r,s);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Fp(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function ug(o,r,s){this.i=o,this.x=r,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lh(o,r,s,d){for(var m=0,g=r,y=s-d;g<s;g+=d)m+=(o[y]-o[g])*(o[g+1]+o[y+1]),y=g;return m}function Sy(o,r,s,d,m){$_(o,r,s||0,d||o.length-1,m||Y_)}function $_(o,r,s,d,m){for(;d>s;){if(d-s>600){var g=d-s+1,y=r-s+1,v=Math.log(g),M=.5*Math.exp(2*v/3),T=.5*Math.sqrt(v*M*(g-M)/g)*(y-g/2<0?-1:1);$_(o,r,Math.max(s,Math.floor(r-y*M/g+T)),Math.min(d,Math.floor(r+(g-y)*M/g+T)),m)}var A=o[r],P=s,N=d;for(Ph(o,s,r),m(o[d],A)>0&&Ph(o,s,d);P<N;){for(Ph(o,P,N),P++,N--;m(o[P],A)<0;)P++;for(;m(o[N],A)>0;)N--}0===m(o[s],A)?Ph(o,s,N):Ph(o,++N,d),N<=r&&(s=N+1),r<=N&&(d=N-1)}}function Ph(o,r,s){var d=o[r];o[r]=o[s],o[s]=d}function Y_(o,r){return o<r?-1:o>r?1:0}function hg(o,r){const s=o.length;if(s<=1)return[o];const d=[];let m,g;for(let y=0;y<s;y++){const v=dr(o[y]);0!==v&&(o[y].area=Math.abs(v),void 0===g&&(g=v<0),g===v<0?(m&&d.push(m),m=[o[y]]):m.push(o[y]))}if(m&&d.push(m),r>1)for(let y=0;y<d.length;y++)d[y].length<=r||(Sy(d[y],r,1,d[y].length-1,Bk),d[y]=d[y].slice(0,r));return d}function Bk(o,r){return r.area-o.area}function Tu(o,r,s){const d=s.patternDependencies;let m=!1;for(const g of r){const y=g.paint.get(`${o}-pattern`);y.isConstant()||(m=!0);const v=y.constantOr(null);v&&(m=!0,d[v.to]=!0,d[v.from]=!0)}return m}function Rp(o,r,s,d,m){const g=m.patternDependencies;for(const y of r){const v=y.paint.get(`${o}-pattern`).value;if("constant"!==v.kind){let M=v.evaluate({zoom:d-1},s,{},m.availableImages),T=v.evaluate({zoom:d},s,{},m.availableImages),A=v.evaluate({zoom:d+1},s,{},m.availableImages);M=M&&M.name?M.name:M,T=T&&T.name?T.name:T,A=A&&A.name?A.name:A,g[M]=!0,g[T]=!0,g[A]=!0,s.patterns[y.id]={min:M,mid:T,max:A}}}return s}sg.deviation=function(o,r,s,d){var m=r&&r.length,g=Math.abs(Lh(o,0,m?r[0]*s:o.length,s));if(m)for(var y=0,v=r.length;y<v;y++)g-=Math.abs(Lh(o,r[y]*s,y<v-1?r[y+1]*s:o.length,s));var M=0;for(y=0;y<d.length;y+=3){var T=d[y]*s,A=d[y+1]*s,P=d[y+2]*s;M+=Math.abs((o[T]-o[P])*(o[A+1]-o[T+1])-(o[T]-o[A])*(o[P+1]-o[T+1]))}return 0===g&&0===M?0:Math.abs((M-g)/g)},sg.flatten=function(o){for(var r=o[0][0].length,s={vertices:[],holes:[],dimensions:r},d=0,m=0;m<o.length;m++){for(var g=0;g<o[m].length;g++)for(var y=0;y<r;y++)s.vertices.push(o[m][g][y]);m>0&&s.holes.push(d+=o[m-1].length)}return s},og.default=cw;class zp{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(s=>s.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pt,this.indexArray=new qt,this.indexArray2=new Ao,this.programConfigurations=new qo(r.layers,r.zoom),this.segments=new xr,this.segments2=new xr,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.projection=r.projection}populate(r,s,d,m){this.hasPattern=Tu("fill",this.layers,s);const g=this.layers[0].layout.get("fill-sort-key"),y=[];for(const{feature:v,id:M,index:T,sourceLayerIndex:A}of r){const P=this.layers[0]._featureFilter.needGeometry,N=Eh(v,P);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),N,d))continue;const G=g?g.evaluate(N,{},d,s.availableImages):void 0,j={id:M,properties:v.properties,type:v.type,sourceLayerIndex:A,index:T,geometry:P?N.geometry:vd(v,d,m),patterns:{},sortKey:G};y.push(j)}g&&y.sort((v,M)=>v.sortKey-M.sortKey);for(const v of y){const{geometry:M,index:T,sourceLayerIndex:A}=v;if(this.hasPattern){const P=Rp("fill",this.layers,v,this.zoom,s);this.patternFeatures.push(P)}else this.addFeature(v,M,T,d,{},s.availableImages);s.featureIndex.insert(r[T].feature,M,T,A,this.index)}}update(r,s,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,d,m)}addFeatures(r,s,d,m,g){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,s,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ah),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,s,d,m,g,y=[]){for(const v of hg(s,500)){let M=0;for(const j of v)M+=j.length;const T=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray),A=T.vertexLength,P=[],N=[];for(const j of v){if(0===j.length)continue;j!==v[0]&&N.push(P.length/2);const J=this.segments2.prepareSegment(j.length,this.layoutVertexArray,this.indexArray2),ae=J.vertexLength;this.layoutVertexArray.emplaceBack(j[0].x,j[0].y),this.indexArray2.emplaceBack(ae+j.length-1,ae),P.push(j[0].x),P.push(j[0].y);for(let ge=1;ge<j.length;ge++)this.layoutVertexArray.emplaceBack(j[ge].x,j[ge].y),this.indexArray2.emplaceBack(ae+ge-1,ae+ge),P.push(j[ge].x),P.push(j[ge].y);J.vertexLength+=j.length,J.primitiveLength+=j.length}const G=og(P,N);for(let j=0;j<G.length;j+=3)this.indexArray.emplaceBack(A+G[j],A+G[j+1],A+G[j+2]);T.vertexLength+=M,T.primitiveLength+=G.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,y,m)}}kt(zp,"FillBucket",{omit:["layers","patternFeatures"]});const mw=new st({"fill-sort-key":new Re(je.layout_fill["fill-sort-key"])});var q_={paint:new st({"fill-antialias":new Me(je.paint_fill["fill-antialias"]),"fill-opacity":new Re(je.paint_fill["fill-opacity"]),"fill-color":new Re(je.paint_fill["fill-color"]),"fill-outline-color":new Re(je.paint_fill["fill-outline-color"]),"fill-translate":new Me(je.paint_fill["fill-translate"]),"fill-translate-anchor":new Me(je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ue(je.paint_fill["fill-pattern"])}),layout:mw};const pw=lt([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),fw=lt([{name:"a_centroid_pos",components:2,type:"Uint16"}]),gw=lt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:_w}=pw;var Iy=Lm;function Lm(o,r,s,d,m){this.properties={},this.extent=s,this.type=0,this._pbf=o,this._geometry=-1,this._keys=d,this._values=m,o.readFields(Ay,this,r)}function Ay(o,r,s){1==o?r.id=s.readVarint():2==o?function(d,m){for(var g=d.readVarint()+d.pos;d.pos<g;){var y=m._keys[d.readVarint()],v=m._values[d.readVarint()];m.properties[y]=v}}(s,r):3==o?r.type=s.readVarint():4==o&&(r._geometry=s.pos)}function W_(o){for(var r,s,d=0,m=0,g=o.length,y=g-1;m<g;y=m++)d+=((s=o[y]).x-(r=o[m]).x)*(r.y+s.y);return d}Lm.types=["Unknown","Point","LineString","Polygon"],Lm.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var r,s=o.readVarint()+o.pos,d=1,m=0,g=0,y=0,v=[];o.pos<s;){if(m<=0){var M=o.readVarint();d=7&M,m=M>>3}if(m--,1===d||2===d)g+=o.readSVarint(),y+=o.readSVarint(),1===d&&(r&&v.push(r),r=[]),r.push(new nt(g,y));else{if(7!==d)throw new Error("unknown command "+d);r&&r.push(r[0].clone())}}return r&&v.push(r),v},Lm.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var r=o.readVarint()+o.pos,s=1,d=0,m=0,g=0,y=1/0,v=-1/0,M=1/0,T=-1/0;o.pos<r;){if(d<=0){var A=o.readVarint();s=7&A,d=A>>3}if(d--,1===s||2===s)(m+=o.readSVarint())<y&&(y=m),m>v&&(v=m),(g+=o.readSVarint())<M&&(M=g),g>T&&(T=g);else if(7!==s)throw new Error("unknown command "+s)}return[y,M,v,T]},Lm.prototype.toGeoJSON=function(o,r,s){var d,m,g=this.extent*Math.pow(2,s),y=this.extent*o,v=this.extent*r,M=this.loadGeometry(),T=Lm.types[this.type];function A(G){for(var j=0;j<G.length;j++){var J=G[j];G[j]=[360*(J.x+y)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(J.y+v)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var P=[];for(d=0;d<M.length;d++)P[d]=M[d][0];A(M=P);break;case 2:for(d=0;d<M.length;d++)A(M[d]);break;case 3:for(M=function(G){var j=G.length;if(j<=1)return[G];for(var J,ae,ge=[],Ce=0;Ce<j;Ce++){var _e=W_(G[Ce]);0!==_e&&(void 0===ae&&(ae=_e<0),ae===_e<0?(J&&ge.push(J),J=[G[Ce]]):J.push(G[Ce]))}return J&&ge.push(J),ge}(M),d=0;d<M.length;d++)for(m=0;m<M[d].length;m++)A(M[d][m])}1===M.length?M=M[0]:T="Multi"+T;var N={type:"Feature",geometry:{type:T,coordinates:M},properties:this.properties};return"id"in this&&(N.id=this.id),N};var Z_=mg;function mg(o,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(bw,this,r),this.length=this._features.length}function bw(o,r,s){15===o?r.version=s.readVarint():1===o?r.name=s.readString():5===o?r.extent=s.readVarint():2===o?r._features.push(s.pos):3===o?r._keys.push(s.readString()):4===o&&r._values.push(function(d){for(var m=null,g=d.readVarint()+d.pos;d.pos<g;){var y=d.readVarint()>>3;m=1===y?d.readString():2===y?d.readFloat():3===y?d.readDouble():4===y?d.readVarint64():5===y?d.readVarint():6===y?d.readSVarint():7===y?d.readBoolean():null}return m}(s))}function yw(o,r,s){if(3===o){var d=new Z_(s,s.readVarint()+s.pos);d.length&&(r[d.name]=d)}}mg.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var r=this._pbf.readVarint()+this._pbf.pos;return new Iy(this._pbf,r,this.extent,this._keys,this._values)};var Eu={VectorTile:function(o,r){this.layers=o.readFields(yw,{},r)},VectorTileFeature:Iy,VectorTileLayer:Z_};function Np(o,r,s,d){const m=[],g=0===d?(y,v,M,T,A,P)=>{y.push(new nt(P,M+(P-v)/(T-v)*(A-M)))}:(y,v,M,T,A,P)=>{y.push(new nt(v+(P-M)/(A-M)*(T-v),P))};for(const y of o){const v=[];for(const M of y){if(M.length<=2)continue;const T=[];for(let N=0;N<M.length-1;N++){const G=M[N].x,j=M[N].y,J=M[N+1].x,ae=M[N+1].y,ge=0===d?G:j,Ce=0===d?J:ae;ge<r?Ce>r&&g(T,G,j,J,ae,r):ge>s?Ce<s&&g(T,G,j,J,ae,s):T.push(M[N]),Ce<r&&ge>=r&&g(T,G,j,J,ae,r),Ce>s&&ge<=s&&g(T,G,j,J,ae,s)}let A=M[M.length-1];const P=0===d?A.x:A.y;P>=r&&P<=s&&T.push(A),T.length&&(A=T[T.length-1],T[0].x===A.x&&T[0].y===A.y||T.push(T[0]),v.push(T))}v.length&&m.push(v)}return m}const Fh=Eu.VectorTileFeature.types,Oy=Math.pow(2,13);function Pm(o,r,s,d,m,g,y,v){o.emplaceBack((r<<1)+y,(s<<1)+g,(Math.floor(d*Oy)<<1)+m,Math.round(v))}function Bp(o,r,s){const d=16384;o.emplaceBack(r.x,r.y,r.z,s[0]*d,s[1]*d,s[2]*d)}class Vp{constructor(){this.acc=new nt(0,0),this.polyCount=[]}startRing(r){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new nt(r.x,r.y),this.max=new nt(r.x,r.y))}append(r,s){this.currentPolyCount.edges++,this.acc._add(r);const d=this.min,m=this.max;r.x<d.x?d.x=r.x:r.x>m.x&&(m.x=r.x),r.y<d.y?d.y=r.y:r.y>m.y&&(m.y=r.y),((0===r.x||r.x===Zn)&&r.x===s.x)!=((0===r.y||r.y===Zn)&&r.y===s.y)&&this.processBorderOverlap(r,s),s.x<0!=r.x<0&&this.addBorderIntersection(0,In(s.y,r.y,(0-s.x)/(r.x-s.x))),s.x>Zn!=r.x>Zn&&this.addBorderIntersection(1,In(s.y,r.y,(Zn-s.x)/(r.x-s.x))),s.y<0!=r.y<0&&this.addBorderIntersection(2,In(s.x,r.x,(0-s.y)/(r.y-s.y))),s.y>Zn!=r.y>Zn&&this.addBorderIntersection(3,In(s.x,r.x,(Zn-s.y)/(r.y-s.y)))}addBorderIntersection(r,s){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[r];s<d[0]&&(d[0]=s),s>d[1]&&(d[1]=s)}processBorderOverlap(r,s){if(r.x===s.x){if(r.y===s.y)return;const d=0===r.x?0:1;this.addBorderIntersection(d,s.y),this.addBorderIntersection(d,r.y)}else{const d=0===r.y?2:3;this.addBorderIntersection(d,s.x),this.addBorderIntersection(d,r.x)}}centroid(){const r=this.polyCount.reduce((s,d)=>s+d.edges,0);return 0!==r?this.acc.div(r)._round():new nt(0,0)}span(){return new nt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((r,s)=>r+ +(s[0]!==Number.MAX_VALUE),0)}}class Hp{constructor(r){this.zoom=r.zoom,this.canonical=r.canonical,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(s=>s.id),this.index=r.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=r.projection,this.layoutVertexArray=new Tn,this.centroidVertexArray=new qf,this.indexArray=new qt,this.programConfigurations=new qo(r.layers,r.zoom),this.segments=new xr,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.enableTerrain=r.enableTerrain}populate(r,s,d,m){this.features=[],this.hasPattern=Tu("fill-extrusion",this.layers,s),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const y=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*y/(y*y+1)/Zn/(1<<g.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:y,index:v,sourceLayerIndex:M}of r){const T=this.layers[0]._featureFilter.needGeometry,A=Eh(g,T);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),A,d))continue;const P={id:y,sourceLayerIndex:M,index:v,geometry:T?A.geometry:vd(g,d,m),properties:g.properties,type:g.type,patterns:{}},N=this.layoutVertexArray.length;this.hasPattern?this.features.push(Rp("fill-extrusion",this.layers,P,this.zoom,s)):this.addFeature(P,P.geometry,v,d,{},s.availableImages,m),s.featureIndex.insert(g,P.geometry,v,M,this.index,N)}this.sortBorders()}addFeatures(r,s,d,m,g){for(const y of this.features){const{geometry:v}=y;this.addFeature(y,v,y.index,s,d,m,g)}this.sortBorders()}update(r,s,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,_w),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=r.createVertexBuffer(this.layoutVertexExtArray,gw.members,!0))),this.programConfigurations.upload(r),this.uploaded=!0}uploadCentroid(r){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,fw.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,s,d,m,g,y,v){const M=[new nt(0,0),new nt(Zn,Zn)],T=v.projection,A="globe"===T.name,P=this.enableTerrain&&!A?new Vp:null,N="Polygon"===Fh[r.type];A&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new oo);const G=hg(s,500);for(let ge=G.length-1;ge>=0;ge--){const Ce=G[ge];(0===Ce.length||(j=Ce[0]).every(_e=>_e.x<=0)||j.every(_e=>_e.x>=Zn)||j.every(_e=>_e.y<=0)||j.every(_e=>_e.y>=Zn))&&G.splice(ge,1)}var j;let J;if(A)J=Q_(G,M,m);else{J=[];for(const ge of G)J.push({polygon:ge,bounds:M})}const ae=N?this.edgeRadius:0;for(const{polygon:ge,bounds:Ce}of J){let _e=0,ve=0;for(const Te of ge)N&&!Te[0].equals(Te[Te.length-1])&&Te.push(Te[0]),ve+=N?Te.length-1:Te.length;const Ae=this.segments.prepareSegment((N?5:4)*ve,this.layoutVertexArray,this.indexArray);if(N){const Te=[],$e=[];_e=Ae.vertexLength;for(const rt of ge){let Mt,Ke;rt.length&&rt!==ge[0]&&$e.push(Te.length/2),Mt=rt[1].sub(rt[0])._perp()._unit();for(let ct=1;ct<rt.length;ct++){const pt=rt[ct],dt=rt[ct===rt.length-1?1:ct+1];let{x:xt,y:ft}=pt;if(ae){Ke=dt.sub(pt)._perp()._unit();const Vt=Mt.add(Ke)._unit(),Q=ae*Math.min(4,1/(Mt.x*Vt.x+Mt.y*Vt.y));xt+=Q*Vt.x,ft+=Q*Vt.y,Mt=Ke}Pm(this.layoutVertexArray,xt,ft,0,0,1,1,0),Ae.vertexLength++,Te.push(pt.x,pt.y),A&&Bp(this.layoutVertexExtArray,T.projectTilePoint(xt,ft,m),T.upVector(m,xt,ft))}}const Ge=og(Te,$e);for(let rt=0;rt<Ge.length;rt+=3)this.indexArray.emplaceBack(_e+Ge[rt],_e+Ge[rt+2],_e+Ge[rt+1]),Ae.primitiveLength++}for(const Te of ge){P&&Te.length&&P.startRing(Te[0]);let $e,Ge,rt,Mt=Te.length>4&&J_(Te[Te.length-2],Te[0],Te[1]),Ke=ae?Ly(Te[Te.length-2],Te[0],Te[1],ae):0;Ge=Te[1].sub(Te[0])._perp()._unit();for(let ct=1,pt=0;ct<Te.length;ct++){let dt=Te[ct-1],xt=Te[ct];const ft=Te[ct===Te.length-1?1:ct+1];if(P&&N&&P.currentPolyCount.top++,pg(xt,dt,Ce)){ae&&(Ge=ft.sub(xt)._perp()._unit());continue}P&&P.append(xt,dt);const Vt=xt.sub(dt)._perp(),Q=Vt.x/(Math.abs(Vt.x)+Math.abs(Vt.y)),fi=Vt.y>0?1:0,Ft=dt.dist(xt);if(pt+Ft>32768&&(pt=0),ae){rt=ft.sub(xt)._perp()._unit();let Wt=K_(dt,xt,ft,X_(Ge,rt),ae);isNaN(Wt)&&(Wt=0);const da=xt.sub(dt)._unit();dt=dt.add(da.mult(Ke))._round(),xt=xt.add(da.mult(-Wt))._round(),Ke=Wt,Ge=rt}const Ot=Ae.vertexLength,Si=Te.length>4&&J_(dt,xt,ft);let ai=jp(pt,Mt,!0);if(Pm(this.layoutVertexArray,dt.x,dt.y,Q,fi,0,0,ai),Pm(this.layoutVertexArray,dt.x,dt.y,Q,fi,0,1,ai),pt+=Ft,ai=jp(pt,Si,!1),Mt=Si,Pm(this.layoutVertexArray,xt.x,xt.y,Q,fi,0,0,ai),Pm(this.layoutVertexArray,xt.x,xt.y,Q,fi,0,1,ai),Ae.vertexLength+=4,this.indexArray.emplaceBack(Ot+0,Ot+1,Ot+2),this.indexArray.emplaceBack(Ot+1,Ot+3,Ot+2),Ae.primitiveLength+=2,ae){const Wt=_e+(1===ct?Te.length-2:ct-2),da=1===ct?_e:Wt+1;if(this.indexArray.emplaceBack(Ot+1,Wt,Ot+3),this.indexArray.emplaceBack(Wt,da,Ot+3),Ae.primitiveLength+=2,void 0===$e&&($e=Ot),!pg(ft,Te[ct],Ce)){const ua=ct===Te.length-1?$e:Ae.vertexLength;this.indexArray.emplaceBack(Ot+2,Ot+3,ua),this.indexArray.emplaceBack(Ot+3,ua+1,ua),this.indexArray.emplaceBack(Ot+3,da,ua+1),Ae.primitiveLength+=3}}if(A){const Wt=this.layoutVertexExtArray,da=T.projectTilePoint(dt.x,dt.y,m),ua=T.projectTilePoint(xt.x,xt.y,m),Oa=T.upVector(m,dt.x,dt.y),Ci=T.upVector(m,xt.x,xt.y);Bp(Wt,da,Oa),Bp(Wt,da,Oa),Bp(Wt,ua,Ci),Bp(Wt,ua,Ci)}}N&&(_e+=Te.length-1)}}if(P&&P.polyCount.length>0){if(P.borders){P.vertexArrayOffset=this.centroidVertexArray.length;const ge=P.borders,Ce=this.featuresOnBorder.push(P)-1;for(let _e=0;_e<4;_e++)ge[_e][0]!==Number.MAX_VALUE&&this.borders[_e].push(Ce)}this.encodeCentroid(P.borders?void 0:P.centroid(),P)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,y,m)}sortBorders(){for(let r=0;r<4;r++)this.borders[r].sort((s,d)=>this.featuresOnBorder[s].borders[r][0]-this.featuresOnBorder[d].borders[r][0])}encodeCentroid(r,s,d=!0){let m,g;if(r)if(0!==r.y){const v=s.span()._mult(this.tileToMeter);m=(Math.max(r.x,1)<<3)+Math.min(7,Math.round(v.x/10)),g=(Math.max(r.y,1)<<3)+Math.min(7,Math.round(v.y/10))}else m=Math.ceil(7*(r.x+450)),g=0;else m=0,g=+d;let y=d?this.centroidVertexArray.length:s.vertexArrayOffset;for(const v of s.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*v.edges+v.top);for(let M=0;M<v.top;M++)this.centroidVertexArray.emplace(y++,m,g);for(let M=0;M<2*v.edges;M++)this.centroidVertexArray.emplace(y++,0,g),this.centroidVertexArray.emplace(y++,m,g)}}}function X_(o,r){const s=o.add(r)._unit();return o.x*s.x+o.y*s.y}function Ly(o,r,s,d){const m=r.sub(o)._perp()._unit(),g=s.sub(r)._perp()._unit();return K_(o,r,s,X_(m,g),d)}function K_(o,r,s,d,m){const g=Math.sqrt(1-d*d);return Math.min(o.dist(r)/3,r.dist(s)/3,m*g/d)}function pg(o,r,s){return o.x<s[0].x&&r.x<s[0].x||o.x>s[1].x&&r.x>s[1].x||o.y<s[0].y&&r.y<s[0].y||o.y>s[1].y&&r.y>s[1].y}function J_(o,r,s){if(o.x<0||o.x>=Zn||r.x<0||r.x>=Zn||s.x<0||s.x>=Zn)return!1;const d=s.sub(r),m=d.perp(),g=o.sub(r);return(d.x*g.x+d.y*g.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(g.x*g.x+g.y*g.y))>-.866&&m.x*g.x+m.y*g.y<0}function jp(o,r,s){const d=r?2|o:-3&o;return s?1|d:-2&d}function Up(){const o=Math.PI/32,r=Math.tan(o),s=T_;return s*Math.sqrt(1+2*r*r)-s}function Q_(o,r,s){const d=1<<s.z,m=Oo(s.x/d),g=Oo((s.x+1)/d),y=so(s.y/d),v=so((s.y+1)/d);return function(M,T,A,P,N=0,G){const j=[];if(!M.length||!A||!P)return j;const J=(Te,$e)=>{for(const Ge of Te)j.push({polygon:Ge,bounds:$e})},ae=Math.ceil(Math.log2(A)),ge=Math.ceil(Math.log2(P)),Ce=ae-ge,_e=[];for(let Te=0;Te<Math.abs(Ce);Te++)_e.push(Ce>0?0:1);for(let Te=0;Te<Math.min(ae,ge);Te++)_e.push(0),_e.push(1);let ve=M;if(ve=Np(ve,T[0].y-N,T[1].y+N,1),ve=Np(ve,T[0].x-N,T[1].x+N,0),!ve.length)return j;const Ae=[];for(_e.length?Ae.push({polygons:ve,bounds:T,depth:0}):J(ve,T);Ae.length;){const Te=Ae.pop(),$e=Te.depth,Ge=_e[$e],rt=Te.bounds[0],Mt=Te.bounds[1],Ke=0===Ge?rt.x:rt.y,ct=0===Ge?Mt.x:Mt.y,pt=G?G(Ge,Ke,ct):.5*(Ke+ct),dt=Np(Te.polygons,Ke-N,pt+N,Ge),xt=Np(Te.polygons,pt-N,ct+N,Ge);if(dt.length){const ft=[rt,new nt(0===Ge?pt:Mt.x,1===Ge?pt:Mt.y)];_e.length>$e+1?Ae.push({polygons:dt,bounds:ft,depth:$e+1}):J(dt,ft)}if(xt.length){const ft=[new nt(0===Ge?pt:rt.x,1===Ge?pt:rt.y),Mt];_e.length>$e+1?Ae.push({polygons:xt,bounds:ft,depth:$e+1}):J(xt,ft)}}return j}(o,r,Math.ceil((g-m)/11.25),Math.ceil((y-v)/11.25),1,(M,T,A)=>{if(0===M)return.5*(T+A);{const P=so((s.y+T/Zn)/d);return(xl(.5*(so((s.y+A/Zn)/d)+P))*d-s.y)*Zn}})}kt(Hp,"FillExtrusionBucket",{omit:["layers","features"]}),kt(Vp,"PartMetadata");const eb=new st({"fill-extrusion-edge-radius":new Me(je["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Py={paint:new st({"fill-extrusion-opacity":new Me(je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Re(je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Me(je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Me(je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ue(je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Re(je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Re(je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Me(je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Me(je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Me(je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:eb};function fg(o,r,s){var d=2*Math.PI*6378137/256/Math.pow(2,s);return[o*d-2*Math.PI*6378137/2,r*d-2*Math.PI*6378137/2]}class Du{constructor(r,s,d){this.z=r,this.x=s,this.y=d,this.key=Gp(0,r,r,s,d)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,s){const d=(y=this.y,v=this.z,M=fg(256*(g=this.x),256*(y=Math.pow(2,v)-y-1),v),T=fg(256*(g+1),256*(y+1),v),M[0]+","+M[1]+","+T[0]+","+T[1]),m=function(g,y,v){let M,T="";for(let A=g;A>0;A--)M=1<<A-1,T+=(y&M?1:0)+(v&M?2:0);return T}(this.z,this.x,this.y);var g,y,v,M,T;return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===s?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",m).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Fy{constructor(r,s){this.wrap=r,this.canonical=s,this.key=Gp(r,s.z,s.z,s.x,s.y)}}class Fo{constructor(r,s,d,m,g){this.overscaledZ=r,this.wrap=s,this.canonical=new Du(d,+m,+g),this.key=0===s&&r===d?this.canonical.key:Gp(s,r,d,m,g)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){const s=this.canonical.z-r;return r>this.canonical.z?new Fo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fo(r,this.wrap,r,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(r,s=!0){if(this.overscaledZ===r&&s)return this.key;if(r>this.canonical.z)return Gp(this.wrap*+s,r,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-r;return Gp(this.wrap*+s,r,r,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(r){if(r.wrap!==this.wrap)return!1;const s=this.canonical.z-r.canonical.z;return 0===r.overscaledZ||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>s&&r.canonical.y===this.canonical.y>>s}children(r){if(this.overscaledZ>=r)return[new Fo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new Fo(s,this.wrap,s,d,m),new Fo(s,this.wrap,s,d+1,m),new Fo(s,this.wrap,s,d,m+1),new Fo(s,this.wrap,s,d+1,m+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new Fo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new Fo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Fy(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Gp(o,r,s,d,m){const g=1<<Math.min(s,22);let y=g*(m%g)+d%g;return o&&s<22&&(y+=g*g*((o<0?-2*o-1:2*o)%(1<<2*(22-s)))),16*(32*y+s)+(r-s)}function $p(o,r){return o.x*r.x+o.y*r.y}function tb(o,r){if(1===o.length){let s=0;const d=r[s++];let m;for(;!m||d.equals(m);)if(m=r[s++],!m)return 1/0;for(;s<r.length;s++){const g=r[s],y=o[0],v=m.sub(d),M=g.sub(d),T=y.sub(d),A=$p(v,v),P=$p(v,M),N=$p(M,M),G=$p(T,v),j=$p(T,M),J=A*N-P*P,ae=(N*G-P*j)/J,ge=(A*j-P*G)/J,Ce=d.z*(1-ae-ge)+m.z*ae+g.z*ge;if(isFinite(Ce))return Ce}return 1/0}{let s=1/0;for(const d of r)s=Math.min(s,d.z);return s}}function Fm(o){const r=new nt(o[0],o[1]);return r.z=o[2],r}function nb(o,r,s,d,m,g,y,v){const M=y*m.getElevationAt(o,r,!0,!0),T=0!==g[0],A=T?0===g[1]?y*(g[0]/7-450):y*function(P,N,G){const j=Math.floor(N[0]/8),J=Math.floor(N[1]/8),ae=10*(N[0]-8*j),ge=10*(N[1]-8*J),Ce=P.getElevationAt(j,J,!0,!0),_e=P.getMeterToDEM(G),ve=Math.floor(.5*(ae*_e-1)),Ae=Math.floor(.5*(ge*_e-1)),Te=P.tileCoordToPixel(j,J),$e=2*ve+1,Ge=2*Ae+1,rt=(Q=$e,fi=Ge,[(xt=P).getElevationAtPixel(ft=Te.x-ve,Vt=Te.y-Ae,!0),xt.getElevationAtPixel(ft+fi,Vt,!0),xt.getElevationAtPixel(ft,Vt+fi,!0),xt.getElevationAtPixel(ft+Q,Vt+fi,!0)]),Mt=Math.abs(rt[0]-rt[1]),Ke=Math.abs(rt[2]-rt[3]),ct=Math.abs(rt[0]-rt[2])+Math.abs(rt[1]-rt[3]),pt=Math.min(.25,.5*_e*(Mt+Ke)/$e),dt=Math.min(.25,.5*_e*ct/Ge);var xt,ft,Vt,Q,fi;return Ce+Math.max(pt*ae,dt*ge)}(m,g,v):M;return{base:M+(0===s)?-1:s,top:T?Math.max(A+d,M+s+2):M+d}}kt(Du,"CanonicalTileID"),kt(Fo,"OverscaledTileID",{omit:["projMatrix"]});const Vk=lt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Ry}=Vk,vw=lt([{name:"a_packed",components:4,type:"Float32"}]),{members:zy}=vw,xw=Eu.VectorTileFeature.types,ww=Math.cos(Math.PI/180*37.5);class Fs{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(s=>s.id),this.index=r.index,this.projection=r.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new $n,this.layoutVertexArray2=new hi,this.indexArray=new qt,this.programConfigurations=new qo(r.layers,r.zoom),this.segments=new xr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(r,s,d,m){this.hasPattern=Tu("line",this.layers,s);const g=this.layers[0].layout.get("line-sort-key"),y=[];for(const{feature:A,id:P,index:N,sourceLayerIndex:G}of r){const j=this.layers[0]._featureFilter.needGeometry,J=Eh(A,j);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),J,d))continue;const ae=g?g.evaluate(J,{},d):void 0,ge={id:P,properties:A.properties,type:A.type,sourceLayerIndex:G,index:N,geometry:j?J.geometry:vd(A,d,m),patterns:{},sortKey:ae};y.push(ge)}g&&y.sort((A,P)=>A.sortKey-P.sortKey);const{lineAtlas:v,featureIndex:M}=s,T=this.addConstantDashes(v);for(const A of y){const{geometry:P,index:N,sourceLayerIndex:G}=A;if(T&&this.addFeatureDashes(A,v),this.hasPattern){const j=Rp("line",this.layers,A,this.zoom,s);this.patternFeatures.push(j)}else this.addFeature(A,P,N,d,v.positions,s.availableImages);M.insert(r[N].feature,P,N,G,this.index)}}addConstantDashes(r){let s=!1;for(const d of this.layers){const m=d.paint.get("line-dasharray").value,g=d.layout.get("line-cap").value;if("constant"!==m.kind||"constant"!==g.kind)s=!0;else{const y=g.value,v=m.value;if(!v)continue;r.addDash(v.from,y),r.addDash(v.to,y),v.other&&r.addDash(v.other,y)}}return s}addFeatureDashes(r,s){const d=this.zoom;for(const m of this.layers){const g=m.paint.get("line-dasharray").value,y=m.layout.get("line-cap").value;if("constant"===g.kind&&"constant"===y.kind)continue;let v,M,T,A,P,N;if("constant"===g.kind){const ae=g.value;if(!ae)continue;v=ae.other||ae.to,M=ae.to,T=ae.from}else v=g.evaluate({zoom:d-1},r),M=g.evaluate({zoom:d},r),T=g.evaluate({zoom:d+1},r);"constant"===y.kind?A=P=N=y.value:(A=y.evaluate({zoom:d-1},r),P=y.evaluate({zoom:d},r),N=y.evaluate({zoom:d+1},r)),s.addDash(v,A),s.addDash(M,P),s.addDash(T,N);const G=s.getKey(v,A),j=s.getKey(M,P),J=s.getKey(T,N);r.patterns[m.id]={min:G,mid:j,max:J}}}update(r,s,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,d,m)}addFeatures(r,s,d,m,g){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,s,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,zy)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ry),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,s,d,m,g,y){const v=this.layers[0].layout,M=v.get("line-join").evaluate(r,{}),T=v.get("line-cap").evaluate(r,{}),A=v.get("line-miter-limit"),P=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const N of s)this.addLine(N,r,M,T,A,P);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,y,m)}addLine(r,s,d,m,g,y){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ge=0;ge<r.length-1;ge++)this.totalDistance+=r[ge].dist(r[ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const v="Polygon"===xw[s.type];let M=r.length;for(;M>=2&&r[M-1].equals(r[M-2]);)M--;let T=0;for(;T<M-1&&r[T].equals(r[T+1]);)T++;if(M<(v?3:2))return;"bevel"===d&&(g=1.05);const A=this.overscaling<=16?122880/(512*this.overscaling):0,P=this.segments.prepareSegment(10*M,this.layoutVertexArray,this.indexArray);let N,G,j,J,ae;this.e1=this.e2=-1,v&&(N=r[M-2],ae=r[T].sub(N)._unit()._perp());for(let ge=T;ge<M;ge++){if(j=ge===M-1?v?r[T+1]:void 0:r[ge+1],j&&r[ge].equals(j))continue;ae&&(J=ae),N&&(G=N),N=r[ge],ae=j?j.sub(N)._unit()._perp():J,J=J||ae;let Ce=J.add(ae);0===Ce.x&&0===Ce.y||Ce._unit();const _e=J.x*ae.x+J.y*ae.y,ve=Ce.x*ae.x+Ce.y*ae.y,Ae=0!==ve?1/ve:1/0,Te=2*Math.sqrt(2-2*ve),$e=ve<ww&&G&&j,Ge=J.x*ae.y-J.y*ae.x>0;if($e&&ge>T){const Ke=N.dist(G);if(Ke>2*A){const ct=N.sub(N.sub(G)._mult(A/Ke)._round());this.updateDistance(G,ct),this.addCurrentVertex(ct,J,0,0,P),G=ct}}const rt=G&&j;let Mt=rt?d:v?"butt":m;if(rt&&"round"===Mt&&(Ae<y?Mt="miter":Ae<=2&&(Mt="fakeround")),"miter"===Mt&&Ae>g&&(Mt="bevel"),"bevel"===Mt&&(Ae>2&&(Mt="flipbevel"),Ae<g&&(Mt="miter")),G&&this.updateDistance(G,N),"miter"===Mt)Ce._mult(Ae),this.addCurrentVertex(N,Ce,0,0,P);else if("flipbevel"===Mt){if(Ae>100)Ce=ae.mult(-1);else{const Ke=Ae*J.add(ae).mag()/J.sub(ae).mag();Ce._perp()._mult(Ke*(Ge?-1:1))}this.addCurrentVertex(N,Ce,0,0,P),this.addCurrentVertex(N,Ce.mult(-1),0,0,P)}else if("bevel"===Mt||"fakeround"===Mt){const Ke=-Math.sqrt(Ae*Ae-1),ct=Ge?Ke:0,pt=Ge?0:Ke;if(G&&this.addCurrentVertex(N,J,ct,pt,P),"fakeround"===Mt){const dt=Math.round(180*Te/Math.PI/20);for(let xt=1;xt<dt;xt++){let ft=xt/dt;if(.5!==ft){const Q=ft-.5;ft+=ft*Q*(ft-1)*((1.0904+_e*(_e*(3.55645-1.43519*_e)-3.2452))*Q*Q+(.848013+_e*(.215638*_e-1.06021)))}const Vt=ae.sub(J)._mult(ft)._add(J)._unit()._mult(Ge?-1:1);this.addHalfVertex(N,Vt.x,Vt.y,!1,Ge,0,P)}}j&&this.addCurrentVertex(N,ae,-ct,-pt,P)}else if("butt"===Mt)this.addCurrentVertex(N,Ce,0,0,P);else if("square"===Mt){const Ke=G?1:-1;G||this.addCurrentVertex(N,Ce,Ke,Ke,P),this.addCurrentVertex(N,Ce,0,0,P),G&&this.addCurrentVertex(N,Ce,Ke,Ke,P)}else"round"===Mt&&(G&&(this.addCurrentVertex(N,J,0,0,P),this.addCurrentVertex(N,J,1,1,P,!0)),j&&(this.addCurrentVertex(N,ae,-1,-1,P,!0),this.addCurrentVertex(N,ae,0,0,P)));if($e&&ge<M-1){const Ke=N.dist(j);if(Ke>2*A){const ct=N.add(j.sub(N)._mult(A/Ke)._round());this.updateDistance(N,ct),this.addCurrentVertex(ct,ae,0,0,P),N=ct}}}}addCurrentVertex(r,s,d,m,g,y=!1){const v=s.y*m-s.x,M=-s.y-s.x*m;this.addHalfVertex(r,s.x+s.y*d,s.y-s.x*d,y,!1,d,g),this.addHalfVertex(r,v,M,y,!0,-m,g)}addHalfVertex({x:r,y:s},d,m,g,y,v,M){this.layoutVertexArray.emplaceBack((r<<1)+(g?1:0),(s<<1)+(y?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(0===v?0:v<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const T=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,T),M.primitiveLength++),y?this.e2=T:this.e1=T}updateScaledDistance(){if(this.lineClips){const r=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=r*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(r,s){this.distance+=r.dist(s),this.updateScaledDistance()}}kt(Fs,"LineBucket",{omit:["layers","patternFeatures"]});const Cw=new st({"line-cap":new Re(je.layout_line["line-cap"]),"line-join":new Re(je.layout_line["line-join"]),"line-miter-limit":new Me(je.layout_line["line-miter-limit"]),"line-round-limit":new Me(je.layout_line["line-round-limit"]),"line-sort-key":new Re(je.layout_line["line-sort-key"])});var ib={paint:new st({"line-opacity":new Re(je.paint_line["line-opacity"]),"line-color":new Re(je.paint_line["line-color"]),"line-translate":new Me(je.paint_line["line-translate"]),"line-translate-anchor":new Me(je.paint_line["line-translate-anchor"]),"line-width":new Re(je.paint_line["line-width"]),"line-gap-width":new Re(je.paint_line["line-gap-width"]),"line-offset":new Re(je.paint_line["line-offset"]),"line-blur":new Re(je.paint_line["line-blur"]),"line-dasharray":new Ue(je.paint_line["line-dasharray"]),"line-pattern":new Ue(je.paint_line["line-pattern"]),"line-gradient":new Be(je.paint_line["line-gradient"]),"line-trim-offset":new Me(je.paint_line["line-trim-offset"])}),layout:Cw};const Ny=new class extends Re{possiblyEvaluate(o,r){return r=new ce(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),super.possiblyEvaluate(o,r)}evaluate(o,r,s,d){return r=Mi({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(o,r,s,d)}}(ib.paint.properties["line-width"].specification);function By(o,r){return r>0?r+2*o:o}Ny.useIntegerZoom=!0;const kw=lt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Mw=lt([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Vy=lt([{name:"a_projected_pos",components:4,type:"Float32"}],4);lt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Tw=lt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Ew=lt([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);lt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Hy=lt([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Di=lt([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);lt([{name:"triangle",components:3,type:"Uint16"}]),lt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),lt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),lt([{type:"Float32",name:"offsetX"}]),lt([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var F=24;const Wl=128;function Rm(o,r){const{expression:s}=r;if("constant"===s.kind)return{kind:"constant",layoutSize:s.evaluate(new ce(o+1))};if("source"===s.kind)return{kind:"source"};{const{zoomStops:d,interpolationType:m}=s;let g=0;for(;g<d.length&&d[g]<=o;)g++;g=Math.max(0,g-1);let y=g;for(;y<d.length&&d[y]<o+1;)y++;y=Math.min(d.length-1,y);const v=d[g],M=d[y];return"composite"===s.kind?{kind:"composite",minZoom:v,maxZoom:M,interpolationType:m}:{kind:"camera",minZoom:v,maxZoom:M,minSize:s.evaluate(new ce(v)),maxSize:s.evaluate(new ce(M)),interpolationType:m}}}function Rs(o,{uSize:r,uSizeT:s},{lowerSize:d,upperSize:m}){return"source"===o.kind?d/Wl:"composite"===o.kind?In(d/Wl,m/Wl,s):r}function Rh(o,r){let s=0,d=0;if("constant"===o.kind)d=o.layoutSize;else if("source"!==o.kind){const{interpolationType:m,minZoom:g,maxZoom:y}=o,v=m?Gt(Ys.interpolationFactor(m,r,g,y),0,1):0;"camera"===o.kind?d=In(o.minSize,o.maxSize,v):s=v}return{uSizeT:s,uSize:d}}var Dw=Object.freeze({__proto__:null,getSizeData:Rm,evaluateSizeForFeature:Rs,evaluateSizeForZoom:Rh,SIZE_PACK_FACTOR:Wl});function ab(o,r,s){return o.sections.forEach(d=>{d.text=function(m,g,y){const v=g.layout.get("text-transform").evaluate(y,{});return"uppercase"===v?m=m.toLocaleUpperCase():"lowercase"===v&&(m=m.toLocaleLowerCase()),se.applyArabicShaping&&(m=se.applyArabicShaping(m)),m}(d.text,r,s)}),o}const el={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function rb(o){return"\ufe36"===o||"\ufe48"===o||"\ufe38"===o||"\ufe44"===o||"\ufe42"===o||"\ufe3e"===o||"\ufe3c"===o||"\ufe3a"===o||"\ufe18"===o||"\ufe40"===o||"\ufe10"===o||"\ufe13"===o||"\ufe14"===o||"\uff40"===o||"\uffe3"===o||"\ufe11"===o||"\ufe12"===o}function jy(o){return"\ufe35"===o||"\ufe47"===o||"\ufe37"===o||"\ufe43"===o||"\ufe41"===o||"\ufe3d"===o||"\ufe3b"===o||"\ufe39"===o||"\ufe17"===o||"\ufe3f"===o}var gg=function(o,r,s,d,m){var g,y,v=8*m-d-1,M=(1<<v)-1,T=M>>1,A=-7,P=s?m-1:0,N=s?-1:1,G=o[r+P];for(P+=N,g=G&(1<<-A)-1,G>>=-A,A+=v;A>0;g=256*g+o[r+P],P+=N,A-=8);for(y=g&(1<<-A)-1,g>>=-A,A+=d;A>0;y=256*y+o[r+P],P+=N,A-=8);if(0===g)g=1-T;else{if(g===M)return y?NaN:1/0*(G?-1:1);y+=Math.pow(2,d),g-=T}return(G?-1:1)*y*Math.pow(2,g-d)},Sw=function(o,r,s,d,m,g){var y,v,M,T=8*g-m-1,A=(1<<T)-1,P=A>>1,N=23===m?Math.pow(2,-24)-Math.pow(2,-77):0,G=d?0:g-1,j=d?1:-1,J=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(v=isNaN(r)?1:0,y=A):(y=Math.floor(Math.log(r)/Math.LN2),r*(M=Math.pow(2,-y))<1&&(y--,M*=2),(r+=y+P>=1?N/M:N*Math.pow(2,1-P))*M>=2&&(y++,M/=2),y+P>=A?(v=0,y=A):y+P>=1?(v=(r*M-1)*Math.pow(2,m),y+=P):(v=r*Math.pow(2,P-1)*Math.pow(2,m),y=0));m>=8;o[s+G]=255&v,G+=j,v/=256,m-=8);for(y=y<<m|v,T+=m;T>0;o[s+G]=255&y,G+=j,y/=256,T-=8);o[s+G-j]|=128*J},zm=Ca;function Ca(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}Ca.Varint=0,Ca.Fixed64=1,Ca.Bytes=2,Ca.Fixed32=5;var Zl=4294967296,Yp=1/Zl,qp="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Xl(o){return o.type===Ca.Bytes?o.readVarint()+o.pos:o.pos+1}function Uy(o,r,s){var d=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));s.realloc(d);for(var m=s.pos-1;m>=o;m--)s.buf[m+d]=s.buf[m]}function Gy(o,r){for(var s=0;s<o.length;s++)r.writeVarint(o[s])}function Hk(o,r){for(var s=0;s<o.length;s++)r.writeSVarint(o[s])}function Iw(o,r){for(var s=0;s<o.length;s++)r.writeFloat(o[s])}function jk(o,r){for(var s=0;s<o.length;s++)r.writeDouble(o[s])}function $y(o,r){for(var s=0;s<o.length;s++)r.writeBoolean(o[s])}function Yy(o,r){for(var s=0;s<o.length;s++)r.writeFixed32(o[s])}function Aw(o,r){for(var s=0;s<o.length;s++)r.writeSFixed32(o[s])}function ob(o,r){for(var s=0;s<o.length;s++)r.writeFixed64(o[s])}function Uk(o,r){for(var s=0;s<o.length;s++)r.writeSFixed64(o[s])}function sb(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16)+16777216*o[r+3]}function Zp(o,r,s){o[s]=r,o[s+1]=r>>>8,o[s+2]=r>>>16,o[s+3]=r>>>24}function Ow(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16)+(o[r+3]<<24)}function Gk(o,r,s){r.glyphs=[],1===o&&s.readMessage($k,r)}function $k(o,r,s){if(3===o){const{id:d,bitmap:m,width:g,height:y,left:v,top:M,advance:T}=s.readMessage(Yk,{});r.glyphs.push({id:d,bitmap:new wd({width:g+6,height:y+6},m),metrics:{width:g,height:y,left:v,top:M,advance:T}})}else 4===o?r.ascender=s.readSVarint():5===o&&(r.descender=s.readSVarint())}function Yk(o,r,s){1===o?r.id=s.readVarint():2===o?r.bitmap=s.readBytes():3===o?r.width=s.readVarint():4===o?r.height=s.readVarint():5===o?r.left=s.readSVarint():6===o?r.top=s.readSVarint():7===o&&(r.advance=s.readVarint())}function qy(o){let r=0,s=0;for(const y of o)r+=y.w*y.h,s=Math.max(s,y.w);o.sort((y,v)=>v.h-y.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),s),h:1/0}];let m=0,g=0;for(const y of o)for(let v=d.length-1;v>=0;v--){const M=d[v];if(!(y.w>M.w||y.h>M.h)){if(y.x=M.x,y.y=M.y,g=Math.max(g,y.y+y.h),m=Math.max(m,y.x+y.w),y.w===M.w&&y.h===M.h){const T=d.pop();v<d.length&&(d[v]=T)}else y.h===M.h?(M.x+=y.w,M.w-=y.w):y.w===M.w?(M.y+=y.h,M.h-=y.h):(d.push({x:M.x+y.w,y:M.y,w:M.w-y.w,h:y.h}),M.y+=y.h,M.h-=y.h);break}}return{w:m,h:g,fill:r/(m*g)||0}}Ca.prototype={destroy:function(){this.buf=null},readFields:function(o,r,s){for(s=s||this.length;this.pos<s;){var d=this.readVarint(),m=d>>3,g=this.pos;this.type=7&d,o(m,r,this),this.pos===g&&this.skip(d)}return r},readMessage:function(o,r){return this.readFields(o,r,this.readVarint()+this.pos)},readFixed32:function(){var o=sb(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Ow(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=sb(this.buf,this.pos)+sb(this.buf,this.pos+4)*Zl;return this.pos+=8,o},readSFixed64:function(){var o=sb(this.buf,this.pos)+Ow(this.buf,this.pos+4)*Zl;return this.pos+=8,o},readFloat:function(){var o=gg(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=gg(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var r,s,d=this.buf;return r=127&(s=d[this.pos++]),s<128?r:(r|=(127&(s=d[this.pos++]))<<7,s<128?r:(r|=(127&(s=d[this.pos++]))<<14,s<128?r:(r|=(127&(s=d[this.pos++]))<<21,s<128?r:function(m,g,y){var v,M,T=y.buf;if(v=(112&(M=T[y.pos++]))>>4,M<128||(v|=(127&(M=T[y.pos++]))<<3,M<128)||(v|=(127&(M=T[y.pos++]))<<10,M<128)||(v|=(127&(M=T[y.pos++]))<<17,M<128)||(v|=(127&(M=T[y.pos++]))<<24,M<128)||(v|=(1&(M=T[y.pos++]))<<31,M<128))return function(o,r,s){return s?4294967296*r+(o>>>0):4294967296*(r>>>0)+(o>>>0)}(m,v,g);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(s=d[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var o=this.readVarint()+this.pos,r=this.pos;return this.pos=o,o-r>=12&&qp?qp.decode(this.buf.subarray(r,o)):function(s,d,m){for(var g="",y=d;y<m;){var v,M,T,A=s[y],P=null,N=A>239?4:A>223?3:A>191?2:1;if(y+N>m)break;1===N?A<128&&(P=A):2===N?128==(192&(v=s[y+1]))&&(P=(31&A)<<6|63&v)<=127&&(P=null):3===N?(M=s[y+2],128==(192&(v=s[y+1]))&&128==(192&M)&&((P=(15&A)<<12|(63&v)<<6|63&M)<=2047||P>=55296&&P<=57343)&&(P=null)):4===N&&(M=s[y+2],T=s[y+3],128==(192&(v=s[y+1]))&&128==(192&M)&&128==(192&T)&&((P=(15&A)<<18|(63&v)<<12|(63&M)<<6|63&T)<=65535||P>=1114112)&&(P=null)),null===P?(P=65533,N=1):P>65535&&(P-=65536,g+=String.fromCharCode(P>>>10&1023|55296),P=56320|1023&P),g+=String.fromCharCode(P),y+=N}return g}(this.buf,r,o)},readBytes:function(){var o=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,o);return this.pos=o,r},readPackedVarint:function(o,r){if(this.type!==Ca.Bytes)return o.push(this.readVarint(r));var s=Xl(this);for(o=o||[];this.pos<s;)o.push(this.readVarint(r));return o},readPackedSVarint:function(o){if(this.type!==Ca.Bytes)return o.push(this.readSVarint());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==Ca.Bytes)return o.push(this.readBoolean());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==Ca.Bytes)return o.push(this.readFloat());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==Ca.Bytes)return o.push(this.readDouble());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==Ca.Bytes)return o.push(this.readFixed32());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==Ca.Bytes)return o.push(this.readSFixed32());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==Ca.Bytes)return o.push(this.readFixed64());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==Ca.Bytes)return o.push(this.readSFixed64());var r=Xl(this);for(o=o||[];this.pos<r;)o.push(this.readSFixed64());return o},skip:function(o){var r=7&o;if(r===Ca.Varint)for(;this.buf[this.pos++]>127;);else if(r===Ca.Bytes)this.pos=this.readVarint()+this.pos;else if(r===Ca.Fixed32)this.pos+=4;else{if(r!==Ca.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(o,r){this.writeVarint(o<<3|r)},realloc:function(o){for(var r=this.length||16;r<this.pos+o;)r*=2;if(r!==this.length){var s=new Uint8Array(r);s.set(this.buf),this.buf=s,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Zp(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Zp(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Zp(this.buf,-1&o,this.pos),Zp(this.buf,Math.floor(o*Yp),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Zp(this.buf,-1&o,this.pos),Zp(this.buf,Math.floor(o*Yp),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(r,s){var d,m,g,v;if(r>=0?(d=r%4294967296|0,m=r/4294967296|0):(m=~(-r/4294967296),4294967295^(d=~(-r%4294967296))?d=d+1|0:(d=0,m=m+1|0)),r>=0x10000000000000000||r<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),g=d,(v=s).buf[v.pos++]=127&g|128,g>>>=7,v.buf[v.pos++]=127&g|128,g>>>=7,v.buf[v.pos++]=127&g|128,g>>>=7,v.buf[v.pos++]=127&g|128,v.buf[v.pos]=127&(g>>>=7),function(g,y){var v=(7&g)<<4;y.buf[y.pos++]|=v|((g>>>=3)?128:0),g&&(y.buf[y.pos++]=127&g|((g>>>=7)?128:0),g&&(y.buf[y.pos++]=127&g|((g>>>=7)?128:0),g&&(y.buf[y.pos++]=127&g|((g>>>=7)?128:0),g&&(y.buf[y.pos++]=127&g|((g>>>=7)?128:0),g&&(y.buf[y.pos++]=127&g)))))}(m,s)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(Boolean(o))},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var r=this.pos;this.pos=function(d,m,g){for(var y,v,M=0;M<m.length;M++){if((y=m.charCodeAt(M))>55295&&y<57344){if(!v){y>56319||M+1===m.length?(d[g++]=239,d[g++]=191,d[g++]=189):v=y;continue}if(y<56320){d[g++]=239,d[g++]=191,d[g++]=189,v=y;continue}y=v-55296<<10|y-56320|65536,v=null}else v&&(d[g++]=239,d[g++]=191,d[g++]=189,v=null);y<128?d[g++]=y:(y<2048?d[g++]=y>>6|192:(y<65536?d[g++]=y>>12|224:(d[g++]=y>>18|240,d[g++]=y>>12&63|128),d[g++]=y>>6&63|128),d[g++]=63&y|128)}return g}(this.buf,o,this.pos);var s=this.pos-r;s>=128&&Uy(r,s,this),this.pos=r-1,this.writeVarint(s),this.pos+=s},writeFloat:function(o){this.realloc(4),Sw(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Sw(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var r=o.length;this.writeVarint(r),this.realloc(r);for(var s=0;s<r;s++)this.buf[this.pos++]=o[s]},writeRawMessage:function(o,r){this.pos++;var s=this.pos;o(r,this);var d=this.pos-s;d>=128&&Uy(s,d,this),this.pos=s-1,this.writeVarint(d),this.pos+=d},writeMessage:function(o,r,s){this.writeTag(o,Ca.Bytes),this.writeRawMessage(r,s)},writePackedVarint:function(o,r){r.length&&this.writeMessage(o,Gy,r)},writePackedSVarint:function(o,r){r.length&&this.writeMessage(o,Hk,r)},writePackedBoolean:function(o,r){r.length&&this.writeMessage(o,$y,r)},writePackedFloat:function(o,r){r.length&&this.writeMessage(o,Iw,r)},writePackedDouble:function(o,r){r.length&&this.writeMessage(o,jk,r)},writePackedFixed32:function(o,r){r.length&&this.writeMessage(o,Yy,r)},writePackedSFixed32:function(o,r){r.length&&this.writeMessage(o,Aw,r)},writePackedFixed64:function(o,r){r.length&&this.writeMessage(o,ob,r)},writePackedSFixed64:function(o,r){r.length&&this.writeMessage(o,Uk,r)},writeBytesField:function(o,r){this.writeTag(o,Ca.Bytes),this.writeBytes(r)},writeFixed32Field:function(o,r){this.writeTag(o,Ca.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(o,r){this.writeTag(o,Ca.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(o,r){this.writeTag(o,Ca.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(o,r){this.writeTag(o,Ca.Fixed64),this.writeSFixed64(r)},writeVarintField:function(o,r){this.writeTag(o,Ca.Varint),this.writeVarint(r)},writeSVarintField:function(o,r){this.writeTag(o,Ca.Varint),this.writeSVarint(r)},writeStringField:function(o,r){this.writeTag(o,Ca.Bytes),this.writeString(r)},writeFloatField:function(o,r){this.writeTag(o,Ca.Fixed32),this.writeFloat(r)},writeDoubleField:function(o,r){this.writeTag(o,Ca.Fixed64),this.writeDouble(r)},writeBooleanField:function(o,r){this.writeVarintField(o,Boolean(r))}};class Wy{constructor(r,{pixelRatio:s,version:d,stretchX:m,stretchY:g,content:y}){this.paddedRect=r,this.pixelRatio=s,this.stretchX=m,this.stretchY=g,this.content=y,this.version=d}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Lw{constructor(r,s){const d={},m={};this.haveRenderCallbacks=[];const g=[];this.addImages(r,d,g),this.addImages(s,m,g);const{w:y,h:v}=qy(g),M=new Qs({width:y||1,height:v||1});for(const T in r){const A=r[T],P=d[T].paddedRect;Qs.copy(A.data,M,{x:0,y:0},{x:P.x+1,y:P.y+1},A.data)}for(const T in s){const A=s[T],P=m[T].paddedRect,N=P.x+1,G=P.y+1,j=A.data.width,J=A.data.height;Qs.copy(A.data,M,{x:0,y:0},{x:N,y:G},A.data),Qs.copy(A.data,M,{x:0,y:J-1},{x:N,y:G-1},{width:j,height:1}),Qs.copy(A.data,M,{x:0,y:0},{x:N,y:G+J},{width:j,height:1}),Qs.copy(A.data,M,{x:j-1,y:0},{x:N-1,y:G},{width:1,height:J}),Qs.copy(A.data,M,{x:0,y:0},{x:N+j,y:G},{width:1,height:J})}this.image=M,this.iconPositions=d,this.patternPositions=m}addImages(r,s,d){for(const m in r){const g=r[m],y={x:0,y:0,w:g.data.width+2,h:g.data.height+2};d.push(y),s[m]=new Wy(y,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(r,s){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>r.hasImage(d)),r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in r.updatedImages)this.patchUpdatedImage(this.iconPositions[d],r.getImage(d),s),this.patchUpdatedImage(this.patternPositions[d],r.getImage(d),s)}patchUpdatedImage(r,s,d){if(!r||!s||r.version===s.version)return;r.version=s.version;const[m,g]=r.tl;d.update(s.data,void 0,{x:m,y:g})}}kt(Wy,"ImagePosition"),kt(Lw,"ImageAtlas");const kl={horizontal:1,vertical:2,horizontalOnly:3};class Ml{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,s){const d=new Ml;return d.scale=r||1,d.fontStack=s,d}static forImage(r){const s=new Ml;return s.imageName=r,s}}class Su{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,s){const d=new Su;for(let m=0;m<r.sections.length;m++){const g=r.sections[m];g.image?d.addImageSection(g):d.addTextSection(g,s)}return d}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSections(){return this.sections}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(r){this.text=function(s,d){let m="";for(let g=0;g<s.length;g++){const y=s.charCodeAt(g+1)||null,v=s.charCodeAt(g-1)||null;m+=!d&&(y&&gd(y)&&!el[s[g+1]]||v&&gd(v)&&!el[s[g-1]])||!el[s[g]]?s[g]:el[s[g]]}return m}(this.text,r)}trim(){let r=0;for(let d=0;d<this.text.length&&Xp[this.text.charCodeAt(d)];d++)r++;let s=this.text.length;for(let d=this.text.length-1;d>=0&&d>=r&&Xp[this.text.charCodeAt(d)];d--)s--;this.text=this.text.substring(r,s),this.sectionIndex=this.sectionIndex.slice(r,s)}substring(r,s){const d=new Su;return d.text=this.text.substring(r,s),d.sectionIndex=this.sectionIndex.slice(r,s),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,s)=>Math.max(r,this.sections[s].scale),0)}addTextSection(r,s){this.text+=r.text,this.sections.push(Ml.forText(r.scale,r.fontStack||s));const d=this.sections.length-1;for(let m=0;m<r.text.length;++m)this.sectionIndex.push(d)}addImageSection(r){const s=r.image?r.image.name:"";if(0===s.length)return void ci("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Ml.forImage(s)),this.sectionIndex.push(this.sections.length-1)):ci("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function lb(o,r,s,d,m,g,y,v,M,T,A,P,N,G,j,J){const ae=Su.fromFeature(o,m);let ge;P===kl.vertical&&ae.verticalizePunctuation(N);const{processBidirectionalText:Ce,processStyledBidirectionalText:_e}=se;if(Ce&&1===ae.sections.length){ge=[];const Te=Ce(ae.toString(),hb(ae,T,g,r,d,G,j));for(const $e of Te){const Ge=new Su;Ge.text=$e,Ge.sections=ae.sections;for(let rt=0;rt<$e.length;rt++)Ge.sectionIndex.push(0);ge.push(Ge)}}else if(_e){ge=[];const Te=_e(ae.text,ae.sectionIndex,hb(ae,T,g,r,d,G,j));for(const $e of Te){const Ge=new Su;Ge.text=$e[0],Ge.sectionIndex=$e[1],Ge.sections=ae.sections,ge.push(Ge)}}else ge=function(Te,$e){const Ge=[],rt=Te.text;let Mt=0;for(const Ke of $e)Ge.push(Te.substring(Mt,Ke)),Mt=Ke;return Mt<rt.length&&Ge.push(Te.substring(Mt,rt.length)),Ge}(ae,hb(ae,T,g,r,d,G,j));const ve=[],Ae={positionedLines:ve,text:ae.toString(),top:A[1],bottom:A[1],left:A[0],right:A[0],writingMode:P,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Te,$e,Ge,rt,Mt,Ke,ct,pt,dt,xt,ft,Vt){let Q=0,fi=0,Ft=0;const Ot="right"===pt?1:"left"===pt?0:.5;let Si=!1;for(const Ci of Mt){const Vi=Ci.getSections();for(const ka of Vi){if(ka.imageName)continue;const ha=$e[ka.fontStack];if(ha&&(Si=void 0!==ha.ascender&&void 0!==ha.descender,!Si))break}if(!Si)break}let ai=0;for(const Ci of Mt){Ci.trim();const Vi=Ci.getMaxScale(),ka=(Vi-1)*F,ha={positionedGlyphs:[],lineOffset:0};Te.positionedLines[ai]=ha;const ia=ha.positionedGlyphs;let za=0;if(!Ci.length()){fi+=Ke,++ai;continue}let Za=0,co=0;for(let Bi=0;Bi<Ci.length();Bi++){const tr=Ci.getSection(Bi),Ro=Ci.getSectionIndex(Bi),qi=Ci.getCharCode(Bi);let La=tr.scale,Xo=null,Ua=null,ur=null,uo=F,Ur=0;const Zr=!(dt===kl.horizontal||!ft&&!fd(qi)||ft&&(Xp[qi]||(Wt=qi,ld(Wt)||cd(Wt)||dd(Wt)||Ec(Wt)||Xs(Wt))));if(tr.imageName){const vs=rt[tr.imageName];if(!vs)continue;ur=tr.imageName,Te.iconsInText=Te.iconsInText||!0,Ua=vs.paddedRect;const Xr=vs.displaySize;La=La*F/Vt,Xo={width:Xr[0],height:Xr[1],left:1,top:-3,advance:Zr?Xr[1]:Xr[0],localGlyph:!1},Ur=Si?-Xo.height*La:Vi*F-17-Xr[1]*La,uo=Xo.advance;const Ns=(Zr?Xr[0]:Xr[1])*La-F*Vi;Ns>0&&Ns>za&&(za=Ns)}else{const vs=Ge[tr.fontStack];if(!vs)continue;vs[qi]&&(Ua=vs[qi]);const Xr=$e[tr.fontStack];if(!Xr)continue;const Ns=Xr.glyphs[qi];if(!Ns)continue;if(Xo=Ns.metrics,uo=8203!==qi?F:0,Si){const $m=void 0!==Xr.ascender?Math.abs(Xr.ascender):0,Ym=void 0!==Xr.descender?Math.abs(Xr.descender):0,hf=($m+Ym)*La;Za<hf&&(Za=hf,co=($m-Ym)/2*La),Ur=-$m*La}else Ur=(Vi-La)*F-17}Zr?(Te.verticalizable=!0,ia.push({glyph:qi,imageName:ur,x:Q,y:fi+Ur,vertical:Zr,scale:La,localGlyph:Xo.localGlyph,fontStack:tr.fontStack,sectionIndex:Ro,metrics:Xo,rect:Ua}),Q+=uo*La+xt):(ia.push({glyph:qi,imageName:ur,x:Q,y:fi+Ur,vertical:Zr,scale:La,localGlyph:Xo.localGlyph,fontStack:tr.fontStack,sectionIndex:Ro,metrics:Xo,rect:Ua}),Q+=Xo.advance*La+xt)}0!==ia.length&&(Ft=Math.max(Q-xt,Ft),Si?bg(ia,Ot,za,co,Ke*Vi/2):bg(ia,Ot,za,0,Ke/2)),Q=0;const ys=Ke*Vi+za;ha.lineOffset=Math.max(za,ka),fi+=ys,++ai}var Wt;const da=fi,{horizontalAlign:ua,verticalAlign:Oa}=Zy(ct);(function(Ci,Vi,ka,ha,ia,za){const Za=(Vi-ka)*ia,co=-za*ha;for(const ys of Ci)for(const Bi of ys.positionedGlyphs)Bi.x+=Za,Bi.y+=co})(Te.positionedLines,Ot,ua,Oa,Ft,da),Te.top+=-Oa*da,Te.bottom=Te.top+da,Te.left+=-ua*Ft,Te.right=Te.left+Ft,Te.hasBaseline=Si}(Ae,r,s,d,ge,y,v,M,P,T,N,J),!function(Te){for(const $e of Te)if(0!==$e.positionedGlyphs.length)return!1;return!0}(ve)&&Ae}const Xp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cb={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function db(o,r,s,d,m,g){if(r.imageName){const y=d[r.imageName];return y?y.displaySize[0]*r.scale*F/g+m:0}{const y=s[r.fontStack],v=y&&y.glyphs[o];return v?v.metrics.advance*r.scale+m:0}}function _g(o,r,s,d){const m=Math.pow(o-r,2);return d?o<r?m/2:2*m:m+Math.abs(s)*s}function Pw(o,r,s){let d=0;return 10===o&&(d-=1e4),s&&(d+=150),40!==o&&65288!==o||(d+=50),41!==r&&65289!==r||(d+=50),d}function Cd(o,r,s,d,m,g){let y=null,v=_g(r,s,m,g);for(const M of d){const T=_g(r-M.x,s,m,g)+M.badness;T<=v&&(y=M,v=T)}return{index:o,x:r,priorBreak:y,badness:v}}function ub(o){return o?ub(o.priorBreak).concat(o.index):[]}function hb(o,r,s,d,m,g,y){if("point"!==g)return[];if(!o)return[];const v=[],M=function(N,G,j,J,ae,ge){let Ce=0;for(let _e=0;_e<N.length();_e++){const ve=N.getSection(_e);Ce+=db(N.getCharCode(_e),ve,J,ae,G,ge)}return Ce/Math.max(1,Math.ceil(Ce/j))}(o,r,s,d,m,y),T=o.text.indexOf("\u200b")>=0;let A=0;for(let N=0;N<o.length();N++){const G=o.getSection(N),j=o.getCharCode(N);if(Xp[j]||(A+=db(j,G,d,m,r,y)),N<o.length()-1){const J=!((P=j)<11904||!(mu(P)||xm(P)||Ai(P)||md(P)||Os(P)||ud(P)||Tc(P)||hu(P)||xh(P)||pu(P)||vh(P)||Ul(P)||ps(P)||Mc(P)||uu(P)||hd(P)||fs(P)||fu(P)||wh(P)||jl(P)));(cb[j]||J||G.imageName)&&v.push(Cd(N+1,A,M,v,Pw(j,o.getCharCode(N+1),J&&T),!1))}}var P;return ub(Cd(o.length(),A,M,v,0,!0))}function Zy(o){let r=.5,s=.5;switch(o){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:r,verticalAlign:s}}function bg(o,r,s,d,m){if(!(r||s||d||m))return;const g=o.length-1,y=o[g],v=(y.x+y.metrics.advance*y.scale)*r;for(let M=0;M<=g;M++)o[M].x-=v,o[M].y+=s+d+m}function Fw(o,r,s){const{horizontalAlign:d,verticalAlign:m}=Zy(s),g=r[0]-o.displaySize[0]*d,y=r[1]-o.displaySize[1]*m;return{image:o,top:y,bottom:y+o.displaySize[1],left:g,right:g+o.displaySize[0]}}function mb(o,r,s,d,m,g){const y=o.image;let v;if(y.content){const ae=y.content,ge=y.pixelRatio||1;v=[ae[0]/ge,ae[1]/ge,y.displaySize[0]-ae[2]/ge,y.displaySize[1]-ae[3]/ge]}const M=r.left*g,T=r.right*g;let A,P,N,G;"width"===s||"both"===s?(G=m[0]+M-d[3],P=m[0]+T+d[1]):(G=m[0]+(M+T-y.displaySize[0])/2,P=G+y.displaySize[0]);const j=r.top*g,J=r.bottom*g;return"height"===s||"both"===s?(A=m[1]+j-d[0],N=m[1]+J+d[2]):(A=m[1]+(j+J-y.displaySize[1])/2,N=A+y.displaySize[1]),{image:y,top:A,right:P,bottom:N,left:G,collisionPadding:v}}class kd extends nt{constructor(r,s,d,m,g){super(r,s),this.angle=m,this.z=d,void 0!==g&&(this.segment=g)}clone(){return new kd(this.x,this.y,this.z,this.angle,this.segment)}}function Xy(o,r,s,d,m){if(void 0===r.segment)return!0;let g=r,y=r.segment+1,v=0;for(;v>-s/2;){if(y--,y<0)return!1;v-=o[y].dist(g),g=o[y]}v+=o[y].dist(o[y+1]),y++;const M=[];let T=0;for(;v<s/2;){const A=o[y],P=o[y+1];if(!P)return!1;let N=o[y-1].angleTo(A)-A.angleTo(P);for(N=Math.abs((N+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:v,angleDelta:N}),T+=N;v-M[0].distance>d;)T-=M.shift().angleDelta;if(T>m)return!1;y++,v+=A.dist(P)}return!0}function Nm(o){let r=0;for(let s=0;s<o.length-1;s++)r+=o[s].dist(o[s+1]);return r}function zh(o,r,s){return o?.6*r*s:0}function yg(o,r){return Math.max(o?o.right-o.left:0,r?r.right-r.left:0)}function Bm(o,r,s,d,m,g){const y=zh(s,m,g),v=yg(s,d)*g;let M=0;const T=Nm(o)/2;for(let A=0;A<o.length-1;A++){const P=o[A],N=o[A+1],G=P.dist(N);if(M+G>T){const j=(T-M)/G,J=In(P.x,N.x,j),ae=In(P.y,N.y,j),ge=new kd(J,ae,0,N.angleTo(P),A);return!y||Xy(o,ge,v,y,r)?ge:void 0}M+=G}}function Kp(o,r,s,d,m,g,y,v,M){const T=zh(d,g,y),A=yg(d,m),P=A*y,N=0===o[0].x||o[0].x===M||0===o[0].y||o[0].y===M;return r-P<r/4&&(r=P+r/4),Nh(o,N?r/2*v%r:(A/2+2*g)*y*v%r,r,T,s,P,N,!1,M)}function Nh(o,r,s,d,m,g,y,v,M){const T=g/2,A=Nm(o);let P=0,N=r-s,G=[];for(let j=0;j<o.length-1;j++){const J=o[j],ae=o[j+1],ge=J.dist(ae),Ce=ae.angleTo(J);for(;N+s<P+ge;){N+=s;const _e=(N-P)/ge,ve=In(J.x,ae.x,_e),Ae=In(J.y,ae.y,_e);if(ve>=0&&ve<M&&Ae>=0&&Ae<M&&N-T>=0&&N+T<=A){const Te=new kd(ve,Ae,0,Ce,j);Te._round(),d&&!Xy(o,Te,g,d,m)||G.push(Te)}}P+=ge}return v||G.length||y||(G=Nh(o,P/2,s,d,m,g,y,!0,M)),G}function Ky(o,r,s,d,m){const g=[];for(let y=0;y<o.length;y++){const v=o[y];let M;for(let T=0;T<v.length-1;T++){let A=v[T],P=v[T+1];A.x<r&&P.x<r||(A.x<r?A=new nt(r,A.y+(r-A.x)/(P.x-A.x)*(P.y-A.y))._round():P.x<r&&(P=new nt(r,A.y+(r-A.x)/(P.x-A.x)*(P.y-A.y))._round()),A.y<s&&P.y<s||(A.y<s?A=new nt(A.x+(s-A.y)/(P.y-A.y)*(P.x-A.x),s)._round():P.y<s&&(P=new nt(A.x+(s-A.y)/(P.y-A.y)*(P.x-A.x),s)._round()),A.x>=d&&P.x>=d||(A.x>=d?A=new nt(d,A.y+(d-A.x)/(P.x-A.x)*(P.y-A.y))._round():P.x>=d&&(P=new nt(d,A.y+(d-A.x)/(P.x-A.x)*(P.y-A.y))._round()),A.y>=m&&P.y>=m||(A.y>=m?A=new nt(A.x+(m-A.y)/(P.y-A.y)*(P.x-A.x),m)._round():P.y>=m&&(P=new nt(A.x+(m-A.y)/(P.y-A.y)*(P.x-A.x),m)._round()),M&&A.equals(M[M.length-1])||(M=[A],g.push(M)),M.push(P)))))}}return g}kt(kd,"Anchor");const Vm=1e20;function pb(o,r,s,d,m,g,y,v,M){for(let T=r;T<r+d;T++)vg(o,s*g+T,g,m,y,v,M);for(let T=s;T<s+m;T++)vg(o,T*g+r,1,d,y,v,M)}function vg(o,r,s,d,m,g,y){g[0]=0,y[0]=-Vm,y[1]=Vm,m[0]=o[r];for(let v=1,M=0,T=0;v<d;v++){m[v]=o[r+v*s];const A=v*v;do{const P=g[M];T=(m[v]-m[P]+A-P*P)/(v-P)/2}while(T<=y[M]&&--M>-1);M++,g[M]=v,y[M]=T,y[M+1]=Vm}for(let v=0,M=0;v<d;v++){for(;y[M+1]<v;)M++;const T=g[M],A=v-T;o[r+v*s]=m[T]+A*A}}const Jp={none:0,ideographs:1,all:2};class Bh{constructor(r,s,d){this.requestManager=r,this.localGlyphMode=s,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(r){this.url=r}getGlyphs(r,s){const d=[];for(const m in r)for(const g of r[m])d.push({stack:m,id:g});Pa(d,({stack:m,id:g},y)=>{let v=this.entries[m];v||(v=this.entries[m]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let M=v.glyphs[g];if(void 0!==M)return void y(null,{stack:m,id:g,glyph:M});if(M=this._tinySDF(v,m,g),M)return v.glyphs[g]=M,void y(null,{stack:m,id:g,glyph:M});const T=Math.floor(g/256);if(256*T>65535)return void y(new Error("glyphs > 65535 not supported"));if(v.ranges[T])return void y(null,{stack:m,id:g,glyph:M});let A=v.requests[T];A||(A=v.requests[T]=[],Bh.loadGlyphRange(m,T,this.url,this.requestManager,(P,N)=>{if(N){v.ascender=N.ascender,v.descender=N.descender;for(const G in N.glyphs)this._doesCharSupportLocalGlyph(+G)||(v.glyphs[+G]=N.glyphs[+G]);v.ranges[T]=!0}for(const G of A)G(P,N);delete v.requests[T]})),A.push((P,N)=>{P?y(P):N&&y(null,{stack:m,id:g,glyph:N.glyphs[g]||null})})},(m,g)=>{if(m)s(m);else if(g){const y={};for(const{stack:v,id:M,glyph:T}of g)void 0===y[v]&&(y[v]={}),void 0===y[v].glyphs&&(y[v].glyphs={}),y[v].glyphs[M]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics},y[v].ascender=this.entries[v].ascender,y[v].descender=this.entries[v].descender;s(null,y)}})}_doesCharSupportLocalGlyph(r){return this.localGlyphMode!==Jp.none&&(this.localGlyphMode===Jp.all?!!this.localFontFamily:!!this.localFontFamily&&(pu(r)||St(r)||ps(r)||fs(r)||hu(r)))}_tinySDF(r,s,d){const m=this.localFontFamily;if(!m||!this._doesCharSupportLocalGlyph(d))return;let g=r.tinySDF;if(!g){let J="400";/bold/i.test(s)?J="900":/medium/i.test(s)?J="500":/light/i.test(s)&&(J="200"),g=r.tinySDF=new Bh.TinySDF({fontFamily:m,fontWeight:J,fontSize:48,buffer:6,radius:16}),g.fontWeight=J}if(this.localGlyphs[g.fontWeight][d])return this.localGlyphs[g.fontWeight][d];const y=String.fromCharCode(d),{data:v,width:M,height:T,glyphWidth:A,glyphHeight:P,glyphLeft:N,glyphTop:G,glyphAdvance:j}=g.draw(y);return this.localGlyphs[g.fontWeight][d]={id:d,bitmap:new wd({width:M,height:T},v),metrics:{width:A/2,height:P/2,left:N/2,top:G/2-27,advance:j/2,localGlyph:!0}}}}function Qp(o,r,s,d){const m=[],g=o.image,y=g.pixelRatio,v=g.paddedRect.w-2,M=g.paddedRect.h-2,T=o.right-o.left,A=o.bottom-o.top,P=g.stretchX||[[0,v]],N=g.stretchY||[[0,M]],G=(Ke,ct)=>Ke+ct[1]-ct[0],j=P.reduce(G,0),J=N.reduce(G,0),ae=v-j,ge=M-J;let Ce=0,_e=j,ve=0,Ae=J,Te=0,$e=ae,Ge=0,rt=ge;if(g.content&&d){const Ke=g.content;Ce=xg(P,0,Ke[0]),ve=xg(N,0,Ke[1]),_e=xg(P,Ke[0],Ke[2]),Ae=xg(N,Ke[1],Ke[3]),Te=Ke[0]-Ce,Ge=Ke[1]-ve,$e=Ke[2]-Ke[0]-_e,rt=Ke[3]-Ke[1]-Ae}const Mt=(Ke,ct,pt,dt)=>{const xt=gb(Ke.stretch-Ce,_e,T,o.left),ft=ef(Ke.fixed-Te,$e,Ke.stretch,j),Vt=gb(ct.stretch-ve,Ae,A,o.top),Q=ef(ct.fixed-Ge,rt,ct.stretch,J),fi=gb(pt.stretch-Ce,_e,T,o.left),Ft=ef(pt.fixed-Te,$e,pt.stretch,j),Ot=gb(dt.stretch-ve,Ae,A,o.top),Si=ef(dt.fixed-Ge,rt,dt.stretch,J),ai=new nt(xt,Vt),Wt=new nt(fi,Vt),da=new nt(fi,Ot),ua=new nt(xt,Ot),Oa=new nt(ft/y,Q/y),Ci=new nt(Ft/y,Si/y),Vi=r*Math.PI/180;if(Vi){const ia=Math.sin(Vi),za=Math.cos(Vi),Za=[za,-ia,ia,za];ai._matMult(Za),Wt._matMult(Za),ua._matMult(Za),da._matMult(Za)}const ka=Ke.stretch+Ke.fixed,ha=ct.stretch+ct.fixed;return{tl:ai,tr:Wt,bl:ua,br:da,tex:{x:g.paddedRect.x+1+ka,y:g.paddedRect.y+1+ha,w:pt.stretch+pt.fixed-ka,h:dt.stretch+dt.fixed-ha},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Oa,pixelOffsetBR:Ci,minFontScaleX:$e/y/T,minFontScaleY:rt/y/A,isSDF:s}};if(d&&(g.stretchX||g.stretchY)){const Ke=fb(P,ae,j),ct=fb(N,ge,J);for(let pt=0;pt<Ke.length-1;pt++){const dt=Ke[pt],xt=Ke[pt+1];for(let ft=0;ft<ct.length-1;ft++)m.push(Mt(dt,ct[ft],xt,ct[ft+1]))}}else m.push(Mt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:v+1},{fixed:0,stretch:M+1}));return m}function xg(o,r,s){let d=0;for(const m of o)d+=Math.max(r,Math.min(s,m[1]))-Math.max(r,Math.min(s,m[0]));return d}function fb(o,r,s){const d=[{fixed:-1,stretch:0}];for(const[m,g]of o){const y=d[d.length-1];d.push({fixed:m-y.stretch,stretch:y.stretch}),d.push({fixed:m-y.stretch,stretch:y.stretch+(g-m)})}return d.push({fixed:r+1,stretch:s}),d}function gb(o,r,s,d){return o/r*s+d}function ef(o,r,s,d){return o-r*s/d}function Jy(o,r,s,d){const m=r+o.positionedLines[d].lineOffset;return 0===d?s+m/2:s+(m+(r+o.positionedLines[d-1].lineOffset))/2}Bh.loadGlyphRange=function(o,r,s,d,m){const g=256*r,y=g+255,v=d.transformRequest(d.normalizeGlyphsURL(s).replace("{fontstack}",o).replace("{range}",`${g}-${y}`),be.Glyphs);He(v,(M,T)=>{if(M)m(M);else if(T){const A={},P=new zm(T).readFields(Gk,{});for(const N of P.glyphs)A[N.id]=N;m(null,{glyphs:A,ascender:P.ascender,descender:P.descender})}})},Bh.TinySDF=class{constructor({fontSize:o=24,buffer:r=3,radius:s=8,cutoff:d=.25,fontFamily:m="sans-serif",fontWeight:g="normal",fontStyle:y="normal"}={}){this.buffer=r,this.cutoff=d,this.radius=s;const v=this.size=o+4*r,M=this._createCanvas(v),T=this.ctx=M.getContext("2d",{willReadFrequently:!0});T.font=`${y} ${g} ${o}px ${m}`,T.textBaseline="alphabetic",T.textAlign="left",T.fillStyle="black",this.gridOuter=new Float64Array(v*v),this.gridInner=new Float64Array(v*v),this.f=new Float64Array(v),this.z=new Float64Array(v+1),this.v=new Uint16Array(v)}_createCanvas(o){const r=document.createElement("canvas");return r.width=r.height=o,r}draw(o){const{width:r,actualBoundingBoxAscent:s,actualBoundingBoxDescent:d,actualBoundingBoxLeft:m,actualBoundingBoxRight:g}=this.ctx.measureText(o),y=Math.ceil(s),v=Math.min(this.size-this.buffer,Math.ceil(g-m)),M=Math.min(this.size-this.buffer,y+Math.ceil(d)),T=v+2*this.buffer,A=M+2*this.buffer,P=Math.max(T*A,0),N=new Uint8ClampedArray(P),G={data:N,width:T,height:A,glyphWidth:v,glyphHeight:M,glyphTop:y,glyphLeft:0,glyphAdvance:r};if(0===v||0===M)return G;const{ctx:j,buffer:J,gridInner:ae,gridOuter:ge}=this;j.clearRect(J,J,v,M),j.fillText(o,J,J+y);const Ce=j.getImageData(J,J,v,M);ge.fill(Vm,0,P),ae.fill(0,0,P);for(let _e=0;_e<M;_e++)for(let ve=0;ve<v;ve++){const Ae=Ce.data[4*(_e*v+ve)+3]/255;if(0===Ae)continue;const Te=(_e+J)*T+ve+J;if(1===Ae)ge[Te]=0,ae[Te]=Vm;else{const $e=.5-Ae;ge[Te]=$e>0?$e*$e:0,ae[Te]=$e<0?$e*$e:0}}pb(ge,0,0,T,A,T,this.f,this.v,this.z),pb(ae,J,J,v,M,T,this.f,this.v,this.z);for(let _e=0;_e<P;_e++){const ve=Math.sqrt(ge[_e])-Math.sqrt(ae[_e]);N[_e]=Math.round(255-255*(ve/this.radius+this.cutoff))}return G}};class Rw{constructor(r=[],s=Qy){if(this.data=r,this.length=this.data.length,this.compare=s,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const r=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:s,compare:d}=this,m=s[r];for(;r>0;){const g=r-1>>1,y=s[g];if(d(m,y)>=0)break;s[r]=y,r=g}s[r]=m}_down(r){const{data:s,compare:d}=this,m=this.length>>1,g=s[r];for(;r<m;){let y=1+(r<<1),v=s[y];const M=y+1;if(M<this.length&&d(s[M],v)<0&&(y=M,v=s[M]),d(v,g)>=0)break;s[r]=v,r=y}s[r]=g}}function Qy(o,r){return o<r?-1:o>r?1:0}function zw(o,r=1,s=!1){let d=1/0,m=1/0,g=-1/0,y=-1/0;const v=o[0];for(let G=0;G<v.length;G++){const j=v[G];(!G||j.x<d)&&(d=j.x),(!G||j.y<m)&&(m=j.y),(!G||j.x>g)&&(g=j.x),(!G||j.y>y)&&(y=j.y)}const M=Math.min(g-d,y-m);let T=M/2;const A=new Rw([],Nw);if(0===M)return new nt(d,m);for(let G=d;G<g;G+=M)for(let j=m;j<y;j+=M)A.push(new lo(G+T,j+T,T,o));let P=function(G){let j=0,J=0,ae=0;const ge=G[0];for(let Ce=0,_e=ge.length,ve=_e-1;Ce<_e;ve=Ce++){const Ae=ge[Ce],Te=ge[ve],$e=Ae.x*Te.y-Te.x*Ae.y;J+=(Ae.x+Te.x)*$e,ae+=(Ae.y+Te.y)*$e,j+=3*$e}return new lo(J/j,ae/j,0,G)}(o),N=A.length;for(;A.length;){const G=A.pop();(G.d>P.d||!P.d)&&(P=G,s&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,N)),G.max-P.d<=r||(T=G.h/2,A.push(new lo(G.p.x-T,G.p.y-T,T,o)),A.push(new lo(G.p.x+T,G.p.y-T,T,o)),A.push(new lo(G.p.x-T,G.p.y+T,T,o)),A.push(new lo(G.p.x+T,G.p.y+T,T,o)),N+=4)}return s&&(console.log(`num probes: ${N}`),console.log(`best distance: ${P.d}`)),P.p}function Nw(o,r){return r.max-o.max}function lo(o,r,s,d){this.p=new nt(o,r),this.h=s,this.d=function(m,g){let y=!1,v=1/0;for(let M=0;M<g.length;M++){const T=g[M];for(let A=0,P=T.length,N=P-1;A<P;N=A++){const G=T[A],j=T[N];G.y>m.y!=j.y>m.y&&m.x<(j.x-G.x)*(m.y-G.y)/(j.y-G.y)+G.x&&(y=!y),v=Math.min(v,py(m,G,j))}}return(y?1:-1)*Math.sqrt(v)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}const _b=Number.POSITIVE_INFINITY,Bw=Math.sqrt(2);function Vw(o,r){return r[1]!==_b?function(s,d,m){let g=0,y=0;switch(d=Math.abs(d),m=Math.abs(m),s){case"top-right":case"top-left":case"top":y=m-7;break;case"bottom-right":case"bottom-left":case"bottom":y=7-m}switch(s){case"top-right":case"bottom-right":case"right":g=-d;break;case"top-left":case"bottom-left":case"left":g=d}return[g,y]}(o,r[0],r[1]):function(s,d){let m=0,g=0;d<0&&(d=0);const y=d/Bw;switch(s){case"top-right":case"top-left":g=y-7;break;case"bottom-right":case"bottom-left":g=7-y;break;case"bottom":g=7-d;break;case"top":g=d-7}switch(s){case"top-right":case"bottom-right":m=-y;break;case"top-left":case"bottom-left":m=y;break;case"left":m=d;break;case"right":m=-d}return[m,g]}(o,r[0])}function qk(o,r,s,d,m,g,y,v,M,T){o.createArrays(),o.tilePixelRatio=Zn/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;const A=o.layers[0].layout,P=o.layers[0]._unevaluatedLayout._values,N={};if("composite"===o.textSizeData.kind){const{minZoom:J,maxZoom:ae}=o.textSizeData;N.compositeTextSizes=[P["text-size"].possiblyEvaluate(new ce(J),v),P["text-size"].possiblyEvaluate(new ce(ae),v)]}if("composite"===o.iconSizeData.kind){const{minZoom:J,maxZoom:ae}=o.iconSizeData;N.compositeIconSizes=[P["icon-size"].possiblyEvaluate(new ce(J),v),P["icon-size"].possiblyEvaluate(new ce(ae),v)]}N.layoutTextSize=P["text-size"].possiblyEvaluate(new ce(M+1),v),N.layoutIconSize=P["icon-size"].possiblyEvaluate(new ce(M+1),v),N.textMaxSize=P["text-size"].possiblyEvaluate(new ce(18),v);const G="map"===A.get("text-rotation-alignment")&&"point"!==A.get("symbol-placement"),j=A.get("text-size");for(const J of o.features){const ae=A.get("text-font").evaluate(J,{},v).join(","),ge=j.evaluate(J,{},v),Ce=N.layoutTextSize.evaluate(J,{},v),_e=(N.layoutIconSize.evaluate(J,{},v),{horizontal:{},vertical:void 0}),ve=J.text;let Ae,Te=[0,0];if(ve){const rt=ve.toString(),Mt=A.get("text-letter-spacing").evaluate(J,{},v)*F,Ke=A.get("text-line-height").evaluate(J,{},v)*F,ct=Yf(rt)?Mt:0,pt=A.get("text-anchor").evaluate(J,{},v),dt=A.get("text-variable-anchor");if(!dt){const Ft=A.get("text-radial-offset").evaluate(J,{},v);Te=Ft?Vw(pt,[Ft*F,_b]):A.get("text-offset").evaluate(J,{},v).map(Ot=>Ot*F)}let xt=G?"center":A.get("text-justify").evaluate(J,{},v);const ft=A.get("symbol-placement"),Vt="point"===ft,Q="point"===ft?A.get("text-max-width").evaluate(J,{},v)*F:0,fi=Ft=>{o.allowVerticalPlacement&&Gl(rt)&&(_e.vertical=lb(ve,r,s,m,ae,Q,Ke,pt,Ft,ct,Te,kl.vertical,!0,ft,Ce,ge))};if(!G&&dt){const Ft="auto"===xt?dt.map(Si=>wg(Si)):[xt];let Ot=!1;for(let Si=0;Si<Ft.length;Si++){const ai=Ft[Si];if(!_e.horizontal[ai])if(Ot)_e.horizontal[ai]=_e.horizontal[0];else{const Wt=lb(ve,r,s,m,ae,Q,Ke,"center",ai,ct,Te,kl.horizontal,!1,ft,Ce,ge);Wt&&(_e.horizontal[ai]=Wt,Ot=1===Wt.positionedLines.length)}}fi("left")}else{if("auto"===xt&&(xt=wg(pt)),Vt||A.get("text-writing-mode").indexOf("horizontal")>=0||!Gl(rt)){const Ft=lb(ve,r,s,m,ae,Q,Ke,pt,xt,ct,Te,kl.horizontal,!1,ft,Ce,ge);Ft&&(_e.horizontal[xt]=Ft)}fi("point"===ft?"left":xt)}}let $e=!1;if(J.icon&&J.icon.name){const rt=d[J.icon.name];rt&&(Ae=Fw(m[J.icon.name],A.get("icon-offset").evaluate(J,{},v),A.get("icon-anchor").evaluate(J,{},v)),$e=rt.sdf,void 0===o.sdfIcons?o.sdfIcons=rt.sdf:o.sdfIcons!==rt.sdf&&ci("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(rt.pixelRatio!==o.pixelRatio||0!==A.get("icon-rotate").constantOr(1))&&(o.iconsNeedLinear=!0))}const Ge=bb(_e.horizontal)||_e.vertical;o.iconsInText||(o.iconsInText=!!Ge&&Ge.iconsInText),(Ge||Ae)&&Wk(o,J,_e,Ae,d,N,Ce,0,Te,$e,y,v,T)}g&&o.generateCollisionDebugBuffers(M,o.collisionBoxArray)}function wg(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Wk(o,r,s,d,m,g,y,v,M,T,A,P,N){let G=g.textMaxSize.evaluate(r,{},P);void 0===G&&(G=y);const j=o.layers[0].layout,J=j.get("icon-offset").evaluate(r,{},P),ae=bb(s.horizontal)||s.vertical,ge="globe"===N.name,Ce=y/24,_e=o.tilePixelRatio*G/24,ve=(ct=o.overscaling,o.zoom>18&&ct>2&&(ct>>=1),Math.max(Zn/(512*ct),1)*j.get("symbol-spacing")),Ae=j.get("text-padding")*o.tilePixelRatio,Te=j.get("icon-padding")*o.tilePixelRatio,$e=pn(j.get("text-max-angle")),Ge="map"===j.get("text-rotation-alignment")&&"point"!==j.get("symbol-placement"),rt="map"===j.get("icon-rotation-alignment")&&"point"!==j.get("symbol-placement"),Mt=j.get("symbol-placement"),Ke=ve/2;var ct;const pt=j.get("icon-text-fit");let dt;d&&"none"!==pt&&(o.allowVerticalPlacement&&s.vertical&&(dt=mb(d,s.vertical,pt,j.get("icon-text-fit-padding"),J,Ce)),ae&&(d=mb(d,ae,pt,j.get("icon-text-fit-padding"),J,Ce)));const xt=(ft,Vt,Q)=>{if(Vt.x<0||Vt.x>=Zn||Vt.y<0||Vt.y>=Zn)return;let fi=null;if(ge){const{x:Ft,y:Ot,z:Si}=N.projectTilePoint(Vt.x,Vt.y,Q);fi={anchor:new kd(Ft,Ot,Si,0,void 0),up:N.upVector(Q,Vt.x,Vt.y)}}!function(Ft,Ot,Si,ai,Wt,da,ua,Oa,Ci,Vi,ka,ha,ia,za,Za,co,ys,Bi,tr,Ro,qi,La,Xo,Ua,ur){const uo=Ft.addToLineVertexArray(Ot,ai);let Ur,Zr,vs,Xr,Ns,$m,Ym,hf=0,Hb=0,mf=0,O1=0,Rg=-1,jb=-1;const Rc={};let L1=kp("");const Gh=Si?Si.anchor:Ot;let Ub=0,zg=0;if(void 0===Ci._unevaluatedLayout.getValue("text-radial-offset")?[Ub,zg]=Ci.layout.get("text-offset").evaluate(qi,{},ur).map(Ko=>Ko*F):(Ub=Ci.layout.get("text-radial-offset").evaluate(qi,{},ur)*F,zg=_b),Ft.allowVerticalPlacement&&Wt.vertical){const Ko=Wt.vertical;if(Za)$m=yb(Ko),Oa&&(Ym=yb(Oa));else{const nl=Ci.layout.get("text-rotate").evaluate(qi,{},ur)+90;vs=kg(Vi,Gh,Ot,ka,ha,ia,Ko,za,nl,co),Oa&&(Xr=kg(Vi,Gh,Ot,ka,ha,ia,Oa,Bi,nl))}}if(da){const Ko=Ci.layout.get("icon-rotate").evaluate(qi,{},ur),nl="none"!==Ci.layout.get("icon-text-fit"),$h=Qp(da,Ko,Xo,nl),Gb=Oa?Qp(Oa,Ko,Xo,nl):void 0;Zr=kg(Vi,Gh,Ot,ka,ha,ia,da,Bi,Ko),hf=4*$h.length;const t3=Ft.iconSizeData;let he=null;"source"===t3.kind?(he=[Wl*Ci.layout.get("icon-size").evaluate(qi,{},ur)],he[0]>Iu&&ci(`${Ft.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===t3.kind&&(he=[Wl*La.compositeIconSizes[0].evaluate(qi,{},ur),Wl*La.compositeIconSizes[1].evaluate(qi,{},ur)],(he[0]>Iu||he[1]>Iu)&&ci(`${Ft.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Ft.addSymbols(Ft.icon,$h,he,Ro,tr,qi,!1,Si,Ot,uo.lineStartIndex,uo.lineLength,-1,Ua,ur),Rg=Ft.icon.placedSymbolArray.length-1,Gb&&(Hb=4*Gb.length,Ft.addSymbols(Ft.icon,Gb,he,Ro,tr,qi,kl.vertical,Si,Ot,uo.lineStartIndex,uo.lineLength,-1,Ua,ur),jb=Ft.icon.placedSymbolArray.length-1)}for(const Ko in Wt.horizontal){const nl=Wt.horizontal[Ko];Ur||(L1=kp(nl.text),Za?Ns=yb(nl):Ur=kg(Vi,Gh,Ot,ka,ha,ia,nl,za,Ci.layout.get("text-rotate").evaluate(qi,{},ur),co));const $h=1===nl.positionedLines.length;if(mf+=Cg(Ft,Si,Ot,nl,ua,Ci,Za,qi,co,uo,Wt.vertical?kl.horizontal:kl.horizontalOnly,$h?Object.keys(Wt.horizontal):[Ko],Rc,Rg,La,Ua,ur),$h)break}Wt.vertical&&(O1+=Cg(Ft,Si,Ot,Wt.vertical,ua,Ci,Za,qi,co,uo,kl.vertical,["vertical"],Rc,jb,La,Ua,ur));let Fu=-1;const Ng=(Ko,nl)=>Ko?Math.max(Ko,nl):nl;Fu=Ng(Ns,Fu),Fu=Ng($m,Fu),Fu=Ng(Ym,Fu);const P1=Fu>-1?1:0;Ft.glyphOffsetArray.length>=Lu.MAX_GLYPHS&&ci("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==qi.sortKey&&Ft.addToSortKeyRanges(Ft.symbolInstances.length,qi.sortKey),Ft.symbolInstances.emplaceBack(Gh.x,Gh.y,Gh.z,Ot.x,Ot.y,Rc.right>=0?Rc.right:-1,Rc.center>=0?Rc.center:-1,Rc.left>=0?Rc.left:-1,Rc.vertical>=0?Rc.vertical:-1,Rg,jb,L1,void 0!==Ur?Ur:Ft.collisionBoxArray.length,void 0!==Ur?Ur+1:Ft.collisionBoxArray.length,void 0!==vs?vs:Ft.collisionBoxArray.length,void 0!==vs?vs+1:Ft.collisionBoxArray.length,void 0!==Zr?Zr:Ft.collisionBoxArray.length,void 0!==Zr?Zr+1:Ft.collisionBoxArray.length,Xr||Ft.collisionBoxArray.length,Xr?Xr+1:Ft.collisionBoxArray.length,ka,mf,O1,hf,Hb,P1,0,Ub,zg,Fu)}(o,Vt,fi,ft,s,d,m,dt,o.layers[0],o.collisionBoxArray,r.index,r.sourceLayerIndex,o.index,Ae,Ge,M,0,Te,rt,J,r,g,T,A,P)};if("line"===Mt)for(const ft of Ky(r.geometry,0,0,Zn,Zn)){const Vt=Kp(ft,ve,$e,s.vertical||ae,d,24,_e,o.overscaling,Zn);for(const Q of Vt){const fi=ae;fi&&Hw(o,fi.text,Ke,Q)||xt(ft,Q,P)}}else if("line-center"===Mt){for(const ft of r.geometry)if(ft.length>1){const Vt=Bm(ft,$e,s.vertical||ae,d,24,_e);Vt&&xt(ft,Vt,P)}}else if("Polygon"===r.type)for(const ft of hg(r.geometry,0)){const Vt=zw(ft,16);xt(ft[0],new kd(Vt.x,Vt.y,0,0,void 0),P)}else if("LineString"===r.type)for(const ft of r.geometry)xt(ft,new kd(ft[0].x,ft[0].y,0,0,void 0),P);else if("Point"===r.type)for(const ft of r.geometry)for(const Vt of ft)xt([Vt],new kd(Vt.x,Vt.y,0,0,void 0),P)}const Iu=32640;function Cg(o,r,s,d,m,g,y,v,M,T,A,P,N,G,j,J,ae){const ge=function(ve,Ae,Te,$e,Ge,rt,Mt,Ke){const ct=[];if(0===Ae.positionedLines.length)return ct;const pt=$e.layout.get("text-rotate").evaluate(rt,{})*Math.PI/180,dt=function(fi){const Ft=fi[0],Ot=fi[1],Si=Ft*Ot;return Si>0?[Ft,-Ot]:Si<0?[-Ft,Ot]:0===Ft?[Ot,Ft]:[Ot,-Ft]}(Te);let xt=Math.abs(Ae.top-Ae.bottom);for(const fi of Ae.positionedLines)xt-=fi.lineOffset;const ft=Ae.positionedLines.length,Vt=xt/ft;let Q=Ae.top-Te[1];for(let fi=0;fi<ft;++fi){const Ft=Ae.positionedLines[fi];Q=Jy(Ae,Vt,Q,fi);for(const Ot of Ft.positionedGlyphs){if(!Ot.rect)continue;const Si=Ot.rect||{};let ai=4,Wt=!0,da=1,ua=0;if(Ot.imageName){const Ua=Mt[Ot.imageName];if(!Ua)continue;if(Ua.sdf){ci("SDF images are not supported in formatted text and will be ignored.");continue}Wt=!1,da=Ua.pixelRatio,ai=1/da}const Oa=(Ge||Ke)&&Ot.vertical,Ci=Ot.metrics.advance*Ot.scale/2,Vi=Ot.metrics,ka=Ot.rect;if(null===ka)continue;Ke&&Ae.verticalizable&&(ua=Ot.imageName?Ci-Ot.metrics.width*Ot.scale/2:0);const ha=Ge?[Ot.x+Ci,Ot.y]:[0,0];let ia=[0,0],za=[0,0],Za=!1;Ge||(Oa?(za=[Ot.x+Ci+dt[0],Ot.y+dt[1]-ua],Za=!0):ia=[Ot.x+Ci+Te[0],Ot.y+Te[1]-ua]);const co=ka.w*Ot.scale/(da*(Ot.localGlyph?2:1)),ys=ka.h*Ot.scale/(da*(Ot.localGlyph?2:1));let Bi,tr,Ro,qi;if(Oa){const Ua=Ot.y-Q,ur=new nt(-Ci,Ci-Ua),uo=-Math.PI/2,Ur=new nt(...za);Bi=new nt(-Ci+ia[0],ia[1]),Bi._rotateAround(uo,ur)._add(Ur),Bi.x+=-Ua+Ci,Bi.y-=(Vi.left-ai)*Ot.scale;const Zr=Ot.imageName?Vi.advance*Ot.scale:F*Ot.scale,vs=String.fromCharCode(Ot.glyph);rb(vs)?Bi.x+=(1-ai)*Ot.scale:jy(vs)?Bi.x+=Zr-Vi.height*Ot.scale+(-ai-1)*Ot.scale:Bi.x+=Ot.imageName||Vi.width+2*ai===ka.w&&Vi.height+2*ai===ka.h?(Zr-ys)/2:(Zr-(Vi.height+2*ai)*Ot.scale)/2,tr=new nt(Bi.x,Bi.y-co),Ro=new nt(Bi.x+ys,Bi.y),qi=new nt(Bi.x+ys,Bi.y-co)}else{const Ua=(Vi.left-ai)*Ot.scale-Ci+ia[0],ur=(-Vi.top-ai)*Ot.scale+ia[1],uo=Ua+co,Ur=ur+ys;Bi=new nt(Ua,ur),tr=new nt(uo,ur),Ro=new nt(Ua,Ur),qi=new nt(uo,Ur)}if(pt){let Ua;Ua=Ge?new nt(0,0):Za?new nt(dt[0],dt[1]):new nt(Te[0],Te[1]),Bi._rotateAround(pt,Ua),tr._rotateAround(pt,Ua),Ro._rotateAround(pt,Ua),qi._rotateAround(pt,Ua)}const La=new nt(0,0),Xo=new nt(0,0);ct.push({tl:Bi,tr,bl:Ro,br:qi,tex:Si,writingMode:Ae.writingMode,glyphOffset:ha,sectionIndex:Ot.sectionIndex,isSDF:Wt,pixelOffsetTL:La,pixelOffsetBR:Xo,minFontScaleX:0,minFontScaleY:0})}}return ct}(0,d,M,g,y,v,m,o.allowVerticalPlacement),Ce=o.textSizeData;let _e=null;"source"===Ce.kind?(_e=[Wl*g.layout.get("text-size").evaluate(v,{},ae)],_e[0]>Iu&&ci(`${o.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===Ce.kind&&(_e=[Wl*j.compositeTextSizes[0].evaluate(v,{},ae),Wl*j.compositeTextSizes[1].evaluate(v,{},ae)],(_e[0]>Iu||_e[1]>Iu)&&ci(`${o.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),o.addSymbols(o.text,ge,_e,M,y,v,A,r,s,T.lineStartIndex,T.lineLength,G,J,ae);for(const ve of P)N[ve]=o.text.placedSymbolArray.length-1;return 4*ge.length}function bb(o){for(const r in o)return o[r];return null}function kg(o,r,s,d,m,g,y,v,M,T){let A=y.top,P=y.bottom,N=y.left,G=y.right;const j=y.collisionPadding;if(j&&(N-=j[0],A-=j[1],G+=j[2],P+=j[3]),M){const J=new nt(N,A),ae=new nt(G,A),ge=new nt(N,P),Ce=new nt(G,P),_e=pn(M);let ve=new nt(0,0);T&&(ve=new nt(T[0],T[1])),J._rotateAround(_e,ve),ae._rotateAround(_e,ve),ge._rotateAround(_e,ve),Ce._rotateAround(_e,ve),N=Math.min(J.x,ae.x,ge.x,Ce.x),G=Math.max(J.x,ae.x,ge.x,Ce.x),A=Math.min(J.y,ae.y,ge.y,Ce.y),P=Math.max(J.y,ae.y,ge.y,Ce.y)}return o.emplaceBack(r.x,r.y,r.z,s.x,s.y,N,A,G,P,v,d,m,g),o.length-1}function yb(o){o.collisionPadding&&(o.top-=o.collisionPadding[1],o.bottom+=o.collisionPadding[3]);const r=o.bottom-o.top;return r>0?Math.max(10,r):null}function Hw(o,r,s,d){const m=o.compareText;if(r in m){const g=m[r];for(let y=g.length-1;y>=0;y--)if(d.dist(g[y])<s)return!0}else m[r]=[];return m[r].push(d),!1}const e1=lt([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:t1}=e1,vb=lt([{name:"a_pos_3",components:3,type:"Int16"}]);var tf=lt([{name:"a_pos",type:"Int16",components:2}]);const Md=Zn/Math.PI/2,Mg=2*Ps(1,0)*Md*Math.PI,Vh=[64,32,16],Kl=-Md,jr=Md,xb=[new bs([Kl,Kl,Kl],[jr,jr,jr]),new bs([Kl,Kl,Kl],[0,0,jr]),new bs([0,Kl,Kl],[jr,0,jr]),new bs([Kl,0,Kl],[0,jr,jr]),new bs([0,0,Kl],[jr,jr,jr])];function n1(o,r,s,d=!0){const m=en([],o._camera.position,o.worldSize),g=[r,s,1,1];ku(g,g,o.pixelMatrixInverse),tg(g,g,1/g[3]);const y=Zo([],Oc([],g,m)),v=o.globeMatrix,M=[v[12],v[13],v[14]],T=Oc([],M,m),A=wu(T),P=Zo([],T),N=o.worldSize/(2*Math.PI),G=wl(P,y),j=Math.asin(N/A);if(j<Math.acos(G)){if(!d)return null;const Mt=[],Ke=[];en(Mt,y,A/G),Zo(Ke,Oc(Ke,Mt,T)),Zo(y,Ac(y,T,en(y,Ke,Math.tan(j)*A)))}const J=[];new N_(m,y).closestPointOnSphere(M,N,J);const ae=Zo([],Ka(v,0)),ge=Zo([],Ka(v,1)),Ce=Zo([],Ka(v,2)),_e=wl(ae,J),ve=wl(ge,J),Ae=wl(Ce,J),Te=oi(Math.asin(-ve/N));let $e=oi(Math.atan2(_e,Ae));$e=o.center.lng+function(Mt,Ke){const ct=(Ke-Mt+180)%360-180;return ct<-180?ct+360:ct}(o.center.lng,$e);const Ge=Sc($e),rt=Gt(xl(Te),0,1);return new vu(Ge,rt)}class jw{constructor(r,s,d){this.a=Oc([],r,d),this.b=Oc([],s,d),this.center=d;const m=Zo([],this.a),g=Zo([],this.b);this.angle=Math.acos(wl(m,g))}}function i1(o,r){if(0===o.angle)return null;let s;return s=0===o.a[r]?1/o.angle*.5*Math.PI:1/o.angle*Math.atan(o.b[r]/o.a[r]/Math.sin(o.angle)-1/Math.tan(o.angle)),s<0||s>1?null:function(d,m,g,y){const v=Math.sin(g);return d*(Math.sin((1-y)*g)/v)+m*(Math.sin(y*g)/v)}(o.a[r],o.b[r],o.angle,Gt(s,0,1))+o.center[r]}function Jl(o){if(o.z<=1)return xb[o.z+2*o.y+o.x];const r=wb(Hm(o));return bs.fromPoints(r)}function a1(o,r){const s=nf(r.zoom);if(0===s)return Jl(o);const d=Hm(o),m=wb(d),g=Sc(d.getWest())*r.worldSize,y=Sc(d.getEast())*r.worldSize,v=xl(d.getNorth())*r.worldSize,M=xl(d.getSouth())*r.worldSize,T=[g,v,0],A=[y,v,0],P=[g,M,0],N=[y,M,0],G=Ap([],r.globeMatrix);return Ar(T,T,G),Ar(A,A,G),Ar(P,P,G),Ar(N,N,G),m[0]=$s(m[0],P,s),m[1]=$s(m[1],N,s),m[2]=$s(m[2],A,s),m[3]=$s(m[3],T,s),bs.fromPoints(m)}function r1(o,r,s,d,m){for(const g of s)Ar(g,g,d),en(g,g,m),Zi(o,o,g),F_(r,r,g)}function Hm({x:o,y:r,z:s}){const d=1/(1<<s),m=new na(Oo(o*d),so((r+1)*d)),g=new na(Oo((o+1)*d),so(r*d));return new bd(m,g)}function wb(o){const r=pn(o.getNorth()),s=pn(o.getSouth()),d=Math.cos(r),m=Math.cos(s),g=Math.sin(r),y=Math.sin(s),v=o.getWest(),M=o.getEast();return[jm(m,y,v),jm(m,y,M),jm(d,g,M),jm(d,g,v)]}function jm(o,r,s,d=Md){return s=pn(s),[o*Math.sin(s)*d,-r*d,o*Math.cos(s)*d]}function Hh(o,r,s){return jm(Math.cos(pn(o)),Math.sin(pn(o)),r,s)}function jh(o,r,s,d){const m=1<<s.z,g=(o/Zn+s.x)/m;return Hh(so((r/Zn+s.y)/m),Oo(g),d)}function Tg({min:o,max:r}){return 16383/Math.max(r[0]-o[0],r[1]-o[1],r[2]-o[2])}const Eg=new Float64Array(16);function Uh(o){const r=Tg(o),s=yy(Eg,[r,r,r]);return Sh(s,s,((d=[])[0]=-(m=o.min)[0],d[1]=-m[1],d[2]=-m[2],d));var d,m}function Dg(o){const r=(d=o.min,(s=Eg)[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=d[0],s[13]=d[1],s[14]=d[2],s[15]=1,s);var s,d;const m=1/Tg(o);return Dm(r,r,[m,m,m])}function o1(o,r,s,d,m){const g=function(M){const T=Zn/(2*Math.PI);return M/(2*Math.PI)/T}(s),y=[o,r,-s/(2*Math.PI)],v=xd(new Float64Array(16));return Sh(v,v,y),Dm(v,v,[g,g,g]),by(v,v,pn(-m)),Op(v,v,pn(-d)),v}function nf(o){return An(5,6,o)}function Sg(o,r){const s=Hh(r.lat,r.lng);return g=(d=P_([],function(G){const j=Hh(G._center.lat,G._center.lng);let J=R_([],Ih(0,1,0),j);const ae=vy([],-G.angle,j);J=Ar(J,J,ae),vy(ae,-G._pitch,J);const ge=Zo([],j);return en(ge,ge,G.cameraToCenterDistance/G.pixelsPerMeter*Mg),Ar(ge,ge,ae),Ac([],j,ge)}(o),s))[0],y=d[1],v=d[2],M=(m=s)[0],T=m[1],A=m[2],N=(P=Math.sqrt(g*g+y*y+v*v)*Math.sqrt(M*M+T*T+A*A))&&wl(d,m)/P,Math.acos(Math.min(Math.max(N,-1),1));var d,m,g,y,v,M,T,A,P,N}const Gw=pn(85),$w=Math.cos(Gw),s1=Math.sin(Gw);function Cb(o,r){const s=o.fovAboveCenter,d=o.elevation?o.elevation.getMinElevationBelowMSL()*r:0,m=(o._camera.position[2]*o.worldSize-d)/Math.cos(o._pitch),g=Math.sin(s)*m/Math.sin(Math.max(Math.PI/2-o._pitch-s,.01)),y=Math.sin(o._pitch)*g+m;return Math.min(1.01*y,m*(1/o._horizonShift))}function Au(o,r){if(!r.isReprojectedInTileSpace)return{scale:1<<o.z,x:o.x,y:o.y,x2:o.x+1,y2:o.y+1,projection:r};const s=Math.pow(2,-o.z),d=o.x*s,m=(o.x+1)*s,g=o.y*s,y=(o.y+1)*s,v=Oo(d),M=Oo(m),T=so(g),A=so(y),P=r.project(v,T),N=r.project(M,T),G=r.project(M,A),j=r.project(v,A);let J=Math.min(P.x,N.x,G.x,j.x),ae=Math.min(P.y,N.y,G.y,j.y),ge=Math.max(P.x,N.x,G.x,j.x),Ce=Math.max(P.y,N.y,G.y,j.y);const _e=s/16;function ve(Te,$e,Ge,rt,Mt,Ke){const ct=(Ge+Mt)/2,pt=(rt+Ke)/2,dt=r.project(Oo(ct),so(pt)),xt=Math.max(0,J-dt.x,ae-dt.y,dt.x-ge,dt.y-Ce);J=Math.min(J,dt.x),ge=Math.max(ge,dt.x),ae=Math.min(ae,dt.y),Ce=Math.max(Ce,dt.y),xt>_e&&(ve(Te,dt,Ge,rt,ct,pt),ve(dt,$e,ct,pt,Mt,Ke))}ve(P,N,d,g,m,g),ve(N,G,m,g,m,y),ve(G,j,m,y,d,y),ve(j,P,d,y,d,g),J-=_e,ae-=_e,ge+=_e,Ce+=_e;const Ae=1/Math.max(ge-J,Ce-ae);return{scale:Ae,x:J*Ae,y:ae*Ae,x2:ge*Ae,y2:Ce*Ae,projection:r}}const l1=xd(new Float32Array(16));class Td{constructor(r){this.spec=r,this.name=r.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(r,s){return{x:0,y:0,z:0}}unproject(r,s){return new na(0,0)}projectTilePoint(r,s,d){return{x:r,y:s,z:0}}locationPoint(r,s,d=!0){return r._coordinatePoint(r.locationCoordinate(s),d)}pixelsPerMeter(r,s){return Ps(1,r)*s}pixelSpaceConversion(r,s,d){return 1}farthestPixelDistance(r){return Cb(r,r.pixelsPerMeter)}pointCoordinate(r,s,d,m){const g=r.horizonLineFromTop(!1),y=new nt(s,Math.max(g,d));return r.rayIntersectionCoordinate(r.pointRayIntersection(y,m))}pointCoordinate3D(r,s,d){const m=new nt(s,d);if(r.elevation)return r.elevation.pointCoordinate(m);{const g=this.pointCoordinate(r,m.x,m.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(r,s){if(r.elevation)return!this.pointCoordinate3D(r,s.x,s.y);const d=r.horizonLineFromTop();return s.y<d}createInversionMatrix(r,s){return l1}createTileMatrix(r,s,d){let m,g,y;const v=d.canonical,M=xd(new Float64Array(16));if(this.isReprojectedInTileSpace){const T=Au(v,this);m=1,g=T.x+d.wrap*T.scale,y=T.y,Dm(M,M,[m/T.scale,m/T.scale,r.pixelsPerMeter/s])}else m=s/r.zoomScale(v.z),g=(v.x+Math.pow(2,v.z)*d.wrap)*m,y=v.y*m;return Sh(M,M,[g,y,0]),Dm(M,M,[m/Zn,m/Zn,1]),M}upVector(r,s,d){return[0,0,1]}upVectorScale(r,s,d){return{metersToTile:1}}}class Ed extends Td{constructor(r){super(r),this.range=[4,7],this.center=r.center||[-96,37.5];const[s,d]=this.parallels=r.parallels||[29.5,45.5],m=Math.sin(pn(s));this.n=(m+Math.sin(pn(d)))/2,this.c=1+m*(2*this.n-m),this.r0=Math.sqrt(this.c)/this.n}project(r,s){const{n:d,c:m,r0:g}=this,y=pn(r-this.center[0]),v=pn(s),M=Math.sqrt(m-2*d*Math.sin(v))/d;return{x:M*Math.sin(y*d),y:M*Math.cos(y*d)-g,z:0}}unproject(r,s){const{n:d,c:m,r0:g}=this,y=g+s;let v=Math.atan2(r,Math.abs(y))*Math.sign(y);y*d<0&&(v-=Math.PI*Math.sign(r)*Math.sign(y));const M=pn(this.center[0])*d;v=Ta(v,-Math.PI-M,Math.PI-M);const T=oi(v/d)+this.center[0],A=Math.asin(Gt((m-(r*r+y*y)*d*d)/(2*d),-1,1)),P=Gt(oi(A),-85.051129,yd);return new na(T,P)}}const Ou=1.340264,af=-.081106,rf=893e-6,Ig=.003796,Dd=Math.sqrt(3)/2;class c1 extends Td{project(r,s){s=s/180*Math.PI,r=r/180*Math.PI;const d=Math.asin(Dd*Math.sin(s)),m=d*d,g=m*m*m;return{x:.5*(r*Math.cos(d)/(Dd*(Ou+3*af*m+g*(7*rf+9*Ig*m)))/Math.PI+.5),y:1-.5*(d*(Ou+af*m+g*(rf+Ig*m))/Math.PI+1),z:0}}unproject(r,s){r=(2*r-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,m=d*d,g=m*m*m;for(let A,P,N,G=0;G<12&&(P=d*(Ou+af*m+g*(rf+Ig*m))-s,N=Ou+3*af*m+g*(7*rf+9*Ig*m),A=P/N,d=Gt(d-A,-Math.PI/3,Math.PI/3),m=d*d,g=m*m*m,!(Math.abs(A)<1e-12));++G);const y=Dd*r*(Ou+3*af*m+g*(7*rf+9*Ig*m))/Math.cos(d),v=Math.asin(Math.sin(d)/Dd),M=Gt(180*y/Math.PI,-180,180),T=Gt(180*v/Math.PI,-85.051129,yd);return new na(M,T)}}class of extends Td{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0}project(r,s){return{x:.5+r/360,y:.5-s/360,z:0}}unproject(r,s){const d=360*(r-.5),m=Gt(360*(.5-s),-85.051129,yd);return new na(d,m)}}const Lc=Math.PI/2;function Ag(o){return Math.tan((Lc+o)/2)}class kb extends Td{constructor(r){super(r),this.center=r.center||[0,30];const[s,d]=this.parallels=r.parallels||[30,30],m=pn(s),g=pn(d),y=Math.cos(m);this.n=m===g?Math.sin(m):Math.log(y/Math.cos(g))/Math.log(Ag(g)/Ag(m)),this.f=y*Math.pow(Ag(m),this.n)/this.n}project(r,s){s=pn(s),r=pn(r-this.center[0]);const d=1e-6,{n:m,f:g}=this;g>0?s<-Lc+d&&(s=-Lc+d):s>Lc-d&&(s=Lc-d);const y=g/Math.pow(Ag(s),m),v=y*Math.sin(m*r),M=g-y*Math.cos(m*r);return{x:.5*(v/Math.PI+.5),y:1-.5*(M/Math.PI+.5),z:0}}unproject(r,s){r=(2*r-.5)*Math.PI,s=(2*(1-s)-.5)*Math.PI;const{n:d,f:m}=this,g=m-s,y=Math.sign(g),v=Math.sign(d)*Math.sqrt(r*r+g*g);let M=Math.atan2(r,Math.abs(g))*y;g*d<0&&(M-=Math.PI*Math.sign(r)*y);const T=Gt(oi(M/d)+this.center[0],-180,180),A=Gt(oi(2*Math.atan(Math.pow(m/v,1/d))-Lc),-85.051129,yd);return new na(T,A)}}class Mb extends Td{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(r,s){return{x:Sc(r),y:xl(s),z:0}}unproject(r,s){const d=Oo(r),m=so(s);return new na(d,m)}}const d1=pn(yd);class u1 extends Td{project(r,s){const d=(s=pn(s))*s,m=d*d;return{x:.5*((r=pn(r))*(.8707-.131979*d+m*(m*(.003971*d-.001529*m)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+d*(.015085+m*(.028874*d-.044475-.005916*m)))/Math.PI+1),z:0}}unproject(r,s){r=(2*r-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,m=25,g=0,y=d*d;do{y=d*d;const T=y*y;g=(d*(1.007226+y*(.015085+T*(.028874*y-.044475-.005916*T)))-s)/(1.007226+y*(.045255+T*(.259866*y-.311325-.005916*11*T))),d=Gt(d-g,-d1,d1)}while(Math.abs(g)>1e-6&&--m>0);y=d*d;const v=Gt(oi(r/(.8707+y*(y*(y*y*y*(.003971-.001529*y)-.013791)-.131979))),-180,180),M=oi(d);return new na(v,M)}}const h1=pn(yd);class Tb extends Td{project(r,s){s=pn(s),r=pn(r);const d=Math.cos(s),m=2/Math.PI,g=Math.acos(d*Math.cos(r/2)),y=Math.sin(g)/g,v=.5*(r*m+2*d*Math.sin(r/2)/y)||0,M=.5*(s+Math.sin(s)/y)||0;return{x:.5*(v/Math.PI+.5),y:1-.5*(M/Math.PI+1),z:0}}unproject(r,s){let d=r=(2*r-.5)*Math.PI,m=s=(2*(1-s)-1)*Math.PI,g=25;const y=1e-6;let v=0,M=0;do{const T=Math.cos(m),A=Math.sin(m),P=2*A*T,N=A*A,G=T*T,j=Math.cos(d/2),J=Math.sin(d/2),ae=2*j*J,ge=J*J,Ce=1-G*j*j,_e=Ce?1/Ce:0,ve=Ce?Math.acos(T*j)*Math.sqrt(1/Ce):0,Ae=.5*(2*ve*T*J+2*d/Math.PI)-r,Te=.5*(ve*A+m)-s,$e=.5*_e*(G*ge+ve*T*j*N)+1/Math.PI,Ge=_e*(ae*P/4-ve*A*J),rt=.125*_e*(P*J-ve*A*G*ae),Mt=.5*_e*(N*j+ve*ge*T)+.5,Ke=Ge*rt-Mt*$e;v=(Te*Ge-Ae*Mt)/Ke,M=(Ae*rt-Te*$e)/Ke,d=Gt(d-v,-Math.PI,Math.PI),m=Gt(m-M,-h1,h1)}while((Math.abs(v)>y||Math.abs(M)>y)&&--g>0);return new na(oi(d),oi(m))}}class m1 extends Td{constructor(r){super(r),this.center=r.center||[0,0],this.parallels=r.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(pn(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(r,s){const{scale:d,cosPhi:m}=this;return{x:pn(r)*m*d+.5,y:-Math.sin(pn(s))/m*d+.5,z:0}}unproject(r,s){const{scale:d,cosPhi:m}=this,g=-(s-.5)/d,y=Gt(oi((r-.5)/d)/m,-180,180),v=Math.asin(Gt(g*m,-1,1)),M=Gt(oi(v),-85.051129,yd);return new na(y,M)}}class Yw extends Mb{constructor(r){super(r),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(r,s,d){const m=jh(r,s,d);return Ar(m,m,Uh(Jl(d))),{x:m[0],y:m[1],z:m[2]}}locationPoint(r,s){const d=Hh(s.lat,s.lng),m=Zo([],d),g=r.elevation?r.elevation.getAtPointOrZero(r.locationCoordinate(s),r._centerAltitude):r._centerAltitude;Cu(d,d,m,Ps(1,0)*Zn*g);const y=xd(new Float64Array(16));return xu(y,r.pixelMatrix,r.globeMatrix),Ar(d,d,y),new nt(d[0],d[1])}pixelsPerMeter(r,s){return Ps(1,0)*s}pixelSpaceConversion(r,s,d){const m=In(Ps(1,45)*s,Ps(1,r)*s,d);return this.pixelsPerMeter(r,s)/m}createTileMatrix(r,s,d){const m=Dg(Jl(d.canonical));return xu(new Float64Array(16),r.globeMatrix,m)}createInversionMatrix(r,s){const{center:d}=r,m=Uh(Jl(s));return Op(m,m,pn(d.lng)),by(m,m,pn(d.lat)),Dm(m,m,[r._pixelsPerMercatorPixel,r._pixelsPerMercatorPixel,1]),Float32Array.from(m)}pointCoordinate(r,s,d,m){return n1(r,s,d,!0)||new vu(0,0)}pointCoordinate3D(r,s,d){const m=this.pointCoordinate(r,s,d,0);return[m.x,m.y,m.z]}isPointAboveHorizon(r,s){return!n1(r,s.x,s.y,!1)}farthestPixelDistance(r){const s=function(m,g){const y=m.cameraToCenterDistance,v=m._centerAltitude*g,M=m._camera,T=m._camera.forward(),A=Ac([],en([],T,-y),[0,0,v]),P=m.worldSize/(2*Math.PI),N=[0,0,-P],G=m.width/m.height,j=Math.tan(m.fovAboveCenter),J=en([],M.up(),j),ae=en([],M.right(),j*G),ge=Zo([],Ac([],Ac([],T,J),ae)),Ce=[];let _e;if(new N_(A,ge).closestPointOnSphere(N,P,Ce)){const ve=Ac([],Ce,N),Ae=Oc([],ve,A);_e=Math.cos(m.fovAboveCenter)*wu(Ae)}else{const ve=Oc([],A,N),Ae=Oc([],N,A);Zo(Ae,Ae);const Te=wu(ve)-P;_e=Math.sqrt(Te*(Te+2*P));const $e=Math.acos(_e/(P+Te))-Math.acos(wl(T,Ae));_e*=Math.cos($e)}return 1.01*_e}(r,this.pixelsPerMeter(r.center.lat,r.worldSize)),d=nf(r.zoom);if(d>0){const m=Cb(r,Ps(1,r.center.lat)*r.worldSize),g=r.worldSize/(2*Math.PI),y=Math.max(r.width,r.height)/r.worldSize*Math.PI;return In(s,m+g*(1-Math.cos(y)),Math.pow(d,10))}return s}upVector(r,s,d){return jh(s,d,r,1)}upVectorScale(r){return{metersToTile:Mg*Tg(Jl(r))}}}function Eb(o){const r=o.parallels,s=!!r&&Math.abs(r[0]+r[1])<.01;switch(o.name){case"mercator":return new Mb(o);case"equirectangular":return new of(o);case"naturalEarth":return new u1(o);case"equalEarth":return new c1(o);case"winkelTripel":return new Tb(o);case"albers":return s?new m1(o):new Ed(o);case"lambertConformalConic":return s?new m1(o):new kb(o);case"globe":return new Yw(o)}throw new Error(`Invalid projection name: ${o.name}`)}const Um=Eu.VectorTileFeature.types,p1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Og(o,r,s,d,m,g,y,v,M,T,A,P,N){const G=v?Math.min(Iu,Math.round(v[0])):0,j=v?Math.min(Iu,Math.round(v[1])):0;o.emplaceBack(r,s,Math.round(32*d),Math.round(32*m),g,y,(G<<1)+(M?1:0),j,16*T,16*A,256*P,256*N)}function Lg(o,r,s,d,m,g,y){o.emplaceBack(r,s,d,m,g,y)}function Sd(o,r,s,d,m){o.emplaceBack(r,s,d,m),o.emplaceBack(r,s,d,m),o.emplaceBack(r,s,d,m),o.emplaceBack(r,s,d,m)}function qw(o){for(const r of o.sections)if(u(r.text))return!0;return!1}class Db{constructor(r){this.layoutVertexArray=new S,this.indexArray=new qt,this.programConfigurations=r,this.segments=new xr,this.dynamicLayoutVertexArray=new hi,this.opacityVertexArray=new q,this.placedSymbolArray=new $x,this.globeExtVertexArray=new H}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(r,s,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,kw.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,Vy.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,p1,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,Mw.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}kt(Db,"SymbolBuffers");class Sb{constructor(r,s,d){this.layoutVertexArray=new r,this.layoutAttributes=s,this.indexArray=new d,this.segments=new xr,this.collisionVertexArray=new Qt,this.collisionVertexArrayExt=new wn}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,Tw.members,!0),this.collisionVertexBufferExt=r.createVertexBuffer(this.collisionVertexArrayExt,Ew.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}kt(Sb,"CollisionBuffers");class Lu{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(y=>y.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xd([]),this.placementViewportMatrix=xd([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Rm(this.zoom,s["text-size"]),this.iconSizeData=Rm(this.zoom,s["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),g=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==g&&void 0!==m.constantOr(1),this.sortFeaturesByY=("viewport-y"===g||"auto"===g&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(y=>kl[y]),this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id),this.sourceID=r.sourceID,this.projection=r.projection}createArrays(){this.text=new Db(new qo(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new Db(new qo(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new ny,this.lineVertexArray=new iy,this.symbolInstances=new ty}calculateGlyphDependencies(r,s,d,m,g){for(let y=0;y<r.length;y++)if(s[r.charCodeAt(y)]=!0,m&&g){const v=el[r.charAt(y)];v&&(s[v.charCodeAt(0)]=!0)}}populate(r,s,d,m){const g=this.layers[0],y=g.layout,v="globe"===this.projection.name,M=y.get("text-font"),T=y.get("text-field"),A=y.get("icon-image"),P=("constant"!==T.value.kind||T.value.value instanceof no&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&("constant"!==M.value.kind||M.value.value.length>0),N="constant"!==A.value.kind||!!A.value.value||Object.keys(A.parameters).length>0,G=y.get("symbol-sort-key");if(this.features=[],!P&&!N)return;const j=s.iconDependencies,J=s.glyphDependencies,ae=s.availableImages,ge=new ce(this.zoom);for(const{feature:Ce,id:_e,index:ve,sourceLayerIndex:Ae}of r){const Te=g._featureFilter.needGeometry,$e=Eh(Ce,Te);if(!g._featureFilter.filter(ge,$e,d))continue;if(Te||($e.geometry=vd(Ce,d,m)),v&&1!==Ce.type&&d.z<=5){const Ke=$e.geometry,ct=.98078528056;for(let pt=0;pt<Ke.length;pt++)Ke[pt]=Th(Ke[pt],dt=>dt,(dt,xt)=>wl(jh(dt.x,dt.y,d,1),jh(xt.x,xt.y,d,1))<ct)}let Ge,rt;if(P){const Ke=g.getValueAndResolveTokens("text-field",$e,d,ae),ct=no.factory(Ke);qw(ct)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===te()||this.hasRTLText&&se.isParsed())&&(Ge=ab(ct,g,$e))}if(N){const Ke=g.getValueAndResolveTokens("icon-image",$e,d,ae);rt=Ke instanceof io?Ke:io.fromString(Ke)}if(!Ge&&!rt)continue;const Mt=this.sortFeaturesByKey?G.evaluate($e,{},d):void 0;if(this.features.push({id:_e,text:Ge,icon:rt,index:ve,sourceLayerIndex:Ae,geometry:$e.geometry,properties:Ce.properties,type:Um[Ce.type],sortKey:Mt}),rt&&(j[rt.name]=!0),Ge){const Ke=M.evaluate($e,{},d).join(","),ct="map"===y.get("text-rotation-alignment")&&"point"!==y.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(kl.vertical)>=0;for(const pt of Ge.sections)if(pt.image)j[pt.image.name]=!0;else{const dt=Gl(Ge.toString()),xt=pt.fontStack||Ke,ft=J[xt]=J[xt]||{};this.calculateGlyphDependencies(pt.text,ft,ct,this.allowVerticalPlacement,dt)}}}"line"===y.get("symbol-placement")&&(this.features=function(Ce){const _e={},ve={},Ae=[];let Te=0;function $e(Ke){Ae.push(Ce[Ke]),Te++}function Ge(Ke,ct,pt){const dt=ve[Ke];return delete ve[Ke],ve[ct]=dt,Ae[dt].geometry[0].pop(),Ae[dt].geometry[0]=Ae[dt].geometry[0].concat(pt[0]),dt}function rt(Ke,ct,pt){const dt=_e[ct];return delete _e[ct],_e[Ke]=dt,Ae[dt].geometry[0].shift(),Ae[dt].geometry[0]=pt[0].concat(Ae[dt].geometry[0]),dt}function Mt(Ke,ct,pt){const dt=pt?ct[0][ct[0].length-1]:ct[0][0];return`${Ke}:${dt.x}:${dt.y}`}for(let Ke=0;Ke<Ce.length;Ke++){const ct=Ce[Ke],pt=ct.geometry,dt=ct.text?ct.text.toString():null;if(!dt){$e(Ke);continue}const xt=Mt(dt,pt),ft=Mt(dt,pt,!0);if(xt in ve&&ft in _e&&ve[xt]!==_e[ft]){const Vt=rt(xt,ft,pt),Q=Ge(xt,ft,Ae[Vt].geometry);delete _e[xt],delete ve[ft],ve[Mt(dt,Ae[Q].geometry,!0)]=Q,Ae[Vt].geometry=null}else xt in ve?Ge(xt,ft,pt):ft in _e?rt(xt,ft,pt):($e(Ke),_e[xt]=Te-1,ve[ft]=Te-1)}return Ae.filter(Ke=>Ke.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ce,_e)=>Ce.sortKey-_e.sortKey)}update(r,s,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,s,this.layers,d,m),this.icon.programConfigurations.updatePaintArrays(r,s,this.layers,d,m))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Eb(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,s){const d=this.lineVertexArray.length,m=r.segment;if(void 0!==m){let g=r.dist(s[m+1]),y=r.dist(s[m]);const v={};for(let M=m+1;M<s.length;M++)v[M]={x:s[M].x,y:s[M].y,tileUnitDistanceFromAnchor:g},M<s.length-1&&(g+=s[M+1].dist(s[M]));for(let M=m||0;M>=0;M--)v[M]={x:s[M].x,y:s[M].y,tileUnitDistanceFromAnchor:y},M>0&&(y+=s[M-1].dist(s[M]));for(let M=0;M<s.length;M++){const T=v[M];this.lineVertexArray.emplaceBack(T.x,T.y,T.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(r,s,d,m,g,y,v,M,T,A,P,N,G,j){const J=r.indexArray,ae=r.layoutVertexArray,ge=r.globeExtVertexArray,Ce=r.segments.prepareSegment(4*s.length,ae,J,this.canOverlap?y.sortKey:void 0),_e=this.glyphOffsetArray.length,ve=Ce.vertexLength,Ae=this.allowVerticalPlacement&&v===kl.vertical?Math.PI/2:0,Te=y.text&&y.text.sections;for(let Ge=0;Ge<s.length;Ge++){const{tl:rt,tr:Mt,bl:Ke,br:ct,tex:pt,pixelOffsetTL:dt,pixelOffsetBR:xt,minFontScaleX:ft,minFontScaleY:Vt,glyphOffset:Q,isSDF:fi,sectionIndex:Ft}=s[Ge],Ot=Ce.vertexLength,Si=Q[1];if(Og(ae,T.x,T.y,rt.x,Si+rt.y,pt.x,pt.y,d,fi,dt.x,dt.y,ft,Vt),Og(ae,T.x,T.y,Mt.x,Si+Mt.y,pt.x+pt.w,pt.y,d,fi,xt.x,dt.y,ft,Vt),Og(ae,T.x,T.y,Ke.x,Si+Ke.y,pt.x,pt.y+pt.h,d,fi,dt.x,xt.y,ft,Vt),Og(ae,T.x,T.y,ct.x,Si+ct.y,pt.x+pt.w,pt.y+pt.h,d,fi,xt.x,xt.y,ft,Vt),M){const ai=M.anchor,Wt=M.up;Lg(ge,ai.x,ai.y,ai.z,Wt[0],Wt[1],Wt[2]),Lg(ge,ai.x,ai.y,ai.z,Wt[0],Wt[1],Wt[2]),Lg(ge,ai.x,ai.y,ai.z,Wt[0],Wt[1],Wt[2]),Lg(ge,ai.x,ai.y,ai.z,Wt[0],Wt[1],Wt[2]),Sd(r.dynamicLayoutVertexArray,ai.x,ai.y,ai.z,Ae)}else Sd(r.dynamicLayoutVertexArray,T.x,T.y,T.z,Ae);J.emplaceBack(Ot,Ot+1,Ot+2),J.emplaceBack(Ot+1,Ot+2,Ot+3),Ce.vertexLength+=4,Ce.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Q[0]),Ge!==s.length-1&&Ft===s[Ge+1].sectionIndex||r.programConfigurations.populatePaintArrays(ae.length,y,y.index,{},G,j,Te&&Te[Ft])}const $e=M?M.anchor:T;r.placedSymbolArray.emplaceBack($e.x,$e.y,$e.z,T.x,T.y,_e,this.glyphOffsetArray.length-_e,ve,A,P,T.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],v,0,!1,0,N,0)}_commitLayoutVertex(r,s,d,m,g,y,v){r.emplaceBack(s,d,m,g,y,Math.round(v.x),Math.round(v.y))}_addCollisionDebugVertices(r,s,d,m,g,y,v){const M=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),T=M.vertexLength,A=v.tileAnchorX,P=v.tileAnchorY;for(let G=0;G<4;G++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(s,-r.padding,-r.padding),d.collisionVertexArrayExt.emplaceBack(s,r.padding,-r.padding),d.collisionVertexArrayExt.emplaceBack(s,r.padding,r.padding),d.collisionVertexArrayExt.emplaceBack(s,-r.padding,r.padding),this._commitLayoutVertex(d.layoutVertexArray,m,g,y,A,P,new nt(r.x1,r.y1)),this._commitLayoutVertex(d.layoutVertexArray,m,g,y,A,P,new nt(r.x2,r.y1)),this._commitLayoutVertex(d.layoutVertexArray,m,g,y,A,P,new nt(r.x2,r.y2)),this._commitLayoutVertex(d.layoutVertexArray,m,g,y,A,P,new nt(r.x1,r.y2)),M.vertexLength+=4;const N=d.indexArray;N.emplaceBack(T,T+1),N.emplaceBack(T+1,T+2),N.emplaceBack(T+2,T+3),N.emplaceBack(T+3,T),M.primitiveLength+=4}_addTextDebugCollisionBoxes(r,s,d,m,g,y){for(let v=m;v<g;v++){const M=d.get(v),T=this.getSymbolInstanceTextSize(r,y,s,v);this._addCollisionDebugVertices(M,T,this.textCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,y)}}_addIconDebugCollisionBoxes(r,s,d,m,g,y){for(let v=m;v<g;v++){const M=d.get(v),T=this.getSymbolInstanceIconSize(r,s,v);this._addCollisionDebugVertices(M,T,this.iconCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,y)}}generateCollisionDebugBuffers(r,s){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Sb(Fe,Hy.members,Ao),this.iconCollisionBox=new Sb(Fe,Hy.members,Ao);const d=Rh(this.iconSizeData,r),m=Rh(this.textSizeData,r);for(let g=0;g<this.symbolInstances.length;g++){const y=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(m,r,s,y.textBoxStartIndex,y.textBoxEndIndex,y),this._addTextDebugCollisionBoxes(m,r,s,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y),this._addIconDebugCollisionBoxes(d,r,s,y.iconBoxStartIndex,y.iconBoxEndIndex,y),this._addIconDebugCollisionBoxes(d,r,s,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex,y)}}getSymbolInstanceTextSize(r,s,d,m){const g=this.text.placedSymbolArray.get(s.rightJustifiedTextSymbolIndex>=0?s.rightJustifiedTextSymbolIndex:s.centerJustifiedTextSymbolIndex>=0?s.centerJustifiedTextSymbolIndex:s.leftJustifiedTextSymbolIndex>=0?s.leftJustifiedTextSymbolIndex:s.verticalPlacedTextSymbolIndex>=0?s.verticalPlacedTextSymbolIndex:m),y=Rs(this.textSizeData,r,g)/F;return this.tilePixelRatio*y}getSymbolInstanceIconSize(r,s,d){const m=this.icon.placedSymbolArray.get(d),g=Rs(this.iconSizeData,r,m);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(r,s,d){r.emplaceBack(s,-d,-d),r.emplaceBack(s,d,-d),r.emplaceBack(s,d,d),r.emplaceBack(s,-d,d)}_updateTextDebugCollisionBoxes(r,s,d,m,g,y){for(let v=m;v<g;v++){const M=d.get(v),T=this.getSymbolInstanceTextSize(r,y,s,v);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,T,M.padding)}}_updateIconDebugCollisionBoxes(r,s,d,m,g){for(let y=m;y<g;y++){const v=d.get(y),M=this.getSymbolInstanceIconSize(r,s,y);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,M,v.padding)}}updateCollisionDebugBuffers(r,s){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Rh(this.iconSizeData,r),m=Rh(this.textSizeData,r);for(let g=0;g<this.symbolInstances.length;g++){const y=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(m,r,s,y.textBoxStartIndex,y.textBoxEndIndex,y),this._updateTextDebugCollisionBoxes(m,r,s,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y),this._updateIconDebugCollisionBoxes(d,r,s,y.iconBoxStartIndex,y.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(d,r,s,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(r,s,d,m,g,y,v,M,T){const A={};for(let P=s;P<d;P++){const N=r.get(P);A.textBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,padding:N.padding,projectedAnchorX:N.projectedAnchorX,projectedAnchorY:N.projectedAnchorY,projectedAnchorZ:N.projectedAnchorZ,tileAnchorX:N.tileAnchorX,tileAnchorY:N.tileAnchorY},A.textFeatureIndex=N.featureIndex;break}for(let P=m;P<g;P++){const N=r.get(P);A.verticalTextBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,padding:N.padding,projectedAnchorX:N.projectedAnchorX,projectedAnchorY:N.projectedAnchorY,projectedAnchorZ:N.projectedAnchorZ,tileAnchorX:N.tileAnchorX,tileAnchorY:N.tileAnchorY},A.verticalTextFeatureIndex=N.featureIndex;break}for(let P=y;P<v;P++){const N=r.get(P);A.iconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,padding:N.padding,projectedAnchorX:N.projectedAnchorX,projectedAnchorY:N.projectedAnchorY,projectedAnchorZ:N.projectedAnchorZ,tileAnchorX:N.tileAnchorX,tileAnchorY:N.tileAnchorY},A.iconFeatureIndex=N.featureIndex;break}for(let P=M;P<T;P++){const N=r.get(P);A.verticalIconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,padding:N.padding,projectedAnchorX:N.projectedAnchorX,projectedAnchorY:N.projectedAnchorY,projectedAnchorZ:N.projectedAnchorZ,tileAnchorX:N.tileAnchorX,tileAnchorY:N.tileAnchorY},A.verticalIconFeatureIndex=N.featureIndex;break}return A}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const d=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,s){const d=r.placedSymbolArray.get(s),m=d.vertexStartIndex+4*d.numGlyphs;for(let g=d.vertexStartIndex;g<m;g+=4)r.indexArray.emplaceBack(g,g+1,g+2),r.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const s=Math.sin(r),d=Math.cos(r),m=[],g=[],y=[];for(let v=0;v<this.symbolInstances.length;++v){y.push(v);const M=this.symbolInstances.get(v);m.push(0|Math.round(s*M.tileAnchorX+d*M.tileAnchorY)),g.push(M.featureIndex)}return y.sort((v,M)=>m[v]-m[M]||g[M]-g[v]),y}addToSortKeyRanges(r,s){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===s?d.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const d=this.symbolInstances.get(s);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,g,y)=>{m>=0&&y.indexOf(m)===g&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}kt(Lu,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Lu.MAX_GLYPHS=65535,Lu.addDynamicAttributes=Sd;const Zk=new st({"symbol-placement":new Me(je.layout_symbol["symbol-placement"]),"symbol-spacing":new Me(je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Me(je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Re(je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Me(je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Me(je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Me(je.layout_symbol["icon-ignore-placement"]),"icon-optional":new Me(je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Me(je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Re(je.layout_symbol["icon-size"]),"icon-text-fit":new Me(je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Me(je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Re(je.layout_symbol["icon-image"]),"icon-rotate":new Re(je.layout_symbol["icon-rotate"]),"icon-padding":new Me(je.layout_symbol["icon-padding"]),"icon-keep-upright":new Me(je.layout_symbol["icon-keep-upright"]),"icon-offset":new Re(je.layout_symbol["icon-offset"]),"icon-anchor":new Re(je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Me(je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Me(je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Me(je.layout_symbol["text-rotation-alignment"]),"text-field":new Re(je.layout_symbol["text-field"]),"text-font":new Re(je.layout_symbol["text-font"]),"text-size":new Re(je.layout_symbol["text-size"]),"text-max-width":new Re(je.layout_symbol["text-max-width"]),"text-line-height":new Re(je.layout_symbol["text-line-height"]),"text-letter-spacing":new Re(je.layout_symbol["text-letter-spacing"]),"text-justify":new Re(je.layout_symbol["text-justify"]),"text-radial-offset":new Re(je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Me(je.layout_symbol["text-variable-anchor"]),"text-anchor":new Re(je.layout_symbol["text-anchor"]),"text-max-angle":new Me(je.layout_symbol["text-max-angle"]),"text-writing-mode":new Me(je.layout_symbol["text-writing-mode"]),"text-rotate":new Re(je.layout_symbol["text-rotate"]),"text-padding":new Me(je.layout_symbol["text-padding"]),"text-keep-upright":new Me(je.layout_symbol["text-keep-upright"]),"text-transform":new Re(je.layout_symbol["text-transform"]),"text-offset":new Re(je.layout_symbol["text-offset"]),"text-allow-overlap":new Me(je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Me(je.layout_symbol["text-ignore-placement"]),"text-optional":new Me(je.layout_symbol["text-optional"])});var Ib={paint:new st({"icon-opacity":new Re(je.paint_symbol["icon-opacity"]),"icon-color":new Re(je.paint_symbol["icon-color"]),"icon-halo-color":new Re(je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Re(je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Re(je.paint_symbol["icon-halo-blur"]),"icon-translate":new Me(je.paint_symbol["icon-translate"]),"icon-translate-anchor":new Me(je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Re(je.paint_symbol["text-opacity"]),"text-color":new Re(je.paint_symbol["text-color"],{runtimeType:ns,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new Re(je.paint_symbol["text-halo-color"]),"text-halo-width":new Re(je.paint_symbol["text-halo-width"]),"text-halo-blur":new Re(je.paint_symbol["text-halo-blur"]),"text-translate":new Me(je.paint_symbol["text-translate"]),"text-translate-anchor":new Me(je.paint_symbol["text-translate-anchor"])}),layout:Zk};class Ab{constructor(r){this.type=r.property.overrides?r.property.overrides.runtimeType:dn,this.defaultValue=r}evaluate(r){if(r.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(r.formattedSection))return s.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}kt(Ab,"FormatSectionOverride",{omit:["defaultValue"]});class Xn extends Yl{constructor(r){super(r,Ib)}recalculate(r,s){super.recalculate(r,s),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const g of d)m.indexOf(g)<0&&m.push(g);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(r,s,d,m){const g=this.layout.get(r).evaluate(s,{},d,m),y=this._unevaluatedLayout._values[r];return y.isDataDriven()||_c(y.value)||!g?g:(v=s.properties,g.replace(/{([^{}]+)}/g,(T,A)=>A in v?String(v[A]):""));var v}createBucket(r){return new Lu(r)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const r of Ib.paint.overridableProperties){if(!Xn.hasPaintOverride(this.layout,r))continue;const s=this.paint.get(r),d=new Ab(s),m=new iu(d,s.property.specification);let g=null;g="constant"===s.value.kind||"source"===s.value.kind?new Is("source",m):new yc("composite",m,s.value.zoomStops,s.value._interpolationType),this.paint._values[r]=new we(s.property,g,s.parameters)}}_handleOverridablePaintPropertyUpdate(r,s,d){return!(!this.layout||s.isDataDriven()||d.isDataDriven())&&Xn.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,s){const d=r.get("text-field"),m=Ib.paint.properties[s];let g=!1;const y=v=>{for(const M of v)if(m.overrides&&m.overrides.hasOverride(M))return void(g=!0)};if("constant"===d.value.kind&&d.value.value instanceof no)y(d.value.value.sections);else if("source"===d.value.kind){const v=T=>{g||(T instanceof $i&&Ja(T.value)===cc?y(T.value.sections):T instanceof Xc?y(T.sections):T.eachChild(v))},M=d.value;M._styleExpression&&v(M._styleExpression.expression)}return g}getProgramConfiguration(r){return new $l(this,r)}}var Ob={paint:new st({"background-color":new Me(je.paint_background["background-color"]),"background-pattern":new _t(je.paint_background["background-pattern"]),"background-opacity":new Me(je.paint_background["background-opacity"])})},Xk={paint:new st({"raster-opacity":new Me(je.paint_raster["raster-opacity"]),"raster-hue-rotate":new Me(je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Me(je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Me(je.paint_raster["raster-brightness-max"]),"raster-saturation":new Me(je.paint_raster["raster-saturation"]),"raster-contrast":new Me(je.paint_raster["raster-contrast"]),"raster-resampling":new Me(je.paint_raster["raster-resampling"]),"raster-fade-duration":new Me(je.paint_raster["raster-fade-duration"])})};class Id extends Yl{constructor(r){super(r,{}),this.implementation=r}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)}onRemove(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)}}var Lb={paint:new st({"sky-type":new Me(je.paint_sky["sky-type"]),"sky-atmosphere-sun":new Me(je.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Me(je.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Me(je.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Me(je.paint_sky["sky-gradient-radius"]),"sky-gradient":new Be(je.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Me(je.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Me(je.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Me(je.paint_sky["sky-opacity"])})};function sf(o,r,s){const d=[0,0,1],m=Lo([]);return ng(m,m,s?-pn(o)+Math.PI:pn(o)),Sm(m,m,-pn(r)),xy(d,d,m),Zo(d,d)}const Kk={circle:class extends Yl{constructor(o){super(o,_y)}createBucket(o){return new Qf(o)}queryRadius(o){const r=o;return Ic("circle-radius",this,r)+Ic("circle-stroke-width",this,r)+Sp(this.paint.get("circle-translate"))}queryIntersectsFeature(o,r,s,d,m,g,y,v){const M=Em(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,o.pixelToTileUnitsFactor),T=this.paint.get("circle-radius").evaluate(r,s)+this.paint.get("circle-stroke-width").evaluate(r,s);return V_(o,d,g,y,v,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),M,T)}getProgramIds(){return["circle"]}getProgramConfiguration(o){return new $l(this,o)}},heatmap:class extends Yl{createBucket(o){return new wy(o)}constructor(o){super(o,Cy),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){"heatmap-color"===o&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Im({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(o){return Ic("heatmap-radius",this,o)}queryIntersectsFeature(o,r,s,d,m,g,y,v){const M=this.paint.get("heatmap-radius").evaluate(r,s);return V_(o,d,g,y,v,!0,!0,new nt(0,0),M)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(o){return new $l(this,o)}},hillshade:class extends Yl{constructor(o){super(o,sw)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Yl{constructor(o){super(o,q_)}getProgramIds(){const o=this.paint.get("fill-pattern"),r=o&&o.constantOr(1),s=[r?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&s.push(r&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),s}getProgramConfiguration(o){return new $l(this,o)}recalculate(o,r){super.recalculate(o,r);const s=this.paint._values["fill-outline-color"];"constant"===s.value.kind&&void 0===s.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new zp(o)}queryRadius(){return Sp(this.paint.get("fill-translate"))}queryIntersectsFeature(o,r,s,d,m,g){return!o.queryGeometry.isAboveHorizon&&hy(ql(o.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,o.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends Yl{constructor(o){super(o,Py)}createBucket(o){return new Hp(o)}queryRadius(){return Sp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(o){return new $l(this,o)}queryIntersectsFeature(o,r,s,d,m,g,y,v,M){const T=Em(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,o.pixelToTileUnitsFactor),A=this.paint.get("fill-extrusion-height").evaluate(r,s),P=this.paint.get("fill-extrusion-base").evaluate(r,s),N=[0,0],G=v&&g.elevation,j=g.elevation?g.elevation.exaggeration():1,J=o.tile.getBucket(this);if(G&&J instanceof Hp){const Ce=J.centroidVertexArray,_e=M+1;if(_e<Ce.length){const ve=Ce.get(_e);N[0]=ve.a_centroid_pos0,N[1]=ve.a_centroid_pos1}}if(0===N[0]&&1===N[1])return!1;"globe"===g.projection.name&&(d=Q_([d],[new nt(0,0),new nt(Zn,Zn)],o.tileID.canonical).map(Ce=>Ce.polygon).flat());const ae=(_e=d,ve=P,Ae=A,Te=T,$e=y,Ge=G?v:null,rt=N,Mt=j,Ke=g.center.lat,"globe"===(Ce=g).projection.name?function(pt,dt,xt,ft,Vt,Q,fi,Ft,Ot,Si,ai){const Wt=[],da=[],ua=pt.projection.upVectorScale(ai,pt.center.lat,pt.worldSize).metersToTile,Oa=[0,0,0,1],Ci=[0,0,0,1],Vi=(ha,ia,za,Za)=>{ha[0]=ia,ha[1]=za,ha[2]=Za,ha[3]=1},ka=Up();xt>0&&(xt+=ka),ft+=ka;for(const ha of dt){const ia=[],za=[];for(const Za of ha){const co=Za.x+Vt.x,ys=Za.y+Vt.y,Bi=pt.projection.projectTilePoint(co,ys,ai),tr=pt.projection.upVector(ai,Za.x,Za.y);let Ro=xt,qi=ft;if(fi){const La=nb(co,ys,xt,ft,fi,Ft,Ot,Si);Ro+=La.base,qi+=La.top}0!==xt?Vi(Oa,Bi.x+tr[0]*ua*Ro,Bi.y+tr[1]*ua*Ro,Bi.z+tr[2]*ua*Ro):Vi(Oa,Bi.x,Bi.y,Bi.z),Vi(Ci,Bi.x+tr[0]*ua*qi,Bi.y+tr[1]*ua*qi,Bi.z+tr[2]*ua*qi),Ar(Oa,Oa,Q),Ar(Ci,Ci,Q),ia.push(Fm(Oa)),za.push(Fm(Ci))}Wt.push(ia),da.push(za)}return[Wt,da]}(Ce,_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke,o.tileID.canonical):Ge?function(pt,dt,xt,ft,Vt,Q,fi,Ft,Ot){const Si=[],ai=[],Wt=[0,0,0,1];for(const da of pt){const ua=[],Oa=[];for(const Ci of da){const Vi=Ci.x+ft.x,ka=Ci.y+ft.y,ha=nb(Vi,ka,dt,xt,Q,fi,Ft,Ot);Wt[0]=Vi,Wt[1]=ka,Wt[2]=ha.base,Wt[3]=1,ku(Wt,Wt,Vt),Wt[3]=Math.max(Wt[3],1e-5);const ia=Fm([Wt[0]/Wt[3],Wt[1]/Wt[3],Wt[2]/Wt[3]]);Wt[0]=Vi,Wt[1]=ka,Wt[2]=ha.top,Wt[3]=1,ku(Wt,Wt,Vt),Wt[3]=Math.max(Wt[3],1e-5);const za=Fm([Wt[0]/Wt[3],Wt[1]/Wt[3],Wt[2]/Wt[3]]);ua.push(ia),Oa.push(za)}Si.push(ua),ai.push(Oa)}return[Si,ai]}(_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke):function(pt,dt,xt,ft,Vt){const Q=[],fi=[],Ft=Vt[8]*dt,Ot=Vt[9]*dt,Si=Vt[10]*dt,ai=Vt[11]*dt,Wt=Vt[8]*xt,da=Vt[9]*xt,ua=Vt[10]*xt,Oa=Vt[11]*xt;for(const Ci of pt){const Vi=[],ka=[];for(const ha of Ci){const ia=ha.x+ft.x,za=ha.y+ft.y,Za=Vt[0]*ia+Vt[4]*za+Vt[12],co=Vt[1]*ia+Vt[5]*za+Vt[13],ys=Vt[2]*ia+Vt[6]*za+Vt[14],Bi=Vt[3]*ia+Vt[7]*za+Vt[15],tr=Za+Ft,Ro=co+Ot,qi=ys+Si,La=Math.max(Bi+ai,1e-5),Xo=Za+Wt,Ua=co+da,ur=ys+ua,uo=Math.max(Bi+Oa,1e-5),Ur=new nt(tr/La,Ro/La);Ur.z=qi/La,Vi.push(Ur);const Zr=new nt(Xo/uo,Ua/uo);Zr.z=ur/uo,ka.push(Zr)}Q.push(Vi),fi.push(ka)}return[Q,fi]}(_e,ve,Ae,Te,$e)),ge=o.queryGeometry;var Ce,_e,ve,Ae,Te,$e,Ge,rt,Mt,Ke;return function(Ce,_e,ve){let Ae=1/0;hy(ve,_e)&&(Ae=tb(ve,_e[0]));for(let Te=0;Te<_e.length;Te++){const $e=_e[Te],Ge=Ce[Te];for(let rt=0;rt<$e.length-1;rt++){const Mt=$e[rt],Ke=[Mt,$e[rt+1],Ge[rt+1],Ge[rt],Mt];uy(ve,Ke)&&(Ae=Math.min(Ae,tb(ve,Ke)))}}return Ae!==1/0&&Ae}(ae[0],ae[1],ge.isPointQuery()?ge.screenBounds:ge.screenGeometry)}},line:class extends Yl{constructor(o){super(o,ib),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(o){if("line-gradient"===o){const r=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=r._styleExpression&&r._styleExpression.expression instanceof ko,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(o,r){super.recalculate(o,r),this.paint._values["line-floorwidth"]=Ny.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new Fs(o)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(o){return new $l(this,o)}queryRadius(o){const r=o,s=By(Ic("line-width",this,r),Ic("line-gap-width",this,r)),d=Ic("line-offset",this,r);return s/2+Math.abs(d)+Sp(this.paint.get("line-translate"))}queryIntersectsFeature(o,r,s,d,m,g){if(o.queryGeometry.isAboveHorizon)return!1;const y=ql(o.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,o.pixelToTileUnitsFactor),v=o.pixelToTileUnitsFactor/2*By(this.paint.get("line-width").evaluate(r,s),this.paint.get("line-gap-width").evaluate(r,s)),M=this.paint.get("line-offset").evaluate(r,s);return M&&(d=function(T,A){const P=[],N=new nt(0,0);for(let G=0;G<T.length;G++){const j=T[G],J=[];for(let ae=0;ae<j.length;ae++){const ge=j[ae-1],Ce=j[ae],_e=j[ae+1],ve=0===ae?N:Ce.sub(ge)._unit()._perp(),Ae=ae===j.length-1?N:_e.sub(Ce)._unit()._perp(),Te=ve._add(Ae)._unit();Te._mult(1/(Te.x*Ae.x+Te.y*Ae.y)),J.push(Te._mult(A)._add(Ce))}P.push(J)}return P}(d,M*o.pixelToTileUnitsFactor)),function(T,A,P){for(let N=0;N<A.length;N++){const G=A[N];if(T.length>=3)for(let j=0;j<G.length;j++)if(Dh(T,G[j]))return!0;if(Qx(T,G,P))return!0}return!1}(y,d,v)}isTileClipped(){return!0}},symbol:Xn,background:class extends Yl{constructor(o){super(o,Ob)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Yl{constructor(o){super(o,Xk)}getProgramIds(){return["raster"]}},sky:class extends Yl{constructor(o){super(o,Lb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){"sky-gradient"===o?this._updateColorRamp():"sky-atmosphere-sun"!==o&&"sky-atmosphere-halo-color"!==o&&"sky-atmosphere-color"!==o&&"sky-atmosphere-sun-intensity"!==o||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Im({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(o){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const r=o.style.light.properties.get("position");return this._lightPosition.azimuthal!==r.azimuthal||this._lightPosition.polar!==r.polar}return!1}getCenter(o,r){if("atmosphere"===this.paint.get("sky-type")){const d=this.paint.get("sky-atmosphere-sun"),m=!d,g=o.style.light,y=g.properties.get("position");return m&&"viewport"===g.properties.get("anchor")&&ci("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),m?sf(y.azimuthal,90-y.polar,r):sf(d[0],90-d[1],r)}const s=this.paint.get("sky-gradient-center");return sf(s[0],90-s[1],r)}is3D(){return!1}isSky(){return!0}markSkyboxValid(o){this._skyboxInvalidated=!1,this._lightPosition=o.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const o=this.paint.get("sky-type");return"atmosphere"===o?["skyboxCapture","skybox"]:"gradient"===o?["skyboxGradient"]:null}}};class lf{constructor(r,s,d,m){this.context=r,this.format=d,this.texture=r.gl.createTexture(),this.update(s,m)}update(r,s,d){const{width:m,height:g}=r,{context:y}=this,{gl:v}=y,{HTMLImageElement:M,HTMLCanvasElement:T,HTMLVideoElement:A,ImageData:P,ImageBitmap:N}=at;if(v.bindTexture(v.TEXTURE_2D,this.texture),y.pixelStoreUnpackFlipY.set(!1),y.pixelStoreUnpack.set(1),y.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA&&(!s||!1!==s.premultiply)),d||this.size&&this.size[0]===m&&this.size[1]===g){const{x:G,y:j}=d||{x:0,y:0};r instanceof M||r instanceof T||r instanceof A||r instanceof P||N&&r instanceof N?v.texSubImage2D(v.TEXTURE_2D,0,G,j,v.RGBA,v.UNSIGNED_BYTE,r):v.texSubImage2D(v.TEXTURE_2D,0,G,j,m,g,v.RGBA,v.UNSIGNED_BYTE,r.data)}else this.size=[m,g],r instanceof M||r instanceof T||r instanceof A||r instanceof P||N&&r instanceof N?v.texImage2D(v.TEXTURE_2D,0,this.format,this.format,v.UNSIGNED_BYTE,r):v.texImage2D(v.TEXTURE_2D,0,this.format,m,g,0,this.format,v.UNSIGNED_BYTE,r.data);this.useMipmap=Boolean(s&&s.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(r,s){const{context:d}=this,{gl:m}=d;m.bindTexture(m.TEXTURE_2D,this.texture),r!==this.filter&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,r),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,this.useMipmap?r===m.NEAREST?m.NEAREST_MIPMAP_NEAREST:m.LINEAR_MIPMAP_NEAREST:r),this.filter=r),s!==this.wrap&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,s),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,s),this.wrap=s)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}class Pb{constructor(r,s){this.width=r,this.height=s,this.nextRow=0,this.image=new wd({width:r,height:s}),this.positions={},this.uploaded=!1}getDash(r,s){const d=this.getKey(r,s);return this.positions[d]}trim(){const r=this.width,s=this.height=Fr(this.nextRow);this.image.resize({width:r,height:s})}getKey(r,s){return r.join(",")+s}getDashRanges(r,s,d){const m=[];let g=r.length%2==1?-r[r.length-1]*d:0,y=r[0]*d,v=!0;m.push({left:g,right:y,isDash:v,zeroLength:0===r[0]});let M=r[0];for(let T=1;T<r.length;T++){v=!v;const A=r[T];g=M*d,M+=A,y=M*d,m.push({left:g,right:y,isDash:v,zeroLength:0===A})}return m}addRoundDash(r,s,d){const m=s/2;for(let g=-d;g<=d;g++){const y=this.width*(this.nextRow+d+g);let v=0,M=r[v];for(let T=0;T<this.width;T++){T/M.right>1&&(M=r[++v]);const A=Math.abs(T-M.left),P=Math.abs(T-M.right),N=Math.min(A,P);let G;const j=g/d*(m+1);if(M.isDash){const J=m-Math.abs(j);G=Math.sqrt(N*N+J*J)}else G=m-Math.sqrt(N*N+j*j);this.image.data[y+T]=Math.max(0,Math.min(255,G+128))}}}addRegularDash(r,s){for(let M=r.length-1;M>=0;--M){const T=r[M],A=r[M+1];T.zeroLength?r.splice(M,1):A&&A.isDash===T.isDash&&(A.left=T.left,r.splice(M,1))}const d=r[0],m=r[r.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const g=this.width*this.nextRow;let y=0,v=r[y];for(let M=0;M<this.width;M++){M/v.right>1&&(v=r[++y]);const T=Math.abs(M-v.left),A=Math.abs(M-v.right),P=Math.min(T,A);this.image.data[g+M]=Math.max(0,Math.min(255,(v.isDash?P:-P)+s+128))}}addDash(r,s){const d=this.getKey(r,s);if(this.positions[d])return this.positions[d];const m="round"===s,g=m?7:0,y=2*g+1;if(this.nextRow+y>this.height)return ci("LineAtlas out of space"),null;0===r.length&&r.push(1);let v=0;for(let A=0;A<r.length;A++)r[A]<0&&(ci("Negative value is found in line dasharray, replacing values with 0"),r[A]=0),v+=r[A];if(0!==v){const A=this.width/v,P=this.getDashRanges(r,this.width,A);m?this.addRoundDash(P,A,g):this.addRegularDash(P,"square"===s?.5*A:0)}const M=this.nextRow+g;this.nextRow+=y;const T={tl:[M,g],br:[v,0]};return this.positions[d]=T,T}}kt(Pb,"LineAtlas");class f1{constructor(r){this._callback=r,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class g1{constructor(){this.tasks={},this.taskQueue=[],Rr(["process"],this),this.invoker=new f1(this.process),this.nextId=0}add(r,s){const d=this.nextId++,m=function({type:g,isSymbolTile:y,zoom:v}){return v=v||0,"message"===g?0:"maybePrepare"!==g||y?"parseTile"!==g||y?"parseTile"===g&&y?300-v:"maybePrepare"===g&&y?400-v:500:200-v:100-v}(s);if(0===m){Ki();try{r()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:r,metadata:s,priority:m,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){Ki();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const r=this.pick();if(null===r)return;const s=this.tasks[r];if(delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),!s)return;s.fn()}finally{}}pick(){let r=null,s=1/0;for(let m=0;m<this.taskQueue.length;m++){const g=this.tasks[this.taskQueue[m]];g.priority<s&&(s=g.priority,r=m)}if(null===r)return null;const d=this.taskQueue[r];return this.taskQueue.splice(r,1),d}remove(){this.invoker.remove()}}class Fb{constructor(r){this._stringToNumber={},this._numberToString=[];for(let s=0;s<r.length;s++){const d=r[s];this._stringToNumber[d]=s,this._numberToString[s]=d}}encode(r){return this._stringToNumber[r]}decode(r){return this._numberToString[r]}}const _1=["tile","layer","source","sourceLayer","state"];class b1{constructor(r,s,d,m,g){this.type="Feature",this._vectorTileFeature=r,this._z=s,this._x=d,this._y=m,this.properties=r.properties,this.id=g}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(r.id=this.id);for(const s of _1)void 0!==this[s]&&(r[s]=this[s]);return r}}const Pc=new Uint16Array(8184);for(let o=0;o<2046;o++){let r=o+2,s=0,d=0,m=0,g=0,y=0,v=0;for(1&r?m=g=y=32:s=d=v=32;(r>>=1)>1;){const T=s+m>>1,A=d+g>>1;1&r?(m=s,g=d,s=y,d=v):(s=m,d=g,m=y,g=v),y=T,v=A}const M=4*o;Pc[M+0]=s,Pc[M+1]=d,Pc[M+2]=m,Pc[M+3]=g}const Ql=new Uint16Array(2178),Ad=new Uint8Array(1089),cf=new Uint16Array(1089);function Rb(o){return 0===o?-.03125:32===o?.03125:0}var y1=lt([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const v1={type:2,extent:Zn,loadGeometry:()=>[[new nt(0,0),new nt(8193,0),new nt(8193,8193),new nt(0,8193),new nt(0,0)]]};class zb{constructor(r,s,d,m,g){this.tileID=r,this.uid=on(),this.uses=0,this.tileSize=s,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",m&&m.transform&&(this.projection=m.transform.projection)}registerFadeDuration(r){const s=r+this.timeAdded;s<pa.now()||this.fadeEndTime&&s<this.fadeEndTime||(this.fadeEndTime=s)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Au(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,s,d){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(m,g){const y={};if(!g)return y;for(const v of m){const M=v.layerIds.map(T=>g.getLayer(T)).filter(Boolean);if(0!==M.length){v.layers=M,v.stateDependentLayerIds&&(v.stateDependentLayers=v.stateDependentLayerIds.map(T=>M.filter(A=>A.id===T)[0]));for(const T of M)y[T.id]=v}}return y}(r.buckets,s.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const g=this.buckets[m];if(g instanceof Lu){if(this.hasSymbolBuckets=!0,!d)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const g=this.buckets[m];if(g instanceof Lu&&g.hasRTLText){this.hasRTLText=!0,se.isLoading()||se.isLoaded()||"deferred"!==te()||me();break}}this.queryPadding=0;for(const m in this.buckets){const g=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,s.style.getLayer(m).queryRadius(g))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas)}else this.collisionBoxArray=new yl}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(r){return this.buckets[r.id]}upload(r){for(const d in this.buckets){const m=this.buckets[d];m.uploadPending()&&m.upload(r)}const s=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new lf(r,this.imageAtlas.image,s.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new lf(r,this.glyphAtlasImage,s.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new lf(r,this.lineAtlas.image,s.ALPHA),this.lineAtlas.uploaded=!0)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,s,d,m,g,y,v,M){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:m,pixelPosMatrix:v,transform:y,params:g,tileTransform:this.tileTransform},r,s,d):{}}querySourceFeatures(r,s){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const m=d.loadVTLayers(),g=s?s.sourceLayer:"",y=m._geojsonTileLayer||m[g];if(!y)return;const v=ja(s&&s.filter),{z:M,x:T,y:A}=this.tileID.canonical,P={z:M,x:T,y:A};for(let N=0;N<y.length;N++){const G=y.feature(N);if(v.needGeometry){const ae=Eh(G,!0);if(!v.filter(new ce(this.tileID.overscaledZ),ae,this.tileID.canonical))continue}else if(!v.filter(new ce(this.tileID.overscaledZ),G))continue;const j=d.getId(G,g),J=new b1(G,M,T,A,j);J.tile=P,r.push(J)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const s=this.expirationTime;if(r.cacheControl){const d=Ya(r.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const d=Date.now();let m=!1;if(this.expirationTime>d)m=!1;else if(s)if(this.expirationTime<s)m=!0;else{const g=this.expirationTime-s;g?this.expirationTime=d+Math.max(g,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(r,s){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(r).length||!s)return;const d=this.latestFeatureIndex.loadVTLayers(),m=s.style.listImages();for(const g in this.buckets){if(!s.style.hasLayer(g))continue;const y=this.buckets[g],v=y.layers[0].sourceLayer||"_geojsonTileLayer",M=d[v],T=r[v];if(!M||!T||0===Object.keys(T).length)continue;if(y.update(T,M,m,this.imageAtlas&&this.imageAtlas.patternPositions||{}),y instanceof Fs||y instanceof zp){const P=s.style._getSourceCache(y.layers[0].source);s._terrain&&s._terrain.enabled&&P&&y.programConfigurations.needsUpload&&s._terrain._clearRenderCacheForTile(P.id,this.tileID)}const A=s&&s.style&&s.style.getLayer(g);A&&(this.queryPadding=Math.max(this.queryPadding,A.queryRadius(y)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<pa.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=pa.now()+r}setTexture(r,s){const d=s.context,m=d.gl;this.texture=s.getTileTexture(r.width),this.texture?this.texture.update(r,{useMipmap:!0}):(this.texture=new lf(d,r,m.RGBA,{useMipmap:!0}),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),d.extTextureFilterAnisotropic&&m.texParameterf(m.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax))}setDependencies(r,s){const d={};for(const m of s)d[m]=!0;this.dependencies[r]=d}hasDependency(r,s){for(const d of r){const m=this.dependencies[d];if(m)for(const g of s)if(m[g])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,s){if(!s||"mercator"===s.name||this._tileDebugBuffer)return;const d=vd(v1,this.tileID.canonical,this.tileTransform)[0],m=new Pt,g=new _d;for(let y=0;y<d.length;y++){const{x:v,y:M}=d[y];m.emplaceBack(v,M),g.emplaceBack(y)}g.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(g),this._tileDebugBuffer=r.createVertexBuffer(m,tf.members),this._tileDebugSegments=xr.simpleSegment(0,0,m.length,g.length)}_makeTileBoundsBuffers(r,s){if(this._tileBoundsBuffer||!s||"mercator"===s.name)return;const d=vd(v1,this.tileID.canonical,this.tileTransform)[0];let m,g;if(this.isRaster){const y=function(v,M){const T=Au(v,M),A=Math.pow(2,v.z);for(let ae=0;ae<33;ae++)for(let ge=0;ge<33;ge++){const Ce=Oo((v.x+(ge+Rb(ge))/32)/A),_e=so((v.y+(ae+Rb(ae))/32)/A),ve=M.project(Ce,_e),Ae=33*ae+ge;Ql[2*Ae+0]=Math.round((ve.x*T.scale-T.x)*Zn),Ql[2*Ae+1]=Math.round((ve.y*T.scale-T.y)*Zn)}Ad.fill(0),cf.fill(0);for(let ae=2045;ae>=0;ae--){const ge=4*ae,Ce=Pc[ge+0],_e=Pc[ge+1],ve=Pc[ge+2],Ae=Pc[ge+3],Te=Ce+ve>>1,$e=_e+Ae>>1,Ge=Te+$e-_e,rt=$e+Ce-Te,Mt=33*_e+Ce,Ke=33*Ae+ve,ct=33*$e+Te,pt=Math.hypot((Ql[2*Mt+0]+Ql[2*Ke+0])/2-Ql[2*ct+0],(Ql[2*Mt+1]+Ql[2*Ke+1])/2-Ql[2*ct+1])>=16;if(Ad[ct]=Ad[ct]||(pt?1:0),ae<1022){const dt=33*(_e+rt>>1)+(Ce+Ge>>1),xt=33*(Ae+rt>>1)+(ve+Ge>>1);Ad[ct]=Ad[ct]||Ad[dt]||Ad[xt]}}const P=new Tn,N=new qt;let G=0;function j(ae,ge){const Ce=33*ge+ae;return 0===cf[Ce]&&(P.emplaceBack(Ql[2*Ce+0],Ql[2*Ce+1],ae*Zn/32,ge*Zn/32),cf[Ce]=++G),cf[Ce]-1}function J(ae,ge,Ce,_e,ve,Ae){const Te=ae+Ce>>1,$e=ge+_e>>1;if(Math.abs(ae-ve)+Math.abs(ge-Ae)>1&&Ad[33*$e+Te])J(ve,Ae,ae,ge,Te,$e),J(Ce,_e,ve,Ae,Te,$e);else{const Ge=j(ae,ge),rt=j(Ce,_e),Mt=j(ve,Ae);N.emplaceBack(Ge,rt,Mt)}}return J(0,0,32,32,32,0),J(32,32,0,0,0,32),{vertices:P,indices:N}}(this.tileID.canonical,s);m=y.vertices,g=y.indices}else{m=new Tn,g=new qt;for(const{x:v,y:M}of d)m.emplaceBack(v,M,0,0);const y=og(m.int16,void 0,4);for(let v=0;v<y.length;v+=3)g.emplaceBack(y[v],y[v+1],y[v+2])}this._tileBoundsBuffer=r.createVertexBuffer(m,y1.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(g),this._tileBoundsSegments=xr.simpleSegment(0,0,m.length,g.length)}_makeGlobeTileDebugBuffers(r,s){const d=s.projection;if(!d||"globe"!==d.name||s.freezeTileCoverage)return;const m=this.tileID.canonical,g=Uh(a1(m,s)),y=nf(s.zoom);let v;y>0&&(v=Ap(new Float64Array(16),s.globeMatrix));const M=(m.x+.5)/(1<<m.z)-Sc(s.center.lng);let T=0;M>.5?T=-1:M<-.5&&(T=1),this._makeGlobeTileDebugBorderBuffer(r,m,s,g,v,y,T),this._makeGlobeTileDebugTextBuffer(r,m,s,g,v,y,T)}_globePoint(r,s,d,m,g,y,v,M){let T=jh(r,s,d);if(y){const A=1<<d.z,P=[((r/Zn+d.x)/A+M)*m,(s/Zn+d.y)/A*m,0];Ar(P,P,y),T=$s(T,P,v)}return Ar(T,T,g)}_makeGlobeTileDebugBorderBuffer(r,s,d,m,g,y,v){const M=new Pt,T=new _d,A=new ln,P=(G,j,J,ae,ge)=>{const Ce=(J-G)/(ge-1),_e=(ae-j)/(ge-1),ve=M.length;for(let Ae=0;Ae<ge;Ae++){const Te=G+Ae*Ce,$e=j+Ae*_e;M.emplaceBack(Te,$e);const Ge=this._globePoint(Te,$e,s,d.worldSize,m,g,y,v);A.emplaceBack(Ge[0],Ge[1],Ge[2]),T.emplaceBack(ve+Ae)}},N=Zn;P(0,0,N,0,16),P(N,0,N,N,16),P(N,N,0,N,16),P(0,N,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(T),this._tileDebugBuffer=r.createVertexBuffer(M,tf.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(A,vb.members),this._tileDebugSegments=xr.simpleSegment(0,0,M.length,T.length)}_makeGlobeTileDebugTextBuffer(r,s,d,m,g,y,v){const M=new Pt,T=new qt,A=new ln,P=25;T.reserve(32),M.reserve(P),A.reserve(P);const N=(G,j)=>P*G+j;for(let G=0;G<P;G++){const j=2048*G;for(let J=0;J<P;J++){const ae=2048*J;M.emplaceBack(ae,j);const ge=this._globePoint(ae,j,s,d.worldSize,m,g,y,v);A.emplaceBack(ge[0],ge[1],ge[2])}}for(let G=0;G<4;G++)for(let j=0;j<4;j++){const J=N(G,j),ae=N(G,j+1),ge=N(G+1,j),Ce=N(G+1,j+1);T.emplaceBack(J,ae,ge),T.emplaceBack(ge,ae,Ce)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(T),this._tileDebugTextBuffer=r.createVertexBuffer(M,tf.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(A,vb.members),this._tileDebugTextSegments=xr.simpleSegment(0,0,P,32)}}class Ww{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,s,d){const m=String(s);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][m]=this.stateChanges[r][m]||{},Mi(this.stateChanges[r][m],d),null===this.deletedStates[r]){this.deletedStates[r]={};for(const g in this.state[r])g!==m&&(this.deletedStates[r][g]=null)}else if(this.deletedStates[r]&&null===this.deletedStates[r][m]){this.deletedStates[r][m]={};for(const g in this.state[r][m])d[g]||(this.deletedStates[r][m][g]=null)}else for(const g in d)this.deletedStates[r]&&this.deletedStates[r][m]&&null===this.deletedStates[r][m][g]&&delete this.deletedStates[r][m][g]}removeFeatureState(r,s,d){if(null===this.deletedStates[r])return;const m=String(s);if(this.deletedStates[r]=this.deletedStates[r]||{},d&&void 0!==s)null!==this.deletedStates[r][m]&&(this.deletedStates[r][m]=this.deletedStates[r][m]||{},this.deletedStates[r][m][d]=null);else if(void 0!==s)if(this.stateChanges[r]&&this.stateChanges[r][m])for(d in this.deletedStates[r][m]={},this.stateChanges[r][m])this.deletedStates[r][m][d]=null;else this.deletedStates[r][m]=null;else this.deletedStates[r]=null}getState(r,s){const d=String(s),m=Mi({},(this.state[r]||{})[d],(this.stateChanges[r]||{})[d]);if(null===this.deletedStates[r])return{};if(this.deletedStates[r]){const g=this.deletedStates[r][s];if(null===g)return{};for(const y in g)delete m[y]}return m}initializeTileState(r,s){r.setFeatureState(this.state,s)}coalesceChanges(r,s){const d={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const g={};for(const y in this.stateChanges[m])this.state[m][y]||(this.state[m][y]={}),Mi(this.state[m][y],this.stateChanges[m][y]),g[y]=this.state[m][y];d[m]=g}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const g={};if(null===this.deletedStates[m])for(const y in this.state[m])g[y]={},this.state[m][y]={};else for(const y in this.deletedStates[m]){if(null===this.deletedStates[m][y])this.state[m][y]={};else for(const v of Object.keys(this.deletedStates[m][y]))delete this.state[m][y][v];g[y]=this.state[m][y]}d[m]=d[m]||{},Mi(d[m],g)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(d).length)for(const m in r)r[m].setFeatureState(d,s)}}class Nb{constructor(r){this.size=r,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(r,s){const d=this.toIdx(r,s);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(r,s){return this.leaves[this.toIdx(r,s)]}toIdx(r,s){return s*this.size+r}}function Zw(o,r,s,d){let m=0,g=Number.MAX_VALUE;for(let y=0;y<3;y++)if(Math.abs(d[y])<1e-15){if(s[y]<o[y]||s[y]>r[y])return null}else{const v=1/d[y];let M=(o[y]-s[y])*v,T=(r[y]-s[y])*v;if(M>T){const A=M;M=T,T=A}if(M>m&&(m=M),T<g&&(g=T),m>g)return null}return m}function Bb(o,r,s,d,m,g,y,v,M,T,A){const P=d-o,N=m-r,G=g-s,j=y-o,J=v-r,ae=M-s,ge=A[1]*ae-A[2]*J,Ce=A[2]*j-A[0]*ae,_e=A[0]*J-A[1]*j,ve=P*ge+N*Ce+G*_e;if(Math.abs(ve)<1e-15)return null;const Ae=1/ve,Te=T[0]-o,$e=T[1]-r,Ge=T[2]-s,rt=(Te*ge+$e*Ce+Ge*_e)*Ae;if(rt<0||rt>1)return null;const Mt=$e*G-Ge*N,Ke=Ge*P-Te*G,ct=Te*N-$e*P,pt=(A[0]*Mt+A[1]*Ke+A[2]*ct)*Ae;return pt<0||rt+pt>1?null:(j*Mt+J*Ke+ae*ct)*Ae}function x1(o,r,s){return(o-r)/(s-r)}function w1(o,r,s,d,m,g,y,v,M){const T=1<<s,A=g-d,P=y-m,N=(o+1)/T*A+d,G=(r+0)/T*P+m,j=(r+1)/T*P+m;v[0]=(o+0)/T*A+d,v[1]=G,M[0]=N,M[1]=j}class Xw{constructor(r){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=r,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const s=function(g){const y=Math.ceil(Math.log2(g.dim/8)),v=[];let M=Math.ceil(Math.pow(2,y));const T=1/M,A=(G,j,J,ae,ge)=>{const Ce=ae?1:0,_e=(G+1)*J-Ce,ve=j*J,Ae=(j+1)*J-Ce;ge[0]=G*J,ge[1]=ve,ge[2]=_e,ge[3]=Ae};let P=new Nb(M);const N=[];for(let G=0;G<M*M;G++){A(G%M,Math.floor(G/M),T,!1,N);const j=Fc(N[0],N[1],g),J=Fc(N[2],N[1],g),ae=Fc(N[2],N[3],g),ge=Fc(N[0],N[3],g);P.minimums.push(Math.min(j,J,ae,ge)),P.maximums.push(Math.max(j,J,ae,ge)),P.leaves.push(1)}for(v.push(P),M/=2;M>=1;M/=2){const G=v[v.length-1];P=new Nb(M);for(let j=0;j<M*M;j++){A(j%M,Math.floor(j/M),2,!0,N);const J=G.getElevation(N[0],N[1]),ae=G.getElevation(N[2],N[1]),ge=G.getElevation(N[2],N[3]),Ce=G.getElevation(N[0],N[3]),_e=G.isLeaf(N[0],N[1]),ve=G.isLeaf(N[2],N[1]),Ae=G.isLeaf(N[2],N[3]),Te=G.isLeaf(N[0],N[3]),$e=Math.min(J.min,ae.min,ge.min,Ce.min),Ge=Math.max(J.max,ae.max,ge.max,Ce.max),rt=_e&&ve&&Ae&&Te;P.maximums.push(Ge),P.minimums.push($e),P.leaves.push(Ge-$e<=5&&rt?1:0)}v.push(P)}return v}(this.dem),d=s.length-1,m=s[d];this._addNode(m.minimums[0],m.maximums[0],m.leaves[0]),this._construct(s,0,0,d,0)}raycastRoot(r,s,d,m,g,y,v=1){return Zw([r,s,-100],[d,m,this.maximums[0]*v],g,y)}raycast(r,s,d,m,g,y,v=1){if(!this.nodeCount)return null;const M=this.raycastRoot(r,s,d,m,g,y,v);if(null==M)return null;const T=[],A=[],P=[],N=[],G=[{idx:0,t:M,nodex:0,nodey:0,depth:0}];for(;G.length>0;){const{idx:j,t:J,nodex:ae,nodey:ge,depth:Ce}=G.pop();if(this.leaves[j]){w1(ae,ge,Ce,r,s,d,m,P,N);const ve=1<<Ce,Ae=(ae+0)/ve,Te=(ae+1)/ve,$e=(ge+0)/ve,Ge=(ge+1)/ve,rt=Fc(Ae,$e,this.dem)*v,Mt=Fc(Te,$e,this.dem)*v,Ke=Fc(Te,Ge,this.dem)*v,ct=Fc(Ae,Ge,this.dem)*v,pt=Bb(P[0],P[1],rt,N[0],P[1],Mt,N[0],N[1],Ke,g,y),dt=Bb(N[0],N[1],Ke,P[0],N[1],ct,P[0],P[1],rt,g,y),xt=Math.min(null!==pt?pt:Number.MAX_VALUE,null!==dt?dt:Number.MAX_VALUE);if(xt!==Number.MAX_VALUE)return xt;{const ft=Cu([],g,y,J);if(Kw(rt,Mt,ct,Ke,x1(ft[0],P[0],N[0]),x1(ft[1],P[1],N[1]))>=ft[2])return J}continue}let _e=0;for(let ve=0;ve<this._siblingOffset.length;ve++){w1((ae<<1)+this._siblingOffset[ve][0],(ge<<1)+this._siblingOffset[ve][1],Ce+1,r,s,d,m,P,N),P[2]=-100,N[2]=this.maximums[this.childOffsets[j]+ve]*v;const Ae=Zw(P,N,g,y);if(null!=Ae){const Te=Ae;T[ve]=Te;let $e=!1;for(let Ge=0;Ge<_e&&!$e;Ge++)Te>=T[A[Ge]]&&(A.splice(Ge,0,ve),$e=!0);$e||(A[_e]=ve),_e++}}for(let ve=0;ve<_e;ve++){const Ae=A[ve];G.push({idx:this.childOffsets[j]+Ae,t:T[Ae],nodex:(ae<<1)+this._siblingOffset[Ae][0],nodey:(ge<<1)+this._siblingOffset[Ae][1],depth:Ce+1})}}return null}_addNode(r,s,d){return this.minimums.push(r),this.maximums.push(s),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(r,s,d,m,g){if(1===r[m].isLeaf(s,d))return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const y=m-1,v=r[y];let M=0,T=0;for(let A=0;A<this._siblingOffset.length;A++){const P=2*s+this._siblingOffset[A][0],N=2*d+this._siblingOffset[A][1],G=v.getElevation(P,N),j=v.isLeaf(P,N),J=this._addNode(G.min,G.max,j);j&&(M|=1<<A),T||(T=J)}for(let A=0;A<this._siblingOffset.length;A++)M&1<<A||this._construct(r,2*s+this._siblingOffset[A][0],2*d+this._siblingOffset[A][1],y,T+A)}}function Kw(o,r,s,d,m,g){return In(In(o,s,g),In(r,d,g),m)}function Fc(o,r,s){const d=s.dim,m=Gt(o*d-.5,0,d-1),g=Gt(r*d-.5,0,d-1),y=Math.floor(m),v=Math.floor(g),M=Math.min(y+1,d-1),T=Math.min(v+1,d-1);return Kw(s.get(y,v),s.get(M,v),s.get(y,T),s.get(M,T),m-y,g-v)}const C1={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class df{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(r,s,d,m=!1,g=!1){if(this.uid=r,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return ci(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=s.height;const y=this.dim=s.height-2,v=new Uint32Array(s.data.buffer);if(this.pixels=new Uint8Array(s.data.buffer),this.encoding=d||"mapbox",this.borderReady=m,!m){for(let M=0;M<y;M++)v[this._idx(-1,M)]=v[this._idx(0,M)],v[this._idx(y,M)]=v[this._idx(y-1,M)],v[this._idx(M,-1)]=v[this._idx(M,0)],v[this._idx(M,y)]=v[this._idx(M,y-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(y,-1)]=v[this._idx(y-1,0)],v[this._idx(-1,y)]=v[this._idx(0,y-1)],v[this._idx(y,y)]=v[this._idx(y-1,y-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Xw(this)}get(r,s,d=!1){d&&(r=Gt(r,-1,this.dim),s=Gt(s,-1,this.dim));const m=4*this._idx(r,s);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[m],this.pixels[m+1],this.pixels[m+2])}static getUnpackVector(r){return C1[r]}get unpackVector(){return C1[this.encoding]}_idx(r,s){if(r<-1||r>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(r+1)}_unpackMapbox(r,s,d){return(256*r*256+256*s+d)/10-1e4}_unpackTerrarium(r,s,d){return 256*r+s+d/256-32768}static pack(r,s){const d=[0,0,0,0],m=df.getUnpackVector(s);let g=Math.floor((r+m[3])/m[2]);return d[2]=g%256,g=Math.floor(g/256),d[1]=g%256,g=Math.floor(g/256),d[0]=g,d}getPixels(){return new Qs({width:this.stride,height:this.stride},this.pixels)}backfillBorder(r,s,d){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let m=s*this.dim,g=s*this.dim+this.dim,y=d*this.dim,v=d*this.dim+this.dim;switch(s){case-1:m=g-1;break;case 1:g=m+1}switch(d){case-1:y=v-1;break;case 1:v=y+1}const M=-s*this.dim,T=-d*this.dim;for(let A=y;A<v;A++)for(let P=m;P<g;P++){const N=4*this._idx(P,A),G=4*this._idx(P+M,A+T);this.pixels[N+0]=r.pixels[G+0],this.pixels[N+1]=r.pixels[G+1],this.pixels[N+2]=r.pixels[G+2],this.pixels[N+3]=r.pixels[G+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}kt(df,"DEMData"),kt(Xw,"DemMinMaxQuadTree",{omit:["dem"]});class k1{constructor(r,s){this.max=r,this.onRemove=s,this.reset()}reset(){for(const r in this.data)for(const s of this.data[r])s.timeout&&clearTimeout(s.timeout),this.onRemove(s.value);return this.data={},this.order=[],this}add(r,s,d){const m=r.wrapped().key;void 0===this.data[m]&&(this.data[m]=[]);const g={value:s,timeout:void 0};if(void 0!==d&&(g.timeout=setTimeout(()=>{this.remove(r,g)},d)),this.data[m].push(g),this.order.push(m),this.order.length>this.max){const y=this._getAndRemoveByKey(this.order[0]);y&&this.onRemove(y)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const s=this.data[r].shift();return s.timeout&&clearTimeout(s.timeout),0===this.data[r].length&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),s.value}getByKey(r){const s=this.data[r];return s?s[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,s){if(!this.has(r))return this;const d=r.wrapped().key,m=void 0===s?0:this.data[d].indexOf(s),g=this.data[d][m];return this.data[d].splice(m,1),g.timeout&&clearTimeout(g.timeout),0===this.data[d].length&&delete this.data[d],this.onRemove(g.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const s=this._getAndRemoveByKey(this.order[0]);s&&this.onRemove(s)}return this}filter(r){const s=[];for(const d in this.data)for(const m of this.data[d])r(m.value)||s.push(m);for(const d of s)this.remove(d.value.tileID,d)}}class uf{constructor(r,s,d){this.func=r,this.mask=s,this.range=d}}uf.ReadOnly=!1,uf.ReadWrite=!0,uf.disabled=new uf(519,uf.ReadOnly,[0,1]);class M1{constructor(r,s,d,m,g,y){this.test=r,this.ref=s,this.mask=d,this.fail=m,this.depthFail=g,this.pass=y}}M1.disabled=new M1({func:519,mask:0},0,0,7680,7680,7680);class Od{constructor(r,s,d){this.blendFunction=r,this.blendColor=s,this.mask=d}}Od.Replace=[1,0],Od.disabled=new Od(Od.Replace,Gi.transparent,[!1,!1,!1,!1]),Od.unblended=new Od(Od.Replace,Gi.transparent,[!0,!0,!0,!0]),Od.alphaBlended=new Od([1,771],Gi.transparent,[!0,!0,!0,!0]);class El{constructor(r,s,d){this.enable=r,this.mode=s,this.frontFace=d}}El.disabled=new El(!1,1029,2305),El.backCCW=new El(!0,1029,2305),El.backCW=new El(!0,1029,2304),El.frontCW=new El(!0,1028,2304),El.frontCCW=new El(!0,1028,2305);class Pu extends At{constructor(r,s,d){super(),this.id=r,this._onlySymbols=d,s.on("data",m=>{"source"===m.dataType&&"metadata"===m.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===m.dataType&&"content"===m.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),s.on("error",()=>{this._sourceErrored=!0}),this._source=s,this._tiles={},this._cache=new k1(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=s.minTileCacheSize,this._maxTileCacheSize=s.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ww,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(r){this.map=r,this._minTileCacheSize=void 0===this._minTileCacheSize&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const s=this._tiles[r];if("loaded"!==s.state&&"errored"!==s.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,s){return r.isSymbolTile=this._onlySymbols,this._source.loadTile(r,s)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,()=>{})}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r,()=>{})}serialize(){return this._source.serialize()}prepare(r){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(const s in this._tiles){const d=this._tiles[s];this._source.prepareTile(d)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,d.tileID),d.upload(r),d.prepare(this.map.style.imageManager)}else for(const s in this._tiles){const d=this._tiles[s];d.upload(r),d.prepare(this.map.style.imageManager)}}getIds(){return Qi(this._tiles).map(r=>r.tileID).sort(E1).map(r=>r.key)}getRenderableIds(r){const s=[];for(const d in this._tiles)this._isIdRenderable(+d,r)&&s.push(this._tiles[d]);return r?s.sort((d,m)=>{const g=d.tileID,y=m.tileID,v=new nt(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),M=new nt(y.canonical.x,y.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-y.overscaledZ||M.y-v.y||M.x-v.x}).map(d=>d.tileID.key):s.map(d=>d.tileID).sort(E1).map(d=>d.key)}hasRenderableParent(r){const s=this.findLoadedParent(r,0);return!!s&&this._isIdRenderable(s.tileID.key)}_isIdRenderable(r,s){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(s||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)"errored"!==this._tiles[r].state&&this._reloadTile(+r,"reloading")}}_reloadTile(r,s){const d=this._tiles[r];d&&("loading"!==d.state&&(d.state=s),this._loadTile(d,this._tileLoaded.bind(this,d,r,s)))}_tileLoaded(r,s,d,m){if(m)if(r.state="errored",404!==m.status)this._source.fire(new Mn(m,{tile:r}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else r.timeAdded=pa.now(),"expired"===d&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(s,r),"raster-dem"===this._source.type&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new bn("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const s=this.getRenderableIds();for(let m=0;m<s.length;m++){const g=s[m];if(r.neighboringTiles&&r.neighboringTiles[g]){const y=this.getTileByID(g);d(r,y),d(y,r)}}function d(m,g){if(!m.dem||m.dem.borderReady)return;m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0;let y=g.tileID.canonical.x-m.tileID.canonical.x;const v=g.tileID.canonical.y-m.tileID.canonical.y,M=Math.pow(2,m.tileID.canonical.z),T=g.tileID.key;0===y&&0===v||Math.abs(v)>1||(Math.abs(y)>1&&(1===Math.abs(y+M)?y+=M:1===Math.abs(y-M)&&(y-=M)),g.dem&&m.dem&&(m.dem.backfillBorder(g.dem,y,v),m.neighboringTiles&&m.neighboringTiles[T]&&(m.neighboringTiles[T].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,s,d,m){for(const g in this._tiles){let y=this._tiles[g];if(m[g]||!y.hasData()||y.tileID.overscaledZ<=s||y.tileID.overscaledZ>d)continue;let v=y.tileID;for(;y&&y.tileID.overscaledZ>s+1;){const T=y.tileID.scaledTo(y.tileID.overscaledZ-1);y=this._tiles[T.key],y&&y.hasData()&&(v=T)}let M=v;for(;M.overscaledZ>s;)if(M=M.scaledTo(M.overscaledZ-1),r[M.key]){m[v.key]=v;break}}}findLoadedParent(r,s){if(r.key in this._loadedParentTiles){const d=this._loadedParentTiles[r.key];return d&&d.tileID.overscaledZ>=s?d:null}for(let d=r.overscaledZ-1;d>=s;d--){const m=r.scaledTo(d),g=this._getLoadedTile(m);if(g)return g}}_getLoadedTile(r){const s=this._tiles[r.key];return s&&s.hasData()?s:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,s){s=s||this._source.tileSize;const d=Math.ceil(r.width/s)+1,m=Math.ceil(r.height/s)+1,g=Math.floor(d*m*5),y="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,g):g,v="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(v)}handleWrapJump(r){const s=Math.round((r-(void 0===this._prevLng?r:this._prevLng))/360);if(this._prevLng=r,s){const d={};for(const m in this._tiles){const g=this._tiles[m];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+s),d[g.tileID.key]=g}this._tiles=d;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(+m,this._tiles[m])}}update(r,s,d){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let m;this.updateCacheSize(r,s),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(v=>new Fo(v.canonical.z,v.wrap,v.canonical.z,v.canonical.x,v.canonical.y)):(m=r.coveringTiles({tileSize:s||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(m=m.filter(v=>this._source.hasTile(v)))):m=[];const g=this._updateRetainedTiles(m);if(Jw(this._source.type)&&0!==m.length){const v={},M={},T=Object.keys(g);for(const P of T){const N=g[P],G=this._tiles[P];if(!G||G.fadeEndTime&&G.fadeEndTime<=pa.now())continue;const j=this.findLoadedParent(N,Math.max(N.overscaledZ-Pu.maxOverzooming,this._source.minzoom));j&&(this._addTile(j.tileID),v[j.tileID.key]=j.tileID),M[P]=N}const A=m[m.length-1].overscaledZ;for(const P in this._tiles){const N=this._tiles[P];if(g[P]||!N.hasData())continue;let G=N.tileID;for(;G.overscaledZ>A;){G=G.scaledTo(G.overscaledZ-1);const j=this._tiles[G.key];if(j&&j.hasData()&&M[G.key]){g[P]=N.tileID;break}}}for(const P in v)g[P]||(this._coveredTiles[P]=!0,g[P]=v[P])}for(const v in g)this._tiles[v].clearFadeHold();const y=function(v,M){const T=[];for(const A in v)A in M||T.push(A);return T}(this._tiles,g);for(const v of y){const M=this._tiles[v];M.hasSymbolBuckets&&!M.holdingForFade()?M.setHoldDuration(this.map._fadeDuration):M.hasSymbolBuckets&&!M.symbolFadeFinished()||this._removeTile(+v)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const s={};if(0===r.length)return s;const d={},m=r.reduce((T,A)=>Math.min(T,A.overscaledZ),1/0),g=r[0].overscaledZ,y=Math.max(g-Pu.maxOverzooming,this._source.minzoom),v=Math.max(g+Pu.maxUnderzooming,this._source.minzoom),M={};for(const T of r){const A=this._addTile(T);s[T.key]=T,A.hasData()||m<this._source.maxzoom&&(M[T.key]=T)}this._retainLoadedChildren(M,m,v,s);for(const T of r){let A=this._tiles[T.key];if(A.hasData())continue;if(T.canonical.z>=this._source.maxzoom){const N=T.children(this._source.maxzoom)[0],G=this.getTile(N);if(G&&G.hasData()){s[N.key]=N;continue}}else{const N=T.children(this._source.maxzoom);if(s[N[0].key]&&s[N[1].key]&&s[N[2].key]&&s[N[3].key])continue}let P=A.wasRequested();for(let N=T.overscaledZ-1;N>=y;--N){const G=T.scaledTo(N);if(d[G.key]||(d[G.key]=!0,A=this.getTile(G),!A&&P&&(A=this._addTile(G)),A&&(s[G.key]=G,P=A.wasRequested(),A.hasData())))break}}return s}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const s=[];let d,m=this._tiles[r].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){d=this._loadedParentTiles[m.key];break}s.push(m.key);const g=m.scaledTo(m.overscaledZ-1);if(d=this._getLoadedTile(g),d)break;m=g}for(const g of s)this._loadedParentTiles[g]=d}}_addTile(r){let s=this._tiles[r.key];if(s)return this._source.prepareTile&&this._source.prepareTile(s),s;s=this._cache.getAndRemove(r),s&&(this._setTileReloadTimer(r.key,s),s.tileID=r,this._state.initializeTileState(s,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,s)));const d=Boolean(s);if(!d){const m=this.map?this.map.painter:null;s=new zb(r,this._source.tileSize*r.overscaleFactor(),this.transform.tileZoom,m,this._isRaster),this._source.prepareTile&&this._source.prepareTile(s)||this._loadTile(s,this._tileLoaded.bind(this,s,r.key,s.state))}return s?(s.uses++,this._tiles[r.key]=s,d||this._source.fire(new bn("dataloading",{tile:s,coord:s.tileID,dataType:"source"})),s):null}_setTileReloadTimer(r,s){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const d=s.getExpiryTimeout();d&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},d))}_removeTile(r){const s=this._tiles[r];s&&(s.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),s.uses>0||(s.hasData()&&"reloading"!==s.state?this._cache.add(s.tileID,s,s.getExpiryTimeout()):(s.aborted=!0,this._abortTile(s),this._unloadTile(s))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,s,d){const m=[],g=this.transform;if(!g)return m;const y="globe"===g.projection.name,v=Sc(g.center.lng);for(const M in this._tiles){const T=this._tiles[M];if(d&&T.clearQueryDebugViz(),T.holdingForFade())continue;let A;if(y){const P=T.tileID.canonical;if(0===P.z){const N=[Math.abs(Gt(v,...Gm(P,-1))-v),Math.abs(Gt(v,...Gm(P,1))-v)];A=[0,2*N.indexOf(Math.min(...N))-1]}else{const N=[Math.abs(Gt(v,...Gm(P,-1))-v),Math.abs(Gt(v,...Gm(P,0))-v),Math.abs(Gt(v,...Gm(P,1))-v)];A=[N.indexOf(Math.min(...N))-1]}}else A=[0];for(const P of A){const N=r.containsTile(T,g,s,P);N&&m.push(N)}}return m}getVisibleCoordinates(r){const s=this.getRenderableIds(r).map(d=>this._tiles[d].tileID);for(const d of s)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return s}hasTransition(){if(this._source.hasTransition())return!0;if(Jw(this._source.type))for(const r in this._tiles){const s=this._tiles[r];if(void 0!==s.fadeEndTime&&s.fadeEndTime>=pa.now())return!0}return!1}setFeatureState(r,s,d){this._state.updateState(r=r||"_geojsonTileLayer",s,d)}removeFeatureState(r,s,d){this._state.removeFeatureState(r=r||"_geojsonTileLayer",s,d)}getFeatureState(r,s){return this._state.getState(r=r||"_geojsonTileLayer",s)}setDependencies(r,s,d){const m=this._tiles[r];m&&m.setDependencies(s,d)}reloadTilesForDependencies(r,s){for(const d in this._tiles)this._tiles[d].hasDependency(r,s)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(r,s))}_preloadTiles(r,s){const d=new Map,m=Array.isArray(r)?r:[r],g=this.map.painter.terrain,y=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const v of m){const M=v.coveringTiles({tileSize:y,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const T of M)d.set(T.key,T);this.usedForTerrain&&v.updateElevation(!1)}Pa(Array.from(d.values()),(v,M)=>{const T=new zb(v,this._source.tileSize*v.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(T,A=>{"raster-dem"===this._source.type&&T.dem&&this._backfillDEM(T),M(A,T)})},s)}}function E1(o,r){const s=Math.abs(2*o.wrap)-+(o.wrap<0),d=Math.abs(2*r.wrap)-+(r.wrap<0);return o.overscaledZ-r.overscaledZ||d-s||r.canonical.y-o.canonical.y||r.canonical.x-o.canonical.x}function Jw(o){return"raster"===o||"image"===o||"video"===o}function Gm(o,r){const s=1<<o.z;return[o.x/s+r,(o.x+1)/s+r]}Pu.maxOverzooming=10,Pu.maxUnderzooming=3;class yn{constructor(r,s,d){this._demTile=r,this._dem=this._demTile.dem,this._scale=s,this._offset=d}static create(r,s,d){const m=d||r.findDEMTileFor(s);if(!m||!m.dem)return;const g=m.dem,y=m.tileID,v=1<<s.canonical.z-y.canonical.z;return new yn(m,m.tileSize/Zn/v,[(s.canonical.x/v-y.canonical.x)*g.dim,(s.canonical.y/v-y.canonical.y)*g.dim])}tileCoordToPixel(r,s){const d=s*this._scale+this._offset[1],m=Math.floor(r*this._scale+this._offset[0]),g=Math.floor(d);return new nt(m,g)}getElevationAt(r,s,d,m){const g=r*this._scale+this._offset[0],y=s*this._scale+this._offset[1],v=Math.floor(g),M=Math.floor(y),T=this._dem;return m=!!m,d?In(In(T.get(v,M,m),T.get(v,M+1,m),y-M),In(T.get(v+1,M,m),T.get(v+1,M+1,m),y-M),g-v):T.get(v,M,m)}getElevationAtPixel(r,s,d){return this._dem.get(r,s,!!d)}getMeterToDEM(r){return(1<<this._demTile.tileID.canonical.z)*Ps(1,r)*this._dem.stride}}class D1{constructor(r,s){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Cc(Zn,16,0),this.featureIndexArray=new ry,this.promoteId=s}insert(r,s,d,m,g,y=0){const v=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,g,y);const M=this.grid;for(let T=0;T<s.length;T++){const A=s[T],P=[1/0,1/0,-1/0,-1/0];for(let N=0;N<A.length;N++){const G=A[N];P[0]=Math.min(P[0],G.x),P[1]=Math.min(P[1],G.y),P[2]=Math.max(P[2],G.x),P[3]=Math.max(P[3],G.y)}P[0]<Zn&&P[1]<Zn&&P[2]>=0&&P[3]>=0&&M.insert(v,P[0],P[1],P[2],P[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Eu.VectorTile(new zm(this.rawTileData)).layers,this.sourceLayerCoder=new Fb(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const r in this.vtLayers)this.vtFeatures[r]=[]}return this.vtLayers}query(r,s,d,m){this.loadVTLayers();const g=r.params||{},y=ja(g.filter),v=r.tileResult,M=r.transform,T=v.bufferedTilespaceBounds,A=this.grid.query(T.min.x,T.min.y,T.max.x,T.max.y,(j,J,ae,ge)=>ew(v.bufferedTilespaceGeometry,j,J,ae,ge));A.sort(Qw);let P=null;M.elevation&&A.length>0&&(P=yn.create(M.elevation,this.tileID));const N={};let G;for(let j=0;j<A.length;j++){const J=A[j];if(J===G)continue;G=J;const ae=this.featureIndexArray.get(J);let ge=null;this.loadMatchingFeature(N,ae,y,g.layers,g.availableImages,s,d,m,(Ce,_e,ve,Ae=0)=>(ge||(ge=vd(Ce,this.tileID.canonical,r.tileTransform)),_e.queryIntersectsFeature(v,Ce,ve,ge,this.z,r.transform,r.pixelPosMatrix,P,Ae)))}return N}loadMatchingFeature(r,s,d,m,g,y,v,M,T){const{featureIndex:A,bucketIndex:P,sourceLayerIndex:N,layoutVertexArrayOffset:G}=s,j=this.bucketLayerIDs[P];if(m&&!function(Ce,_e){for(let ve=0;ve<Ce.length;ve++)if(_e.indexOf(Ce[ve])>=0)return!0;return!1}(m,j))return;const J=this.sourceLayerCoder.decode(N),ae=this.vtLayers[J].feature(A);if(d.needGeometry){const Ce=Eh(ae,!0);if(!d.filter(new ce(this.tileID.overscaledZ),Ce,this.tileID.canonical))return}else if(!d.filter(new ce(this.tileID.overscaledZ),ae))return;const ge=this.getId(ae,J);for(let Ce=0;Ce<j.length;Ce++){const _e=j[Ce];if(m&&m.indexOf(_e)<0)continue;const ve=y[_e];if(!ve)continue;let Ae={};void 0!==ge&&M&&(Ae=M.getState(ve.sourceLayer||"_geojsonTileLayer",ge));const Te=Mi({},v[_e]);Te.paint=Fg(Te.paint,ve.paint,ae,Ae,g),Te.layout=Fg(Te.layout,ve.layout,ae,Ae,g);const $e=!T||T(ae,ve,Ae,G);if(!$e)continue;const Ge=new b1(ae,this.z,this.x,this.y,ge);Ge.layer=Te;let rt=r[_e];void 0===rt&&(rt=r[_e]=[]),rt.push({featureIndex:A,feature:Ge,intersectionZ:$e})}}lookupSymbolFeatures(r,s,d,m,g,y,v,M){const T={};this.loadVTLayers();const A=ja(g);for(const P of r)this.loadMatchingFeature(T,{bucketIndex:d,sourceLayerIndex:m,featureIndex:P,layoutVertexArrayOffset:0},A,y,v,M,s);return T}loadFeature(r){const{featureIndex:s,sourceLayerIndex:d}=r;this.loadVTLayers();const m=this.sourceLayerCoder.decode(d),g=this.vtFeatures[m];if(g[s])return g[s];const y=this.vtLayers[m].feature(s);return g[s]=y,y}hasLayer(r){for(const s of this.bucketLayerIDs)for(const d of s)if(r===d)return!0;return!1}getId(r,s){let d=r.id;return this.promoteId&&(d=r.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[s]],"boolean"==typeof d&&(d=Number(d))),d}}function Fg(o,r,s,d,m){return nr(o,(g,y)=>{const v=r instanceof Ee?r.get(y):null;return v&&v.evaluate?v.evaluate(s,d,m):v})}function Qw(o,r){return r-o}kt(D1,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class S1{constructor(r){const s={},d=[];for(const v in r){const M=r[v],T=s[v]={};for(const A in M.glyphs){const P=M.glyphs[+A];if(!P||0===P.bitmap.width||0===P.bitmap.height)continue;const N=P.metrics.localGlyph?2:1,G={x:0,y:0,w:P.bitmap.width+2*N,h:P.bitmap.height+2*N};d.push(G),T[A]=G}}const{w:m,h:g}=qy(d),y=new wd({width:m||1,height:g||1});for(const v in r){const M=r[v];for(const T in M.glyphs){const A=M.glyphs[+T];if(!A||0===A.bitmap.width||0===A.bitmap.height)continue;const P=s[v][T],N=A.metrics.localGlyph?2:1;wd.copy(A.bitmap,y,{x:0,y:0},{x:P.x+N,y:P.y+N},A.bitmap)}}this.image=y,this.positions=s}}kt(S1,"GlyphAtlas");class e3{constructor(r){this.tileID=new Fo(r.tileID.overscaledZ,r.tileID.wrap,r.tileID.canonical.z,r.tileID.canonical.x,r.tileID.canonical.y),this.tileZoom=r.tileZoom,this.uid=r.uid,this.zoom=r.zoom,this.canonical=r.tileID.canonical,this.pixelRatio=r.pixelRatio,this.tileSize=r.tileSize,this.source=r.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=r.showCollisionBoxes,this.collectResourceTiming=!!r.collectResourceTiming,this.returnDependencies=!!r.returnDependencies,this.promoteId=r.promoteId,this.enableTerrain=!!r.enableTerrain,this.isSymbolTile=r.isSymbolTile,this.tileTransform=Au(r.tileID.canonical,r.projection),this.projection=r.projection}parse(r,s,d,m,g){this.status="parsing",this.data=r,this.collisionBoxArray=new yl;const y=new Fb(Object.keys(r.layers).sort()),v=new D1(this.tileID,this.promoteId);v.bucketLayerIDs=[];const M={},T=new Pb(256,256),A={featureIndex:v,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:T,availableImages:d},P=s.familiesBySource[this.source];for(const Ae in P){const Te=r.layers[Ae];if(!Te)continue;let $e=!1,Ge=!1;for(const Ke of P[Ae])"symbol"===Ke[0].type?$e=!0:Ge=!0;if(!0===this.isSymbolTile&&!$e||!1===this.isSymbolTile&&!Ge)continue;1===Te.version&&ci(`Vector tile source "${this.source}" layer "${Ae}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const rt=y.encode(Ae),Mt=[];for(let Ke=0;Ke<Te.length;Ke++){const ct=Te.feature(Ke),pt=v.getId(ct,Ae);Mt.push({feature:ct,id:pt,index:Ke,sourceLayerIndex:rt})}for(const Ke of P[Ae]){const ct=Ke[0];void 0!==this.isSymbolTile&&"symbol"===ct.type!==this.isSymbolTile||ct.minzoom&&this.zoom<Math.floor(ct.minzoom)||ct.maxzoom&&this.zoom>=ct.maxzoom||"none"!==ct.visibility&&(Vb(Ke,this.zoom,d),(M[ct.id]=ct.createBucket({index:v.bucketLayerIDs.length,layers:Ke,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:rt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(Mt,A,this.tileID.canonical,this.tileTransform),v.bucketLayerIDs.push(Ke.map(pt=>pt.id)))}}let N,G,j,J;T.trim();const ae={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ge=nr(A.glyphDependencies,Ae=>Object.keys(Ae).map(Number));Object.keys(ge).length?m.send("getGlyphs",{uid:this.uid,stacks:ge},(Ae,Te)=>{N||(N=Ae,G=Te,ve.call(this))},void 0,!1,ae):G={};const Ce=Object.keys(A.iconDependencies);Ce.length?m.send("getImages",{icons:Ce,source:this.source,tileID:this.tileID,type:"icons"},(Ae,Te)=>{N||(N=Ae,j=Te,ve.call(this))},void 0,!1,ae):j={};const _e=Object.keys(A.patternDependencies);function ve(){if(N)return g(N);if(G&&j&&J){const Ae=new S1(G),Te=new Lw(j,J);for(const $e in M){const Ge=M[$e];Ge instanceof Lu?(Vb(Ge.layers,this.zoom,d),qk(Ge,G,Ae.positions,j,Te.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):Ge.hasPattern&&(Ge instanceof Fs||Ge instanceof zp||Ge instanceof Hp)&&(Vb(Ge.layers,this.zoom,d),Ge.addFeatures(A,this.tileID.canonical,Te.patternPositions,d,this.tileTransform))}this.status="done",g(null,{buckets:Qi(M).filter($e=>!$e.isEmpty()),featureIndex:v,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ae.image,lineAtlas:T,imageAtlas:Te,glyphMap:this.returnDependencies?G:null,iconMap:this.returnDependencies?j:null,glyphPositions:this.returnDependencies?Ae.positions:null})}}_e.length?m.send("getImages",{icons:_e,source:this.source,tileID:this.tileID,type:"patterns"},(Ae,Te)=>{N||(N=Ae,J=Te,ve.call(this))},void 0,!1,ae):J={},ve.call(this)}}function Vb(o,r,s){const d=new ce(r);for(const m of o)m.recalculate(d,s)}class I1{constructor(r){this.entries={},this.scheduler=r}request(r,s,d,m){const g=this.entries[r]=this.entries[r]||{callbacks:[]};if(g.result){const[y,v]=g.result;return this.scheduler?this.scheduler.add(()=>{m(y,v)},s):m(y,v),()=>{}}return g.callbacks.push(m),g.cancel||(g.cancel=d((y,v)=>{g.result=[y,v];for(const M of g.callbacks)this.scheduler?this.scheduler.add(()=>{M(y,v)},s):M(y,v);setTimeout(()=>delete this.entries[r],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(y=>y!==m),g.callbacks.length||(g.cancel(),delete this.entries[r]))}}}function A1(o,r,s){const d=JSON.stringify(o.request);return o.data&&(this.deduped.entries[d]={result:[null,o.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom},m=>{const g=He(o.request,(y,v,M,T)=>{y?m(y):v&&m(null,{vectorTile:s?void 0:new Eu.VectorTile(new zm(v)),rawData:v,cacheControl:M,expires:T})});return()=>{g.cancel(),m()}},r)}p.ARRAY_TYPE=Js,p.AUTH_ERR_MSG=fa,p.Aabb=bs,p.Actor=class{constructor(o,r,s){this.target=o,this.parent=r,this.mapId=s,this.callbacks={},this.cancelCallbacks={},Rr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ki()?o:at,this.scheduler=new g1}send(o,r,s,d,m=!1,g){const y=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(s.metadata=g,this.callbacks[y]=s);const v=yo(this.globalScope)?void 0:[];return this.target.postMessage({id:y,type:o,hasCallback:!!s,targetMapId:d,mustQueue:m,sourceMapId:this.mapId,data:Hl(r,v)},v),{cancel:()=>{s&&delete this.callbacks[y],this.target.postMessage({id:y,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(o){const r=o.data,s=r.id;if(s&&(!r.targetMapId||this.mapId===r.targetMapId))if("<cancel>"===r.type){const d=this.cancelCallbacks[s];delete this.cancelCallbacks[s],d&&d.cancel()}else if(r.mustQueue||Ki()){const d=this.callbacks[s];this.cancelCallbacks[s]=this.scheduler.add(()=>this.processTask(s,r),d&&d.metadata||{type:"message"})}else this.processTask(s,r)}processTask(o,r){if("<response>"===r.type){const s=this.callbacks[o];delete this.callbacks[o],s&&(r.error?s(sd(r.error)):s(null,sd(r.data)))}else{const s=yo(this.globalScope)?void 0:[],d=r.hasCallback?(g,y)=>{delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:g?Hl(g):null,data:Hl(y,s)},s)}:g=>{},m=sd(r.data);if(this.parent[r.type])this.parent[r.type](r.sourceMapId,m,d);else if(this.parent.getWorkerSource){const g=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,g[0],m.source)[g[1]](m,d)}else d(new Error(`Could not find function ${r.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},p.CanonicalTileID=Du,p.Color=Gi,p.ColorMode=Od,p.CullFaceMode=El,p.DEMData=df,p.DataConstantProperty=Me,p.DedupedRequest=I1,p.DepthMode=uf,p.EXTENT=Zn,p.Elevation=class{isDataAvailableAtPoint(o){const r=this._source();if(!r||o.y<0||o.y>1)return!1;const s=r.getSource().maxzoom,d=1<<s,m=Math.floor(o.x),g=Math.floor((o.x-m)*d),y=Math.floor(o.y*d),v=this.findDEMTileFor(new Fo(s,m,s,g,y));return!(!v||!v.dem)}getAtPointOrZero(o,r=0){return this.getAtPoint(o,r)||0}getAtPoint(o,r,s=!0){null==r&&(r=null);const d=this._source();if(!d||o.y<0||o.y>1)return r;const m=d.getSource().maxzoom,g=1<<m,y=Math.floor(o.x),v=o.x-y,M=new Fo(m,y,m,Math.floor(v*g),Math.floor(o.y*g)),T=this.findDEMTileFor(M);if(!T||!T.dem)return r;const A=T.dem,P=1<<T.tileID.canonical.z,N=(v*P-T.tileID.canonical.x)*A.dim,G=(o.y*P-T.tileID.canonical.y)*A.dim,j=Math.floor(N),J=Math.floor(G);return(s?this.exaggeration():1)*In(In(A.get(j,J),A.get(j,J+1),G-J),In(A.get(j+1,J),A.get(j+1,J+1),G-J),N-j)}getAtTileOffset(o,r,s){const d=1<<o.canonical.z;return this.getAtPointOrZero(new vu(o.wrap+(o.canonical.x+r/Zn)/d,(o.canonical.y+s/Zn)/d))}getAtTileOffsetFunc(o,r,s,d){return m=>{const g=this.getAtTileOffset(o,m.x,m.y),y=d.upVector(o.canonical,m.x,m.y);return en(y,y,g*d.upVectorScale(o.canonical,r,s).metersToTile),y}}getForTilePoints(o,r,s,d){const m=yn.create(this,o,d);return!!m&&(r.forEach(g=>{g[2]=this.exaggeration()*m.getElevationAt(g[0],g[1],s)}),!0)}getMinMaxForTile(o){const r=this.findDEMTileFor(o);if(!r||!r.dem)return null;const s=r.dem.tree,d=r.tileID,m=1<<o.canonical.z-d.canonical.z;let g=o.canonical.x/m-d.canonical.x,y=o.canonical.y/m-d.canonical.y,v=0;for(let M=0;M<o.canonical.z-d.canonical.z&&!s.leaves[v];M++){g*=2,y*=2;const T=2*Math.floor(y)+Math.floor(g);v=s.childOffsets[v]+T,g%=1,y%=1}return{min:this.exaggeration()*s.minimums[v],max:this.exaggeration()*s.maximums[v]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(o,r,s){throw new Error("Pure virtual method called.")}pointCoordinate(o){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(o){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},p.ErrorEvent=Mn,p.EvaluationParameters=ce,p.Event=bn,p.Evented=At,p.FillExtrusionBucket=Hp,p.Frustum=ig,p.FrustumCorners=B_,p.GLOBE_METERS_TO_ECEF=Mg,p.GLOBE_RADIUS=Md,p.GLOBE_SCALE_MATCH_LATITUDE=45,p.GLOBE_ZOOM_THRESHOLD_MAX=6,p.GLOBE_ZOOM_THRESHOLD_MIN=5,p.GlobeSharedBuffers=class{constructor(o){this._createGrid(o),this._createPoles(o)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const o of this._poleSegments)o.destroy();for(const o of this._gridSegments)o.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const o of this._wireframeSegments)o.destroy()}}_createGrid(o){const r=new Pt,s=new qt,d=65;for(let m=0;m<d;m++)for(let g=0;g<d;g++)r.emplaceBack(g,m);this._gridSegments=[];for(let m=0,g=0;m<Vh.length;m++){const y=Vh[m];for(let M=0;M<y;M++)for(let T=0;T<64;T++){const A=M*d+T;s.emplaceBack(A+1,A,A+d),s.emplaceBack(A+d,A+d+1,A+1)}const v=64*y*2;this._gridSegments.push(xr.simpleSegment(0,g,(y+1)*d,v)),g+=v}this._gridBuffer=o.createVertexBuffer(r,tf.members),this._gridIndexBuffer=o.createIndexBuffer(s,!0)}_createPoles(o){const r=new qt;for(let m=0;m<=64;m++)r.emplaceBack(0,m+1,m+2);this._poleIndexBuffer=o.createIndexBuffer(r,!0);const s=new er,d=new er;this._poleSegments=[];for(let m=0,g=0;m<5;m++){const y=360/(1<<m);s.emplaceBack(0,-Md,0,.5,0),d.emplaceBack(0,-Md,0,.5,1);for(let v=0;v<=64;v++){const M=v/64,T=In(0,y,M),[A,P,N]=jm($w,s1,T,Md);s.emplaceBack(A,P,N,M,0),d.emplaceBack(A,P,N,M,1)}this._poleSegments.push(xr.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=o.createVertexBuffer(s,t1,!1),this._poleSouthVertexBuffer=o.createVertexBuffer(d,t1,!1)}getGridBuffers(o){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[o]]}getPoleBuffers(o){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[o]]}getWirefameBuffers(o,r){if(!this._wireframeSegments){const s=new Ao,d=64,m=d+1;this._wireframeSegments=[];for(let g=0,y=0;g<Vh.length;g++){const v=Vh[g];for(let T=0;T<v;T++)for(let A=0;A<d;A++){const P=T*m+A;s.emplaceBack(P,P+1),s.emplaceBack(P,P+m),s.emplaceBack(P,P+m+1)}const M=v*d*3;this._wireframeSegments.push(xr.simpleSegment(0,y,(v+1)*m,M)),y+=M}this._wireframeIndexBuffer=o.createIndexBuffer(s)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[r]]}},p.GlyphManager=Bh,p.ImagePosition=Wy,p.LineAtlas=Pb,p.LngLat=na,p.LngLatBounds=bd,p.LocalGlyphMode=Jp,p.MAX_MERCATOR_LATITUDE=yd,p.MercatorCoordinate=vu,p.ONE_EM=F,p.OverscaledTileID=Fo,p.Properties=st,p.RGBAImage=Qs,p.Ray=N_,p.RequestManager=class{constructor(o,r,s){this._transformRequestFn=o,this._customAccessToken=r,this._silenceAuthErrors=!!s,this._createSkuToken()}_createSkuToken(){const o=function(){let r="";for(let s=0;s<10;s++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",On,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(o,r){return this._transformRequestFn&&this._transformRequestFn(o,r)||{url:o}}normalizeStyleURL(o,r){if(!Ea(o))return o;const s=Sa(o);return s.path=`/styles/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||r)}normalizeGlyphsURL(o,r){if(!Ea(o))return o;const s=Sa(o);return s.path=`/fonts/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||r)}normalizeSourceURL(o,r,s,d){if(!Ea(o))return o;const m=Sa(o);return m.path=`/v4/${m.authority}.json`,m.params.push("secure"),s&&m.params.push(`language=${s}`),d&&m.params.push(`worldview=${d}`),this._makeAPIURL(m,this._customAccessToken||r)}normalizeSpriteURL(o,r,s,d){const m=Sa(o);return Ea(o)?(m.path=`/styles/v1${m.path}/sprite${r}${s}`,this._makeAPIURL(m,this._customAccessToken||d)):(m.path+=`${r}${s}`,_r(m))}normalizeTileURL(o,r,s){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!Ea(o))return o;const d=Sa(o);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${r||s&&"raster"!==d.authority&&512===s?"@2x":""}${ti.supported?".webp":"$1"}`),"raster"===d.authority?d.path=`/${yt.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${yt.TILE_URL_VERSION}${d.path}`);const m=this._customAccessToken||function(g){for(const y of g){const v=y.match(/^access_token=(.*)$/);if(v)return v[1]}return null}(d.params)||yt.ACCESS_TOKEN;return yt.REQUIRE_ACCESS_TOKEN&&m&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,m)}canonicalizeTileURL(o,r){const s=Sa(o);if(!s.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!s.path.match(/\.[\w]+$/))return o;let d="mapbox://";s.path.match(/^\/raster\/v1\//)?d+=`raster/${s.path.replace(`/${yt.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${s.path.replace(`/${yt.TILE_URL_VERSION}/`,"")}`;let m=s.params;return r&&(m=m.filter(g=>!g.match(/^access_token=/))),m.length&&(d+=`?${m.join("&")}`),d}canonicalizeTileset(o,r){const s=!!r&&Ea(r),d=[];for(const m of o.tiles||[])Da(m)?d.push(this.canonicalizeTileURL(m,s)):d.push(m);return d}_makeAPIURL(o,r){const s="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",d=Sa(yt.API_URL);if(o.protocol=d.protocol,o.authority=d.authority,"http"===o.protocol){const m=o.params.indexOf("secure");m>=0&&o.params.splice(m,1)}if("/"!==d.path&&(o.path=`${d.path}${o.path}`),!yt.REQUIRE_ACCESS_TOKEN)return _r(o);if(r=r||yt.ACCESS_TOKEN,!this._silenceAuthErrors){if(!r)throw new Error(`An API access token is required to use Mapbox GL. ${s}`);if("s"===r[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${s}`)}return o.params=o.params.filter(m=>-1===m.indexOf("access_token")),o.params.push(`access_token=${r||""}`),_r(o)}},p.ResourceType=be,p.SegmentVector=xr,p.SourceCache=Pu,p.StencilMode=M1,p.StructArrayLayout1ui2=_d,p.StructArrayLayout2f1f2i16=et,p.StructArrayLayout2i4=Pt,p.StructArrayLayout2ui4=Ao,p.StructArrayLayout3f12=wn,p.StructArrayLayout3ui6=qt,p.StructArrayLayout4i8=Tn,p.StructArrayLayout5f20=er,p.Texture=lf,p.Tile=zb,p.Transitionable=fe,p.Uniform1f=Wf,p.Uniform1i=class extends Ls{constructor(o){super(o),this.current=0}set(o,r,s){this.fetchUniformLocation(o,r)&&this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},p.Uniform2f=class extends Ls{constructor(o){super(o),this.current=[0,0]}set(o,r,s){this.fetchUniformLocation(o,r)&&(s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1])))}},p.Uniform3f=class extends Ls{constructor(o){super(o),this.current=[0,0,0]}set(o,r,s){this.fetchUniformLocation(o,r)&&(s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2])))}},p.Uniform4f=Ne,p.UniformColor=w_,p.UniformMatrix2f=class extends Ls{constructor(o){super(o),this.current=Tp}set(o,r,s){if(this.fetchUniformLocation(o,r))for(let d=0;d<4;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix2fv(this.location,!1,s);break}}},p.UniformMatrix3f=class extends Ls{constructor(o){super(o),this.current=kh}set(o,r,s){if(this.fetchUniformLocation(o,r))for(let d=0;d<9;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix3fv(this.location,!1,s);break}}},p.UniformMatrix4f=class extends Ls{constructor(o){super(o),this.current=oy}set(o,r,s){if(this.fetchUniformLocation(o,r)){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let d=1;d<16;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}}},p.UnwrappedTileID=Fy,p.ValidationError=jt,p.VectorTileWorkerSource=class extends At{constructor(o,r,s,d,m){super(),this.actor=o,this.layerIndex=r,this.availableImages=s,this.loadVectorData=m||A1,this.loading={},this.loaded={},this.deduped=new I1(o.scheduler),this.isSpriteLoaded=d,this.scheduler=o.scheduler}loadTile(o,r){const s=o.uid,d=o&&o.request,m=d&&d.collectResourceTiming,g=this.loading[s]=new e3(o);g.abort=this.loadVectorData(o,(y,v)=>{const M=!this.loading[s];if(delete this.loading[s],M||y||!v)return g.status="done",M||(this.loaded[s]=g),r(y);const T=v.rawData,A={};v.expires&&(A.expires=v.expires),v.cacheControl&&(A.cacheControl=v.cacheControl),g.vectorTile=v.vectorTile||new Eu.VectorTile(new zm(T));const P=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(N,G)=>{if(N||!G)return r(N);const j={};if(m){const J=Nr(d);J.length>0&&(j.resourceTiming=JSON.parse(JSON.stringify(J)))}r(null,Mi({rawTileData:T.slice(0)},G,A,j))})};this.isSpriteLoaded?P():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(P,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom}):P()}),this.loaded=this.loaded||{},this.loaded[s]=g})}reloadTile(o,r){const s=this.loaded,d=o.uid,m=this;if(s&&s[d]){const g=s[d];g.showCollisionBoxes=o.showCollisionBoxes,g.enableTerrain=!!o.enableTerrain,g.projection=o.projection,g.tileTransform=Au(o.tileID.canonical,o.projection);const y=(v,M)=>{const T=g.reloadCallback;T&&(delete g.reloadCallback,g.parse(g.vectorTile,m.layerIndex,this.availableImages,m.actor,T)),r(v,M)};"parsing"===g.status?g.reloadCallback=y:"done"===g.status&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,y):y())}}abortTile(o,r){const s=o.uid,d=this.loading[s];d&&(d.abort&&d.abort(),delete this.loading[s]),r()}removeTile(o,r){const s=this.loaded,d=o.uid;s&&s[d]&&delete s[d],r()}},p.WritingMode=kl,p.ZoomHistory=du,p.add=Ac,p.addDynamicAttributes=Sd,p.adjoint=function(o,r){var s=r[0],d=r[1],m=r[2],g=r[3],y=r[4],v=r[5],M=r[6],T=r[7],A=r[8];return o[0]=y*A-v*T,o[1]=m*T-d*A,o[2]=d*v-m*y,o[3]=v*M-g*A,o[4]=s*A-m*M,o[5]=m*g-s*v,o[6]=g*T-y*M,o[7]=d*M-s*T,o[8]=s*y-d*g,o},p.asyncAll=Pa,p.bezier=xa,p.bindAll=Rr,p.boundsAttributes=y1,p.bufferConvexPolygon=function(o,r){const s=[];for(let d=0;d<o.length;d++){const m=Ta(d-1,-1,o.length-1),g=Ta(d+1,-1,o.length-1),y=o[d],v=o[g],M=o[m].sub(y).unit(),T=v.sub(y).unit(),A=T.angleWithSep(M.x,M.y),P=M.add(T).unit().mult(-1*r/Math.sin(A/2));s.push(y.add(P))}return s},p.cacheEntryPossiblyAdded=function(o){le++,le>Un&&(o.getActor().send("enforceCacheSizeLimit",qr),le=0)},p.calculateGlobeLabelMatrix=function(o,r){const{x:s,y:d}=o.point,m=o1(s,d,o.worldSize/o._pixelsPerMercatorPixel,0,0);return xu(m,m,Dg(Jl(r)))},p.calculateGlobeMatrix=function(o){const{x:r,y:s}=o.point,{lng:d,lat:m}=o._center;return o1(r,s,o.worldSize,d,m)},p.calculateGlobeMercatorMatrix=function(o){const r=o.pixelsPerMeter,s=r/Ps(1,o.center.lat),d=xd(new Float64Array(16));return Sh(d,d,[o.point.x,o.point.y,0]),Dm(d,d,[s,s,r]),Float32Array.from(d)},p.circumferenceAtLatitude=E_,p.clamp=Gt,p.clearTileCache=function(o){const r=ne(),s=[];for(const d in wt)r&&s.push(r.delete(d)),delete wt[d];o&&Promise.all(s).catch(o).then(()=>o())},p.clipLine=Ky,p.clone=function(o){var r=new Js(16);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],r},p.clone$1=Xa,p.collisionCircleLayout=Di,p.config=yt,p.conjugate=function(o,r){return o[0]=-r[0],o[1]=-r[1],o[2]=-r[2],o[3]=r[3],o},p.create=function(){var o=new Js(16);return Js!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},p.create$1=nw,p.createExpression=bc,p.createLayout=lt,p.createStyleLayer=function(o){return"custom"===o.type?new Id(o):new Kk[o.type](o)},p.cross=R_,p.degToRad=pn,p.distance=function(o,r){return Math.hypot(r[0]-o[0],r[1]-o[1],r[2]-o[2])},p.div=function(o,r,s){return o[0]=r[0]/s[0],o[1]=r[1]/s[1],o[2]=r[2]/s[2],o},p.dot=wl,p.ease=Jt,p.easeCubicInOut=zn,p.emitValidationErrors=yh,p.endsWith=zr,p.enforceCacheSizeLimit=function(o){for(const r in wt)Y(r),wt[r].then(s=>{s.keys().then(d=>{for(let m=0;m<d.length-o;m++)s.delete(d[m])})})},p.evaluateSizeForFeature=Rs,p.evaluateSizeForZoom=Rh,p.evaluateVariableOffset=Vw,p.evented=W,p.exactEquals=function(o,r){return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]&&o[3]===r[3]},p.exactEquals$1=function(o,r){return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]},p.exported=pa,p.exported$1=ti,p.extend=Mi,p.extend$1=Li,p.fillExtrusionHeightLift=Up,p.filterObject=fr,p.fromMat4=function(o,r){return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[4],o[4]=r[5],o[5]=r[6],o[6]=r[8],o[7]=r[9],o[8]=r[10],o},p.fromQuat=function(o,r){var s=r[0],d=r[1],m=r[2],g=r[3],y=s+s,v=d+d,M=m+m,T=s*y,A=d*y,P=d*v,N=m*y,G=m*v,j=m*M,J=g*y,ae=g*v,ge=g*M;return o[0]=1-P-j,o[1]=A+ge,o[2]=N-ae,o[3]=0,o[4]=A-ge,o[5]=1-T-j,o[6]=G+J,o[7]=0,o[8]=N+ae,o[9]=G-J,o[10]=1-T-P,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},p.fromRotation=function(o,r){var s=Math.sin(r),d=Math.cos(r);return o[0]=d,o[1]=s,o[2]=0,o[3]=-s,o[4]=d,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},p.fromScaling=yy,p.furthestTileCorner=function(o){const r=Math.round((o+45+360)%360/90)%4;return ht[r]},p.getAABBPointSquareDist=function(o,r,s){let d=0;for(let m=0;m<2;++m){const g=s?s[m]:0;o[m]>g&&(d+=(o[m]-g)*(o[m]-g)),r[m]<g&&(d+=(g-r[m])*(g-r[m]))}return d},p.getAnchorAlignment=Zy,p.getAnchorJustification=wg,p.getBounds=function(o){let r=1/0,s=1/0,d=-1/0,m=-1/0;for(const g of o)r=Math.min(r,g.x),s=Math.min(s,g.y),d=Math.max(d,g.x),m=Math.max(m,g.y);return{min:new nt(r,s),max:new nt(d,m)}},p.getColumn=Ka,p.getGridMatrix=function(o,r,s){const d=r.getNorth(),m=r.getSouth(),g=r.getWest(),y=.015625;return[0,(r.getEast()-g)*y,1<<o.z,(m-d)/Vh[s],0,o.y,d,g,y]},p.getImage=Ht,p.getJSON=function(o,r){return Ie(Mi(o,{type:"json"}),r)},p.getLatitudinalLod=function(o){const r=80.051129;o=Gt(o,-80.051129,r)/r*90;const s=Math.pow(Math.abs(Math.sin(pn(o))),3);return Math.round(s*(Vh.length-1))},p.getMapSessionAPI=Qr,p.getPerformanceMeasurement=Nr,p.getProjection=Eb,p.getRTLTextPluginStatus=te,p.getReferrer=ye,p.getTilePoint=function(o,{x:r,y:s},d=0){return new nt(((r-d)*o.scale-o.x)*Zn,(s*o.scale-o.y)*Zn)},p.getTileVec3=function(o,r,s=0){return Ih(((r.x-s)*o.scale-o.x)*Zn,(r.y*o.scale-o.y)*Zn,cy(r.z,r.y))},p.getVideo=function(o,r){const s=at.document.createElement("video");s.muted=!0,s.onloadstart=function(){r(null,s)};for(let d=0;d<o.length;d++){const m=at.document.createElement("source");xe(o[d])||(s.crossOrigin="Anonymous"),m.src=o[d],s.appendChild(m)}return{cancel:()=>{}}},p.globeCenterToScreenPoint=function(o){const r=[0,0,0],s=xd(new Float64Array(16));return xu(s,o.pixelMatrix,o.globeMatrix),Ar(r,r,s),new nt(r[0],r[1])},p.globeDenormalizeECEF=Dg,p.globeECEFOrigin=function(o,r){const s=[0,0,0];return Ar(s,s,Uh(Jl(r.canonical))),Ar(s,s,o),s},p.globeNormalizeECEF=Uh,p.globePixelsToTileUnits=function(o,r){return Zn/(512*Math.pow(2,o))*Tg(Jl(r))},p.globePoleMatrixForTile=function(o,r,s){const d=xd(new Float64Array(16)),m=(r/(1<<o)-.5)*Math.PI*2;return Op(d,s.globeMatrix,m),Float32Array.from(d)},p.globeTileBounds=Jl,p.globeTiltAtLngLat=Sg,p.globeToMercatorTransition=nf,p.globeUseCustomAntiAliasing=function(o,r,s){const d=nf(s.zoom),m=o.style.map._antialias,g=!!r.extStandardDerivatives,y=r.extStandardDerivativesForceOff||o.terrain&&o.terrain.exaggeration()>0;return 0===d&&!m&&!y&&g},p.identity=xd,p.identity$1=Lo,p.invert=Ap,p.isFullscreen=function(){return!!at.document.fullscreenElement||!!at.document.webkitFullscreenElement},p.isLngLatBehindGlobe=function(o,r){return Sg(o,r)>Math.PI/2*1.01},p.isMapAuthenticated=function(o){return tn.has(o)},p.isMapboxURL=Ea,p.isSafariWithAntialiasingBug=function(o){const r=o.navigator?o.navigator.userAgent:null;return!!yo(o)&&r&&(r.match("Version/15.4")||r.match("Version/15.5")||r.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},p.latFromMercatorY=so,p.len=_s,p.length=wu,p.length$1=function(o){return Math.hypot(o[0],o[1],o[2],o[3])},p.loadVectorTile=A1,p.makeRequest=Ie,p.mapValue=function(o,r,s,d,m){return Gt((o-r)/(s-r)*(m-d)+d,d,m)},p.mercatorScale=Dp,p.mercatorXfromLng=Sc,p.mercatorYfromLat=xl,p.mercatorZfromAltitude=Ps,p.mul=iw,p.mul$1=Lp,p.multiply=xu,p.multiply$1=function(o,r,s){var d=r[0],m=r[1],g=r[2],y=r[3],v=r[4],M=r[5],T=r[6],A=r[7],P=r[8],N=s[0],G=s[1],j=s[2],J=s[3],ae=s[4],ge=s[5],Ce=s[6],_e=s[7],ve=s[8];return o[0]=N*d+G*y+j*T,o[1]=N*m+G*v+j*A,o[2]=N*g+G*M+j*P,o[3]=J*d+ae*y+ge*T,o[4]=J*m+ae*v+ge*A,o[5]=J*g+ae*M+ge*P,o[6]=Ce*d+_e*y+ve*T,o[7]=Ce*m+_e*v+ve*A,o[8]=Ce*g+_e*M+ve*P,o},p.multiply$2=Ra,p.nextPowerOfTwo=Fr,p.normalize=Zo,p.normalize$1=function(o,r){var s=r[0],d=r[1],m=r[2],g=r[3],y=s*s+d*d+m*m+g*g;return y>0&&(y=1/Math.sqrt(y)),o[0]=s*y,o[1]=d*y,o[2]=m*y,o[3]=g*y,o},p.number=In,p.ortho=function(o,r,s,d,m,g,y){var v=1/(r-s),M=1/(d-m),T=1/(g-y);return o[0]=-2*v,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*M,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*T,o[11]=0,o[12]=(r+s)*v,o[13]=(m+d)*M,o[14]=(y+g)*T,o[15]=1,o},p.pbf=zm,p.perspective=function(o,r,s,d,m){var g,y=1/Math.tan(r/2);return o[0]=y/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=y,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,null!=m&&m!==1/0?(o[10]=(m+d)*(g=1/(d-m)),o[14]=2*m*d*g):(o[10]=-1,o[14]=-2*d),o},p.pick=function(o,r){const s={};for(let d=0;d<r.length;d++){const m=r[d];m in o&&(s[m]=o[m])}return s},p.plugin=se,p.pointGeometry=nt,p.polygonContainsPoint=Dh,p.polygonIntersectsBox=ew,p.polygonIntersectsPolygon=uy,p.polygonizeBounds=function(o,r,s=0,d=!0){const m=new nt(s,s),g=o.sub(m),y=r.add(m),v=[g,new nt(y.x,g.y),y,new nt(g.x,y.y)];return d&&v.push(g.clone()),v},p.posAttributes=tf,p.postMapLoadEvent=ir,p.postTurnstileEvent=sa,p.potpack=qy,p.prevPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.floor(Math.log(o)/Math.LN2))},p.radToDeg=oi,p.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],p.registerForPluginStateChange=function(o){return o({pluginStatus:I,pluginURL:O}),W.on("pluginStateChange",o),o},p.removeAuthState=function(o){tn.delete(o)},p.renderColorRamp=Im,p.resample=D_,p.rotateX=by,p.rotateX$1=Sm,p.rotateY=Op,p.rotateY$1=ng,p.rotateZ=function(o,r,s){var d=Math.sin(s),m=Math.cos(s),g=r[0],y=r[1],v=r[2],M=r[3],T=r[4],A=r[5],P=r[6],N=r[7];return r!==o&&(o[8]=r[8],o[9]=r[9],o[10]=r[10],o[11]=r[11],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[0]=g*m+T*d,o[1]=y*m+A*d,o[2]=v*m+P*d,o[3]=M*m+N*d,o[4]=T*m-g*d,o[5]=A*m-y*d,o[6]=P*m-v*d,o[7]=N*m-M*d,o},p.rotateZ$1=function(o,r,s){s*=.5;var d=r[0],m=r[1],g=r[2],y=r[3],v=Math.sin(s),M=Math.cos(s);return o[0]=d*M+m*v,o[1]=m*M-d*v,o[2]=g*M+y*v,o[3]=y*M-g*v,o},p.scale=Dm,p.scale$1=tg,p.scale$2=en,p.scaleAndAdd=Cu,p.setCacheLimits=function(o,r){qr=o,Un=r},p.setColumn=function(o,r,s){o[4*r+0]=s[0],o[4*r+1]=s[1],o[4*r+2]=s[2],o[4*r+3]=s[3]},p.setRTLTextPlugin=function(o,r,s=!1){if(I===_||I===x||I===C)throw new Error("setRTLTextPlugin cannot be called multiple times.");O=pa.resolveURL(o),I=_,D=r,U(),s||me()},p.smoothstep=An,p.spec=je,p.storeAuthState=function(o,r){r?tn.add(o):tn.delete(o)},p.sub=Oc,p.subtract=P_,p.symbolSize=Dw,p.tileAABB=function(o,r,s,d,m,g,y,v,M){if("globe"===M.name)return function(o,r,s){const d=r/o.worldSize,m=Number.MAX_VALUE,g=[-m,-m,-m],y=[m,m,m],v=o.globeMatrix;if(s.z<=1)return r1(y,g,Jl(s).getCorners(),v,d),new bs(y,g);const M=Hm(s),T=wb(M);if(r1(y,g,T,v,d),M.contains(o.center)){g[2]=0;const $e=o.point,Ge=[$e.x*d,$e.y*d,0];return Zi(y,y,Ge),F_(g,g,Ge),new bs(y,g)}const A=[v[12]*d,v[13]*d,v[14]*d],P=M.getCenter(),N=Gt(o.center.lat,-85.051129,yd),G=Gt(P.lat,-85.051129,yd),j=Sc(o.center.lng),J=xl(N);let ae=j-Sc(P.lng);const ge=J-xl(G);ae>.5?ae-=1:ae<-.5&&(ae+=1);let Ce=0;Math.abs(ae)>Math.abs(ge)?Ce=ae>=0?1:3:(Ce=ge>=0?0:2,Cu(A,A,[v[4]*d,v[5]*d,v[6]*d],-Math.sin(pn(ge>=0?M.getSouth():M.getNorth()))*Md));const _e=T[Ce],ve=T[(Ce+1)%4],Ae=new jw(_e,ve,A),Te=[i1(Ae,0)||_e[0],i1(Ae,1)||_e[1],i1(Ae,2)||_e[2]];return y[2]=Math.min(_e[2],ve[2]),Zi(y,y,Te),F_(g,g,Te),new bs(y,g)}(o,r,new Du(s,d,m));const T=Au({z:s,x:d,y:m},M);return new bs([(g+T.x/T.scale)*r,r*(T.y/T.scale),y],[(g+T.x2/T.scale)*r,r*(T.y2/T.scale),v])},p.tileCornersToBounds=Hm,p.tileTransform=Au,p.transformMat3=function(o,r,s){var d=r[0],m=r[1],g=r[2];return o[0]=d*s[0]+m*s[3]+g*s[6],o[1]=d*s[1]+m*s[4]+g*s[7],o[2]=d*s[2]+m*s[5]+g*s[8],o},p.transformMat4=Ar,p.transformMat4$1=ku,p.transformQuat=xy,p.transitionTileAABBinECEF=a1,p.translate=Sh,p.transpose=function(o,r){if(o===r){var s=r[1],d=r[2],m=r[5];o[1]=r[3],o[2]=r[6],o[3]=s,o[5]=r[7],o[6]=d,o[7]=m}else o[0]=r[0],o[1]=r[3],o[2]=r[6],o[3]=r[1],o[4]=r[4],o[5]=r[7],o[6]=r[2],o[7]=r[5],o[8]=r[8];return o},p.triggerPluginCompletionEvent=V,p.uniqueId=on,p.updateGlobeVertexNormal=function(o,r,s,d,m){const g=5*r+2;o.float32[g+0]=s,o.float32[g+1]=d,o.float32[g+2]=m},p.validateCustomStyleLayer=function(o){const r=[],s=o.id;return void 0===s&&r.push({message:`layers.${s}: missing required property "id"`}),void 0===o.render&&r.push({message:`layers.${s}: missing required method "render"`}),o.renderingMode&&"2d"!==o.renderingMode&&"3d"!==o.renderingMode&&r.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),r},p.validateFilter=o=>Yo(_l(o)),p.validateFog=o=>Yo(bm(o)),p.validateLayer=o=>Yo(su(o)),p.validateLight=o=>Yo(_h(o)),p.validateSource=o=>Yo(lu(o)),p.validateStyle=rd,p.validateTerrain=o=>Yo(wc(o)),p.values=Qi,p.vectorTile=Eu,p.version="2.10.0",p.warnOnce=ci,p.window=at,p.wrap=Ta}),Ye(0,function(p){function at(ne){if("number"==typeof ne||"boolean"==typeof ne||"string"==typeof ne||null==ne)return JSON.stringify(ne);if(Array.isArray(ne)){let X="[";for(const de of ne)X+=`${at(de)},`;return`${X}]`}let Y="{";for(const X of Object.keys(ne).sort())Y+=`${X}:${at(ne[X])},`;return`${Y}}`}function un(ne){let Y="";for(const X of p.refProperties)Y+=`/${at(ne[X])}`;return Y}class Bt{constructor(Y){this.keyCache={},Y&&this.replace(Y)}replace(Y){this._layerConfigs={},this._layers={},this.update(Y,[])}update(Y,X){for(const le of Y)this._layerConfigs[le.id]=le,(this._layers[le.id]=p.createStyleLayer(le)).compileFilter(),this.keyCache[le.id]&&delete this.keyCache[le.id];for(const le of X)delete this.keyCache[le],delete this._layerConfigs[le],delete this._layers[le];this.familiesBySource={};const de=function(le,be){const ze={};for(let Ie=0;Ie<le.length;Ie++){const He=be&&be[le[Ie].id]||un(le[Ie]);be&&(be[le[Ie].id]=He);let Je=ze[He];Je||(Je=ze[He]=[]),Je.push(le[Ie])}const ye=[];for(const Ie in ze)ye.push(ze[Ie]);return ye}(p.values(this._layerConfigs),this.keyCache);for(const le of de){const be=le.map(ke=>this._layers[ke.id]),ze=be[0];if("none"===ze.visibility)continue;const ye=ze.source||"";let Ie=this.familiesBySource[ye];Ie||(Ie=this.familiesBySource[ye]={});const He=ze.sourceLayer||"_geojsonTileLayer";let Je=Ie[He];Je||(Je=Ie[He]=[]),Je.push(be)}}}class nt{loadTile(Y,X){const{uid:de,encoding:le,rawImageData:be,padding:ze,buildQuadTree:ye}=Y,Ie=p.window.ImageBitmap&&be instanceof p.window.ImageBitmap?this.getImageData(be,ze):be;X(null,new p.DEMData(de,Ie,le,ze<1,ye))}getImageData(Y,X){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Y.width,Y.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Y.width,this.offscreenCanvas.height=Y.height,this.offscreenCanvasContext.drawImage(Y,0,0,Y.width,Y.height);const de=this.offscreenCanvasContext.getImageData(-X,-X,Y.width+2*X,Y.height+2*X);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),de}}var rn=function ne(Y,X){var de,le=Y&&Y.type;if("FeatureCollection"===le)for(de=0;de<Y.features.length;de++)ne(Y.features[de],X);else if("GeometryCollection"===le)for(de=0;de<Y.geometries.length;de++)ne(Y.geometries[de],X);else if("Feature"===le)ne(Y.geometry,X);else if("Polygon"===le)Wi(Y.coordinates,X);else if("MultiPolygon"===le)for(de=0;de<Y.coordinates.length;de++)Wi(Y.coordinates[de],X);return Y};function Wi(ne,Y){if(0!==ne.length){Sn(ne[0],Y);for(var X=1;X<ne.length;X++)Sn(ne[X],!Y)}}function Sn(ne,Y){for(var X=0,de=0,le=0,be=ne.length,ze=be-1;le<be;ze=le++){var ye=(ne[le][0]-ne[ze][0])*(ne[ze][1]+ne[le][1]),Ie=X+ye;de+=Math.abs(X)>=Math.abs(ye)?X-Ie+ye:ye-Ie+X,X=Ie}X+de>=0!=!!Y&&ne.reverse()}const pn=p.vectorTile.VectorTileFeature.prototype.toGeoJSON;class oi{constructor(Y){this._feature=Y,this.extent=p.EXTENT,this.type=Y.type,this.properties=Y.tags,"id"in Y&&!isNaN(Y.id)&&(this.id=parseInt(Y.id,10))}loadGeometry(){if(1===this._feature.type){const Y=[];for(const X of this._feature.geometry)Y.push([new p.pointGeometry(X[0],X[1])]);return Y}{const Y=[];for(const X of this._feature.geometry){const de=[];for(const le of X)de.push(new p.pointGeometry(le[0],le[1]));Y.push(de)}return Y}}toGeoJSON(Y,X,de){return pn.call(this,Y,X,de)}}class ht{constructor(Y){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=p.EXTENT,this.length=Y.length,this._features=Y}feature(Y){return new oi(this._features[Y])}}var zn=p.vectorTile.VectorTileFeature,xa=Jt;function Jt(ne,Y){this.options=Y||{},this.features=ne,this.length=ne.length}function Gt(ne,Y){this.id="number"==typeof ne.id?ne.id:void 0,this.type=ne.type,this.rawGeometry=1===ne.type?[ne.geometry]:ne.geometry,this.properties=ne.tags,this.extent=Y||4096}Jt.prototype.feature=function(ne){return new Gt(this.features[ne],this.options.extent)},Gt.prototype.loadGeometry=function(){var ne=this.rawGeometry;this.geometry=[];for(var Y=0;Y<ne.length;Y++){for(var X=ne[Y],de=[],le=0;le<X.length;le++)de.push(new p.pointGeometry(X[le][0],X[le][1]));this.geometry.push(de)}return this.geometry},Gt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ne=this.geometry,Y=1/0,X=-1/0,de=1/0,le=-1/0,be=0;be<ne.length;be++)for(var ze=ne[be],ye=0;ye<ze.length;ye++){var Ie=ze[ye];Y=Math.min(Y,Ie.x),X=Math.max(X,Ie.x),de=Math.min(de,Ie.y),le=Math.max(le,Ie.y)}return[Y,de,X,le]},Gt.prototype.toGeoJSON=zn.prototype.toGeoJSON;var An=Pa,Ta=xa;function Pa(ne){var Y=new p.pbf;return function(X,de){for(var le in X.layers)de.writeMessage(3,Qi,X.layers[le])}(ne,Y),Y.finish()}function Qi(ne,Y){var X;Y.writeVarintField(15,ne.version||1),Y.writeStringField(1,ne.name||""),Y.writeVarintField(5,ne.extent||4096);var de={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<ne.length;X++)de.feature=ne.feature(X),Y.writeMessage(2,Mi,de);var le=de.keys;for(X=0;X<le.length;X++)Y.writeStringField(3,le[X]);var be=de.values;for(X=0;X<be.length;X++)Y.writeMessage(4,ji,be[X])}function Mi(ne,Y){var X=ne.feature;void 0!==X.id&&Y.writeVarintField(1,X.id),Y.writeMessage(2,pi,ne),Y.writeVarintField(3,X.type),Y.writeMessage(4,Fr,X)}function pi(ne,Y){var X=ne.feature,de=ne.keys,le=ne.values,be=ne.keycache,ze=ne.valuecache;for(var ye in X.properties){var Ie=X.properties[ye],He=be[ye];if(null!==Ie){void 0===He&&(de.push(ye),be[ye]=He=de.length-1),Y.writeVarint(He);var Je=typeof Ie;"string"!==Je&&"boolean"!==Je&&"number"!==Je&&(Ie=JSON.stringify(Ie));var ke=Je+":"+Ie,xe=ze[ke];void 0===xe&&(le.push(Ie),ze[ke]=xe=le.length-1),Y.writeVarint(xe)}}}function on(ne,Y){return(Y<<3)+(7&ne)}function $a(ne){return ne<<1^ne>>31}function Fr(ne,Y){for(var X=ne.loadGeometry(),de=ne.type,le=0,be=0,ze=X.length,ye=0;ye<ze;ye++){var Ie=X[ye],He=1;1===de&&(He=Ie.length),Y.writeVarint(on(1,He));for(var Je=3===de?Ie.length-1:Ie.length,ke=0;ke<Je;ke++){1===ke&&1!==de&&Y.writeVarint(on(2,Je-1));var xe=Ie[ke].x-le,Xe=Ie[ke].y-be;Y.writeVarint($a(xe)),Y.writeVarint($a(Xe)),le+=xe,be+=Xe}3===de&&Y.writeVarint(on(7,1))}}function ji(ne,Y){var X=typeof ne;"string"===X?Y.writeStringField(1,ne):"boolean"===X?Y.writeBooleanField(7,ne):"number"===X&&(ne%1!=0?Y.writeDoubleField(3,ne):ne<0?Y.writeSVarintField(6,ne):Y.writeVarintField(5,ne))}function Rr(ne,Y,X,de,le,be){if(le-de<=X)return;const ze=de+le>>1;zr(ne,Y,ze,de,le,be%2),Rr(ne,Y,X,de,ze-1,be+1),Rr(ne,Y,X,ze+1,le,be+1)}function zr(ne,Y,X,de,le,be){for(;le>de;){if(le-de>600){const He=le-de+1,Je=X-de+1,ke=Math.log(He),xe=.5*Math.exp(2*ke/3),Xe=.5*Math.sqrt(ke*xe*(He-xe)/He)*(Je-He/2<0?-1:1);zr(ne,Y,X,Math.max(de,Math.floor(X-Je*xe/He+Xe)),Math.min(le,Math.floor(X+(He-Je)*xe/He+Xe)),be)}const ze=Y[2*X+be];let ye=de,Ie=le;for(nr(ne,Y,de,X),Y[2*le+be]>ze&&nr(ne,Y,de,le);ye<Ie;){for(nr(ne,Y,ye,Ie),ye++,Ie--;Y[2*ye+be]<ze;)ye++;for(;Y[2*Ie+be]>ze;)Ie--}Y[2*de+be]===ze?nr(ne,Y,de,Ie):(Ie++,nr(ne,Y,Ie,le)),Ie<=X&&(de=Ie+1),X<=Ie&&(le=Ie-1)}}function nr(ne,Y,X,de){fr(ne,X,de),fr(Y,2*X,2*de),fr(Y,2*X+1,2*de+1)}function fr(ne,Y,X){const de=ne[Y];ne[Y]=ne[X],ne[X]=de}function Xa(ne,Y,X,de){const le=ne-X,be=Y-de;return le*le+be*be}An.fromVectorTileJs=Pa,An.fromGeojsonVt=function(ne,Y){Y=Y||{};var X={};for(var de in ne)X[de]=new xa(ne[de].features,Y),X[de].name=de,X[de].version=Y.version,X[de].extent=Y.extent;return Pa({layers:X})},An.GeoJSONWrapper=Ta;const Jr=ne=>ne[0],ci=ne=>ne[1];class Ha{constructor(Y,X=Jr,de=ci,le=64,be=Float64Array){this.nodeSize=le,this.points=Y;const ze=Y.length<65536?Uint16Array:Uint32Array,ye=this.ids=new ze(Y.length),Ie=this.coords=new be(2*Y.length);for(let He=0;He<Y.length;He++)ye[He]=He,Ie[2*He]=X(Y[He]),Ie[2*He+1]=de(Y[He]);Rr(ye,Ie,le,0,ye.length-1,0)}range(Y,X,de,le){return function(be,ze,ye,Ie,He,Je,ke){const xe=[0,be.length-1,0],Xe=[];let gt,bt;for(;xe.length;){const Ht=xe.pop(),mn=xe.pop(),fn=xe.pop();if(mn-fn<=ke){for(let At=fn;At<=mn;At++)gt=ze[2*At],bt=ze[2*At+1],gt>=ye&&gt<=He&&bt>=Ie&&bt<=Je&&Xe.push(be[At]);continue}const bn=Math.floor((fn+mn)/2);gt=ze[2*bn],bt=ze[2*bn+1],gt>=ye&&gt<=He&&bt>=Ie&&bt<=Je&&Xe.push(be[bn]);const Mn=(Ht+1)%2;(0===Ht?ye<=gt:Ie<=bt)&&(xe.push(fn),xe.push(bn-1),xe.push(Mn)),(0===Ht?He>=gt:Je>=bt)&&(xe.push(bn+1),xe.push(mn),xe.push(Mn))}return Xe}(this.ids,this.coords,Y,X,de,le,this.nodeSize)}within(Y,X,de){return function(le,be,ze,ye,Ie,He){const Je=[0,le.length-1,0],ke=[],xe=Ie*Ie;for(;Je.length;){const Xe=Je.pop(),gt=Je.pop(),bt=Je.pop();if(gt-bt<=He){for(let Mn=bt;Mn<=gt;Mn++)Xa(be[2*Mn],be[2*Mn+1],ze,ye)<=xe&&ke.push(le[Mn]);continue}const Ht=Math.floor((bt+gt)/2),mn=be[2*Ht],fn=be[2*Ht+1];Xa(mn,fn,ze,ye)<=xe&&ke.push(le[Ht]);const bn=(Xe+1)%2;(0===Xe?ze-Ie<=mn:ye-Ie<=fn)&&(Je.push(bt),Je.push(Ht-1),Je.push(bn)),(0===Xe?ze+Ie>=mn:ye+Ie>=fn)&&(Je.push(Ht+1),Je.push(gt),Je.push(bn))}return ke}(this.ids,this.coords,Y,X,de,this.nodeSize)}}const dr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ne=>ne},Ki=Math.fround||(Ya=new Float32Array(1),ne=>(Ya[0]=+ne,Ya[0]));var Ya;class hn{constructor(Y){this.options=gr(Object.create(dr),Y),this.trees=new Array(this.options.maxZoom+1)}load(Y){const{log:X,minZoom:de,maxZoom:le,nodeSize:be}=this.options;X&&console.time("total time");const ze=`prepare ${Y.length} points`;X&&console.time(ze),this.points=Y;let ye=[];for(let Ie=0;Ie<Y.length;Ie++)Y[Ie].geometry&&ye.push(Vo(Y[Ie],Ie));this.trees[le+1]=new Ha(ye,Yr,qn,be,Float32Array),X&&console.timeEnd(ze);for(let Ie=le;Ie>=de;Ie--){const He=+Date.now();ye=this._cluster(ye,Ie),this.trees[Ie]=new Ha(ye,Yr,qn,be,Float32Array),X&&console.log("z%d: %d clusters in %dms",Ie,ye.length,+Date.now()-He)}return X&&console.timeEnd("total time"),this}getClusters(Y,X){let de=((Y[0]+180)%360+360)%360-180;const le=Math.max(-90,Math.min(90,Y[1]));let be=180===Y[2]?180:((Y[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,Y[3]));if(Y[2]-Y[0]>=360)de=-180,be=180;else if(de>be){const Je=this.getClusters([de,le,180,ze],X),ke=this.getClusters([-180,le,be,ze],X);return Je.concat(ke)}const ye=this.trees[this._limitZoom(X)],Ie=ye.range(Nr(de),ts(ze),Nr(be),ts(le)),He=[];for(const Je of Ie){const ke=ye.points[Je];He.push(ke.numPoints?Ka(ke):this.points[ke.index])}return He}getChildren(Y){const X=this._getOriginId(Y),de=this._getOriginZoom(Y),le="No cluster with the specified id.",be=this.trees[de];if(!be)throw new Error(le);const ze=be.points[X];if(!ze)throw new Error(le);const ye=this.options.radius/(this.options.extent*Math.pow(2,de-1)),Ie=be.within(ze.x,ze.y,ye),He=[];for(const Je of Ie){const ke=be.points[Je];ke.parentId===Y&&He.push(ke.numPoints?Ka(ke):this.points[ke.index])}if(0===He.length)throw new Error(le);return He}getLeaves(Y,X,de){const le=[];return this._appendLeaves(le,Y,X=X||10,de=de||0,0),le}getTile(Y,X,de){const le=this.trees[this._limitZoom(Y)],be=Math.pow(2,Y),{extent:ze,radius:ye}=this.options,Ie=ye/ze,He=(de-Ie)/be,Je=(de+1+Ie)/be,ke={features:[]};return this._addTileFeatures(le.range((X-Ie)/be,He,(X+1+Ie)/be,Je),le.points,X,de,be,ke),0===X&&this._addTileFeatures(le.range(1-Ie/be,He,1,Je),le.points,be,de,be,ke),X===be-1&&this._addTileFeatures(le.range(0,He,Ie/be,Je),le.points,-1,de,be,ke),ke.features.length?ke:null}getClusterExpansionZoom(Y){let X=this._getOriginZoom(Y)-1;for(;X<=this.options.maxZoom;){const de=this.getChildren(Y);if(X++,1!==de.length)break;Y=de[0].properties.cluster_id}return X}_appendLeaves(Y,X,de,le,be){const ze=this.getChildren(X);for(const ye of ze){const Ie=ye.properties;if(Ie&&Ie.cluster?be+Ie.point_count<=le?be+=Ie.point_count:be=this._appendLeaves(Y,Ie.cluster_id,de,le,be):be<le?be++:Y.push(ye),Y.length===de)break}return be}_addTileFeatures(Y,X,de,le,be,ze){for(const ye of Y){const Ie=X[ye],He=Ie.numPoints;let Je,ke,xe;if(He)Je=Ms(Ie),ke=Ie.x,xe=Ie.y;else{const bt=this.points[Ie.index];Je=bt.properties,ke=Nr(bt.geometry.coordinates[0]),xe=ts(bt.geometry.coordinates[1])}const Xe={type:1,geometry:[[Math.round(this.options.extent*(ke*be-de)),Math.round(this.options.extent*(xe*be-le))]],tags:Je};let gt;He?gt=Ie.id:this.options.generateId?gt=Ie.index:this.points[Ie.index].id&&(gt=this.points[Ie.index].id),void 0!==gt&&(Xe.id=gt),ze.features.push(Xe)}}_limitZoom(Y){return Math.max(this.options.minZoom,Math.min(+Y,this.options.maxZoom+1))}_cluster(Y,X){const de=[],{radius:le,extent:be,reduce:ze,minPoints:ye}=this.options,Ie=le/(be*Math.pow(2,X));for(let He=0;He<Y.length;He++){const Je=Y[He];if(Je.zoom<=X)continue;Je.zoom=X;const ke=this.trees[X+1],xe=ke.within(Je.x,Je.y,Ie),Xe=Je.numPoints||1;let gt=Xe;for(const bt of xe){const Ht=ke.points[bt];Ht.zoom>X&&(gt+=Ht.numPoints||1)}if(gt>Xe&&gt>=ye){let bt=Je.x*Xe,Ht=Je.y*Xe,mn=ze&&Xe>1?this._map(Je,!0):null;const fn=(He<<5)+(X+1)+this.points.length;for(const bn of xe){const Mn=ke.points[bn];if(Mn.zoom<=X)continue;Mn.zoom=X;const At=Mn.numPoints||1;bt+=Mn.x*At,Ht+=Mn.y*At,Mn.parentId=fn,ze&&(mn||(mn=this._map(Je,!0)),ze(mn,this._map(Mn)))}Je.parentId=fn,de.push(yo(bt/gt,Ht/gt,fn,gt,mn))}else if(de.push(Je),gt>1)for(const bt of xe){const Ht=ke.points[bt];Ht.zoom<=X||(Ht.zoom=X,de.push(Ht))}}return de}_getOriginId(Y){return Y-this.points.length>>5}_getOriginZoom(Y){return(Y-this.points.length)%32}_map(Y,X){if(Y.numPoints)return X?gr({},Y.properties):Y.properties;const de=this.points[Y.index].properties,le=this.options.map(de);return X&&le===de?gr({},le):le}}function yo(ne,Y,X,de,le){return{x:Ki(ne),y:Ki(Y),zoom:1/0,id:X,parentId:-1,numPoints:de,properties:le}}function Vo(ne,Y){const[X,de]=ne.geometry.coordinates;return{x:Ki(Nr(X)),y:Ki(ts(de)),zoom:1/0,index:Y,parentId:-1}}function Ka(ne){return{type:"Feature",id:ne.id,properties:Ms(ne),geometry:{type:"Point",coordinates:[(Y=ne.x,360*(Y-.5)),xi(ne.y)]}};var Y}function Ms(ne){const Y=ne.numPoints,X=Y>=1e4?`${Math.round(Y/1e3)}k`:Y>=1e3?Math.round(Y/100)/10+"k":Y;return gr(gr({},ne.properties),{cluster:!0,cluster_id:ne.id,point_count:Y,point_count_abbreviated:X})}function Nr(ne){return ne/360+.5}function ts(ne){const Y=Math.sin(ne*Math.PI/180),X=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return X<0?0:X>1?1:X}function xi(ne){const Y=(180-360*ne)*Math.PI/180;return 360*Math.atan(Math.exp(Y))/Math.PI-90}function gr(ne,Y){for(const X in Y)ne[X]=Y[X];return ne}function Yr(ne){return ne.x}function qn(ne){return ne.y}function pa(ne,Y,X,de){for(var le,be=de,ze=X-Y>>1,ye=X-Y,Ie=ne[Y],He=ne[Y+1],Je=ne[X],ke=ne[X+1],xe=Y+3;xe<X;xe+=3){var Xe=it(ne[xe],ne[xe+1],Ie,He,Je,ke);if(Xe>be)le=xe,be=Xe;else if(Xe===be){var gt=Math.abs(xe-ze);gt<ye&&(le=xe,ye=gt)}}be>de&&(le-Y>3&&pa(ne,Y,le,de),ne[le+2]=be,X-le>3&&pa(ne,le,X,de))}function it(ne,Y,X,de,le,be){var ze=le-X,ye=be-de;if(0!==ze||0!==ye){var Ie=((ne-X)*ze+(Y-de)*ye)/(ze*ze+ye*ye);Ie>1?(X=le,de=be):Ie>0&&(X+=ze*Ie,de+=ye*Ie)}return(ze=ne-X)*ze+(ye=Y-de)*ye}function yt(ne,Y,X,de){var le={id:void 0===ne?null:ne,type:Y,geometry:X,tags:de,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var ze=be.geometry,ye=be.type;if("Point"===ye||"MultiPoint"===ye||"LineString"===ye)ti(be,ze);else if("Polygon"===ye||"MultiLineString"===ye)for(var Ie=0;Ie<ze.length;Ie++)ti(be,ze[Ie]);else if("MultiPolygon"===ye)for(Ie=0;Ie<ze.length;Ie++)for(var He=0;He<ze[Ie].length;He++)ti(be,ze[Ie][He])}(le),le}function ti(ne,Y){for(var X=0;X<Y.length;X+=3)ne.minX=Math.min(ne.minX,Y[X]),ne.minY=Math.min(ne.minY,Y[X+1]),ne.maxX=Math.max(ne.maxX,Y[X]),ne.maxY=Math.max(ne.maxY,Y[X+1])}function _n(ne,Y,X,de){if(Y.geometry){var le=Y.geometry.coordinates,be=Y.geometry.type,ze=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),ye=[],Ie=Y.id;if(X.promoteId?Ie=Y.properties[X.promoteId]:X.generateId&&(Ie=de||0),"Point"===be)Pn(le,ye);else if("MultiPoint"===be)for(var He=0;He<le.length;He++)Pn(le[He],ye);else if("LineString"===be)Bn(le,ye,ze,!1);else if("MultiLineString"===be){if(X.lineMetrics){for(He=0;He<le.length;He++)Bn(le[He],ye=[],ze,!1),ne.push(yt(Ie,"LineString",ye,Y.properties));return}qa(le,ye,ze,!1)}else if("Polygon"===be)qa(le,ye,ze,!0);else{if("MultiPolygon"!==be){if("GeometryCollection"===be){for(He=0;He<Y.geometry.geometries.length;He++)_n(ne,{id:Ie,geometry:Y.geometry.geometries[He],properties:Y.properties},X,de);return}throw new Error("Input data is not a valid GeoJSON object.")}for(He=0;He<le.length;He++){var Je=[];qa(le[He],Je,ze,!0),ye.push(Je)}}ne.push(yt(Ie,be,ye,Y.properties))}}function Pn(ne,Y){Y.push(Dr(ne[0])),Y.push(On(ne[1])),Y.push(0)}function Bn(ne,Y,X,de){for(var le,be,ze=0,ye=0;ye<ne.length;ye++){var Ie=Dr(ne[ye][0]),He=On(ne[ye][1]);Y.push(Ie),Y.push(He),Y.push(0),ye>0&&(ze+=de?(le*He-Ie*be)/2:Math.sqrt(Math.pow(Ie-le,2)+Math.pow(He-be,2))),le=Ie,be=He}var Je=Y.length-3;Y[2]=1,pa(Y,0,Je,X),Y[Je+2]=1,Y.size=Math.abs(ze),Y.start=0,Y.end=Y.size}function qa(ne,Y,X,de){for(var le=0;le<ne.length;le++){var be=[];Bn(ne[le],be,X,de),Y.push(be)}}function Dr(ne){return ne/360+.5}function On(ne){var Y=Math.sin(ne*Math.PI/180),X=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return X<0?0:X>1?1:X}function fa(ne,Y,X,de,le,be,ze,ye){if(de/=Y,be>=(X/=Y)&&ze<de)return ne;if(ze<X||be>=de)return null;for(var Ie=[],He=0;He<ne.length;He++){var Je=ne[He],ke=Je.geometry,xe=Je.type,Xe=0===le?Je.minX:Je.minY,gt=0===le?Je.maxX:Je.maxY;if(Xe>=X&&gt<de)Ie.push(Je);else if(!(gt<X||Xe>=de)){var bt=[];if("Point"===xe||"MultiPoint"===xe)Ea(ke,bt,X,de,le);else if("LineString"===xe)Da(ke,bt,X,de,le,!1,ye.lineMetrics);else if("MultiLineString"===xe)Sa(ke,bt,X,de,le,!1);else if("Polygon"===xe)Sa(ke,bt,X,de,le,!0);else if("MultiPolygon"===xe)for(var Ht=0;Ht<ke.length;Ht++){var mn=[];Sa(ke[Ht],mn,X,de,le,!0),mn.length&&bt.push(mn)}if(bt.length){if(ye.lineMetrics&&"LineString"===xe){for(Ht=0;Ht<bt.length;Ht++)Ie.push(yt(Je.id,xe,bt[Ht],Je.tags));continue}"LineString"!==xe&&"MultiLineString"!==xe||(1===bt.length?(xe="LineString",bt=bt[0]):xe="MultiLineString"),"Point"!==xe&&"MultiPoint"!==xe||(xe=3===bt.length?"Point":"MultiPoint"),Ie.push(yt(Je.id,xe,bt,Je.tags))}}}return Ie.length?Ie:null}function Ea(ne,Y,X,de,le){for(var be=0;be<ne.length;be+=3){var ze=ne[be+le];ze>=X&&ze<=de&&(Y.push(ne[be]),Y.push(ne[be+1]),Y.push(ne[be+2]))}}function Da(ne,Y,X,de,le,be,ze){for(var ye,Ie,He=ni(ne),Je=0===le?Ts:Gn,ke=ne.start,xe=0;xe<ne.length-3;xe+=3){var Xe=ne[xe],gt=ne[xe+1],bt=ne[xe+2],Ht=ne[xe+3],mn=ne[xe+4],fn=0===le?Xe:gt,bn=0===le?Ht:mn,Mn=!1;ze&&(ye=Math.sqrt(Math.pow(Xe-Ht,2)+Math.pow(gt-mn,2))),fn<X?bn>X&&(Ie=Je(He,Xe,gt,Ht,mn,X),ze&&(He.start=ke+ye*Ie)):fn>de?bn<de&&(Ie=Je(He,Xe,gt,Ht,mn,de),ze&&(He.start=ke+ye*Ie)):_r(He,Xe,gt,bt),bn<X&&fn>=X&&(Ie=Je(He,Xe,gt,Ht,mn,X),Mn=!0),bn>de&&fn<=de&&(Ie=Je(He,Xe,gt,Ht,mn,de),Mn=!0),!be&&Mn&&(ze&&(He.end=ke+ye*Ie),Y.push(He),He=ni(ne)),ze&&(ke+=ye)}var At=ne.length-3;Xe=ne[At],gt=ne[At+1],bt=ne[At+2],(fn=0===le?Xe:gt)>=X&&fn<=de&&_r(He,Xe,gt,bt),At=He.length-3,be&&At>=3&&(He[At]!==He[0]||He[At+1]!==He[1])&&_r(He,He[0],He[1],He[2]),He.length&&Y.push(He)}function ni(ne){var Y=[];return Y.size=ne.size,Y.start=ne.start,Y.end=ne.end,Y}function Sa(ne,Y,X,de,le,be){for(var ze=0;ze<ne.length;ze++)Da(ne[ze],Y,X,de,le,be,!1)}function _r(ne,Y,X,de){ne.push(Y),ne.push(X),ne.push(de)}function Ts(ne,Y,X,de,le,be){var ze=(be-Y)/(de-Y);return ne.push(be),ne.push(X+(le-X)*ze),ne.push(1),ze}function Gn(ne,Y,X,de,le,be){var ze=(be-X)/(le-X);return ne.push(Y+(de-Y)*ze),ne.push(be),ne.push(1),ze}function jn(ne,Y){for(var X=[],de=0;de<ne.length;de++){var le,be=ne[de],ze=be.type;if("Point"===ze||"MultiPoint"===ze||"LineString"===ze)le=sa(be.geometry,Y);else if("MultiLineString"===ze||"Polygon"===ze){le=[];for(var ye=0;ye<be.geometry.length;ye++)le.push(sa(be.geometry[ye],Y))}else if("MultiPolygon"===ze)for(le=[],ye=0;ye<be.geometry.length;ye++){for(var Ie=[],He=0;He<be.geometry[ye].length;He++)Ie.push(sa(be.geometry[ye][He],Y));le.push(Ie)}X.push(yt(be.id,ze,le,be.tags))}return X}function sa(ne,Y){var X=[];X.size=ne.size,void 0!==ne.start&&(X.start=ne.start,X.end=ne.end);for(var de=0;de<ne.length;de+=3)X.push(ne[de]+Y,ne[de+1],ne[de+2]);return X}function Ni(ne,Y){if(ne.transformed)return ne;var X,de,le,be=1<<ne.z,ze=ne.x,ye=ne.y;for(X=0;X<ne.features.length;X++){var Ie=ne.features[X],He=Ie.geometry,Je=Ie.type;if(Ie.geometry=[],1===Je)for(de=0;de<He.length;de+=2)Ie.geometry.push(ir(He[de],He[de+1],Y,be,ze,ye));else for(de=0;de<He.length;de++){var ke=[];for(le=0;le<He[de].length;le+=2)ke.push(ir(He[de][le],He[de][le+1],Y,be,ze,ye));Ie.geometry.push(ke)}}return ne.transformed=!0,ne}function ir(ne,Y,X,de,le,be){return[Math.round(X*(ne*de-le)),Math.round(X*(Y*de-be))]}function ui(ne,Y,X,de,le){for(var be=Y===le.maxZoom?0:le.tolerance/((1<<Y)*le.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:de,z:Y,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ye=0;ye<ne.length;ye++){ze.numFeatures++,Qr(ze,ne[ye],be,le);var Ie=ne[ye].minX,He=ne[ye].minY,Je=ne[ye].maxX,ke=ne[ye].maxY;Ie<ze.minX&&(ze.minX=Ie),He<ze.minY&&(ze.minY=He),Je>ze.maxX&&(ze.maxX=Je),ke>ze.maxY&&(ze.maxY=ke)}return ze}function Qr(ne,Y,X,de){var le=Y.geometry,be=Y.type,ze=[];if("Point"===be||"MultiPoint"===be)for(var ye=0;ye<le.length;ye+=3)ze.push(le[ye]),ze.push(le[ye+1]),ne.numPoints++,ne.numSimplified++;else if("LineString"===be)tn(ze,le,ne,X,!1,!1);else if("MultiLineString"===be||"Polygon"===be)for(ye=0;ye<le.length;ye++)tn(ze,le[ye],ne,X,"Polygon"===be,0===ye);else if("MultiPolygon"===be)for(var Ie=0;Ie<le.length;Ie++){var He=le[Ie];for(ye=0;ye<He.length;ye++)tn(ze,He[ye],ne,X,!0,0===ye)}if(ze.length){var Je=Y.tags||null;if("LineString"===be&&de.lineMetrics){for(var ke in Je={},Y.tags)Je[ke]=Y.tags[ke];Je.mapbox_clip_start=le.start/le.size,Je.mapbox_clip_end=le.end/le.size}var xe={geometry:ze,type:"Polygon"===be||"MultiPolygon"===be?3:"LineString"===be||"MultiLineString"===be?2:1,tags:Je};null!==Y.id&&(xe.id=Y.id),ne.features.push(xe)}}function tn(ne,Y,X,de,le,be){var ze=de*de;if(de>0&&Y.size<(le?ze:de))X.numPoints+=Y.length/3;else{for(var ye=[],Ie=0;Ie<Y.length;Ie+=3)(0===de||Y[Ie+2]>ze)&&(X.numSimplified++,ye.push(Y[Ie]),ye.push(Y[Ie+1])),X.numPoints++;le&&function(He,Je){for(var ke=0,xe=0,Xe=He.length,gt=Xe-2;xe<Xe;gt=xe,xe+=2)ke+=(He[xe]-He[gt])*(He[xe+1]+He[gt+1]);if(ke>0===Je)for(xe=0,Xe=He.length;xe<Xe/2;xe+=2){var bt=He[xe],Ht=He[xe+1];He[xe]=He[Xe-2-xe],He[xe+1]=He[Xe-1-xe],He[Xe-2-xe]=bt,He[Xe-1-xe]=Ht}}(ye,be),ne.push(ye)}}function br(ne,Y){var X=(Y=this.options=function(le,be){for(var ze in be)le[ze]=be[ze];return le}(Object.create(this.options),Y)).debug;if(X&&console.time("preprocess data"),Y.maxZoom<0||Y.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Y.promoteId&&Y.generateId)throw new Error("promoteId and generateId cannot be used together.");var le,be,ze,ye,Ie,He,de=function(le,be){var ze=[];if("FeatureCollection"===le.type)for(var ye=0;ye<le.features.length;ye++)_n(ze,le.features[ye],be,ye);else _n(ze,"Feature"===le.type?le:{geometry:le},be);return ze}(ne,Y);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Y.indexMaxZoom,Y.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(le=de,be=Y,ze=be.buffer/be.extent,ye=le,Ie=fa(le,1,-1-ze,ze,0,-1,2,be),He=fa(le,1,1-ze,2+ze,0,-1,2,be),(Ie||He)&&(ye=fa(le,1,-ze,1+ze,0,-1,2,be)||[],Ie&&(ye=jn(Ie,1).concat(ye)),He&&(ye=ye.concat(jn(He,-1)))),de=ye).length&&this.splitTile(de,0,0,0),X&&(de.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function qr(ne,Y,X){return 32*((1<<ne)*X+Y)+ne}function Un(ne,Y){const X=ne.tileID.canonical;if(!this._geoJSONIndex)return Y(null,null);const de=this._geoJSONIndex.getTile(X.z,X.x,X.y);if(!de)return Y(null,null);const le=new ht(de.features);let be=An(le);0===be.byteOffset&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),Y(null,{vectorTile:le,rawData:be.buffer})}br.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},br.prototype.splitTile=function(ne,Y,X,de,le,be,ze){for(var ye=[ne,Y,X,de],Ie=this.options,He=Ie.debug;ye.length;){de=ye.pop(),X=ye.pop(),Y=ye.pop(),ne=ye.pop();var Je=1<<Y,ke=qr(Y,X,de),xe=this.tiles[ke];if(!xe&&(He>1&&console.time("creation"),xe=this.tiles[ke]=ui(ne,Y,X,de,Ie),this.tileCoords.push({z:Y,x:X,y:de}),He)){He>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Y,X,de,xe.numFeatures,xe.numPoints,xe.numSimplified),console.timeEnd("creation"));var Xe="z"+Y;this.stats[Xe]=(this.stats[Xe]||0)+1,this.total++}if(xe.source=ne,le){if(Y===Ie.maxZoom||Y===le)continue;var gt=1<<le-Y;if(X!==Math.floor(be/gt)||de!==Math.floor(ze/gt))continue}else if(Y===Ie.indexMaxZoom||xe.numPoints<=Ie.indexMaxPoints)continue;if(xe.source=null,0!==ne.length){He>1&&console.time("clipping");var bt,Ht,mn,fn,bn,Mn,At=.5*Ie.buffer/Ie.extent,je=.5-At,Li=.5+At,Fn=1+At;bt=Ht=mn=fn=null,bn=fa(ne,Je,X-At,X+Li,0,xe.minX,xe.maxX,Ie),Mn=fa(ne,Je,X+je,X+Fn,0,xe.minX,xe.maxX,Ie),ne=null,bn&&(bt=fa(bn,Je,de-At,de+Li,1,xe.minY,xe.maxY,Ie),Ht=fa(bn,Je,de+je,de+Fn,1,xe.minY,xe.maxY,Ie),bn=null),Mn&&(mn=fa(Mn,Je,de-At,de+Li,1,xe.minY,xe.maxY,Ie),fn=fa(Mn,Je,de+je,de+Fn,1,xe.minY,xe.maxY,Ie),Mn=null),He>1&&console.timeEnd("clipping"),ye.push(bt||[],Y+1,2*X,2*de),ye.push(Ht||[],Y+1,2*X,2*de+1),ye.push(mn||[],Y+1,2*X+1,2*de),ye.push(fn||[],Y+1,2*X+1,2*de+1)}}},br.prototype.getTile=function(ne,Y,X){var de=this.options,le=de.extent,be=de.debug;if(ne<0||ne>24)return null;var ze=1<<ne,ye=qr(ne,Y=(Y%ze+ze)%ze,X);if(this.tiles[ye])return Ni(this.tiles[ye],le);be>1&&console.log("drilling down to z%d-%d-%d",ne,Y,X);for(var Ie,He=ne,Je=Y,ke=X;!Ie&&He>0;)He--,Je=Math.floor(Je/2),ke=Math.floor(ke/2),Ie=this.tiles[qr(He,Je,ke)];return Ie&&Ie.source?(be>1&&console.log("found parent tile z%d-%d-%d",He,Je,ke),be>1&&console.time("drilling down"),this.splitTile(Ie.source,He,Je,ke,ne,Y,X),be>1&&console.timeEnd("drilling down"),this.tiles[ye]?Ni(this.tiles[ye],le):null):null};class wt extends p.VectorTileWorkerSource{constructor(Y,X,de,le,be){super(Y,X,de,le,Un),be&&(this.loadGeoJSON=be)}loadData(Y,X){const de=Y&&Y.request,le=de&&de.collectResourceTiming;this.loadGeoJSON(Y,(be,ze)=>{if(be||!ze)return X(be);if("object"!=typeof ze)return X(new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`));{rn(ze,!0);try{if(Y.filter){const Ie=p.createExpression(Y.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Ie.result)throw new Error(Ie.value.map(Je=>`${Je.key}: ${Je.message}`).join(", "));const He=ze.features.filter(Je=>Ie.value.evaluate({zoom:0},Je));ze={type:"FeatureCollection",features:He}}this._geoJSONIndex=Y.cluster?new hn(function({superclusterOptions:Ie,clusterProperties:He}){if(!He||!Ie)return Ie;const Je={},ke={},xe={accumulated:null,zoom:0},Xe={properties:null},gt=Object.keys(He);for(const bt of gt){const[Ht,mn]=He[bt],fn=p.createExpression(mn),bn=p.createExpression("string"==typeof Ht?[Ht,["accumulated"],["get",bt]]:Ht);Je[bt]=fn.value,ke[bt]=bn.value}return Ie.map=bt=>{Xe.properties=bt;const Ht={};for(const mn of gt)Ht[mn]=Je[mn].evaluate(xe,Xe);return Ht},Ie.reduce=(bt,Ht)=>{Xe.properties=Ht;for(const mn of gt)xe.accumulated=bt[mn],bt[mn]=ke[mn].evaluate(xe,Xe)},Ie}(Y)).load(ze.features):new br(Ie=ze,Y.geojsonVtOptions)}catch(Ie){return X(Ie)}this.loaded={};const ye={};if(le){const Ie=p.getPerformanceMeasurement(de);Ie&&(ye.resourceTiming={},ye.resourceTiming[Y.source]=JSON.parse(JSON.stringify(Ie)))}X(null,ye)}var Ie})}reloadTile(Y,X){const de=this.loaded;return de&&de[Y.uid]?super.reloadTile(Y,X):this.loadTile(Y,X)}loadGeoJSON(Y,X){if(Y.request)p.getJSON(Y.request,X);else{if("string"!=typeof Y.data)return X(new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`));try{return X(null,JSON.parse(Y.data))}catch(de){return X(new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Y,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(Y.clusterId))}catch(de){X(de)}}getClusterChildren(Y,X){try{X(null,this._geoJSONIndex.getChildren(Y.clusterId))}catch(de){X(de)}}getClusterLeaves(Y,X){try{X(null,this._geoJSONIndex.getLeaves(Y.clusterId,Y.limit,Y.offset))}catch(de){X(de)}}}class Vn{constructor(Y){this.self=Y,this.actor=new p.Actor(Y,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=p.getProjection({name:"mercator"}),this.workerSourceTypes={vector:p.VectorTileWorkerSource,geojson:wt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(X,de)=>{if(this.workerSourceTypes[X])throw new Error(`Worker source with name "${X}" already registered.`);this.workerSourceTypes[X]=de},this.self.registerRTLTextPlugin=X=>{if(p.plugin.isParsed())throw new Error("RTL text plugin already registered.");p.plugin.applyArabicShaping=X.applyArabicShaping,p.plugin.processBidirectionalText=X.processBidirectionalText,p.plugin.processStyledBidirectionalText=X.processStyledBidirectionalText}}clearCaches(Y,X,de){delete this.layerIndexes[Y],delete this.availableImages[Y],delete this.workerSources[Y],delete this.demWorkerSources[Y],de()}checkIfReady(Y,X,de){de()}setReferrer(Y,X){this.referrer=X}spriteLoaded(Y,X){this.isSpriteLoaded[Y]=X;for(const de in this.workerSources[Y]){const le=this.workerSources[Y][de];for(const be in le)le[be]instanceof p.VectorTileWorkerSource&&(le[be].isSpriteLoaded=X,le[be].fire(new p.Event("isSpriteLoaded")))}}setImages(Y,X,de){this.availableImages[Y]=X;for(const le in this.workerSources[Y]){const be=this.workerSources[Y][le];for(const ze in be)be[ze].availableImages=X}de()}enableTerrain(Y,X,de){this.terrain=X,de()}setProjection(Y,X){this.projections[Y]=p.getProjection(X)}setLayers(Y,X,de){this.getLayerIndex(Y).replace(X),de()}updateLayers(Y,X,de){this.getLayerIndex(Y).update(X.layers,X.removedIds),de()}loadTile(Y,X,de){const le=this.enableTerrain?p.extend({enableTerrain:this.terrain},X):X;le.projection=this.projections[Y]||this.defaultProjection,this.getWorkerSource(Y,X.type,X.source).loadTile(le,de)}loadDEMTile(Y,X,de){const le=this.enableTerrain?p.extend({buildQuadTree:this.terrain},X):X;this.getDEMWorkerSource(Y,X.source).loadTile(le,de)}reloadTile(Y,X,de){const le=this.enableTerrain?p.extend({enableTerrain:this.terrain},X):X;le.projection=this.projections[Y]||this.defaultProjection,this.getWorkerSource(Y,X.type,X.source).reloadTile(le,de)}abortTile(Y,X,de){this.getWorkerSource(Y,X.type,X.source).abortTile(X,de)}removeTile(Y,X,de){this.getWorkerSource(Y,X.type,X.source).removeTile(X,de)}removeSource(Y,X,de){if(!this.workerSources[Y]||!this.workerSources[Y][X.type]||!this.workerSources[Y][X.type][X.source])return;const le=this.workerSources[Y][X.type][X.source];delete this.workerSources[Y][X.type][X.source],void 0!==le.removeSource?le.removeSource(X,de):de()}loadWorkerSource(Y,X,de){try{this.self.importScripts(X.url),de()}catch(le){de(le.toString())}}syncRTLPluginState(Y,X,de){try{p.plugin.setState(X);const le=p.plugin.getPluginURL();if(p.plugin.isLoaded()&&!p.plugin.isParsed()&&null!=le){this.self.importScripts(le);const be=p.plugin.isParsed();de(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${le}`),be)}}catch(le){de(le.toString())}}getAvailableImages(Y){let X=this.availableImages[Y];return X||(X=[]),X}getLayerIndex(Y){let X=this.layerIndexes[Y];return X||(X=this.layerIndexes[Y]=new Bt),X}getWorkerSource(Y,X,de){return this.workerSources[Y]||(this.workerSources[Y]={}),this.workerSources[Y][X]||(this.workerSources[Y][X]={}),this.workerSources[Y][X][de]||(this.workerSources[Y][X][de]=new this.workerSourceTypes[X]({send:(le,be,ze,ye,Ie,He)=>{this.actor.send(le,be,ze,Y,Ie,He)},scheduler:this.actor.scheduler},this.getLayerIndex(Y),this.getAvailableImages(Y),this.isSpriteLoaded[Y])),this.workerSources[Y][X][de]}getDEMWorkerSource(Y,X){return this.demWorkerSources[Y]||(this.demWorkerSources[Y]={}),this.demWorkerSources[Y][X]||(this.demWorkerSources[Y][X]=new nt),this.demWorkerSources[Y][X]}enforceCacheSizeLimit(Y,X){p.enforceCacheSizeLimit(X)}getWorkerPerformanceMetrics(Y,X,de){de(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Vn(self)),Vn}),Ye(0,function(p){function at(f,l){if(Array.isArray(f)){if(!Array.isArray(l)||f.length!==l.length)return!1;for(let u=0;u<f.length;u++)if(!at(f[u],l[u]))return!1;return!0}if("object"==typeof f&&null!==f&&null!==l){if("object"!=typeof l||Object.keys(f).length!==Object.keys(l).length)return!1;for(const u in f)if(!at(f[u],l[u]))return!1;return!0}return f===l}var un=Bt;function Bt(f){return l=f,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,x,C=new Blob([""],{type:"text/javascript"}),D=URL.createObjectURL(C);try{x=new Worker(D),_=!0}catch(I){_=!1}return x&&x.terminate(),URL.revokeObjectURL(D),_}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var _=document.createElement("canvas");_.width=_.height=1;var x=_.getContext("2d");if(!x)return!1;var C=x.getImageData(0,0,1,1);return C&&C.width===_.width}()||(void 0===nt[u=l&&l.failIfMajorPerformanceCaveat]&&(nt[u]=function(_){var x,D,I,O,C=(D=_,I=document.createElement("canvas"),(O=Object.create(Bt.webGLContextAttributes)).failIfMajorPerformanceCaveat=D,I.getContext("webgl",O)||I.getContext("experimental-webgl",O));if(!C)return!1;try{x=C.createShader(C.VERTEX_SHADER)}catch(D){return!1}return!(!x||C.isContextLost())&&(C.shaderSource(x,"void main() {}"),C.compileShader(x),!0===C.getShaderParameter(x,C.COMPILE_STATUS))}(u)),!nt[u]||document.documentMode));var l,u}var nt={};function rn(f,l,u){const _=p.window.document.createElement(f);return void 0!==l&&(_.className=l),u&&u.appendChild(_),_}function Wi(f,l,u){const _=p.window.document.createElementNS("http://www.w3.org/2000/svg",f);for(const x of Object.keys(l))_.setAttributeNS(null,x,l[x]);return u&&u.appendChild(_),_}Bt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Sn=p.window.document&&p.window.document.documentElement.style,pn=Sn&&void 0!==Sn.userSelect?"userSelect":"WebkitUserSelect";let oi;function ht(){Sn&&pn&&(oi=Sn[pn],Sn[pn]="none")}function zn(){Sn&&pn&&(Sn[pn]=oi)}function xa(f){f.preventDefault(),f.stopPropagation(),p.window.removeEventListener("click",xa,!0)}function Jt(){p.window.addEventListener("click",xa,!0),p.window.setTimeout(()=>{p.window.removeEventListener("click",xa,!0)},0)}function Gt(f,l){const u=f.getBoundingClientRect();return Pa(f,u,l)}function An(f,l){const u=f.getBoundingClientRect(),_=[];for(let x=0;x<l.length;x++)_.push(Pa(f,u,l[x]));return _}function Ta(f){return void 0!==p.window.InstallTrigger&&2===f.button&&f.ctrlKey&&p.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:f.button}function Pa(f,l,u){const _=f.offsetWidth===l.width?1:f.offsetWidth/l.width;return new p.pointGeometry((u.clientX-l.left)*_,(u.clientY-l.top)*_)}function Qi(f,l){var u=l[0],_=l[1],x=l[2],C=l[3],D=u*C-x*_;return D?(f[0]=C*(D=1/D),f[1]=-_*D,f[2]=-x*D,f[3]=u*D,f):null}function Mi(f){const{userImage:l}=f;return!!(l&&l.render&&l.render())&&(f.data.replace(new Uint8Array(l.data.buffer)),!0)}class pi extends p.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new p.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:u,callback:_}of this.requestors)this._notify(u,_);this.requestors=[]}}hasImage(l){return!!this.getImage(l)}getImage(l){return this.images[l]}addImage(l,u){this._validate(l,u)&&(this.images[l]=u)}_validate(l,u){let _=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new p.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),_=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new p.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),_=!1),this._validateContent(u.content,u)||(this.fire(new p.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),_=!1),_}_validateStretch(l,u){if(!l)return!0;let _=0;for(const x of l){if(x[0]<_||x[1]<x[0]||u<x[1])return!1;_=x[1]}return!0}_validateContent(l,u){return!(l&&(4!==l.length||l[0]<0||u.data.width<l[0]||l[1]<0||u.data.height<l[1]||l[2]<0||u.data.width<l[2]||l[3]<0||u.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,u){u.version=this.images[l].version+1,this.images[l]=u,this.updatedImages[l]=!0}removeImage(l){const u=this.images[l];delete this.images[l],delete this.patterns[l],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,u){let _=!0;if(!this.isLoaded())for(const x of l)this.images[x]||(_=!1);this.isLoaded()||_?this._notify(l,u):this.requestors.push({ids:l,callback:u})}_notify(l,u){const _={};for(const x of l){this.images[x]||this.fire(new p.Event("styleimagemissing",{id:x}));const C=this.images[x];C?_[x]={data:C.data.clone(),pixelRatio:C.pixelRatio,sdf:C.sdf,version:C.version,stretchX:C.stretchX,stretchY:C.stretchY,content:C.content,hasRenderCallback:Boolean(C.userImage&&C.userImage.render)}:p.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,_)}getPixelSize(){const{width:l,height:u}=this.atlasImage;return{width:l,height:u}}getPattern(l){const u=this.patterns[l],_=this.getImage(l);if(!_)return null;if(u&&u.position.version===_.version)return u.position;if(u)u.position.version=_.version;else{const x={w:_.data.width+2,h:_.data.height+2,x:0,y:0},C=new p.ImagePosition(x,_);this.patterns[l]={bin:x,position:C}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const u=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new p.Texture(l,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const C in this.patterns)l.push(this.patterns[C].bin);const{w:u,h:_}=p.potpack(l),x=this.atlasImage;x.resize({width:u||1,height:_||1});for(const C in this.patterns){const{bin:D}=this.patterns[C],I=D.x+1,O=D.y+1,V=this.images[C].data,U=V.width,W=V.height;p.RGBAImage.copy(V,x,{x:0,y:0},{x:I,y:O},{width:U,height:W}),p.RGBAImage.copy(V,x,{x:0,y:W-1},{x:I,y:O-1},{width:U,height:1}),p.RGBAImage.copy(V,x,{x:0,y:0},{x:I,y:O+W},{width:U,height:1}),p.RGBAImage.copy(V,x,{x:U-1,y:0},{x:I-1,y:O},{width:1,height:W}),p.RGBAImage.copy(V,x,{x:0,y:0},{x:I+U,y:O},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const u of l){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const _=this.images[u];Mi(_)&&this.updateImage(u,_)}}}const on=new p.Properties({anchor:new p.DataConstantProperty(p.spec.light.anchor),position:new class{constructor(){this.specification=p.spec.light.position}possiblyEvaluate(f,l){return function([u,_,x]){const C=p.degToRad(_+90),D=p.degToRad(x);return{x:u*Math.cos(C)*Math.sin(D),y:u*Math.sin(C)*Math.sin(D),z:u*Math.cos(D),azimuthal:_,polar:x}}(f.expression.evaluate(l))}interpolate(f,l,u){return{x:p.number(f.x,l.x,u),y:p.number(f.y,l.y,u),z:p.number(f.z,l.z,u),azimuthal:p.number(f.azimuthal,l.azimuthal,u),polar:p.number(f.polar,l.polar,u)}}},color:new p.DataConstantProperty(p.spec.light.color),intensity:new p.DataConstantProperty(p.spec.light.intensity)}),$a="-transition";class Fr extends p.Evented{constructor(l){super(),this._transitionable=new p.Transitionable(on),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,u={}){if(!this._validate(p.validateLight,l,u))for(const _ in l){const x=l[_];p.endsWith(_,$a)?this._transitionable.setTransition(_.slice(0,-$a.length),x):this._transitionable.setValue(_,x)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,_){return(!_||!1!==_.validate)&&p.emitValidationErrors(this,l.call(p.validateStyle,p.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:p.spec})))}}const ji=new p.Properties({source:new p.DataConstantProperty(p.spec.terrain.source),exaggeration:new p.DataConstantProperty(p.spec.terrain.exaggeration)}),Rr="-transition";class zr extends p.Evented{constructor(l,u){super(),this._transitionable=new p.Transitionable(ji),this.set(l),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(l){for(const u in l){const _=l[u];p.endsWith(u,Rr)?this._transitionable.setTransition(u.slice(0,-Rr.length),_):this._transitionable.setValue(u,_)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}}function nr(f,l,u,_){const x=p.smoothstep(45,65,u),[C,D]=fr(f,_),I=p.length(l);let O=1-Math.min(1,Math.exp((I-C)/(D-C)*-6));return O*=O*O,O=Math.min(1,1.00747*O),O*x*f.alpha}function fr(f,l){const u=.5/Math.tan(.5*l);return[f.range[0]+u,f.range[1]+u]}const Xa=new p.Properties({range:new p.DataConstantProperty(p.spec.fog.range),color:new p.DataConstantProperty(p.spec.fog.color),"high-color":new p.DataConstantProperty(p.spec.fog["high-color"]),"space-color":new p.DataConstantProperty(p.spec.fog["space-color"]),"horizon-blend":new p.DataConstantProperty(p.spec.fog["horizon-blend"]),"star-intensity":new p.DataConstantProperty(p.spec.fog["star-intensity"])}),Jr="-transition";class ci extends p.Evented{constructor(l,u){super(),this._transitionable=new p.Transitionable(Xa),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const l=this._transform,u="globe"===l.projection.name,_=p.globeToMercatorTransition(l.zoom),x=this.properties.get("range"),C=[.5,3];return{range:u?[p.number(C[0],x[0],_),p.number(C[1],x[1],_)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,u={}){if(!this._validate(p.validateFog,l,u)){for(const _ of Object.keys(p.spec.fog))l&&void 0===l[_]&&(l[_]=p.spec.fog[_].default);for(const _ in l){const x=l[_];p.endsWith(_,Jr)?this._transitionable.setTransition(_.slice(0,-Jr.length),x):this._transitionable.setValue(_,x)}}}getOpacity(l){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:p.smoothstep(45,65,l))*u.a}getOpacityAtLatLng(l,u){return this._transform.projection.supportsFog?function(_,x,C){const D=p.MercatorCoordinate.fromLngLat(x),I=C.elevation?C.elevation.getAtPointOrZero(D):0,O=[D.x,D.y,I];return p.transformMat4(O,O,C.mercatorFogMatrix),nr(_,O,C.pitch,C._fov)}(this.state,l,u):0}getFovAdjustedRange(l){return this._transform.projection.supportsFog?fr(this.state,l):[0,1]}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,_){return(!_||!1!==_.validate)&&p.emitValidationErrors(this,l.call(p.validateStyle,p.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:p.spec})))}}class Ha{constructor(l,u){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=p.uniqueId();const _=this.workerPool.acquire(this.id);for(let x=0;x<_.length;x++){const C=new Ha.Actor(_[x],u,this.id);C.name=`Worker ${x}`,this.actors.push(C)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,u,_){p.asyncAll(this.actors,(x,C)=>{x.send(l,u,C)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function dr(f,l,u){return l*(p.EXTENT/(f.tileSize*Math.pow(2,u-f.tileID.overscaledZ)))}Ha.Actor=p.Actor;class Ki{constructor(l,u,_,x){this.screenBounds=l,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=_,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(l,u){let _,x;if(l instanceof p.pointGeometry||"number"==typeof l[0]){const C=p.pointGeometry.convert(l);_=[p.pointGeometry.convert(l)],x=u.isPointAboveHorizon(C)}else{const C=p.pointGeometry.convert(l[0]),D=p.pointGeometry.convert(l[1]);_=[C,D],x=p.polygonizeBounds(C,D).every(I=>u.isPointAboveHorizon(I))}return new Ki(_,u.getCameraPoint(),x,u)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(l){return p.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const u=this.screenBounds[0],_=1===this.screenBounds.length?this.screenBounds[0].add(new p.pointGeometry(1,1)):this.screenBounds[1],x=p.polygonizeBounds(u,_,0,!1);return this.cameraPoint.y>_.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<_.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=_.x?x[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(x[3]=this.cameraPoint)),p.bufferConvexPolygon(x,l)}bufferedCameraGeometryGlobe(l){const u=this.screenBounds[0],_=1===this.screenBounds.length?this.screenBounds[0].add(new p.pointGeometry(1,1)):this.screenBounds[1],x=p.polygonizeBounds(u,_,l),C=this.cameraPoint.clone();switch(3*((C.y>u.y)+(C.y>_.y))+((C.x>u.x)+(C.x>_.x))){case 0:x[0]=C,x[4]=C.clone();break;case 1:x.splice(1,0,C);break;case 2:x[1]=C;break;case 3:x.splice(4,0,C);break;case 5:x.splice(2,0,C);break;case 6:x[3]=C;break;case 7:x.splice(3,0,C);break;case 8:x[2]=C}return x}containsTile(l,u,_,x=0){const C=l.queryPadding/u._pixelsPerMercatorPixel+1,D=_?this._bufferedCameraMercator(C,u):this._bufferedScreenMercator(C,u);let I=l.tileID.wrap+(D.unwrapped?x:0);const O=D.polygon.map(ue=>p.getTilePoint(l.tileTransform,ue,I));if(!p.polygonIntersectsBox(O,0,0,p.EXTENT,p.EXTENT))return;I=l.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const V=this.screenGeometryMercator.polygon.map(ue=>p.getTileVec3(l.tileTransform,ue,I)),U=V.map(ue=>new p.pointGeometry(ue[0],ue[1])),W=u.getFreeCameraOptions().position||new p.MercatorCoordinate(0,0,0),te=p.getTileVec3(l.tileTransform,W,I),me=V.map(ue=>{const re=p.sub(ue,ue,te);return p.normalize(re,re),new p.Ray(te,re)}),se=dr(l,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:U,tilespaceRays:me,bufferedTilespaceGeometry:O,bufferedTilespaceBounds:(ce=p.getBounds(O),ce.min.x=p.clamp(ce.min.x,0,p.EXTENT),ce.min.y=p.clamp(ce.min.y,0,p.EXTENT),ce.max.x=p.clamp(ce.max.x,0,p.EXTENT),ce.max.y=p.clamp(ce.max.y,0,p.EXTENT),ce),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:se};var ce}_bufferedScreenMercator(l,u){const _=yo(l);if(this._screenRaycastCache[_])return this._screenRaycastCache[_];{let x;return x="globe"===u.projection.name?this._projectAndResample(this.bufferedScreenGeometry(l),u):{polygon:this.bufferedScreenGeometry(l).map(C=>u.pointCoordinate3D(C)),unwrapped:!0},this._screenRaycastCache[_]=x,x}}_bufferedCameraMercator(l,u){const _=yo(l);if(this._cameraRaycastCache[_])return this._cameraRaycastCache[_];{let x;return x="globe"===u.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(l),u):{polygon:this.bufferedCameraGeometry(l).map(C=>u.pointCoordinate3D(C)),unwrapped:!0},this._cameraRaycastCache[_]=x,x}}_projectAndResample(l,u){const _=function(C,D){const I=p.multiply([],D.pixelMatrix,D.globeMatrix),O=[0,-p.GLOBE_RADIUS,0,1],V=[0,p.GLOBE_RADIUS,0,1],U=[0,0,0,1];p.transformMat4$1(O,O,I),p.transformMat4$1(V,V,I),p.transformMat4$1(U,U,I);const W=new p.pointGeometry(O[0]/O[3],O[1]/O[3]),te=new p.pointGeometry(V[0]/V[3],V[1]/V[3]),me=p.polygonContainsPoint(C,W)&&O[3]<U[3],se=p.polygonContainsPoint(C,te)&&V[3]<U[3];if(!me&&!se)return null;const ce=function(Ee,Me,Re){for(let Ue=1;Ue<Ee.length;Ue++){const _t=hn(Me.pointCoordinate3D(Ee[Ue-1]).x),Be=hn(Me.pointCoordinate3D(Ee[Ue]).x);if(Re<0){if(_t<Be)return{idx:Ue,t:-_t/(Be-1-_t)}}else if(Be<_t)return{idx:Ue,t:(1-_t)/(Be+1-_t)}}return null}(C,D,me?-1:1);if(!ce)return null;const{idx:ue,t:re}=ce;let fe=ue>1?Ya(C.slice(0,ue),D):[],oe=ue<C.length?Ya(C.slice(ue),D):[];fe=fe.map(Ee=>new p.pointGeometry(hn(Ee.x),Ee.y)),oe=oe.map(Ee=>new p.pointGeometry(hn(Ee.x),Ee.y));const Le=[...fe];0===Le.length&&Le.push(oe[oe.length-1]);const De=p.number(Le[Le.length-1].y,(0===oe.length?fe[0]:oe[0]).y,re);let we;return we=me?[new p.pointGeometry(0,De),new p.pointGeometry(0,0),new p.pointGeometry(1,0),new p.pointGeometry(1,De)]:[new p.pointGeometry(1,De),new p.pointGeometry(1,1),new p.pointGeometry(0,1),new p.pointGeometry(0,De)],Le.push(...we),0===oe.length?Le.push(fe[0]):Le.push(...oe),{polygon:Le.map(Ee=>new p.MercatorCoordinate(Ee.x,Ee.y)),unwrapped:!1}}(l,u);if(_)return _;const x=function(C,D){let I=!1,O=-1/0,V=0;for(let W=0;W<C.length-1;W++)C[W].x>O&&(O=C[W].x,V=W);for(let W=0;W<C.length-1;W++){const te=(V+W)%(C.length-1),me=C[te],se=C[te+1];Math.abs(me.x-se.x)>.5&&(me.x<se.x?(me.x+=1,0===te&&(C[C.length-1].x+=1)):(se.x+=1,te+1===C.length-1&&(C[0].x+=1)),I=!0)}const U=p.mercatorXfromLng(D.center.lng);return I&&U<Math.abs(U-1)&&C.forEach(W=>{W.x-=1}),{polygon:C,unwrapped:I}}(Ya(l,u).map(C=>new p.pointGeometry(hn(C.x),C.y)),u);return{polygon:x.polygon.map(C=>new p.MercatorCoordinate(C.x,C.y)),unwrapped:x.unwrapped}}}function Ya(f,l){return p.resample(f,u=>{const _=l.pointCoordinate3D(u);u.x=_.x,u.y=_.y},1/256)}function hn(f){return f<0?1+f%1:f%1}function yo(f){return 100*f|0}function Vo(f,l,u,_,x){const C=function(D,I){if(D)return x(D);if(I){const O=p.pick(p.extend(I,f),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);I.vector_layers&&(O.vectorLayers=I.vector_layers,O.vectorLayerIds=O.vectorLayers.map(V=>V.id)),I.language_options&&(O.languageOptions=I.language_options),I.language&&I.language[I.id]&&(O.language=I.language[I.id]),I.worldview_options&&(O.worldviewOptions=I.worldview_options),I.worldview?O.worldview=I.worldview[I.id]:I.worldview_default&&(O.worldview=I.worldview_default),O.tiles=l.canonicalizeTileset(O,f.url),x(null,O)}};return f.url?p.getJSON(l.transformRequest(l.normalizeSourceURL(f.url,null,u,_),p.ResourceType.Source),C):p.exported.frame(()=>C(null,f))}class Ka{constructor(l,u,_){this.bounds=p.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=u||0,this.maxzoom=_||24}validateBounds(l){return Array.isArray(l)&&4===l.length?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const u=Math.pow(2,l.z),_=Math.floor(p.mercatorXfromLng(this.bounds.getWest())*u),x=Math.floor(p.mercatorYfromLat(this.bounds.getNorth())*u),C=Math.ceil(p.mercatorXfromLng(this.bounds.getEast())*u),D=Math.ceil(p.mercatorYfromLat(this.bounds.getSouth())*u);return l.x>=_&&l.x<C&&l.y>=x&&l.y<D}}class Ms{constructor(l,u,_){this.context=l;const x=l.gl;this.buffer=x.createBuffer(),this.dynamicDraw=Boolean(_),this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Nr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ts{constructor(l,u,_,x){this.length=u.length,this.attributes=_,this.itemSize=u.bytesPerElement,this.dynamicDraw=x,this.context=l;const C=l.gl;this.buffer=C.createBuffer(),l.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,u){for(let _=0;_<this.attributes.length;_++){const x=u.attributes[this.attributes[_].name];void 0!==x&&l.enableVertexAttribArray(x)}}setVertexAttribPointers(l,u,_){for(let x=0;x<this.attributes.length;x++){const C=this.attributes[x],D=u.attributes[C.name];void 0!==D&&l.vertexAttribPointer(D,C.components,l[Nr[C.type]],!1,this.itemSize,C.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class xi{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class gr extends xi{getDefault(){return p.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Yr extends xi{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class qn extends xi{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class pa extends xi{getDefault(){return[!0,!0,!0,!0]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class it extends xi{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class yt extends xi{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class ti extends xi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const u=this.current;(l.func!==u.func||l.ref!==u.ref||l.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class _n extends xi{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class Pn extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=l,this.dirty=!1}}class Bn extends xi{getDefault(){return[0,1]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class qa extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=l,this.dirty=!1}}class Dr extends xi{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class On extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.BLEND):u.disable(u.BLEND),this.current=l,this.dirty=!1}}class fa extends xi{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class Ea extends xi{getDefault(){return p.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Da extends xi{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class ni extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=l,this.dirty=!1}}class Sa extends xi{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class _r extends xi{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class Ts extends xi{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class Gn extends xi{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class jn extends xi{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class sa extends xi{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Ni extends xi{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class ir extends xi{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class ui extends xi{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Qr extends xi{getDefault(){return null}set(l){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class tn extends xi{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class br extends xi{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class qr extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class Un extends xi{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class wt extends xi{constructor(l,u){super(l),this.context=l,this.parent=u}getDefault(){return null}}class Vn extends wt{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class ne extends wt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Y extends ne{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class X{constructor(l,u,_,x){this.context=l,this.width=u,this.height=_;const C=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new Vn(l,C),x&&(this.depthAttachment=new ne(l,C))}destroy(){const l=this.context.gl,u=this.colorAttachment.get();if(u&&l.deleteTexture(u),this.depthAttachment){const _=this.depthAttachment.get();_&&l.deleteRenderbuffer(_)}l.deleteFramebuffer(this.framebuffer)}}class de{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new gr(this),this.clearDepth=new Yr(this),this.clearStencil=new qn(this),this.colorMask=new pa(this),this.depthMask=new it(this),this.stencilMask=new yt(this),this.stencilFunc=new ti(this),this.stencilOp=new _n(this),this.stencilTest=new Pn(this),this.depthRange=new Bn(this),this.depthTest=new qa(this),this.depthFunc=new Dr(this),this.blend=new On(this),this.blendFunc=new fa(this),this.blendColor=new Ea(this),this.blendEquation=new Da(this),this.cullFace=new ni(this),this.cullFaceSide=new Sa(this),this.frontFace=new _r(this),this.program=new Ts(this),this.activeTexture=new Gn(this),this.viewport=new jn(this),this.bindFramebuffer=new sa(this),this.bindRenderbuffer=new Ni(this),this.bindTexture=new ir(this),this.bindVertexBuffer=new ui(this),this.bindElementBuffer=new Qr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tn(this),this.pixelStoreUnpack=new br(this),this.pixelStoreUnpackPremultiplyAlpha=new qr(this),this.pixelStoreUnpackFlipY=new Un(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=l.getExtension("OES_standard_derivatives"),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,u){return new Ms(this,l,u)}createVertexBuffer(l,u,_){return new ts(this,l,u,_)}createRenderbuffer(l,u,_){const x=this.gl,C=x.createRenderbuffer();return this.bindRenderbuffer.set(C),x.renderbufferStorage(x.RENDERBUFFER,l,u,_),this.bindRenderbuffer.set(null),C}createFramebuffer(l,u,_){return new X(this,l,u,_)}clear({color:l,depth:u,stencil:_}){const x=this.gl;let C=0;l&&(C|=x.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),void 0!==u&&(C|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),void 0!==_&&(C|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),x.clear(C)}setCullFace(l){!1===l.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){at(l.blendFunction,p.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class le extends p.Evented{constructor(l,u,_,x){super(),this.id=l,this.dispatcher=_,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=p.extend({type:"raster"},u),p.extend(this,p.pick(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new p.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vo(this._options,this.map._requestManager,null,null,(l,u)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new p.ErrorEvent(l)):u&&(p.extend(this,u),u.bounds&&(this.tileBounds=new Ka(u.bounds,this.minzoom,this.maxzoom)),p.postTurnstileEvent(u.tiles),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return p.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,u){const _=p.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),_,this.tileSize);l.request=p.getImage(this.map._requestManager.transformRequest(x,p.ResourceType.Tile),(C,D,I,O)=>(delete l.request,l.aborted?(l.state="unloaded",u(null)):C?(l.state="errored",u(C)):D?(this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:I,expires:O}),l.setTexture(D,this.map.painter),l.state="loaded",p.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(l,u,_){l.setTexture(u,_)}static unloadTileData(l,u){l.texture&&u.saveTileTexture(l.texture)}abortTile(l,u){l.request&&(l.request.cancel(),delete l.request),u()}unloadTile(l,u){l.texture&&this.map.painter.saveTileTexture(l.texture),u()}hasTransition(){return!1}}let be;function ze(f,l,u,_,x,C,D,I){const O=[f,u,x,l,_,C,1,1,1],V=[D,I,1],U=p.adjoint([],O),[W,te,me]=p.transformMat3(V,V,p.transpose(U,U));return p.multiply$1(O,[W,0,0,0,te,0,0,0,me],O)}class ye extends p.Evented{constructor(l,u,_,x){super(),this.id=l,this.dispatcher=_,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=u}load(l,u){this._loaded=u||!1,this.fire(new p.Event("dataloading",{dataType:"source"})),this.url=this.options.url,p.getImage(this.map._requestManager.transformRequest(this.url,p.ResourceType.Image),(_,x)=>{if(this._loaded=!0,_)this.fire(new p.ErrorEvent(_));else if(x){const{HTMLImageElement:C}=p.window;this.image=x instanceof C?p.exported.getImageData(x):x,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading()}})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this.texture&&this.texture.destroy()}setCoordinates(l){this.coordinates=l,this._boundsArray=void 0;const u=l.map(p.MercatorCoordinate.fromLngLat);return this.tileID=function(_){let x=1/0,C=1/0,D=-1/0,I=-1/0;for(const W of _)x=Math.min(x,W.x),C=Math.min(C,W.y),D=Math.max(D,W.x),I=Math.max(I,W.y);const O=Math.max(D-x,I-C),V=Math.max(0,Math.floor(-Math.log(O)/Math.LN2)),U=Math.pow(2,V);return new p.CanonicalTileID(V,Math.floor((x+D)/2*U),Math.floor((C+I)/2*U))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new p.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(l){for(const O in this.tiles){const V=this.tiles[O];"loaded"!==V.state&&(V.state="loaded",V.texture=this.texture)}if(this._boundsArray)return;const u=p.tileTransform(this.tileID,this.map.transform.projection),[_,x,C,D]=this.coordinates.map(O=>{const V=u.projection.project(O[0],O[1]);return p.getTilePoint(u,V)._round()});this.perspectiveTransform=function(O,V,U,W,te,me,se,ce,ue,re){const fe=ze(0,0,O,0,0,V,O,V),oe=ze(U,W,te,me,se,ce,ue,re);return p.multiply$1(oe,p.adjoint(fe,fe),oe),[oe[6]/oe[8]*O/p.EXTENT,oe[7]/oe[8]*V/p.EXTENT]}(this.width,this.height,_.x,_.y,x.x,x.y,D.x,D.y,C.x,C.y);const I=this._boundsArray=new p.StructArrayLayout4i8;I.emplaceBack(_.x,_.y,0,0),I.emplaceBack(x.x,x.y,p.EXTENT,0),I.emplaceBack(D.x,D.y,0,p.EXTENT),I.emplaceBack(C.x,C.y,p.EXTENT,p.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=l.createVertexBuffer(I,p.boundsAttributes.members),this.boundsSegments=p.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const l=this.map.painter.context,u=l.gl;this.texture?this.texture.update(this.image):(this.texture=new p.Texture(l,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._prepareData(l)}loadTile(l,u){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},u(null)):(l.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ie={vector:class extends p.Evented{constructor(f,l,u,_){if(super(),this.id=f,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,p.extend(this,p.pick(l,["url","scheme","tileSize","promoteId"])),this._options=p.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_),this._tileWorkers={},this._deduped=new p.DedupedRequest}load(f){this._loaded=!1,this.fire(new p.Event("dataloading",{dataType:"source"}));const l=this.language||this.map._language,u=this.worldview||this.map._worldview;this._tileJSONRequest=Vo(this._options,this.map._requestManager,l,u,(_,x)=>{this._tileJSONRequest=null,this._loaded=!0,_?(l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code. Found: ${l}`),u&&2!==u.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new p.ErrorEvent(_))):x&&(p.extend(this,x),x.bounds&&(this.tileBounds=new Ka(x.bounds,this.minzoom,this.maxzoom)),p.postTurnstileEvent(x.tiles,this.map._requestManager._customAccessToken),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"content"}))),f&&f(_)})}loaded(){return this._loaded}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}onAdd(f){this.map=f,this.load()}setSourceProperty(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.load(()=>{const l=this.map.style._getSourceCaches(this.id);for(const u of l)u.clearTiles()})}setTiles(f){return this.setSourceProperty(()=>{this._options.tiles=f}),this}setUrl(f){return this.setSourceProperty(()=>{this.url=f,this._options.url=f}),this}_setLanguage(f){return f===this.language||this.setSourceProperty(()=>{this.language=f}),this}_setWorldview(f){return f===this.worldview?this:this.worldviewOptions&&f&&!this.worldviewOptions[f]?(console.warn(`Vector tile source "${this.id}" does not support worldview "${f}".`),this):(this.setSourceProperty(()=>{this.worldview=f}),this)}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return p.extend({},this._options)}loadTile(f,l){const u=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),_={request:this.map._requestManager.transformRequest(u,p.ResourceType.Tile),data:void 0,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:p.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:f.isSymbolTile};if(_.request.collectResourceTiming=this._collectResourceTiming,f.actor&&"expired"!==f.state)"loading"===f.state?f.reloadCallback=l:f.request=f.actor.send("reloadTile",_,x.bind(this));else if(f.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)f.request=f.actor.send("loadTile",_,x.bind(this),void 0,!0);else{const C=p.loadVectorTile.call({deduped:this._deduped},_,(D,I)=>{D||!I?x.call(this,D):(_.data={cacheControl:I.cacheControl,expires:I.expires,rawData:I.rawData.slice(0)},f.actor&&f.actor.send("loadTile",_,x.bind(this),void 0,!0))},!0);f.request={cancel:C}}function x(C,D){return delete f.request,f.aborted?l(null):C&&404!==C.status?l(C):(D&&D.resourceTiming&&(f.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&f.setExpiryData(D),f.loadVectorData(D,this.map.painter),p.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id})}unloadTile(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:le,"raster-dem":class extends le{constructor(f,l,u,_){super(f,l,u,_),this.type="raster-dem",this.maxzoom=22,this._options=p.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(f,l){const u=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function _(x,C){x&&(f.state="errored",l(x)),C&&(f.dem=C,f.dem.onDeserialize(),f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0,f.state="loaded",l(null))}f.request=p.getImage(this.map._requestManager.transformRequest(u,p.ResourceType.Tile),function(x,C,D,I){if(delete f.request,f.aborted)f.state="unloaded",l(null);else if(x)f.state="errored",l(x);else if(C){this.map._refreshExpiredTiles&&f.setExpiryData({cacheControl:D,expires:I});const O=p.window.ImageBitmap&&C instanceof p.window.ImageBitmap&&(null==be&&(be=p.window.OffscreenCanvas&&new p.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof p.window.createImageBitmap),be),V=1-(C.width-p.prevPowerOfTwo(C.width))/2;V<1||f.neighboringTiles||(f.neighboringTiles=this._getNeighboringTiles(f.tileID));const U=O?C:p.exported.getImageData(C,V),W={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:U,encoding:this.encoding,padding:V};f.actor&&"expired"!==f.state||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",W,_.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(f){const l=f.canonical,u=Math.pow(2,l.z),_=(l.x-1+u)%u,x=0===l.x?f.wrap-1:f.wrap,C=(l.x+1+u)%u,D=l.x+1===u?f.wrap+1:f.wrap,I={};return I[new p.OverscaledTileID(f.overscaledZ,x,l.z,_,l.y).key]={backfilled:!1},I[new p.OverscaledTileID(f.overscaledZ,D,l.z,C,l.y).key]={backfilled:!1},l.y>0&&(I[new p.OverscaledTileID(f.overscaledZ,x,l.z,_,l.y-1).key]={backfilled:!1},I[new p.OverscaledTileID(f.overscaledZ,f.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},I[new p.OverscaledTileID(f.overscaledZ,D,l.z,C,l.y-1).key]={backfilled:!1}),l.y+1<u&&(I[new p.OverscaledTileID(f.overscaledZ,x,l.z,_,l.y+1).key]={backfilled:!1},I[new p.OverscaledTileID(f.overscaledZ,f.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},I[new p.OverscaledTileID(f.overscaledZ,D,l.z,C,l.y+1).key]={backfilled:!1}),I}unloadTile(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded"}},geojson:class extends p.Evented{constructor(f,l,u,_){super(),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(_),this._data=l.data,this._options=p.extend({},l),this._collectResourceTiming=l.collectResourceTiming,void 0!==l.maxzoom&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const x=p.EXTENT/this.tileSize;this.workerOptions=p.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(void 0!==l.buffer?l.buffer:128)*x,tolerance:(void 0!==l.tolerance?l.tolerance:.375)*x,extent:p.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:void 0!==l.clusterMaxZoom?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:p.EXTENT,radius:(void 0!==l.clusterRadius?l.clusterRadius:50)*x,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(f){this.map=f,this.setData(this._data)}setData(f){return this._data=f,this._updateWorkerData(),this}getClusterExpansionZoom(f,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},l),this}getClusterChildren(f,l){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},l),this}getClusterLeaves(f,l,u,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:l,offset:u},_),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new p.Event("dataloading",{dataType:"source"})),this._loaded=!1;const f=p.extend({},this.workerOptions),l=this._data;"string"==typeof l?(f.request=this.map._requestManager.transformRequest(p.exported.resolveURL(l),p.ResourceType.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,f,(u,_)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new p.ErrorEvent(u));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),this.fire(new p.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(f,l){const u=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(u,{type:this.type,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:p.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(_,x)=>(delete f.request,f.unloadVectorData(),f.aborted?l(null):_?l(_):(f.loadVectorData(x,this.map.painter,"reloadTile"===u),l(null))),void 0,"loadTile"===u)}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0}unloadTile(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return p.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ye{constructor(f,l,u,_){super(f,l,u,_),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const f=this.options;this.urls=[];for(const l of f.urls)this.urls.push(this.map._requestManager.transformRequest(l,p.ResourceType.Source).url);p.getVideo(this.urls,(l,u)=>{this._loaded=!0,l?this.fire(new p.ErrorEvent(l)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(f){if(this.video){const l=this.video.seekable;f<l.start(0)||f>l.end(0)?this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=f}}getVideo(){return this.video}onAdd(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const f=this.map.painter.context,l=f.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new p.Texture(f,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(f)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ye,canvas:class extends ye{constructor(f,l,u,_){super(f,l,u,_),l.coordinates?Array.isArray(l.coordinates)&&4===l.coordinates.length&&!l.coordinates.some(x=>!Array.isArray(x)||2!==x.length||x.some(C=>"number"!=typeof C))||this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${f}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${f}`,null,'missing required property "coordinates"'))),l.animate&&"boolean"!=typeof l.animate&&this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${f}`,null,'optional "animate" property must be a boolean value'))),l.canvas?"string"==typeof l.canvas||l.canvas instanceof p.window.HTMLCanvasElement||this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${f}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new p.ErrorEvent(new p.ValidationError(`sources.${f}`,null,'missing required property "canvas"'))),this.options=l,this.animate=void 0===l.animate||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof p.window.HTMLCanvasElement?this.options.canvas:p.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new p.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const l=this.map.painter.context;this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new p.Texture(l,this.canvas,l.gl.RGBA,{premultiply:!0}),this._prepareData(l)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const f of[this.canvas.width,this.canvas.height])if(isNaN(f)||f<=0)return!0;return!1}},custom:class extends p.Evented{constructor(f,l,u,_){super(),this.id=f,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=l,this.setEventedParent(_),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new p.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new p.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ka(this._implementation.bounds,this.minzoom,this.maxzoom)),l.update=this._update.bind(this),l.coveringTiles=this._coveringTiles.bind(this),p.extend(this,p.pick(l,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return p.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new p.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new p.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(f){this._map=f,this._loaded=!1,this.fire(new p.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(f),this.load()}onRemove(f){this._implementation.onRemove&&this._implementation.onRemove(f)}hasTile(f){if(this._implementation.hasTile){const{x:l,y:u,z:_}=f.canonical;return this._implementation.hasTile({x:l,y:u,z:_})}return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f,l){const{x:u,y:_,z:x}=f.tileID.canonical,C=new p.window.AbortController,D=this._implementation.loadTile({x:u,y:_,z:x},{signal:C.signal});if(!D)return this.loadTileData(f,{width:this.tileSize,height:this.tileSize,data:null}),f.state="loaded",l(null);D.cancel=()=>C.abort(),f.request=D.then(function(I){return delete f.request,f.aborted?(f.state="unloaded",l(null)):I?(O=I)instanceof p.window.ImageData||O instanceof p.window.ImageBitmap||O instanceof p.window.HTMLCanvasElement?(this.loadTileData(f,I),f.state="loaded",void l(null)):(f.state="errored",l(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`))):(this.loadTileData(f,{width:this.tileSize,height:this.tileSize,data:null}),f.state="loaded",l(null));var O}.bind(this)).catch(I=>{20!==I.code&&(f.state="errored",l(I))})}loadTileData(f,l){le.loadTileData(f,l,this._map.painter)}unloadTileData(f){le.unloadTileData(f,this._map.painter)}prepareTile(f){if(!this._implementation.prepareTile)return null;const{x:l,y:u,z:_}=f.tileID.canonical,x=this._implementation.prepareTile({x:l,y:u,z:_});return x?(this.loadTileData(f,x),f.state="loaded",x):null}unloadTile(f,l){if(this.unloadTileData(f),this._implementation.unloadTile){const{x:u,y:_,z:x}=f.tileID.canonical;this._implementation.unloadTile({x:u,y:_,z:x})}l()}abortTile(f,l){f.request&&f.request.cancel&&(f.request.cancel(),delete f.request),l()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(f=>({x:f.canonical.x,y:f.canonical.y,z:f.canonical.z}))}_update(){this.fire(new p.Event("data",{dataType:"source",sourceDataType:"content"}))}}},He=function(f,l,u,_){const x=new Ie[l.type](f,l,u,_);if(x.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${x.id}`);return p.bindAll(["load","abort","unload","serialize","prepare"],x),x};function Je(f,l){const u=p.identity([]);return p.scale(u,u,[.5*f.width,.5*-f.height,1]),p.translate(u,u,[1,-1,0]),p.multiply(u,u,f.calculateProjMatrix(l.toUnwrapped())),Float32Array.from(u)}function ke(f,l,u,_,x,C,D,I=!1){const O=f.tilesIn(_,D,I);O.sort(Xe);const V=[];for(const W of O)V.push({wrappedTileID:W.tile.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(l,u,f._state,W,x,C,Je(f.transform,W.tile.tileID),I)});const U=function(W){const te={},me={};for(const se of W){const ce=se.queryResults,ue=se.wrappedTileID,re=me[ue]=me[ue]||{};for(const fe in ce){const oe=ce[fe],Le=re[fe]=re[fe]||{},De=te[fe]=te[fe]||[];for(const we of oe)Le[we.featureIndex]||(Le[we.featureIndex]=!0,De.push(we))}}return te}(V);for(const W in U)U[W].forEach(te=>{const me=te.feature,se=me.layer;se&&"background"!==se.type&&"sky"!==se.type&&(me.source=se.source,se["source-layer"]&&(me.sourceLayer=se["source-layer"]),me.state=void 0!==me.id?f.getFeatureState(se["source-layer"],me.id):{})});return U}function xe(f,l){const u=f.getRenderableIds().map(C=>f.getTileByID(C)),_=[],x={};for(let C=0;C<u.length;C++){const D=u[C],I=D.tileID.canonical.key;x[I]||(x[I]=!0,D.querySourceFeatures(_,l))}return _}function Xe(f,l){const u=f.tileID,_=l.tileID;return u.overscaledZ-_.overscaledZ||u.canonical.y-_.canonical.y||u.wrap-_.wrap||u.canonical.x-_.canonical.x}function gt(){return null!=gd.workerClass?new gd.workerClass:new p.window.Worker(gd.workerUrl)}const bt="mapboxgl_preloaded_worker_pool";class Ht{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<Ht.workerCount;)this.workers.push(new gt);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],0===this.numActive()&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[bt]}numActive(){return Object.keys(this.active).length}}let mn;function fn(){return mn||(mn=new Ht),mn}function bn(f,l){const u={};for(const _ in f)"ref"!==_&&(u[_]=f[_]);return p.refProperties.forEach(_=>{_ in l&&(u[_]=l[_])}),u}function Mn(f){f=f.slice();const l=Object.create(null);for(let u=0;u<f.length;u++)l[f[u].id]=f[u];for(let u=0;u<f.length;u++)"ref"in f[u]&&(f[u]=bn(f[u],l[f[u].ref]));return f}Ht.workerCount=2;const At={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function je(f,l,u){u.push({command:At.addSource,args:[f,l[f]]})}function Li(f,l,u){l.push({command:At.removeSource,args:[f]}),u[f]=!0}function Fn(f,l,u,_){Li(f,u,_),je(f,l,u)}function Ui(f,l,u){let _;for(_ in f[u])if(f[u].hasOwnProperty(_)&&"data"!==_&&!at(f[u][_],l[u][_]))return!1;for(_ in l[u])if(l[u].hasOwnProperty(_)&&"data"!==_&&!at(f[u][_],l[u][_]))return!1;return!0}function sl(f,l,u,_,x,C){let D;for(D in l=l||{},f=f||{})f.hasOwnProperty(D)&&(at(f[D],l[D])||u.push({command:C,args:[_,D,l[D],x]}));for(D in l)l.hasOwnProperty(D)&&!f.hasOwnProperty(D)&&(at(f[D],l[D])||u.push({command:C,args:[_,D,l[D],x]}))}function Es(f){return f.id}function $t(f,l){return f[l.id]=l,f}class _p{constructor(l,u){this.reset(l,u)}reset(l,u){this.points=l||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(1===this.points.length)return this.points[0];l=p.clamp(l,0,1);let u=1,_=this._distances[u];const x=l*this.paddedLength+this.padding;for(;_<x&&u<this._distances.length;)_=this._distances[++u];const C=u-1,D=this._distances[C],I=_-D,O=I>0?(x-D)/I:0;return this.points[C].mult(1-O).add(this.points[u].mult(O))}}class dn{constructor(l,u,_){const x=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(l/_),this.yCellCount=Math.ceil(u/_);for(let D=0;D<this.xCellCount*this.yCellCount;D++)x.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=u,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,u,_,x,C){this._forEachCell(u,_,x,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(u),this.bboxes.push(_),this.bboxes.push(x),this.bboxes.push(C)}insertCircle(l,u,_,x){this._forEachCell(u-x,_-x,u+x,_+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(u),this.circles.push(_),this.circles.push(x)}_insertBoxCell(l,u,_,x,C,D){this.boxCells[C].push(D)}_insertCircleCell(l,u,_,x,C,D){this.circleCells[C].push(D)}_query(l,u,_,x,C,D){if(_<0||l>this.width||x<0||u>this.height)return!C&&[];const I=[];if(l<=0&&u<=0&&this.width<=_&&this.height<=x){if(C)return!0;for(let O=0;O<this.boxKeys.length;O++)I.push({key:this.boxKeys[O],x1:this.bboxes[4*O],y1:this.bboxes[4*O+1],x2:this.bboxes[4*O+2],y2:this.bboxes[4*O+3]});for(let O=0;O<this.circleKeys.length;O++){const V=this.circles[3*O],U=this.circles[3*O+1],W=this.circles[3*O+2];I.push({key:this.circleKeys[O],x1:V-W,y1:U-W,x2:V+W,y2:U+W})}return D?I.filter(D):I}return this._forEachCell(l,u,_,x,this._queryCell,I,{hitTest:C,seenUids:{box:{},circle:{}}},D),C?I.length>0:I}_queryCircle(l,u,_,x,C){const D=l-_,I=l+_,O=u-_,V=u+_;if(I<0||D>this.width||V<0||O>this.height)return!x&&[];const U=[];return this._forEachCell(D,O,I,V,this._queryCellCircle,U,{hitTest:x,circle:{x:l,y:u,radius:_},seenUids:{box:{},circle:{}}},C),x?U.length>0:U}query(l,u,_,x,C){return this._query(l,u,_,x,!1,C)}hitTest(l,u,_,x,C){return this._query(l,u,_,x,!0,C)}hitTestCircle(l,u,_,x){return this._queryCircle(l,u,_,!0,x)}_queryCell(l,u,_,x,C,D,I,O){const V=I.seenUids,U=this.boxCells[C];if(null!==U){const te=this.bboxes;for(const me of U)if(!V.box[me]){V.box[me]=!0;const se=4*me;if(l<=te[se+2]&&u<=te[se+3]&&_>=te[se+0]&&x>=te[se+1]&&(!O||O(this.boxKeys[me]))){if(I.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[me],x1:te[se],y1:te[se+1],x2:te[se+2],y2:te[se+3]})}}}const W=this.circleCells[C];if(null!==W){const te=this.circles;for(const me of W)if(!V.circle[me]){V.circle[me]=!0;const se=3*me;if(this._circleAndRectCollide(te[se],te[se+1],te[se+2],l,u,_,x)&&(!O||O(this.circleKeys[me]))){if(I.hitTest)return D.push(!0),!0;{const ce=te[se],ue=te[se+1],re=te[se+2];D.push({key:this.circleKeys[me],x1:ce-re,y1:ue-re,x2:ce+re,y2:ue+re})}}}}}_queryCellCircle(l,u,_,x,C,D,I,O){const V=I.circle,U=I.seenUids,W=this.boxCells[C];if(null!==W){const me=this.bboxes;for(const se of W)if(!U.box[se]){U.box[se]=!0;const ce=4*se;if(this._circleAndRectCollide(V.x,V.y,V.radius,me[ce+0],me[ce+1],me[ce+2],me[ce+3])&&(!O||O(this.boxKeys[se])))return D.push(!0),!0}}const te=this.circleCells[C];if(null!==te){const me=this.circles;for(const se of te)if(!U.circle[se]){U.circle[se]=!0;const ce=3*se;if(this._circlesCollide(me[ce],me[ce+1],me[ce+2],V.x,V.y,V.radius)&&(!O||O(this.circleKeys[se])))return D.push(!0),!0}}}_forEachCell(l,u,_,x,C,D,I,O){const V=this._convertToXCellCoord(l),U=this._convertToYCellCoord(u),W=this._convertToXCellCoord(_),te=this._convertToYCellCoord(x);for(let me=V;me<=W;me++)for(let se=U;se<=te;se++)if(C.call(this,l,u,_,x,this.xCellCount*se+me,D,I,O))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,u,_,x,C,D){const I=x-l,O=C-u,V=_+D;return V*V>I*I+O*O}_circleAndRectCollide(l,u,_,x,C,D,I){const O=(D-x)/2,V=Math.abs(l-(x+O));if(V>O+_)return!1;const U=(I-C)/2,W=Math.abs(u-(C+U));if(W>U+_)return!1;if(V<=O||W<=U)return!0;const te=V-O,me=W-U;return te*te+me*me<=_*_}}const Lt=Math.tan(85*Math.PI/180);function bi(f,l,u,_,x,C,D){const I=p.create();if(u)if("globe"===C.name){const O=p.calculateGlobeLabelMatrix(x,l);p.multiply(I,I,O)}else{const O=Qi([],D);I[0]=O[0],I[1]=O[1],I[4]=O[2],I[5]=O[3],_||p.rotateZ(I,I,x.angle)}else p.multiply(I,x.labelPlaneMatrix,f);return I}function wi(f,l,u,_,x,C,D){const I=bi(f,l,u,_,x,C,D);return"globe"===C.name&&u||(I[2]=I[6]=I[10]=I[14]=0),I}function ns(f,l,u,_,x,C,D){if(u){if("globe"===C.name){const I=bi(f,l,u,_,x,C,D);return p.invert(I,I),p.multiply(I,f,I),I}{const I=p.clone(f),O=p.identity([]);return O[0]=D[0],O[1]=D[1],O[4]=D[2],O[5]=D[3],p.multiply(I,I,O),_||p.rotateZ(I,I,-x.angle),I}}return x.glCoordMatrix}function Ho(f,l,u=0){const _=[f.x,f.y,u,1];u?p.transformMat4$1(_,_,l):Wr(_,_,l);const x=_[3];return{point:[_[0]/x,_[1]/x,_[2]/x],signedDistanceFromCamera:x}}function Qn(f,l){const u=[f[0],f[1],f[2],1];p.transformMat4$1(u,u,l);const _=u[3];return{point:[u[0]/_,u[1]/_,u[2]/_],signedDistanceFromCamera:_}}function ll(f,l){return Math.min(.5+f/l*.5,1.5)}function cc(f,l){const u=f[0]/f[3],_=f[1]/f[3];return u>=-l[0]&&u<=l[0]&&_>=-l[1]&&_<=l[1]}function Yc(f,l,u,_,x,C,D,I,O,V){const U=u.transform,W=_?f.textSizeData:f.iconSizeData,te=p.evaluateSizeForZoom(W,u.transform.zoom),me="globe"===U.projection.name,se=[256/u.width*2+1,256/u.height*2+1],ce=_?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;ce.clear();let ue=null;me&&(ue=_?f.text.globeExtVertexArray:f.icon.globeExtVertexArray);const re=f.lineVertexArray,fe=_?f.text.placedSymbolArray:f.icon.placedSymbolArray,oe=u.transform.width/u.transform.height;let Le=!1;for(let De=0;De<fe.length;De++){const we=fe.get(De);if(we.writingMode!==p.WritingMode.vertical||Le||0!==De&&fe.get(De-1).writingMode===p.WritingMode.horizontal||(Le=!0),(we.hidden||we.writingMode===p.WritingMode.vertical)&&!Le){Wa(we.numGlyphs,ce);continue}Le=!1;const Ee=new p.pointGeometry(we.tileAnchorX,we.tileAnchorY),Me=O?O(Ee):[0,0,0],Re=U.projection.projectTilePoint(Ee.x,Ee.y,V.canonical),Ue=[Re.x+Me[0],Re.y+Me[1],Re.z+Me[2]],_t=[...Ue,1];if(p.transformMat4$1(_t,_t,l),!cc(_t,se)){Wa(we.numGlyphs,ce);continue}const Be=ll(u.transform.cameraToCenterDistance,_t[3]),st=p.evaluateSizeForFeature(W,te,we),ut=D?st/Be:st*Be,It=Ho(new p.pointGeometry(Ue[0],Ue[1]),x,Ue[2]);if(It.signedDistanceFromCamera<=0){Wa(we.numGlyphs,ce);continue}let qe={};const Ve=D?null:O,lt=dc(we,ut,!1,I,l,x,C,f.glyphOffsetArray,re,ce,ue,It.point,Ee,qe,oe,Ve,U.projection,V,D);Le=lt.useVertical,Ve&&lt.needsFlipping&&(qe={}),(lt.notEnoughRoom||Le||lt.needsFlipping&&dc(we,ut,!0,I,l,x,C,f.glyphOffsetArray,re,ce,ue,It.point,Ee,qe,oe,Ve,U.projection,V,D).notEnoughRoom)&&Wa(we.numGlyphs,ce)}_?(f.text.dynamicLayoutVertexBuffer.updateData(ce),ue&&f.text.globeExtVertexBuffer.updateData(ue)):(f.icon.dynamicLayoutVertexBuffer.updateData(ce),ue&&f.icon.globeExtVertexBuffer.updateData(ue))}function kn(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce){const ue=I.glyphStartIndex+I.numGlyphs,re=I.lineStartIndex,fe=I.lineStartIndex+I.lineLength,oe=l.getoffsetX(I.glyphStartIndex),Le=l.getoffsetX(ue-1),De=Ol(f*oe,u,_,x,C,D,I.segment,re,fe,O,V,U,W,te,!0,me,se,ce);if(!De)return null;const we=Ol(f*Le,u,_,x,C,D,I.segment,re,fe,O,V,U,W,te,!0,me,se,ce);return we?{first:De,last:we}:null}function la(f,l,u,_){return f.writingMode===p.WritingMode.horizontal&&Math.abs(u.y-l.y)>Math.abs(u.x-l.x)*_?{useVertical:!0}:f.writingMode===p.WritingMode.vertical?l.y<u.y?{needsFlipping:!0}:null:0!==f.flipState&&function(x,C,D){const I=(C.x-x.x)*D;return 0===I||Math.abs((C.y-x.y)/I)>Lt}(l,u,_)?1===f.flipState?{needsFlipping:!0}:null:l.x>u.x?{needsFlipping:!0}:null}function dc(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce,ue,re,fe){const oe=l/24,Le=f.lineOffsetX*oe,De=f.lineOffsetY*oe;let we;if(f.numGlyphs>1){const Ee=f.glyphStartIndex+f.numGlyphs,Me=f.lineStartIndex,Re=f.lineStartIndex+f.lineLength,Ue=kn(oe,I,Le,De,u,W,te,f,O,C,me,ce,!1,ue,re,fe);if(!Ue)return{notEnoughRoom:!0};const _t=Qn(Ue.first.point,D).point,Be=Qn(Ue.last.point,D).point,st=new p.pointGeometry(_t[0],_t[1]),ut=new p.pointGeometry(Be[0],Be[1]);if(_&&!u){const It=la(f,st,ut,se);if(f.flipState=It&&It.needsFlipping?1:2,It)return It}we=[Ue.first];for(let It=f.glyphStartIndex+1;It<Ee-1;It++)we.push(Ol(oe*I.getoffsetX(It),Le,De,u,W,te,f.segment,Me,Re,O,C,me,ce,!1,!1,ue,re,fe));we.push(Ue.last)}else{if(_&&!u){const Me=Ho(te,x).point,Re=f.lineStartIndex+f.segment+1,Ue=new p.pointGeometry(O.getx(Re),O.gety(Re)),_t=Ho(Ue,x),Be=_t.signedDistanceFromCamera>0?_t.point:qc(te,Ue,Me,1,x,void 0,ue,re.canonical),st=la(f,new p.pointGeometry(Me[0],Me[1]),new p.pointGeometry(Be[0],Be[1]),se);if(f.flipState=st&&st.needsFlipping?1:2,st)return st}const Ee=Ol(oe*I.getoffsetX(f.glyphStartIndex),Le,De,u,W,te,f.segment,f.lineStartIndex,f.lineStartIndex+f.lineLength,O,C,me,ce,!1,!1,ue,re,fe);if(!Ee)return{notEnoughRoom:!0};we=[Ee]}if(U)for(const Ee of we)p.updateGlobeVertexNormal(U,V.length+0,Ee.up[0],Ee.up[1],Ee.up[2]),p.updateGlobeVertexNormal(U,V.length+1,Ee.up[0],Ee.up[1],Ee.up[2]),p.updateGlobeVertexNormal(U,V.length+2,Ee.up[0],Ee.up[1],Ee.up[2]),p.updateGlobeVertexNormal(U,V.length+3,Ee.up[0],Ee.up[1],Ee.up[2]),p.addDynamicAttributes(V,Ee.point[0],Ee.point[1],Ee.point[2],Ee.angle);else for(const Ee of we)p.addDynamicAttributes(V,Ee.point[0],Ee.point[1],Ee.point[2],Ee.angle);return{}}function eo(f,l,u,_,x){const C=_.projectTilePoint(f.x,f.y,l);if(!x)return Ho(C,u,C.z);const D=x(f);return Ho(new p.pointGeometry(C.x+D[0],C.y+D[1]),u,C.z+D[2])}function qc(f,l,u,_,x,C,D,I){const O=eo(f.add(f.sub(l)._unit()),I,x,D,C).point,V=p.sub([],u,O);return p.scaleAndAdd([],u,V,_/p.length(V))}function Ol(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce,ue,re){const fe=_?f-l:f+l;let oe=fe>0?1:-1,Le=0;_&&(oe*=-1,Le=Math.PI),oe<0&&(Le+=Math.PI);let De=oe>0?I+D:I+D+1,we=x,Ee=x,Me=0,Re=0;const Ue=Math.abs(fe),_t=[],Be=[];let st=C;const ut=()=>{const nn=De-oe;return 0===Me?C:new p.pointGeometry(V.getx(nn),V.gety(nn))},It=()=>qc(ut(),st,Ee,Ue-Me+1,U,te,ce,ue.canonical);for(;Me+Re<=Ue;){if(De+=oe,De<I||De>=O)return null;if(Ee=we,_t.push(we),me&&Be.push(st||ut()),we=W[De],void 0===we){st=new p.pointGeometry(V.getx(De),V.gety(De));const nn=eo(st,ue.canonical,U,ce,te);we=nn.signedDistanceFromCamera>0?W[De]=nn.point:It()}else st=null;Me+=Re,Re=p.distance(Ee,we)}st=st||new p.pointGeometry(V.getx(De),V.gety(De));const qe=ut();se&&te&&(W[De]=we=void 0===W[De]?we:It(),Re=p.distance(Ee,we));const Ve=(Ue-Me)/Re,lt=st.sub(qe).mult(Ve)._add(qe),Rt=p.sub([],we,Ee),Pt=p.scaleAndAdd([],Ee,Rt,Ve);let ln=[0,0,1],Tn=Rt[0],$n=Rt[1];if(re&&(ln=ce.upVector(ue.canonical,lt.x,lt.y),0!==ln[0]||0!==ln[1]||1!==ln[2])){const nn=[1,0,0],Yt=[0,1,0];nn[0]=ln[2],nn[1]=0,nn[2]=-ln[0],p.cross(Yt,ln,nn),p.normalize(nn,nn),p.normalize(Yt,Yt),Tn=p.dot(Rt,nn),$n=p.dot(Rt,Yt)}if(u){const nn=p.cross([],ln,Rt);p.normalize(nn,nn),p.scaleAndAdd(Pt,Pt,nn,u*oe)}const hi=Le+Math.atan2($n,Tn);return _t.push(Pt),me&&Be.push(lt),{point:Pt,angle:hi,path:_t,tilePath:Be,up:ln}}const to=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Wa(f,l){for(let u=0;u<f;u++){const _=l.length;l.resize(_+4),l.float32.set(to,4*_)}}function Wr(f,l,u){const _=l[0],x=l[1];return f[0]=u[0]*_+u[4]*x+u[12],f[1]=u[1]*_+u[5]*x+u[13],f[3]=u[3]*_+u[7]*x+u[15],f}const Gi=100;class ea{constructor(l,u,_=new dn(l.width+200,l.height+200,25),x=new dn(l.width+200,l.height+200,25)){this.transform=l,this.grid=_,this.ignoredGrid=x,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+Gi,this.screenBottomBoundary=l.height+Gi,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=u}placeCollisionBox(l,u,_,x,C,D,I,O){let V=_.projectedAnchorX,U=_.projectedAnchorY,W=_.projectedAnchorZ;const te=_.elevation,me=_.tileID;if(te&&me){const De=l.getProjection().upVector(me.canonical,_.tileAnchorX,_.tileAnchorY),we=l.getProjection().upVectorScale(me.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=De[0]*te*we,U+=De[1]*te*we,W+=De[2]*te*we}const se=this.projectAndGetPerspectiveRatio(I,[V,U,W],_.tileID,"globe"===l.projection.name||!!te||this.transform.pitch>0,l.getProjection()),ce=D*se.perspectiveRatio,ue=(_.x1*u+x.x-_.padding)*ce+se.point.x,re=(_.y1*u+x.y-_.padding)*ce+se.point.y,fe=(_.x2*u+x.x+_.padding)*ce+se.point.x,oe=(_.y2*u+x.y+_.padding)*ce+se.point.y,Le=se.perspectiveRatio<=.55||se.occluded;return!this.isInsideGrid(ue,re,fe,oe)||!C&&this.grid.hitTest(ue,re,fe,oe,O)||Le?{box:[],offscreen:!1,occluded:se.occluded}:{box:[ue,re,fe,oe],offscreen:this.isOffscreen(ue,re,fe,oe),occluded:!1}}placeCollisionCircles(l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce){const ue=[],re=this.transform.elevation,fe=re?re.getAtTileOffsetFunc(ce,this.transform.center.lat,this.transform.worldSize,l.getProjection()):qe=>[0,0,0],oe=new p.pointGeometry(_.tileAnchorX,_.tileAnchorY),Le=l.getProjection().projectTilePoint(_.tileAnchorX,_.tileAnchorY,ce.canonical),De=fe(oe),we=[Le.x+De[0],Le.y+De[1],Le.z+De[2]],Ee="globe"===l.projection.name,Me=this.projectAndGetPerspectiveRatio(I,[we[0],we[1],we[2]],ce,Ee||!!re||this.transform.pitch>0,l.getProjection()),{perspectiveRatio:Re}=Me,Ue=(W?D/Re:D*Re)/p.ONE_EM,_t=Ho(new p.pointGeometry(we[0],we[1]),O,we[2]).point,Be=Me.signedDistanceFromCamera>0?kn(Ue,C,_.lineOffsetX*Ue,_.lineOffsetY*Ue,!1,_t,oe,_,x,O,{},re&&!W?fe:null,W&&!!re,l.getProjection(),ce,W):null;let st=!1,ut=!1,It=!0;if(Be&&!Me.occluded){const qe=.5*me*Re+se,Ve=new p.pointGeometry(-100,-100),lt=new p.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Rt=new _p,Pt=Be.first,ln=Be.last;let Tn=[];for(let nn=Pt.path.length-1;nn>=1;nn--)Tn.push(Pt.path[nn]);for(let nn=1;nn<ln.path.length;nn++)Tn.push(ln.path[nn]);const $n=2.5*qe;if(V){const nn=Tn.map(re&&!Ee?(Yt,k)=>{const S=fe(k<Pt.path.length-1?Pt.tilePath[Pt.path.length-1-k]:ln.tilePath[k-Pt.path.length+2]);return Yt[2]=S[2],Qn(Yt,V)}:Yt=>Qn(Yt,V));Tn=nn.some(Yt=>Yt.signedDistanceFromCamera<=0)?[]:nn.map(Yt=>Yt.point)}let hi=[];if(Tn.length>0){const nn=Tn.map(q=>new p.pointGeometry(q[0],q[1]));let Yt=1/0,k=-1/0,S=1/0,H=-1/0;for(let q=0;q<nn.length;q++)Yt=Math.min(Yt,nn[q].x),S=Math.min(S,nn[q].y),k=Math.max(k,nn[q].x),H=Math.max(H,nn[q].y);hi=Yt>=Ve.x&&k<=lt.x&&S>=Ve.y&&H<=lt.y?[nn]:k<Ve.x||Yt>lt.x||H<Ve.y||S>lt.y?[]:p.clipLine([nn],Ve.x,Ve.y,lt.x,lt.y)}for(const nn of hi){Rt.reset(nn,.25*qe);let Yt=0;Yt=Rt.length<=.5*qe?1:Math.ceil(Rt.paddedLength/$n)+1;for(let k=0;k<Yt;k++){const S=k/Math.max(Yt-1,1),H=Rt.lerp(S),q=H.x+Gi,ee=H.y+Gi;ue.push(q,ee,qe,0);const Fe=q-qe,et=ee-qe,Qt=q+qe,wn=ee+qe;if(It=It&&this.isOffscreen(Fe,et,Qt,wn),ut=ut||this.isInsideGrid(Fe,et,Qt,wn),!u&&this.grid.hitTestCircle(q,ee,qe,te)&&(st=!0,!U))return{circles:[],offscreen:!1,collisionDetected:st,occluded:!1}}}}return{circles:!U&&st||!ut?[]:ue,offscreen:It,collisionDetected:st,occluded:Me.occluded}}queryRenderedSymbols(l){if(0===l.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const u=[];let _=1/0,x=1/0,C=-1/0,D=-1/0;for(const U of l){const W=new p.pointGeometry(U.x+Gi,U.y+Gi);_=Math.min(_,W.x),x=Math.min(x,W.y),C=Math.max(C,W.x),D=Math.max(D,W.y),u.push(W)}const I=this.grid.query(_,x,C,D).concat(this.ignoredGrid.query(_,x,C,D)),O={},V={};for(const U of I){const W=U.key;if(void 0===O[W.bucketInstanceId]&&(O[W.bucketInstanceId]={}),O[W.bucketInstanceId][W.featureIndex])continue;const te=[new p.pointGeometry(U.x1,U.y1),new p.pointGeometry(U.x2,U.y1),new p.pointGeometry(U.x2,U.y2),new p.pointGeometry(U.x1,U.y2)];p.polygonIntersectsPolygon(u,te)&&(O[W.bucketInstanceId][W.featureIndex]=!0,void 0===V[W.bucketInstanceId]&&(V[W.bucketInstanceId]=[]),V[W.bucketInstanceId].push(W.featureIndex))}return V}insertCollisionBox(l,u,_,x,C){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:x,collisionGroupID:C},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,u,_,x,C){const D=u?this.ignoredGrid:this.grid,I={bucketInstanceId:_,featureIndex:x,collisionGroupID:C};for(let O=0;O<l.length;O+=4)D.insertCircle(I,l[O],l[O+1],l[O+2])}projectAndGetPerspectiveRatio(l,u,_,x,C){const D=[u[0],u[1],u[2],1];let I=!1;if(u[2]||this.transform.pitch>0){p.transformMat4$1(D,D,l);const O="globe"===C.name;this.fogState&&_&&!O&&(I=function(V,U,W,te,me,se){const ce=se.calculateFogTileMatrix(me),ue=[U,W,te];return p.transformMat4(ue,ue,ce),nr(V,ue,se.pitch,se._fov)}(this.fogState,u[0],u[1],u[2],_.toUnwrapped(),this.transform)>.9)}else Wr(D,D,l);return{point:new p.pointGeometry((D[0]/D[3]+1)/2*this.transform.width+Gi,(-D[1]/D[3]+1)/2*this.transform.height+Gi),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(C)/D[3]*.5,1.5),signedDistanceFromCamera:D[3],occluded:x&&D[2]>D[3]||I}}isOffscreen(l,u,_,x){return _<Gi||l>=this.screenRightBoundary||x<Gi||u>this.screenBottomBoundary}isInsideGrid(l,u,_,x){return _>=0&&l<this.gridRightBoundary&&x>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const l=p.identity([]);return p.translate(l,l,[-100,-100,0]),l}}function Wc(f,l,u){const _=l.createTileMatrix(f,f.worldSize,u.toUnwrapped());return p.multiply(new Float32Array(16),f.projMatrix,_)}function no(f,l,u){if(l.projection.name===u.projection.name)return f.projMatrix;const _=u.clone();return _.setProjection(l.projection),Wc(_,l.getProjection(),f)}function io(f,l,u){return l.name===u.projection.name?f.projMatrix:Wc(u,l,f)}class cm{constructor(l,u,_,x){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?u:-u))):x&&_?1:0,this.placed=_}isHidden(){return 0===this.opacity&&!this.placed}}class Ri{constructor(l,u,_,x,C,D=!1){this.text=new cm(l?l.text:null,u,_,C),this.icon=new cm(l?l.icon:null,u,x,C),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ja{constructor(l,u,_,x=!1){this.text=l,this.icon=u,this.skipFade=_,this.clipped=x}}class Zd{constructor(){this.invProjMatrix=p.create(),this.viewportMatrix=p.create(),this.circles=[]}}class cl{constructor(l,u,_,x,C){this.bucketInstanceId=l,this.featureIndex=u,this.sourceLayerIndex=_,this.bucketIndex=x,this.tileID=C}}class $i{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const u=++this.maxGroupID;this.collisionGroups[l]={ID:u,predicate:_=>_.collisionGroupID===u}}return this.collisionGroups[l]}}function Qa(f,l,u,_,x){const{horizontalAlign:C,verticalAlign:D}=p.getAnchorAlignment(f),I=-(C-.5)*l,O=-(D-.5)*u,V=p.evaluateVariableOffset(f,_);return new p.pointGeometry(I+V[0]*x,O+V[1]*x)}function dl(f,l,u,_,x){const C=new p.pointGeometry(f,l);return u&&C._rotate(_?x:-x),C}class Zc{constructor(l,u,_,x,C){this.transform=l.clone(),this.projection=l.projection.name,this.collisionIndex=new ea(this.transform,C),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new $i(_),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,u,_,x){const C=_.getBucket(u),D=_.latestFeatureIndex;if(!C||!D||u.id!==C.layerIds[0])return;const I=C.layers[0].layout,O=_.collisionBoxArray,V=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),U=_.tileSize/p.EXTENT,W=_.tileID.toUnwrapped();this.transform.setProjection(C.projection);const te=(me=_.tileID,se=C.getProjection(),ce=this.transform,se.name===this.projection?ce.calculateProjMatrix(me.toUnwrapped()):Wc(ce,se,me));var me,se,ce;const ue="map"===I.get("text-pitch-alignment"),re="map"===I.get("text-rotation-alignment");u.compileFilter();const fe=u.dynamicFilter(),oe=u.dynamicFilterNeedsFeature(),Le=this.transform.calculatePixelsToTileUnitsMatrix(_),De=wi(te,_.tileID.canonical,ue,re,this.transform,C.getProjection(),Le);let we=null;if(ue){const Re=ns(te,_.tileID.canonical,ue,re,this.transform,C.getProjection(),Le);we=p.multiply([],this.transform.labelPlaneMatrix,Re)}let Ee=null;fe&&_.latestFeatureIndex&&(Ee={unwrappedTileID:W,dynamicFilter:fe,dynamicFilterNeedsFeature:oe,featureIndex:_.latestFeatureIndex}),this.retainedQueryData[C.bucketInstanceId]=new cl(C.bucketInstanceId,D,C.sourceLayerIndex,C.index,_.tileID);const Me={bucket:C,layout:I,posMatrix:te,textLabelPlaneMatrix:De,labelToScreenMatrix:we,clippingData:Ee,scale:V,textPixelRatio:U,holdingForFade:_.holdingForFade(),collisionBoxArray:O,partiallyEvaluatedTextSize:p.evaluateSizeForZoom(C.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:p.evaluateSizeForZoom(C.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(x)for(const Re of C.sortKeyRanges){const{sortKey:Ue,symbolInstanceStart:_t,symbolInstanceEnd:Be}=Re;l.push({sortKey:Ue,symbolInstanceStart:_t,symbolInstanceEnd:Be,parameters:Me})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:Me})}attemptAnchorPlacement(l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce,ue,re,fe){const oe=[te.textOffset0,te.textOffset1],Le=Qa(l,_,x,oe,C),De=this.collisionIndex.placeCollisionBox(se,C,u,dl(Le.x,Le.y,D,I,this.transform.angle),W,O,V,U.predicate);if((!ue||0!==this.collisionIndex.placeCollisionBox(se,se.getSymbolInstanceIconSize(fe,this.transform.zoom,me),ue,dl(Le.x,Le.y,D,I,this.transform.angle),W,O,V,U.predicate).box.length)&&De.box.length>0){let we;return this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(we=this.prevPlacement.variableOffsets[te.crossTileID].anchor),this.variableOffsets[te.crossTileID]={textOffset:oe,width:_,height:x,anchor:l,textScale:C,prevAnchor:we},this.markUsedJustification(se,l,te,ce),se.allowVerticalPlacement&&(this.markUsedOrientation(se,ce,te),this.placedOrientations[te.crossTileID]=ce),{shift:Le,placedGlyphBoxes:De}}}placeLayerBucketPart(l,u,_,x){const{bucket:C,layout:D,posMatrix:I,textLabelPlaneMatrix:O,labelToScreenMatrix:V,clippingData:U,textPixelRatio:W,holdingForFade:te,collisionBoxArray:me,partiallyEvaluatedTextSize:se,partiallyEvaluatedIconSize:ce,collisionGroup:ue}=l.parameters,re=D.get("text-optional"),fe=D.get("icon-optional"),oe=D.get("text-allow-overlap"),Le=D.get("icon-allow-overlap"),De="map"===D.get("text-rotation-alignment"),we="map"===D.get("text-pitch-alignment"),Ee="none"!==D.get("icon-text-fit"),Me="viewport-y"===D.get("symbol-z-order");this.transform.setProjection(C.projection);let Re=oe&&(Le||!C.hasIconData()||fe),Ue=Le&&(oe||!C.hasTextData()||re);!C.collisionArrays&&me&&C.deserializeCollisionBoxes(me),_&&x&&C.updateCollisionDebugBuffers(this.transform.zoom,me);const _t=(Be,st,ut)=>{if(U){const Qt={zoom:this.transform.zoom,pitch:this.transform.pitch};let wn=null;if(U.dynamicFilterNeedsFeature){const qt=this.retainedQueryData[C.bucketInstanceId];wn=U.featureIndex.loadFeature({featureIndex:Be.featureIndex,bucketIndex:qt.bucketIndex,sourceLayerIndex:qt.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,U.dynamicFilter)(Qt,wn,this.retainedQueryData[C.bucketInstanceId].tileID.canonical,new p.pointGeometry(Be.tileAnchorX,Be.tileAnchorY),this.transform.calculateDistanceTileData(U.unwrappedTileID)))return this.placements[Be.crossTileID]=new Ja(!1,!1,!1,!0),void(u[Be.crossTileID]=!0)}if(u[Be.crossTileID])return;if(te)return void(this.placements[Be.crossTileID]=new Ja(!1,!1,!1));let It=!1,qe=!1,Ve=!0,lt=!1,Rt=!1,Pt=null,ln={box:null,offscreen:null,occluded:null},Tn={box:null,offscreen:null,occluded:null},$n=null,hi=null,nn=null,Yt=0,k=0,S=0;ut.textFeatureIndex?Yt=ut.textFeatureIndex:Be.useRuntimeCollisionCircles&&(Yt=Be.featureIndex),ut.verticalTextFeatureIndex&&(k=ut.verticalTextFeatureIndex);const H=Qt=>{Qt.tileID=this.retainedQueryData[C.bucketInstanceId].tileID,(this.transform.elevation||Qt.elevation)&&(Qt.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[C.bucketInstanceId].tileID,Qt.tileAnchorX,Qt.tileAnchorY):0)},q=ut.textBox;if(q){H(q);const Qt=qt=>{let yi=p.WritingMode.horizontal;if(C.allowVerticalPlacement&&!qt&&this.prevPlacement){const ba=this.prevPlacement.placedOrientations[Be.crossTileID];ba&&(this.placedOrientations[Be.crossTileID]=ba,yi=ba,this.markUsedOrientation(C,yi,Be))}return yi},wn=(qt,yi)=>{if(C.allowVerticalPlacement&&Be.numVerticalGlyphVertices>0&&ut.verticalTextBox){for(const ba of C.writingModes)if(ba===p.WritingMode.vertical?(ln=yi(),Tn=ln):ln=qt(),ln&&ln.box&&ln.box.length)break}else ln=qt()};if(D.get("text-variable-anchor")){let qt=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Be.crossTileID]){const Ti=this.prevPlacement.variableOffsets[Be.crossTileID];qt.indexOf(Ti.anchor)>0&&(qt=qt.filter(er=>er!==Ti.anchor),qt.unshift(Ti.anchor))}const yi=(Ti,er,Dc)=>{const Ao=C.getSymbolInstanceTextSize(se,Be,this.transform.zoom,st),_d=(Ti.x2-Ti.x1)*Ao+2*Ti.padding,gu=(Ti.y2-Ti.y1)*Ao+2*Ti.padding,_u=Ee&&!Le?er:null;_u&&H(_u);let oo={box:[],offscreen:!1,occluded:!1};const Ir=oe?2*qt.length:qt.length;for(let yl=0;yl<Ir;++yl){const vl=this.attemptAnchorPlacement(qt[yl%qt.length],Ti,_d,gu,Ao,De,we,W,I,ue,yl>=qt.length,Be,st,C,Dc,_u,se,ce);if(vl&&(oo=vl.placedGlyphBoxes,oo&&oo.box&&oo.box.length)){It=!0,Pt=vl.shift;break}}return oo};wn(()=>yi(q,ut.iconBox,p.WritingMode.horizontal),()=>{const Ti=ut.verticalTextBox;return Ti&&H(Ti),C.allowVerticalPlacement&&!(ln&&ln.box&&ln.box.length)&&Be.numVerticalGlyphVertices>0&&Ti?yi(Ti,ut.verticalIconBox,p.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),ln&&(It=ln.box,Ve=ln.offscreen,lt=ln.occluded);const ba=Qt(ln&&ln.box);if(!It&&this.prevPlacement){const Ti=this.prevPlacement.variableOffsets[Be.crossTileID];Ti&&(this.variableOffsets[Be.crossTileID]=Ti,this.markUsedJustification(C,Ti.anchor,Be,ba))}}else{const qt=(yi,ba)=>{const Ti=C.getSymbolInstanceTextSize(se,Be,this.transform.zoom,st),er=this.collisionIndex.placeCollisionBox(C,Ti,yi,new p.pointGeometry(0,0),oe,W,I,ue.predicate);return er&&er.box&&er.box.length&&(this.markUsedOrientation(C,ba,Be),this.placedOrientations[Be.crossTileID]=ba),er};wn(()=>qt(q,p.WritingMode.horizontal),()=>{const yi=ut.verticalTextBox;return C.allowVerticalPlacement&&Be.numVerticalGlyphVertices>0&&yi?(H(yi),qt(yi,p.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Qt(ln&&ln.box&&ln.box.length)}}if($n=ln,It=$n&&$n.box&&$n.box.length>0,Ve=$n&&$n.offscreen,lt=$n&&$n.occluded,Be.useRuntimeCollisionCircles){const Qt=C.text.placedSymbolArray.get(Be.centerJustifiedTextSymbolIndex>=0?Be.centerJustifiedTextSymbolIndex:Be.verticalPlacedTextSymbolIndex),wn=p.evaluateSizeForFeature(C.textSizeData,se,Qt),qt=D.get("text-padding");hi=this.collisionIndex.placeCollisionCircles(C,oe,Qt,C.lineVertexArray,C.glyphOffsetArray,wn,I,O,V,_,we,ue.predicate,Be.collisionCircleDiameter*wn/p.ONE_EM,qt,this.retainedQueryData[C.bucketInstanceId].tileID),It=oe||hi.circles.length>0&&!hi.collisionDetected,Ve=Ve&&hi.offscreen,lt=hi.occluded}if(ut.iconFeatureIndex&&(S=ut.iconFeatureIndex),ut.iconBox){const Qt=wn=>{H(wn);const qt=Ee&&Pt?dl(Pt.x,Pt.y,De,we,this.transform.angle):new p.pointGeometry(0,0),yi=C.getSymbolInstanceIconSize(ce,this.transform.zoom,st);return this.collisionIndex.placeCollisionBox(C,yi,wn,qt,Le,W,I,ue.predicate)};Tn&&Tn.box&&Tn.box.length&&ut.verticalIconBox?(nn=Qt(ut.verticalIconBox),qe=nn.box.length>0):(nn=Qt(ut.iconBox),qe=nn.box.length>0),Ve=Ve&&nn.offscreen,Rt=nn.occluded}const ee=re||0===Be.numHorizontalGlyphVertices&&0===Be.numVerticalGlyphVertices,Fe=fe||0===Be.numIconVertices;if(ee||Fe?Fe?ee||(qe=qe&&It):It=qe&&It:qe=It=qe&&It,It&&$n&&$n.box&&this.collisionIndex.insertCollisionBox($n.box,D.get("text-ignore-placement"),C.bucketInstanceId,Tn&&Tn.box&&k?k:Yt,ue.ID),qe&&nn&&this.collisionIndex.insertCollisionBox(nn.box,D.get("icon-ignore-placement"),C.bucketInstanceId,S,ue.ID),hi&&(It&&this.collisionIndex.insertCollisionCircles(hi.circles,D.get("text-ignore-placement"),C.bucketInstanceId,Yt,ue.ID),_)){const Qt=C.bucketInstanceId;let wn=this.collisionCircleArrays[Qt];void 0===wn&&(wn=this.collisionCircleArrays[Qt]=new Zd);for(let qt=0;qt<hi.circles.length;qt+=4)wn.circles.push(hi.circles[qt+0]),wn.circles.push(hi.circles[qt+1]),wn.circles.push(hi.circles[qt+2]),wn.circles.push(hi.collisionDetected?1:0)}const et="globe"!==C.projection.name;Re=Re&&(et||!lt),Ue=Ue&&(et||!Rt),this.placements[Be.crossTileID]=new Ja(It||Re,qe||Ue,Ve||C.justReloaded),u[Be.crossTileID]=!0};if(Me){const Be=C.getSortedSymbolIndexes(this.transform.angle);for(let st=Be.length-1;st>=0;--st){const ut=Be[st];_t(C.symbolInstances.get(ut),ut,C.collisionArrays[ut])}}else for(let Be=l.symbolInstanceStart;Be<l.symbolInstanceEnd;Be++)_t(C.symbolInstances.get(Be),Be,C.collisionArrays[Be]);if(_&&C.bucketInstanceId in this.collisionCircleArrays){const Be=this.collisionCircleArrays[C.bucketInstanceId];p.invert(Be.invProjMatrix,I),Be.viewportMatrix=this.collisionIndex.getViewportMatrix()}C.justReloaded=!1}markUsedJustification(l,u,_,x){let C;C=x===p.WritingMode.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[p.getAnchorJustification(u)];const D=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const I of D)I>=0&&(l.text.placedSymbolArray.get(I).crossTileID=C>=0&&I!==C?0:_.crossTileID)}markUsedOrientation(l,u,_){const x=u===p.WritingMode.horizontal||u===p.WritingMode.horizontalOnly?u:0,C=u===p.WritingMode.vertical?u:0,D=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const I of D)l.text.placedSymbolArray.get(I).placedOrientation=x;_.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=C)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let _=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const x=u?u.symbolFadeChange(l):1,C=u?u.opacities:{},D=u?u.variableOffsets:{},I=u?u.placedOrientations:{};for(const O in this.placements){const V=this.placements[O],U=C[O];U?(this.opacities[O]=new Ri(U,x,V.text,V.icon,null,V.clipped),_=_||V.text!==U.text.placed||V.icon!==U.icon.placed):(this.opacities[O]=new Ri(null,x,V.text,V.icon,V.skipFade,V.clipped),_=_||V.text||V.icon)}for(const O in C){const V=C[O];if(!this.opacities[O]){const U=new Ri(V,x,!1,!1);U.isHidden()||(this.opacities[O]=U,_=_||V.text.placed||V.icon.placed)}}for(const O in D)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=D[O]);for(const O in I)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=I[O]);_?this.lastPlacementChangeTime=l:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:l)}updateLayerOpacities(l,u){const _={};for(const x of u){const C=x.getBucket(l);C&&x.latestFeatureIndex&&l.id===C.layerIds[0]&&this.updateBucketOpacities(C,_,x.collisionBoxArray)}}updateBucketOpacities(l,u,_){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const x=l.layers[0].layout,C=!!l.layers[0].dynamicFilter(),D=new Ri(null,0,!1,!1,!0),I=x.get("text-allow-overlap"),O=x.get("icon-allow-overlap"),V=x.get("text-variable-anchor"),U="map"===x.get("text-rotation-alignment"),W="map"===x.get("text-pitch-alignment"),te="none"!==x.get("icon-text-fit"),me=new Ri(null,0,I&&(O||!l.hasIconData()||x.get("icon-optional")),O&&(I||!l.hasTextData()||x.get("text-optional")),!0);!l.collisionArrays&&_&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(_);const se=(ue,re,fe)=>{for(let oe=0;oe<re/4;oe++)ue.opacityVertexArray.emplaceBack(fe)};let ce=0;for(let ue=0;ue<l.symbolInstances.length;ue++){const re=l.symbolInstances.get(ue),{numHorizontalGlyphVertices:fe,numVerticalGlyphVertices:oe,crossTileID:Le}=re;let De=this.opacities[Le];u[Le]?De=D:De||(De=me,this.opacities[Le]=De),u[Le]=!0;const we=fe>0||oe>0,Ee=re.numIconVertices>0,Me=this.placedOrientations[re.crossTileID],Re=Me===p.WritingMode.vertical,Ue=Me===p.WritingMode.horizontal||Me===p.WritingMode.horizontalOnly;if(!we&&!Ee||De.isHidden()||ce++,we){const _t=ul(De.text);se(l.text,fe,Re?Uo:_t),se(l.text,oe,Ue?Uo:_t);const Be=De.text.isHidden();[re.rightJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.leftJustifiedTextSymbolIndex].forEach(It=>{It>=0&&(l.text.placedSymbolArray.get(It).hidden=Be||Re?1:0)}),re.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).hidden=Be||Ue?1:0);const st=this.variableOffsets[re.crossTileID];st&&this.markUsedJustification(l,st.anchor,re,Me);const ut=this.placedOrientations[re.crossTileID];ut&&(this.markUsedJustification(l,"left",re,ut),this.markUsedOrientation(l,ut,re))}if(Ee){const _t=ul(De.icon);re.placedIconSymbolIndex>=0&&(se(l.icon,re.numIconVertices,Re?Uo:_t),l.icon.placedSymbolArray.get(re.placedIconSymbolIndex).hidden=De.icon.isHidden()),re.verticalPlacedIconSymbolIndex>=0&&(se(l.icon,re.numVerticalIconVertices,Ue?Uo:_t),l.icon.placedSymbolArray.get(re.verticalPlacedIconSymbolIndex).hidden=De.icon.isHidden())}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const _t=l.collisionArrays[ue];if(_t){let Be=new p.pointGeometry(0,0),st=!0;if(_t.textBox||_t.verticalTextBox){if(V){const It=this.variableOffsets[Le];It?(Be=Qa(It.anchor,It.width,It.height,It.textOffset,It.textScale),U&&Be._rotate(W?this.transform.angle:-this.transform.angle)):st=!1}C&&(st=!De.clipped),_t.textBox&&vo(l.textCollisionBox.collisionVertexArray,De.text.placed,!st||Re,Be.x,Be.y),_t.verticalTextBox&&vo(l.textCollisionBox.collisionVertexArray,De.text.placed,!st||Ue,Be.x,Be.y)}const ut=st&&Boolean(!Ue&&_t.verticalIconBox);_t.iconBox&&vo(l.iconCollisionBox.collisionVertexArray,De.icon.placed,ut,te?Be.x:0,te?Be.y:0),_t.verticalIconBox&&vo(l.iconCollisionBox.collisionVertexArray,De.icon.placed,!ut,te?Be.x:0,te?Be.y:0)}}}if(l.fullyClipped=0===ce,l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const ue=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=ue.invProjMatrix,l.placementViewportMatrix=ue.viewportMatrix,l.collisionCircleArray=ue.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return 0===this.fadeDuration?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,u){const _=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*_>l}setStale(){this.stale=!0}}function vo(f,l,u,_,x){f.emplaceBack(l?1:0,u?1:0,_||0,x||0),f.emplaceBack(l?1:0,u?1:0,_||0,x||0),f.emplaceBack(l?1:0,u?1:0,_||0,x||0),f.emplaceBack(l?1:0,u?1:0,_||0,x||0)}const Xc=Math.pow(2,25),jo=Math.pow(2,24),Kc=Math.pow(2,17),eh=Math.pow(2,16),Ct=Math.pow(2,9),th=Math.pow(2,8),nh=Math.pow(2,1);function ul(f){if(0===f.opacity&&!f.placed)return 0;if(1===f.opacity&&f.placed)return 4294967295;const l=f.placed?1:0,u=Math.floor(127*f.opacity);return u*Xc+l*jo+u*Kc+l*eh+u*Ct+l*th+u*nh+l}const Uo=0;class gn{constructor(l){this._sortAcrossTiles="viewport-y"!==l.layout.get("symbol-z-order")&&void 0!==l.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,u,_,x,C){const D=this._bucketParts;for(;this._currentTileIndex<l.length;)if(u.getBucketParts(D,x,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((I,O)=>I.sortKey-O.sortKey));this._currentPartIndex<D.length;){const I=D[this._currentPartIndex];if(u.placeLayerBucketPart(I,this._seenCrossTileIDs,_,0===I.symbolInstanceStart),this._currentPartIndex++,C())return!0}return!1}}class hl{constructor(l,u,_,x,C,D,I,O){this.placement=new Zc(l,C,D,I,O),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(l,u,_){const x=p.exported.now(),C=()=>{const D=p.exported.now()-x;return!this._forceFullPlacement&&D>2};for(;this._currentPlacementIndex>=0;){const D=u[l[this._currentPlacementIndex]],I=this.placement.collisionIndex.transform.zoom;if("symbol"===D.type&&(!D.minzoom||D.minzoom<=I)&&(!D.maxzoom||D.maxzoom>I)){if(this._inProgressLayer||(this._inProgressLayer=new gn(D)),this._inProgressLayer.continuePlacement(_[D.source],this.placement,this._showCollisionBoxes,D,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Xd=512/p.EXTENT/2;class Tt{constructor(l,u,_){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=_;for(let x=0;x<u.length;x++){const C=u.get(x),D=C.key;this.indexedSymbolInstances[D]||(this.indexedSymbolInstances[D]=[]),this.indexedSymbolInstances[D].push({crossTileID:C.crossTileID,coord:this.getScaledCoordinates(C,l)})}}getScaledCoordinates(l,u){const _=Xd/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*p.EXTENT+l.tileAnchorX)*_),y:Math.floor((u.canonical.y*p.EXTENT+l.tileAnchorY)*_)}}findMatches(l,u,_){const x=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let C=0;C<l.length;C++){const D=l.get(C);if(D.crossTileID)continue;const I=this.indexedSymbolInstances[D.key];if(!I)continue;const O=this.getScaledCoordinates(D,u);for(const V of I)if(Math.abs(V.coord.x-O.x)<=x&&Math.abs(V.coord.y-O.y)<=x&&!_[V.crossTileID]){_[V.crossTileID]=!0,D.crossTileID=V.crossTileID;break}}}}class ar{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Sr{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const u=Math.round((l-this.lng)/360);if(0!==u)for(const _ in this.indexes){const x=this.indexes[_],C={};for(const D in x){const I=x[D];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+u),C[I.tileID.key]=I}this.indexes[_]=C}this.lng=l}addBucket(l,u,_){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let C=0;C<u.symbolInstances.length;C++)u.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const x=this.usedCrossTileIDs[l.overscaledZ];for(const C in this.indexes){const D=this.indexes[C];if(Number(C)>l.overscaledZ)for(const I in D){const O=D[I];O.tileID.isChildOf(l)&&O.findMatches(u.symbolInstances,l,x)}else{const I=D[l.scaledTo(Number(C)).key];I&&I.findMatches(u.symbolInstances,l,x)}}for(let C=0;C<u.symbolInstances.length;C++){const D=u.symbolInstances.get(C);D.crossTileID||(D.crossTileID=_.generate(),x[D.crossTileID]=!0)}return void 0===this.indexes[l.overscaledZ]&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Tt(l,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(l,u){for(const _ in u.indexedSymbolInstances)for(const x of u.indexedSymbolInstances[_])delete this.usedCrossTileIDs[l][x.crossTileID]}removeStaleBuckets(l){let u=!1;for(const _ in this.indexes){const x=this.indexes[_];for(const C in x)l[x[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,x[C]),delete x[C],u=!0)}return u}}class is{constructor(){this.layerIndexes={},this.crossTileIDs=new ar,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,u,_,x){let C=this.layerIndexes[l.id];void 0===C&&(C=this.layerIndexes[l.id]=new Sr);let D=!1;const I={};"globe"!==x.name&&C.handleWrapJump(_);for(const O of u){const V=O.getBucket(l);V&&l.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(O.tileID,V,this.crossTileIDs)&&(D=!0),I[V.bucketInstanceId]=!0)}return C.removeStaleBuckets(I)&&(D=!0),D}pruneUnusedLayers(l){const u={};l.forEach(_=>{u[_]=!0});for(const _ in this.layerIndexes)u[_]||delete this.layerIndexes[_]}}const as=(f,l)=>p.emitValidationErrors(f,l&&l.filter(u=>"source.canvas"!==u.identifier)),ao=p.pick(At,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),bp=p.pick(At,["setCenter","setZoom","setBearing","setPitch"]),xo={version:8,layers:[],sources:{}},sn={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ii extends p.Evented{constructor(l,u={}){super(),this.map=l,this.dispatcher=new Ha(fn(),this),this.imageManager=new pi,this.imageManager.setEventedParent(this),this.glyphManager=new p.GlyphManager(l._requestManager,u.localFontFamily?p.LocalGlyphMode.all:u.localIdeographFontFamily?p.LocalGlyphMode.ideographs:p.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.lineAtlas=new p.LineAtlas(256,512),this.crossTileSymbolIndex=new is,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new p.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",p.getReferrer());const _=this;this._rtlTextPluginCallback=ii.registerForPluginStateChange(x=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(C,D)=>{if(p.triggerPluginCompletionEvent(C),D&&D.every(I=>I))for(const I in _._sourceCaches){const O=_._sourceCaches[I],V=O.getSource().type;"vector"!==V&&"geojson"!==V||O.reload()}})}),this.on("data",x=>{if("source"!==x.dataType||"metadata"!==x.sourceDataType)return;const C=this.getSource(x.sourceId);if(C&&C.vectorLayerIds)for(const D in this._layers){const I=this._layers[D];I.source===C.id&&this._validateLayer(I)}})}loadURL(l,u={}){this.fire(new p.Event("dataloading",{dataType:"style"}));const _="boolean"==typeof u.validate?u.validate:!p.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,u.accessToken);const x=this.map._requestManager.transformRequest(l,p.ResourceType.Style);this._request=p.getJSON(x,(C,D)=>{this._request=null,C?this.fire(new p.ErrorEvent(C)):D&&this._load(D,_)})}loadJSON(l,u={}){this.fire(new p.Event("dataloading",{dataType:"style"})),this._request=p.exported.frame(()=>{this._request=null,this._load(l,!1!==u.validate)})}loadEmpty(){this.fire(new p.Event("dataloading",{dataType:"style"})),this._load(xo,!1)}_updateLayerCount(l,u){const _=u?1:-1;l.is3D()&&(this._num3DLayers+=_),"circle"===l.type&&(this._numCircleLayers+=_),"symbol"===l.type&&(this._numSymbolLayers+=_)}_load(l,u){if(u&&as(this,p.validateStyle(l)))return;this._loaded=!0,this.stylesheet=p.clone$1(l),this._updateMapProjection();for(const x in l.sources)this.addSource(x,l.sources[x],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const _=Mn(this.stylesheet.layers);this._order=_.map(x=>x.id),this._layers={},this._serializedLayers={};for(let x of _)x=p.createStyleLayer(x),x.setEventedParent(this,{layer:{id:x.id}}),this._layers[x.id]=x,this._serializedLayers[x.id]=x.serialize(),this._updateLayerCount(x,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Fr(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new p.Event("data",{dataType:"style"})),this.fire(new p.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(l){this._spriteRequest=function(u,_,x){let C,D,I;const O=p.exported.devicePixelRatio>1?"@2x":"";let V=p.getJSON(_.transformRequest(_.normalizeSpriteURL(u,O,".json"),p.ResourceType.SpriteJSON),(te,me)=>{V=null,I||(I=te,C=me,W())}),U=p.getImage(_.transformRequest(_.normalizeSpriteURL(u,O,".png"),p.ResourceType.SpriteImage),(te,me)=>{U=null,I||(I=te,D=me,W())});function W(){if(I)x(I);else if(C&&D){const te=p.exported.getImageData(D),me={};for(const se in C){const{width:ce,height:ue,x:re,y:fe,sdf:oe,pixelRatio:Le,stretchX:De,stretchY:we,content:Ee}=C[se],Me=new p.RGBAImage({width:ce,height:ue});p.RGBAImage.copy(te,Me,{x:re,y:fe},{x:0,y:0},{width:ce,height:ue}),me[se]={data:Me,pixelRatio:Le,sdf:oe,stretchX:De,stretchY:we,content:Ee}}x(null,me)}}return{cancel(){V&&(V.cancel(),V=null),U&&(U.cancel(),U=null)}}}(l,this.map._requestManager,(u,_)=>{if(this._spriteRequest=null,u)this.fire(new p.ErrorEvent(u));else if(_)for(const x in _)this.imageManager.addImage(x,_[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new p.Event("data",{dataType:"style"}))})}_validateLayer(l){const u=this.getSource(l.source);if(!u)return;const _=l.sourceLayer;_&&("geojson"===u.type||u.vectorLayerIds&&-1===u.vectorLayerIds.indexOf(_))&&this.fire(new p.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${u.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const u=[];for(const _ of l){const x=this._layers[_];"custom"!==x.type&&u.push(x.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&sn[l.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const u=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),C=Object.keys(this._removedLayers);(x.length||C.length)&&this._updateWorkerLayers(x,C);for(const D in this._updatedSources){const I=this._updatedSources[D];"reload"===I?this._reloadSource(D):"clear"===I&&this._clearSource(D)}this._updateTilesForChangedImages();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const _={};for(const x in this._sourceCaches){const C=this._sourceCaches[x];_[x]=C.used,C.used=!1}for(const x of this._order){const C=this._layers[x];if(C.recalculate(l,this._availableImages),!C.isHidden(l.zoom)){const I=this._getLayerSourceCache(C);I&&(I.used=!0)}const D=this.map.painter;if(D){const I=C.getProgramIds();if(!I)continue;const O=C.getProgramConfiguration(l.zoom);for(const V of I)D.useProgram(V,O)}}for(const x in _){const C=this._sourceCaches[x];_[x]!==C.used&&C.getSource().fire(new p.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:C.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new p.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),as(this,p.validateStyle(l)))return!1;(l=p.clone$1(l)).layers=Mn(l.layers);const u=function(x,C){if(!x)return[{command:At.setStyle,args:[C]}];let D=[];try{if(!at(x.version,C.version))return[{command:At.setStyle,args:[C]}];at(x.center,C.center)||D.push({command:At.setCenter,args:[C.center]}),at(x.zoom,C.zoom)||D.push({command:At.setZoom,args:[C.zoom]}),at(x.bearing,C.bearing)||D.push({command:At.setBearing,args:[C.bearing]}),at(x.pitch,C.pitch)||D.push({command:At.setPitch,args:[C.pitch]}),at(x.sprite,C.sprite)||D.push({command:At.setSprite,args:[C.sprite]}),at(x.glyphs,C.glyphs)||D.push({command:At.setGlyphs,args:[C.glyphs]}),at(x.transition,C.transition)||D.push({command:At.setTransition,args:[C.transition]}),at(x.light,C.light)||D.push({command:At.setLight,args:[C.light]}),at(x.fog,C.fog)||D.push({command:At.setFog,args:[C.fog]}),at(x.projection,C.projection)||D.push({command:At.setProjection,args:[C.projection]});const I={},O=[];!function(W,te,me,se){let ce;for(ce in te=te||{},W=W||{})W.hasOwnProperty(ce)&&(te.hasOwnProperty(ce)||Li(ce,me,se));for(ce in te)te.hasOwnProperty(ce)&&(W.hasOwnProperty(ce)?at(W[ce],te[ce])||("geojson"===W[ce].type&&"geojson"===te[ce].type&&Ui(W,te,ce)?me.push({command:At.setGeoJSONSourceData,args:[ce,te[ce].data]}):Fn(ce,te,me,se)):je(ce,te,me))}(x.sources,C.sources,O,I);const V=[];x.layers&&x.layers.forEach(W=>{W.source&&I[W.source]?D.push({command:At.removeLayer,args:[W.id]}):V.push(W)});let U=x.terrain;U&&I[U.source]&&(D.push({command:At.setTerrain,args:[void 0]}),U=void 0),D=D.concat(O),at(U,C.terrain)||D.push({command:At.setTerrain,args:[C.terrain]}),function(W,te,me){te=te||[];const se=(W=W||[]).map(Es),ce=te.map(Es),ue=W.reduce($t,{}),re=te.reduce($t,{}),fe=se.slice(),oe=Object.create(null);let Le,De,we,Ee,Me,Re,Ue;for(Le=0,De=0;Le<se.length;Le++)we=se[Le],re.hasOwnProperty(we)?De++:(me.push({command:At.removeLayer,args:[we]}),fe.splice(fe.indexOf(we,De),1));for(Le=0,De=0;Le<ce.length;Le++)we=ce[ce.length-1-Le],fe[fe.length-1-Le]!==we&&(ue.hasOwnProperty(we)?(me.push({command:At.removeLayer,args:[we]}),fe.splice(fe.lastIndexOf(we,fe.length-De),1)):De++,Re=fe[fe.length-Le],me.push({command:At.addLayer,args:[re[we],Re]}),fe.splice(fe.length-Le,0,we),oe[we]=!0);for(Le=0;Le<ce.length;Le++)if(we=ce[Le],Ee=ue[we],Me=re[we],!oe[we]&&!at(Ee,Me))if(at(Ee.source,Me.source)&&at(Ee["source-layer"],Me["source-layer"])&&at(Ee.type,Me.type)){for(Ue in sl(Ee.layout,Me.layout,me,we,null,At.setLayoutProperty),sl(Ee.paint,Me.paint,me,we,null,At.setPaintProperty),at(Ee.filter,Me.filter)||me.push({command:At.setFilter,args:[we,Me.filter]}),at(Ee.minzoom,Me.minzoom)&&at(Ee.maxzoom,Me.maxzoom)||me.push({command:At.setLayerZoomRange,args:[we,Me.minzoom,Me.maxzoom]}),Ee)Ee.hasOwnProperty(Ue)&&"layout"!==Ue&&"paint"!==Ue&&"filter"!==Ue&&"metadata"!==Ue&&"minzoom"!==Ue&&"maxzoom"!==Ue&&(0===Ue.indexOf("paint.")?sl(Ee[Ue],Me[Ue],me,we,Ue.slice(6),At.setPaintProperty):at(Ee[Ue],Me[Ue])||me.push({command:At.setLayerProperty,args:[we,Ue,Me[Ue]]}));for(Ue in Me)Me.hasOwnProperty(Ue)&&!Ee.hasOwnProperty(Ue)&&"layout"!==Ue&&"paint"!==Ue&&"filter"!==Ue&&"metadata"!==Ue&&"minzoom"!==Ue&&"maxzoom"!==Ue&&(0===Ue.indexOf("paint.")?sl(Ee[Ue],Me[Ue],me,we,Ue.slice(6),At.setPaintProperty):at(Ee[Ue],Me[Ue])||me.push({command:At.setLayerProperty,args:[we,Ue,Me[Ue]]}))}else me.push({command:At.removeLayer,args:[we]}),Re=fe[fe.lastIndexOf(we)+1],me.push({command:At.addLayer,args:[Me,Re]})}(V,C.layers,D)}catch(I){console.warn("Unable to compute style diff:",I),D=[{command:At.setStyle,args:[C]}]}return D}(this.serialize(),l).filter(x=>!(x.command in bp));if(0===u.length)return!1;const _=u.filter(x=>!(x.command in ao));if(_.length>0)throw new Error(`Unimplemented: ${_.map(x=>x.command).join(", ")}.`);return u.forEach(x=>{"setTransition"!==x.command&&"setProjection"!==x.command&&this[x.command].apply(this,x.args)}),this.stylesheet=l,this._updateMapProjection(),!0}addImage(l,u){return this.getImage(l)?this.fire(new p.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(l,u),this._afterImageUpdated(l),this)}updateImage(l,u){this.imageManager.updateImage(l,u)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){return this.getImage(l)?(this.imageManager.removeImage(l),this._afterImageUpdated(l),this):this.fire(new p.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new p.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,u,_={}){if(this._checkLoaded(),void 0!==this.getSource(l))throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(p.validateSource,`sources.${l}`,u,null,_))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const x=He(l,u,this.dispatcher,this);x.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(l),source:x.serialize(),sourceId:l}));const C=D=>{const I=(D?"symbol:":"other:")+l,O=this._sourceCaches[I]=new p.SourceCache(I,x,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[l]=O,O.style=this,O.onAdd(this.map)};C(!1),"vector"!==u.type&&"geojson"!==u.type||C(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const u=this.getSource(l);if(!u)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===l)return this.fire(new p.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new p.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const _=this._getSourceCaches(l);for(const x of _)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new p.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(l,u){this._checkLoaded(),this.getSource(l).setData(u),this._changed=!0}getSource(l){const u=this._getSourceCache(l);return u&&u.getSource()}addLayer(l,u,_={}){this._checkLoaded();const x=l.id;if(this.getLayer(x))return void this.fire(new p.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let C;if("custom"===l.type){if(as(this,p.validateCustomStyleLayer(l)))return;C=p.createStyleLayer(l)}else{if("object"==typeof l.source&&(this.addSource(x,l.source),l=p.clone$1(l),l=p.extend(l,{source:x})),this._validate(p.validateLayer,`layers.${x}`,l,{arrayIndex:-1},_))return;C=p.createStyleLayer(l),this._validateLayer(C),C.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[C.id]=C.serialize(),this._updateLayerCount(C,!0)}const D=u?this._order.indexOf(u):this._order.length;if(u&&-1===D)return void this.fire(new p.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(D,0,x),this._layerOrderChanged=!0,this._layers[x]=C;const I=this._getLayerSourceCache(C);if(this._removedLayers[x]&&C.source&&I&&"custom"!==C.type){const O=this._removedLayers[x];delete this._removedLayers[x],O.type!==C.type?this._updatedSources[C.source]="clear":(this._updatedSources[C.source]="reload",I.pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,u){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===u)return;const _=this._order.indexOf(l);this._order.splice(_,1);const x=u?this._order.indexOf(u):this._order.length;u&&-1===x?this.fire(new p.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(x,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const u=this._layers[l];if(!u)return void this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const _=this._order.indexOf(l);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=u,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const u in this._layers)if(this._layers[u].type===l)return!0;return!1}setLayerZoomRange(l,u,_){this._checkLoaded();const x=this.getLayer(l);x?x.minzoom===u&&x.maxzoom===_||(null!=u&&(x.minzoom=u),null!=_&&(x.maxzoom=_),this._updateLayer(x)):this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,u,_={}){this._checkLoaded();const x=this.getLayer(l);if(x){if(!at(x.filter,u))return null==u?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(p.validateFilter,`layers.${x.id}.filter`,u,{layerType:x.type},_)||(x.filter=p.clone$1(u),this._updateLayer(x)))}else this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){const u=this.getLayer(l);return u&&p.clone$1(u.filter)}setLayoutProperty(l,u,_,x={}){this._checkLoaded();const C=this.getLayer(l);C?at(C.getLayoutProperty(u),_)||(C.setLayoutProperty(u,_,x),this._updateLayer(C)):this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,u){const _=this.getLayer(l);if(_)return _.getLayoutProperty(u);this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,u,_,x={}){this._checkLoaded();const C=this.getLayer(l);C?at(C.getPaintProperty(u),_)||(C.setPaintProperty(u,_,x)&&this._updateLayer(C),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new p.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,u){const _=this.getLayer(l);return _&&_.getPaintProperty(u)}setFeatureState(l,u){this._checkLoaded();const _=l.source,x=l.sourceLayer,C=this.getSource(_);if(!C)return void this.fire(new p.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const D=C.type;if("geojson"===D&&x)return void this.fire(new p.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===D&&!x)return void this.fire(new p.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===l.id&&this.fire(new p.ErrorEvent(new Error("The feature id parameter must be provided.")));const I=this._getSourceCaches(_);for(const O of I)O.setFeatureState(x,l.id,u)}removeFeatureState(l,u){this._checkLoaded();const _=l.source,x=this.getSource(_);if(!x)return void this.fire(new p.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const C=x.type,D="vector"===C?l.sourceLayer:void 0;if("vector"===C&&!D)return void this.fire(new p.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&"string"!=typeof l.id&&"number"!=typeof l.id)return void this.fire(new p.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const I=this._getSourceCaches(_);for(const O of I)O.removeFeatureState(D,l.id,u)}getFeatureState(l){this._checkLoaded();const u=l.source,_=l.sourceLayer,x=this.getSource(u);if(x){if("vector"!==x.type||_)return void 0===l.id&&this.fire(new p.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(_,l.id);this.fire(new p.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new p.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return p.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const u in this._sourceCaches){const _=this._sourceCaches[u].getSource();l[_.id]||(l[_.id]=_.serialize())}return p.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},u=>void 0!==u)}_updateLayer(l){this._updatedLayers[l.id]=!0;const u=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&u&&"raster"!==u.getSource().type&&(this._updatedSources[l.source]="reload",u.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const u=D=>"fill-extrusion"===this._layers[D].type,_={},x=[];for(let D=this._order.length-1;D>=0;D--){const I=this._order[D];if(u(I)){_[I]=D;for(const O of l){const V=O[I];if(V)for(const U of V)x.push(U)}}}x.sort((D,I)=>I.intersectionZ-D.intersectionZ);const C=[];for(let D=this._order.length-1;D>=0;D--){const I=this._order[D];if(u(I))for(let O=x.length-1;O>=0;O--){const V=x[O].feature;if(_[V.layer.id]<D)break;C.push(V),x.pop()}else for(const O of l){const V=O[I];if(V)for(const U of V)C.push(U.feature)}}return C}queryRenderedFeatures(l,u,_){u&&u.filter&&this._validate(p.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const x={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new p.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const O of u.layers){const V=this._layers[O];if(!V)return this.fire(new p.ErrorEvent(new Error(`The layer '${O}' does not exist in the map's style and cannot be queried for features.`))),[];x[V.source]=!0}}const C=[];u.availableImages=this._availableImages;const D=u&&u.layers?u.layers.some(O=>{const V=this.getLayer(O);return V&&V.is3D()}):this.has3DLayers(),I=Ki.createFromScreenPoints(l,_);for(const O in this._sourceCaches){const V=this._sourceCaches[O].getSource().id;u.layers&&!x[V]||C.push(ke(this._sourceCaches[O],this._layers,this._serializedLayers,I,u,_,D,!!this.map._showQueryGeometry))}return this.placement&&C.push(function(O,V,U,W,te,me,se){const ce={},ue=me.queryRenderedSymbols(W),re=[];for(const fe of Object.keys(ue).map(Number))re.push(se[fe]);re.sort(Xe);for(const fe of re){const oe=fe.featureIndex.lookupSymbolFeatures(ue[fe.bucketInstanceId],V,fe.bucketIndex,fe.sourceLayerIndex,te.filter,te.layers,te.availableImages,O);for(const Le in oe){const De=ce[Le]=ce[Le]||[],we=oe[Le];we.sort((Ee,Me)=>{const Re=fe.featureSortOrder;if(Re){const Ue=Re.indexOf(Ee.featureIndex);return Re.indexOf(Me.featureIndex)-Ue}return Me.featureIndex-Ee.featureIndex});for(const Ee of we)De.push(Ee)}}for(const fe in ce)ce[fe].forEach(oe=>{const Le=oe.feature,De=U(O[fe]).getFeatureState(Le.layer["source-layer"],Le.id);Le.source=Le.layer.source,Le.layer["source-layer"]&&(Le.sourceLayer=Le.layer["source-layer"]),Le.state=De});return ce}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),I.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(C)}querySourceFeatures(l,u){u&&u.filter&&this._validate(p.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const _=this._getSourceCaches(l);let x=[];for(const C of _)x=x.concat(xe(C,u));return x}addSourceType(l,u,_){return ii.getSourceType(l)?_(new Error(`A source type called "${l}" already exists.`)):(ii.setSourceType(l,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:u.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(l,u={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const D in l)if(!at(l[D],_[D])){x=!0;break}if(!x)return;const C=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(l,u),this.light.updateTransitions(C)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(l,u=1){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===u){if("object"==typeof l.source){const _="terrain-dem-src";this.addSource(_,l.source),l=p.clone$1(l),l=p.extend(l,{source:_})}if(this._validate(p.validateTerrain,"terrain",l))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode)this._createTerrain(l,u);else{const _=this.terrain,x=_.get();for(const C of Object.keys(p.spec.terrain))!l.hasOwnProperty(C)&&p.spec.terrain[C].default&&(l[C]=p.spec.terrain[C].default);for(const C in l)if(!at(l[C],x[C])){_.set(l),this.stylesheet.terrain=l;const D=this._setTransitionParameters({duration:0});_.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(l){const u=this.fog=new ci(l,this.map.transform);this.stylesheet.fog=l;const _=this._setTransitionParameters({duration:0});u.updateTransitions(_)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const l of this.map._markers)l._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,_=u.get();0===Object.keys(l).length&&u.set(l);for(const x in l)if(!at(l[x],_[x])){u.set(l),this.stylesheet.fog=l;const C=this._setTransitionParameters({duration:0});u.updateTransitions(C);break}}else this._createFog(l);this._markersNeedUpdate=!0}_setTransitionParameters(l){return{now:p.exported.now(),transition:p.extend(l,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter(_=>this.isLayerDraped(this._layers[_])),u=this._order.filter(_=>!this.isLayerDraped(this._layers[_]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...u)}_createTerrain(l,u){const _=this.terrain=new zr(l,u);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});_.updateTransitions(x)}_force3DLayerUpdate(){for(const l in this._layers){const u=this._layers[l];"fill-extrusion"===u.type&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const l in this._layers){const u=this._layers[l];"symbol"===u.type&&this._updateLayer(u)}}_validate(l,u,_,x,C={}){return(!C||!1!==C.validate)&&as(this,l.call(p.validateStyle,p.extend({key:u,style:this.serialize(),value:_,styleSpec:p.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),p.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const u=this._getSourceCaches(l);for(const _ of u)_.clearTiles()}_reloadSource(l){const u=this._getSourceCaches(l);for(const _ of u)_.resume(),_.reload()}_updateSources(l){for(const u in this._sourceCaches)this._sourceCaches[u].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const u=this._sourceCaches[l];u.resume(),u.reload()}}_updatePlacement(l,u,_,x,C=!1){let D=!1,I=!1;const O={};for(const V of this._order){const U=this._layers[V];if("symbol"!==U.type)continue;if(!O[U.source]){const te=this._getLayerSourceCache(U);if(!te)continue;O[U.source]=te.getRenderableIds(!0).map(me=>te.getTileByID(me)).sort((me,se)=>se.tileID.overscaledZ-me.tileID.overscaledZ||(me.tileID.isLessThan(se.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(U,O[U.source],l.center.lng,l.projection);D=D||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),C=C||this._layerOrderChanged||0===_,this._layerOrderChanged&&this.fire(new p.Event("neworder")),(C||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(p.exported.now(),l.zoom))&&(this.pauseablePlacement=new hl(l,this._order,C,u,_,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(p.exported.now()),I=!0),D&&this.pauseablePlacement.placement.setStale()),I||D)for(const V of this._order){const U=this._layers[V];"symbol"===U.type&&this.placement.updateLayerOpacities(U,O[U.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(p.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,u,_){this.imageManager.getImages(u.icons,_),this._updateTilesForChangedImages();const x=C=>{C&&C.setDependencies(u.tileID.key,u.type,u.icons)};x(this._otherSourceCaches[u.source]),x(this._symbolSourceCaches[u.source])}getGlyphs(l,u,_){this.glyphManager.getGlyphs(u.stacks,_)}getResource(l,u,_){return p.makeRequest(u,_)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return"symbol"===l.type?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const u=[];return this._otherSourceCaches[l]&&u.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&u.push(this._symbolSourceCaches[l]),u}_isSourceCacheLoaded(l){const u=this._getSourceCaches(l);return 0===u.length?(this.fire(new p.ErrorEvent(new Error(`There is no source with ID '${l}'`))),!1):u.every(_=>_.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ii.getSourceType=function(f){return Ie[f]},ii.setSourceType=function(f,l){Ie[f]=l},ii.registerForPluginStateChange=p.registerForPluginStateChange;var ga="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Pi="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",wo="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",Fa="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",Go="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let Ia={},rs={};const Co=[];rr(ga,Co),rr(wo,Co),rr(Fa,Co),rr(Go,Co),Ia=li("",wo),rs=li(Go,Fa);const si=li("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ro=ga,os="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var uc={background:li("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:li("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:li("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\n#else \nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:li("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:li("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:li("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:li("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:li("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:li("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:li("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:li("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:li("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:li("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:li("uniform lowp vec3 u_lightpos;varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;varying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvoid main() {vec4 color=v_color;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(v_normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying highp vec3 v_normal;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;vec3 pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_normal=normal;v_depth=gl_Position.w;\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:li("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:li("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:li("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:li("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:li("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:li("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:li("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:li("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:li("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:li("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:li("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:li("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Pi),skyboxGradient:li("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Pi),skyboxCapture:li("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:li("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);vec4 color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\nvec4 color=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:li("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);\n#ifdef PROJECTION_GLOBE_VIEW\nfloat globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));float horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nfloat horizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function rr(f,l){const u=f.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let _ of u)if(_=_.trim(),"#"===_[0]&&_.includes("if")&&!_.includes("endif")){_=_.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=_.split(" ");for(const C of x)l.includes(C)||l.push(C)}}function li(f,l){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},C=[...Co];return rr(f,C),rr(l,C),{fragmentSource:f=f.replace(u,(D,I,O,V,U)=>(x[U]=!0,"define"===I?`\n#ifndef HAS_UNIFORM_u_${U}\nvarying ${O} ${V} ${U};\n#else\nuniform ${O} ${V} u_${U};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${U}\n    ${O} ${V} ${U} = u_${U};\n#endif\n`)),vertexSource:l=l.replace(u,(D,I,O,V,U)=>{const W="float"===V?"vec2":"vec4",te=U.match(/color/)?"color":W;return x[U]?"define"===I?`\n#ifndef HAS_UNIFORM_u_${U}\nuniform lowp float u_${U}_t;\nattribute ${O} ${W} a_${U};\nvarying ${O} ${V} ${U};\n#else\nuniform ${O} ${V} u_${U};\n#endif\n`:"vec4"===te?`\n#ifndef HAS_UNIFORM_u_${U}\n    ${U} = a_${U};\n#else\n    ${O} ${V} ${U} = u_${U};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${U}\n    ${U} = unpack_mix_${te}(a_${U}, u_${U}_t);\n#else\n    ${O} ${V} ${U} = u_${U};\n#endif\n`:"define"===I?`\n#ifndef HAS_UNIFORM_u_${U}\nuniform lowp float u_${U}_t;\nattribute ${O} ${W} a_${U};\n#else\nuniform ${O} ${V} u_${U};\n#endif\n`:"vec4"===te?`\n#ifndef HAS_UNIFORM_u_${U}\n    ${O} ${V} ${U} = a_${U};\n#else\n    ${O} ${V} ${U} = u_${U};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${U}\n    ${O} ${V} ${U} = unpack_mix_${te}(a_${U}, u_${U}_t);\n#else\n    ${O} ${V} ${U} = u_${U};\n#endif\n`}),staticAttributes:_,usedDefines:C}}class Ds{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(l,u,_,x,C,D,I){this.context=l;let O=this.boundPaintVertexBuffers.length!==x.length;for(let U=0;!O&&U<x.length;U++)this.boundPaintVertexBuffers[U]!==x[U]&&(O=!0);let V=this.boundDynamicVertexBuffers.length!==I.length;for(let U=0;!V&&U<I.length;U++)this.boundDynamicVertexBuffers[U]!==I[U]&&(V=!0);if(!l.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==_||O||V||this.boundIndexBuffer!==C||this.boundVertexOffset!==D)this.freshBind(u,_,x,C,D,I);else{l.bindVertexArrayOES.set(this.vao);for(const U of I)U&&U.bind();C&&C.dynamicDraw&&C.bind()}}freshBind(l,u,_,x,C,D){let I;const O=l.numAttributes,V=this.context,U=V.gl;if(V.extVertexArrayObject)this.vao&&this.destroy(),this.vao=V.extVertexArrayObject.createVertexArrayOES(),V.bindVertexArrayOES.set(this.vao),I=0,this.boundProgram=l,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=x,this.boundVertexOffset=C,this.boundDynamicVertexBuffers=D;else{I=V.currentNumAttributes||0;for(let W=O;W<I;W++)U.disableVertexAttribArray(W)}u.enableAttributes(U,l),u.bind(),u.setVertexAttribPointers(U,l,C);for(const W of _)W.enableAttributes(U,l),W.bind(),W.setVertexAttribPointers(U,l,C);for(const W of D)W&&(W.enableAttributes(U,l),W.bind(),W.setVertexAttribPointers(U,l,C));x&&x.bind(),V.currentNumAttributes=O}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ml(f,l){const u=Math.pow(2,l.canonical.z),_=l.canonical.y;return[new p.MercatorCoordinate(0,_/u).toLngLat().lat,new p.MercatorCoordinate(0,(_+1)/u).toLngLat().lat]}function ko(f,l,u,_,x,C,D){const I=f.context,O=I.gl,V=u.fbo;if(!V)return;f.prepareDrawTile();const U=f.useProgram("hillshade");I.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,V.colorAttachment.get());const W=((ce,ue,re,fe)=>{const oe=re.paint.get("hillshade-shadow-color"),Le=re.paint.get("hillshade-highlight-color"),De=re.paint.get("hillshade-accent-color");let we=re.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===re.paint.get("hillshade-illumination-anchor")&&(we-=ce.transform.angle);const Ee=!ce.options.moving;return{u_matrix:fe||ce.transform.calculateProjMatrix(ue.tileID.toUnwrapped(),Ee),u_image:0,u_latrange:ml(0,ue.tileID),u_light:[re.paint.get("hillshade-exaggeration"),we],u_shadow:oe,u_highlight:Le,u_accent:De}})(f,u,_,f.terrain?l.projMatrix:null);f.prepareDrawProgram(I,U,l.toUnwrapped());const{tileBoundsBuffer:te,tileBoundsIndexBuffer:me,tileBoundsSegments:se}=f.getTileBoundsBuffers(u);U.draw(I,O.TRIANGLES,x,C,D,p.CullFaceMode.disabled,W,_.id,te,me,se)}function In(f,l,u){if(!l.needsDEMTextureUpload)return;const _=f.context,x=_.gl;_.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||f.getTileTexture(u.stride);const C=u.getPixels();l.demTexture?l.demTexture.update(C,{premultiply:!1}):l.demTexture=new p.Texture(_,C,x.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function $s(f,l,u,_,x,C){const D=f.context,I=D.gl;if(!l.dem)return;const O=l.dem;if(D.activeTexture.set(I.TEXTURE1),In(f,l,O),!l.demTexture)return;l.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);const V=O.dim;D.activeTexture.set(I.TEXTURE0);let U=l.fbo;if(!U){const se=new p.Texture(D,{width:V,height:V,data:null},I.RGBA);se.bind(I.LINEAR,I.CLAMP_TO_EDGE),U=l.fbo=D.createFramebuffer(V,V,!0),U.colorAttachment.set(se.texture)}D.bindFramebuffer.set(U.framebuffer),D.viewport.set([0,0,V,V]);const{tileBoundsBuffer:W,tileBoundsIndexBuffer:te,tileBoundsSegments:me}=f.getMercatorTileBoundsBuffers();f.useProgram("hillshadePrepare").draw(D,I.TRIANGLES,_,x,C,p.CullFaceMode.disabled,((se,ce)=>{const ue=ce.stride,re=p.create();return p.ortho(re,0,p.EXTENT,-p.EXTENT,0,0,1),p.translate(re,re,[0,-p.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[ue,ue],u_zoom:se.overscaledZ,u_unpack:ce.unpackVector}})(l.tileID,O),u.id,W,te,me),l.needsHillshadePrepare=!1}const Ll=f=>({u_matrix:new p.UniformMatrix4f(f),u_image0:new p.Uniform1i(f),u_skirt_height:new p.Uniform1f(f)}),hc=(f,l)=>({u_matrix:f,u_image0:0,u_skirt_height:l}),Jc=(f,l,u,_,x,C,D,I,O,V,U,W,te,me)=>({u_proj_matrix:Float32Array.from(f),u_globe_matrix:l,u_normalize_matrix:Float32Array.from(_),u_merc_matrix:u,u_zoom_transition:x,u_merc_center:C,u_image0:0,u_frustum_tl:D,u_frustum_tr:I,u_frustum_br:O,u_frustum_bl:V,u_globe_pos:U,u_globe_radius:W,u_viewport:te,u_grid_matrix:me?Float32Array.from(me):new Float32Array(9)});function Pl(f,l){return null!=f&&null!=l&&!(!f.hasData()||!l.hasData())&&null!=f.demTexture&&null!=l.demTexture&&f.tileID.key!==l.tileID.key}const $o=new class{constructor(){this.operations={}}newMorphing(f,l,u,_,x){if(f in this.operations){const C=this.operations[f];C.to.tileID.key!==u.tileID.key&&(C.queued=u)}else this.operations[f]={startTime:_,phase:0,duration:x,from:l,to:u,queued:null}}getMorphValuesForProxy(f){if(!(f in this.operations))return null;const l=this.operations[f];return{from:l.from,to:l.to,phase:l.phase}}update(f){for(const l in this.operations){const u=this.operations[l];for(u.phase=(f-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,f)){delete this.operations[l];break}}}_nextOp(f,l){return!!f.queued&&(f.from=f.to,f.to=f.queued,f.queued=null,f.phase=0,f.startTime=l,!0)}_validOp(f){return f.from.hasData()&&f.to.hasData()}},ss={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Br(f,l){const u=1<<f.z;return!l&&(0===f.x||f.x===u-1)||0===f.y||f.y===u-1}const ih=f=>({u_matrix:f});function Mo(f,l,u,_,x){if(x>0){const C=p.exported.now(),D=(C-f.timeAdded)/x,I=l?(C-l.timeAdded)/x:-1,O=u.getSource(),V=_.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),U=!l||Math.abs(l.tileID.overscaledZ-V)>Math.abs(f.tileID.overscaledZ-V),W=U&&f.refreshedUponExpiration?1:p.clamp(U?D:1-I,0,1);return f.refreshedUponExpiration&&D>=1&&(f.refreshedUponExpiration=!1),l?{opacity:1,mix:1-W}:{opacity:W,mix:0}}return{opacity:1,mix:0}}class To extends p.SourceCache{constructor(l){const u={type:"raster-dem",maxzoom:l.transform.maxZoom},_=new Ha(fn(),null),x=He("mock-dem",u,_,l.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(l,u){l.state="loaded",u(null)}}class mc extends p.SourceCache{constructor(l){const u=He("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new Ha(fn(),null),l.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,u,_){if(l.freezeTileCoverage)return;this.transform=l;const x=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((C,D)=>{if(C[D.key]="",!this._tiles[D.key]){const I=new p.Tile(D,this._source.tileSize*D.overscaleFactor(),l.tileZoom);I.state="loaded",this._tiles[D.key]=I}return C},{});for(const C in this._tiles)C in x||(this.freeFBO(C),this._tiles[C].unloadVectorData(),delete this._tiles[C])}freeFBO(l){const u=this.proxyCachedFBO[l];if(void 0!==u){const _=Object.values(u);this.renderCachePool.push(..._),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach(l=>l.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Fl extends p.OverscaledTileID{constructor(l,u,_){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=u,this.projMatrix=_}}class Ss extends p.Elevation{constructor(l,u){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[_,x,C]=function(O){const V=new p.StructArrayLayout4i8,U=new p.StructArrayLayout3ui6,W=131;V.reserve(17161),U.reserve(33800);const te=p.EXTENT/128,me=p.EXTENT+te/2,se=me+te;for(let ue=-te;ue<se;ue+=te)for(let re=-te;re<se;re+=te){const fe=re<0||re>me||ue<0||ue>me?24575:0,oe=p.clamp(Math.round(re),0,p.EXTENT),Le=p.clamp(Math.round(ue),0,p.EXTENT);V.emplaceBack(oe+fe,Le,oe,Le)}const ce=(ue,re)=>{const fe=re*W+ue;U.emplaceBack(fe+1,fe,fe+W),U.emplaceBack(fe+W,fe+W+1,fe+1)};for(let ue=1;ue<129;ue++)for(let re=1;re<129;re++)ce(re,ue);return[0,129].forEach(ue=>{for(let re=0;re<130;re++)ce(re,ue),ce(ue,re)}),[V,U,32768]}(),D=l.context;this.gridBuffer=D.createVertexBuffer(_,p.boundsAttributes.members),this.gridIndexBuffer=D.createIndexBuffer(x),this.gridSegments=p.SegmentVector.simpleSegment(0,0,_.length,x.length),this.gridNoSkirtSegments=p.SegmentVector.simpleSegment(0,0,_.length,C),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new mc(u.map),this.orthoMatrix=p.create(),p.ortho(this.orthoMatrix,0,p.EXTENT,0,p.EXTENT,0,1);const I=D.gl;this._overlapStencilMode=new p.StencilMode({func:I.GEQUAL,mask:255},0,255,I.KEEP,I.KEEP,I.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new To(u.map)}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency()}update(l,u,_){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const x=l.terrain.properties;this.sourceCache=0===l.terrain.drapeRenderMode?this._mockSourceCache:l._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const C=()=>{this.sourceCache.used&&p.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const D=this.getScaledDemTileSize();this.sourceCache.update(u,D,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,C(),this._initializing=!0),C(),u.updateElevation(!_),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(l){this._findCoveringTileCache[l]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==l.efficiency&&p.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&"source"===l.dataType?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):"style"===l.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(l=>l.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,_=this.painter.transform;this._initializing&&(this._initializing=0===_._centerAltitude&&-1===this.getAtPointOrZero(p.MercatorCoordinate.fromLngLat(_.center),-1),this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=u.getIds().map(O=>{const V=u.getTileByID(O).tileID;return V.projMatrix=_.calculateProjMatrix(V.toUnwrapped()),V});(function(O,V){const U=V.transform.pointCoordinate(V.transform.getCameraPoint()),W=new p.pointGeometry(U.x,U.y);O.sort((te,me)=>{if(me.overscaledZ-te.overscaledZ)return me.overscaledZ-te.overscaledZ;const se=new p.pointGeometry(te.canonical.x+(1<<te.canonical.z)*te.wrap,te.canonical.y),ce=new p.pointGeometry(me.canonical.x+(1<<me.canonical.z)*me.wrap,me.canonical.y),ue=W.mult(1<<te.canonical.z);return ue.x-=.5,ue.y-=.5,ue.distSqr(se)-ue.distSqr(ce)})})(x,this.painter),this._previousZoom=_.zoom;const C=this.proxyToSource||{};this.proxyToSource={},x.forEach(O=>{this.proxyToSource[O.key]={}}),this.terrainTileForTile={};const D=this._style._sourceCaches;for(const O in D){const V=D[O];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,l[O],C),V.usedForTerrain))continue;const U=l[O];V.getSource().reparseOverscaled&&this._assignTerrainTiles(U)}this.proxiedCoords[u.id]=x.map(O=>new Fl(O,O.key,this.orthoMatrix)),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(C),this.renderingToTexture=!1,this._updateTimestamp=p.exported.now();const I={};this._visibleDemTiles=[];for(const O of this.proxyCoords){const V=this.terrainTileForTile[O.key];if(!V)continue;const U=V.tileID.key;U in I||(this._visibleDemTiles.push(V),I[U]=U)}}_assignTerrainTiles(l){this._initializing||l.forEach(u=>{if(this.terrainTileForTile[u.key])return;const _=this._findTileCoveringTileID(u,this.sourceCache);_&&(this.terrainTileForTile[u.key]=_)})}_prepareDEMTextures(){const l=this.painter.context,u=l.gl;for(const _ in this.terrainTileForTile){const x=this.terrainTileForTile[_],C=x.dem;!C||x.demTexture&&!x.needsDEMTextureUpload||(l.activeTexture.set(u.TEXTURE1),In(this.painter,x,C))}}_prepareDemTileUniforms(l,u,_,x){if(!u||null==u.demTexture)return!1;const C=l.tileID.canonical,D=Math.pow(2,u.tileID.canonical.z-C.z),I=x||"";return _[`u_dem_tl${I}`]=[C.x*D%1,C.y*D%1],_[`u_dem_scale${I}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const l=this.painter.context,u=l.gl;if(!this._emptyDepthBufferTexture){const _=new p.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new p.Texture(l,_,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let l=0;const u=this._visibleDemTiles.reduce((_,x)=>{if(!x.dem)return _;const C=x.dem.tree.minimums[0];return C>0&&l++,_+C},0);return l?u/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,u=l.gl;l.activeTexture.set(u.TEXTURE2);const _=this._getLoadedAreaMinimum(),x=new p.RGBAImage({width:1,height:1},new Uint8Array(p.DEMData.pack(_,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let C=this._emptyDEMTexture;return C?C.update(x,{premultiply:!1}):C=this._emptyDEMTexture=new p.Texture(l,x,u.RGBA,{premultiply:!1}),C}setupElevationDraw(l,u,_){const x=this.painter.context,C=x.gl,D=(I=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:p.DEMData.getUnpackVector(I),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var I;D.u_dem_size=this.sourceCache.getSource().tileSize,D.u_exaggeration=this.exaggeration();const O=this.painter.transform,V=O.projection,U=l.tileID.canonical;D.u_tile_tl_up=V.upVector(U,0,0),D.u_tile_tr_up=V.upVector(U,p.EXTENT,0),D.u_tile_br_up=V.upVector(U,p.EXTENT,p.EXTENT),D.u_tile_bl_up=V.upVector(U,0,p.EXTENT),D.u_tile_up_scale=_&&_.useDenormalizedUpVectorScale?p.GLOBE_METERS_TO_ECEF:V.upVectorScale(U,O.center.lat,O.worldSize).metersToTile;let W=null,te=null,me=1;if(_&&_.morphing&&this._useVertexMorphing){const se=_.morphing.srcDemTile,ce=_.morphing.dstDemTile;me=_.morphing.phase,se&&ce&&(this._prepareDemTileUniforms(l,se,D,"_prev")&&(te=se),this._prepareDemTileUniforms(l,ce,D)&&(W=ce))}if(te&&W?(x.activeTexture.set(C.TEXTURE2),W.demTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE,C.NEAREST),x.activeTexture.set(C.TEXTURE4),te.demTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE,C.NEAREST),D.u_dem_lerp=me):(W=this.terrainTileForTile[l.tileID.key],x.activeTexture.set(C.TEXTURE2),(this._prepareDemTileUniforms(l,W,D)?W.demTexture:this.emptyDEMTexture).bind(C.NEAREST,C.CLAMP_TO_EDGE)),x.activeTexture.set(C.TEXTURE3),_&&_.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),this._depthFBO&&(D.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),D.u_depth_size_inv=[1,1]),_&&_.useMeterToDem&&W){const se=(1<<W.tileID.canonical.z)*p.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=se}_&&_.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=_.labelPlaneMatrixInv),u.setTerrainUniformValues(x,D)}renderToBackBuffer(l){const u=this.painter,_=this.painter.context;0!==l.length&&(_.bindFramebuffer.set(null),_.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(x,C,D,I,O){if("globe"===x.transform.projection.name)!function(V,U,W,te,me){const se=V.context,ce=se.gl;let ue,re;const fe=V.options.showTerrainWireframe?2:0,oe=V.transform,Le=p.globeUseCustomAntiAliasing(V,se,oe),De=(It,qe)=>{if(re===It)return;const Ve=[ss[It],"PROJECTION_GLOBE_VIEW"];Le&&Ve.push("CUSTOM_ANTIALIASING"),qe&&Ve.push(ss[fe]),ue=V.useProgram("globeRaster",null,Ve),re=It},we=V.colorModeForRenderPass(),Ee=new p.DepthMode(ce.LEQUAL,p.DepthMode.ReadWrite,V.depthRangeFor3D);$o.update(me);const Me=p.calculateGlobeMercatorMatrix(oe),Re=[p.mercatorXfromLng(oe.center.lng),p.mercatorYfromLat(oe.center.lat)],Ue=fe?[!1,!0]:[!1],_t=V.globeSharedBuffers,Be=[oe.width*p.exported.devicePixelRatio,oe.height*p.exported.devicePixelRatio],st=Float32Array.from(oe.globeMatrix),ut={useDenormalizedUpVectorScale:!0};if(Ue.forEach(It=>{re=-1;const qe=It?ce.LINES:ce.TRIANGLES;for(const Ve of te){const lt=W.getTile(Ve),Rt=p.StencilMode.disabled,Pt=U.prevTerrainTileForTile[Ve.key],ln=U.terrainTileForTile[Ve.key];Pl(Pt,ln)&&$o.newMorphing(Ve.key,Pt,ln,me,250),se.activeTexture.set(ce.TEXTURE0),lt.texture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE);const Tn=$o.getMorphValuesForProxy(Ve.key),$n=Tn?1:0;Tn&&p.extend$1(ut,{morphing:{srcDemTile:Tn.from,dstDemTile:Tn.to,phase:p.easeCubicInOut(Tn.phase)}});const hi=p.tileCornersToBounds(Ve.canonical),nn=p.getLatitudinalLod(hi.getCenter().lat),Yt=p.getGridMatrix(Ve.canonical,hi,nn),k=p.globeNormalizeECEF(p.globeTileBounds(Ve.canonical)),S=Jc(oe.projMatrix,st,Me,k,p.globeToMercatorTransition(oe.zoom),Re,oe.frustumCorners.TL,oe.frustumCorners.TR,oe.frustumCorners.BR,oe.frustumCorners.BL,oe.globeCenterInViewSpace,oe.globeRadius,Be,Yt);if(De($n,It),U.setupElevationDraw(lt,ue,ut),V.prepareDrawProgram(se,ue,Ve.toUnwrapped()),_t){const[H,q,ee]=It?_t.getWirefameBuffers(V.context,nn):_t.getGridBuffers(nn);ue.draw(se,qe,Ee,Rt,we,p.CullFaceMode.backCCW,S,"globe_raster",H,q,ee)}}}),_t){const It=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Le&&It.push("CUSTOM_ANTIALIASING"),ue=V.useProgram("globeRaster",null,It);for(const qe of te){const{x:Ve,y:lt,z:Rt}=qe.canonical,Pt=0===lt,ln=lt===(1<<Rt)-1,[Tn,$n,hi,nn]=_t.getPoleBuffers(Rt);if(nn&&(Pt||ln)){const Yt=W.getTile(qe);se.activeTexture.set(ce.TEXTURE0),Yt.texture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE);let k=p.globePoleMatrixForTile(Rt,Ve,oe);const S=p.globeNormalizeECEF(p.globeTileBounds(qe.canonical)),H=(q,ee)=>q.draw(se,ce.TRIANGLES,Ee,p.StencilMode.disabled,we,p.CullFaceMode.disabled,Jc(oe.projMatrix,k,k,S,0,Re,oe.frustumCorners.TL,oe.frustumCorners.TR,oe.frustumCorners.BR,oe.frustumCorners.BL,oe.globeCenterInViewSpace,oe.globeRadius,Be),"globe_pole_raster",ee,hi,nn);U.setupElevationDraw(Yt,ue,ut),V.prepareDrawProgram(se,ue,qe.toUnwrapped()),Pt&&H(ue,Tn),ln&&(k=p.scale(p.create(),k,[1,-1,1]),H(ue,$n))}}}}(x,C,D,I,O);else{const V=x.context,U=V.gl;let W,te;const me=x.options.showTerrainWireframe?2:0,se=(oe,Le)=>{if(te===oe)return;const De=[ss[oe]];Le&&De.push(ss[me]),W=x.useProgram("terrainRaster",null,De),te=oe},ce=x.colorModeForRenderPass(),ue=new p.DepthMode(U.LEQUAL,p.DepthMode.ReadWrite,x.depthRangeFor3D);$o.update(O);const re=x.transform,fe=6*Math.pow(1.5,22-re.zoom)*C.exaggeration();(me?[!1,!0]:[!1]).forEach(oe=>{te=-1;const Le=oe?U.LINES:U.TRIANGLES,[De,we]=oe?C.getWirefameBuffer():[C.gridIndexBuffer,C.gridSegments];for(const Ee of I){const Me=D.getTile(Ee),Re=p.StencilMode.disabled,Ue=C.prevTerrainTileForTile[Ee.key],_t=C.terrainTileForTile[Ee.key];Pl(Ue,_t)&&$o.newMorphing(Ee.key,Ue,_t,O,250),V.activeTexture.set(U.TEXTURE0),Me.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST);const Be=$o.getMorphValuesForProxy(Ee.key),st=Be?1:0;let ut;Be&&(ut={morphing:{srcDemTile:Be.from,dstDemTile:Be.to,phase:p.easeCubicInOut(Be.phase)}});const It=hc(Ee.projMatrix,Br(Ee.canonical,re.renderWorldCopies)?fe/10:fe);se(st,oe),C.setupElevationDraw(Me,W,ut),x.prepareDrawProgram(V,W,Ee.toUnwrapped()),W.draw(V,Le,ue,Re,ce,p.CullFaceMode.backCCW,It,"terrain_raster",C.gridBuffer,De,we)}})}}(u,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),l.splice(0,l.length))}renderBatch(l){if(0===this._drapedRenderBatches.length)return l+1;this.renderingToTexture=!0;const u=this.painter,_=this.painter.context,x=this.proxySourceCache,C=this.proxiedCoords[x.id],D=this._drapedRenderBatches.shift(),I=[],O=u.style.order;let V=0;for(const U of C){const W=x.getTileByID(U.proxyTileKey),te=x.proxyCachedFBO[U.key]?x.proxyCachedFBO[U.key][l]:void 0,me=void 0!==te?x.renderCache[te]:this.pool[V++],se=void 0!==te;if(W.texture=me.tex,se&&!me.dirty){I.push(W.tileID);continue}let ce;_.bindFramebuffer.set(me.fb.framebuffer),this.renderedToTile=!1,me.dirty&&(_.clear({color:p.Color.transparent,stencil:0}),me.dirty=!1);for(let ue=D.start;ue<=D.end;++ue){const re=u.style._layers[O[ue]];if(re.isHidden(u.transform.zoom))continue;const fe=u.style._getLayerSourceCache(re),oe=fe?this.proxyToSource[U.key][fe.id]:[U];if(!oe)continue;const Le=oe;_.viewport.set([0,0,me.fb.width,me.fb.height]),ce!==(fe?fe.id:null)&&(this._setupStencil(me,oe,re,fe),ce=fe?fe.id:null),u.renderLayer(u,fe,re,Le)}this.renderedToTile?(me.dirty=!0,I.push(W.tileID)):se||--V,5===V&&(V=0,this.renderToBackBuffer(I))}return this.renderToBackBuffer(I),this.renderingToTexture=!1,_.bindFramebuffer.set(null),_.viewport.set([0,0,u.width,u.height]),D.end+1}postRender(){}renderCacheEfficiency(l){const u=l.order.length;if(0===u)return{efficiency:100};let _,x=0,C=0,D=!1;for(let I=0;I<u;++I){const O=l._layers[l.order[I]];this._style.isLayerDraped(O)?(D&&++x,++C):D||(D=!0,_=O.id)}return 0===C?{efficiency:100}:{efficiency:100*(1-x/C),firstUndrapedLayer:_}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{l=Math.min(l,u.dem.tree.minimums[0])}),0===l?l:(l-30)*this._exaggeration}raycast(l,u,_){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter(C=>C.dem).map(C=>{const D=C.tileID,I=1<<D.overscaledZ,{x:O,y:V}=D.canonical,U=O/I,W=(O+1)/I,te=V/I,me=(V+1)/I;return{minx:U,miny:te,maxx:W,maxy:me,t:C.dem.tree.raycastRoot(U,te,W,me,l,u,_),tile:C}});x.sort((C,D)=>(null!==C.t?C.t:Number.MAX_VALUE)-(null!==D.t?D.t:Number.MAX_VALUE));for(const C of x){if(null==C.t)return null;const D=C.tile.dem.tree.raycast(C.minx,C.miny,C.maxx,C.maxy,l,u,_);if(null!=D)return D}return null}_createFBO(){const l=this.painter.context,u=l.gl,_=this.drapeBufferSize;l.activeTexture.set(u.TEXTURE0);const x=new p.Texture(l,{width:_[0],height:_[1],data:null},u.RGBA);x.bind(u.LINEAR,u.CLAMP_TO_EDGE);const C=l.createFramebuffer(_[0],_[1],!1);return C.colorAttachment.set(x.texture),C.depthAttachment=new Y(l,C.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,_[0],_[1]),this._stencilRef=0,C.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):C.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:C,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some(l=>{const u=this._style._layers[l],_=u.isHidden(this.painter.transform.zoom),x=u.getCrossfadeParameters(),C=!!x&&1!==x.t,D=u.hasTransition();return"custom"!==u.type&&!_&&(C||D)})}_clearRasterFadeFromRenderCache(){let l=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof le){l=!0;break}if(l)for(let u=0;u<this._style.order.length;++u){const _=this._style._layers[this._style.order[u]],x=_.isHidden(this.painter.transform.zoom),C=this._style._getLayerSourceCache(_);if("raster"!==_.type||x||!C)continue;const D=_.paint.get("raster-fade-duration");for(const I of this.proxyCoords){const O=this.proxyToSource[I.key][C.id];if(O)for(const V of O){const U=Mo(C.getTile(V),C.findLoadedParent(V,0),C,this.painter.transform,D);(1!==U.opacity||0!==U.mix)&&this._clearRenderCacheForTile(C.id,V)}}}}_setupDrapedRenderBatches(){const l=this._style.order,u=l.length;if(0===u)return;const _=[];let x,C=0,D=this._style._layers[l[C]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++C<u;)D=this._style._layers[l[C]];for(;C<u;++C){const I=this._style._layers[l[C]];I.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(I)?void 0===x&&(x=C):void 0!==x&&(_.push({start:x,end:C-1}),x=void 0))}void 0!==x&&_.push({start:x,end:C-1}),this._drapedRenderBatches=_}_setupRenderCache(l){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const D=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let I=0;I<D.length;++I){const O=Object.values(D[I]);u.renderCachePool.push(...O)}}return}this._clearRasterFadeFromRenderCache();const _=this.proxyCoords,x=this._tilesDirty;for(let D=_.length-1;D>=0;D--){const I=_[D];if(u.getTileByID(I.key),void 0!==u.proxyCachedFBO[I.key]){const O=l[I.key],V=this.proxyToSource[I.key];let U=0;for(const W in V){const te=V[W],me=O[W];if(!me||me.length!==te.length||te.some((se,ce)=>se!==me[ce]||x[W]&&x[W].hasOwnProperty(se.key))){U=-1;break}++U}for(const W in u.proxyCachedFBO[I.key])u.renderCache[u.proxyCachedFBO[I.key][W]].dirty=U<0||U!==Object.values(O).length}}const C=[...this._drapedRenderBatches];C.sort((D,I)=>I.end-I.start-(D.end-D.start));for(const D of C)for(const I of _){if(u.proxyCachedFBO[I.key])continue;let O=u.renderCachePool.pop();void 0===O&&u.renderCache.length<50&&(O=u.renderCache.length,u.renderCache.push(this._createFBO())),void 0!==O&&(u.proxyCachedFBO[I.key]={},u.proxyCachedFBO[I.key][D.start]=O,u.renderCache[O].dirty=!0)}this._tilesDirty={}}_setupStencil(l,u,_,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const C=this.painter.context,D=C.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let I;if(_.isTileClipped())I=u.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);I=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+I>255&&(C.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=I,this._overlapStencilMode.ref=this._stencilRef,_.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):p.StencilMode.disabled}_renderTileClippingMasks(l,u){const _=this.painter,x=this.painter.context,C=x.gl;_._tileClippingMaskIDs={},x.setColorMode(p.ColorMode.disabled),x.setDepthMode(p.DepthMode.disabled);const D=_.useProgram("clippingMask");for(const I of l){const O=_._tileClippingMaskIDs[I.key]=--u;D.draw(x,C.TRIANGLES,p.DepthMode.disabled,new p.StencilMode({func:C.ALWAYS,mask:0},O,255,C.KEEP,C.KEEP,C.REPLACE),p.ColorMode.disabled,p.CullFaceMode.disabled,ih(I.projMatrix),"$clipping",_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}pointCoordinate(l){const u=this.painter.transform;if(l.x<0||l.x>u.width||l.y<0||l.y>u.height)return null;const _=[l.x,l.y,1,1];p.transformMat4$1(_,_,u.pixelMatrixInverse),p.scale$1(_,_,1/_[3]),_[0]/=u.worldSize,_[1]/=u.worldSize;const x=u._camera.position,C=p.mercatorZfromAltitude(1,u.center.lat),D=[x[0],x[1],x[2]/C,0],I=p.subtract([],_.slice(0,3),D);p.normalize(I,I);const O=this.raycast(D,I,this._exaggeration);return null!==O&&O?(p.scaleAndAdd(D,D,I,O),D[3]=D[2],D[2]*=C,D):null}drawDepth(){const l=this.painter,u=l.context,_=this.proxySourceCache,x=Math.ceil(l.width),C=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===C||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const D=u.gl,I=u.createFramebuffer(x,C,!0);u.activeTexture.set(D.TEXTURE0);const O=new p.Texture(u,{width:x,height:C,data:null},D.RGBA);O.bind(D.NEAREST,D.CLAMP_TO_EDGE),I.colorAttachment.set(O.texture);const V=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,x,C);I.depthAttachment.set(V),this._depthFBO=I,this._depthTexture=O}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,x,C]),function(D,I,O,V){if("globe"===D.transform.projection.name)return;const U=D.context,W=U.gl;U.clear({depth:1});const te=D.useProgram("terrainDepth"),me=new p.DepthMode(W.LESS,p.DepthMode.ReadWrite,D.depthRangeFor3D);for(const se of V){const ce=O.getTile(se),ue=hc(se.projMatrix,0);I.setupElevationDraw(ce,te),te.draw(U,W.TRIANGLES,me,p.StencilMode.disabled,p.ColorMode.unblended,p.CullFaceMode.backCCW,ue,"terrain_depth",I.gridBuffer,I.gridIndexBuffer,I.gridNoSkirtSegments)}}(l,this,_,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,u,_){if(l.getSource()instanceof ye)return this._setupProxiedCoordsForImageSource(l,u,_);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const x=this.proxiedCoords[l.id]=[],C=this.proxyCoords;for(let I=0;I<C.length;I++){const O=C[I],V=this._findTileCoveringTileID(O,l);if(V){const U=this._createProxiedId(O,V,_[O.key]&&_[O.key][l.id]);x.push(U),this.proxyToSource[O.key][l.id]=[U]}}let D=!1;for(let I=0;I<u.length;I++){const O=l.getTile(u[I]);if(!O||!O.hasData())continue;const V=this._findTileCoveringTileID(O.tileID,this.proxySourceCache);if(V&&V.tileID.canonical.z!==O.tileID.canonical.z){const U=this.proxyToSource[V.tileID.key][l.id],W=this._createProxiedId(V.tileID,O,_[V.tileID.key]&&_[V.tileID.key][l.id]);U?U.splice(U.length-1,0,W):this.proxyToSource[V.tileID.key][l.id]=[W],x.push(W),D=!0}}this._sourceTilesOverlap[l.id]=D}_setupProxiedCoordsForImageSource(l,u,_){if(!l.getSource().loaded())return;const x=this.proxiedCoords[l.id]=[],C=this.proxyCoords,D=l.getSource(),I=new p.pointGeometry(D.tileID.x,D.tileID.y)._div(1<<D.tileID.z),O=D.coordinates.map(p.MercatorCoordinate.fromLngLat).reduce((U,W)=>(U.min.x=Math.min(U.min.x,W.x-I.x),U.min.y=Math.min(U.min.y,W.y-I.y),U.max.x=Math.max(U.max.x,W.x-I.x),U.max.y=Math.max(U.max.y,W.y-I.y),U),{min:new p.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new p.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),V=(U,W)=>{const te=U.wrap+U.canonical.x/(1<<U.canonical.z),me=U.canonical.y/(1<<U.canonical.z),se=p.EXTENT/(1<<U.canonical.z),ce=W.wrap+W.canonical.x/(1<<W.canonical.z),ue=W.canonical.y/(1<<W.canonical.z);return te+se<ce+O.min.x||te>ce+O.max.x||me+se<ue+O.min.y||me>ue+O.max.y};for(let U=0;U<C.length;U++){const W=C[U];for(let te=0;te<u.length;te++){const me=l.getTile(u[te]);if(!me||!me.hasData()||V(W,me.tileID))continue;const se=this._createProxiedId(W,me,_[W.key]&&_[W.key][l.id]),ce=this.proxyToSource[W.key][l.id];ce?ce.push(se):this.proxyToSource[W.key][l.id]=[se],x.push(se)}}}_createProxiedId(l,u,_){let x=this.orthoMatrix;if(_){const C=_.find(D=>D.key===u.tileID.key);if(C)return C}if(u.tileID.key!==l.key){const C=l.canonical.z-u.tileID.canonical.z;let D,I,O;x=p.create();const V=u.tileID.wrap-l.wrap<<l.overscaledZ;C>0?(D=p.EXTENT>>C,I=D*((u.tileID.canonical.x<<C)-l.canonical.x+V),O=D*((u.tileID.canonical.y<<C)-l.canonical.y)):(D=p.EXTENT<<-C,I=p.EXTENT*(u.tileID.canonical.x-(l.canonical.x+V<<-C)),O=p.EXTENT*(u.tileID.canonical.y-(l.canonical.y<<-C))),p.ortho(x,0,D,0,D,0,1),p.translate(x,x,[I,O,0])}return new Fl(u.tileID,l.key,x)}_findTileCoveringTileID(l,u){let _=u.getTile(l);if(_&&_.hasData())return _;const x=this._findCoveringTileCache[u.id],C=x[l.key];if(_=C?u.getTileByID(C):null,_&&_.hasData()||null===C)return _;let D=_?_.tileID:l,I=D.overscaledZ;const O=u.getSource().minzoom,V=[];if(!C){const W=u.getSource().maxzoom;if(l.canonical.z>=W){const te=l.canonical.z-W;u.getSource().reparseOverscaled?(I=Math.max(l.canonical.z+2,u.transform.tileZoom),D=new p.OverscaledTileID(I,l.wrap,W,l.canonical.x>>te,l.canonical.y>>te)):0!==te&&(I=W,D=new p.OverscaledTileID(I,l.wrap,W,l.canonical.x>>te,l.canonical.y>>te))}D.key!==l.key&&(V.push(D.key),_=u.getTile(D))}const U=W=>{V.forEach(te=>{x[te]=W}),V.length=0};for(I-=1;I>=O&&(!_||!_.hasData());I--){_&&U(_.tileID.key);const W=D.calculateScaledKey(I);if(_=u.getTileByID(W),_&&_.hasData())break;const te=x[W];if(null===te)break;void 0===te?V.push(W):_=u.getTileByID(te)}return U(_?_.tileID.key:null),_&&_.hasData()?_:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(l,u){let _=this._tilesDirty[l];_||(_=this._tilesDirty[l]={}),_[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=function(u){let _=0;const x=new p.StructArrayLayout2ui4,C=131;for(let D=1;D<129;D++){for(let I=1;I<129;I++)_=D*C+I,x.emplaceBack(_,_+1),x.emplaceBack(_,_+C),x.emplaceBack(_+1,_+C),128===D&&x.emplaceBack(_+C,_+C+1);x.emplaceBack(_+1,_+1+C)}return x}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=p.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Eo{static cacheKey(l,u,_,x){let C=`${u}${x?x.cacheKey:""}`;for(const D of _)l.usedDefines.includes(D)&&(C+=`/${D}`);return C}constructor(l,u,_,x,C,D){const I=l.gl;this.program=I.createProgram();const O=function(ue){const re=[];for(let fe=0;fe<ue.length;fe++){if(null===ue[fe])continue;const oe=ue[fe].split(" ");re.push(oe.pop())}return re}(_.staticAttributes),V=x?x.getBinderAttributes():[],U=O.concat(V);let W=x?x.defines():[];W=W.concat(D.map(ue=>`#define ${ue}`));const te=W.concat(l.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(os):os,os,ro,si.fragmentSource,rs.fragmentSource,_.fragmentSource).join("\n"),me=W.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ro,si.vertexSource,rs.vertexSource,Ia.vertexSource,_.vertexSource).join("\n"),se=I.createShader(I.FRAGMENT_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);I.shaderSource(se,te),I.compileShader(se),I.attachShader(this.program,se);const ce=I.createShader(I.VERTEX_SHADER);if(I.isContextLost())this.failedToCreate=!0;else{I.shaderSource(ce,me),I.compileShader(ce),I.attachShader(this.program,ce),this.attributes={},this.numAttributes=U.length;for(let ue=0;ue<this.numAttributes;ue++)U[ue]&&(I.bindAttribLocation(this.program,ue,U[ue]),this.attributes[U[ue]]=ue);I.linkProgram(this.program),I.deleteShader(ce),I.deleteShader(se),this.fixedUniforms=C(l),this.binderUniforms=x?x.getUniforms(l):[],-1!==D.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new p.Uniform1i(ue=l),u_dem_prev:new p.Uniform1i(ue),u_dem_unpack:new p.Uniform4f(ue),u_dem_tl:new p.Uniform2f(ue),u_dem_scale:new p.Uniform1f(ue),u_dem_tl_prev:new p.Uniform2f(ue),u_dem_scale_prev:new p.Uniform1f(ue),u_dem_size:new p.Uniform1f(ue),u_dem_lerp:new p.Uniform1f(ue),u_exaggeration:new p.Uniform1f(ue),u_depth:new p.Uniform1i(ue),u_depth_size_inv:new p.Uniform2f(ue),u_meter_to_dem:new p.Uniform1f(ue),u_label_plane_matrix_inv:new p.UniformMatrix4f(ue),u_tile_tl_up:new p.Uniform3f(ue),u_tile_tr_up:new p.Uniform3f(ue),u_tile_br_up:new p.Uniform3f(ue),u_tile_bl_up:new p.Uniform3f(ue),u_tile_up_scale:new p.Uniform1f(ue)}),-1!==D.indexOf("FOG")&&(this.fogUniforms=(ue=>({u_fog_matrix:new p.UniformMatrix4f(ue),u_fog_range:new p.Uniform2f(ue),u_fog_color:new p.Uniform4f(ue),u_fog_horizon_blend:new p.Uniform1f(ue),u_fog_temporal_offset:new p.Uniform1f(ue),u_frustum_tl:new p.Uniform3f(ue),u_frustum_tr:new p.Uniform3f(ue),u_frustum_br:new p.Uniform3f(ue),u_frustum_bl:new p.Uniform3f(ue),u_globe_pos:new p.Uniform3f(ue),u_globe_radius:new p.Uniform1f(ue),u_globe_transition:new p.Uniform1f(ue),u_is_globe:new p.Uniform1i(ue),u_viewport:new p.Uniform2f(ue)}))(l))}var ue}setTerrainUniformValues(l,u){if(!this.terrainUniforms)return;const _=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const x in u)_[x].set(this.program,x,u[x])}}setFogUniformValues(l,u){if(!this.fogUniforms)return;const _=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const x in u)_[x].set(this.program,x,u[x])}}draw(l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce){const ue=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(_),l.setStencilMode(x),l.setColorMode(C),l.setCullFace(D);for(const fe of Object.keys(this.fixedUniforms))this.fixedUniforms[fe].set(this.program,fe,I[fe]);se&&se.setUniforms(this.program,l,this.binderUniforms,te,{zoom:me});const re={[ue.LINES]:2,[ue.TRIANGLES]:3,[ue.LINE_STRIP]:1}[u];for(const fe of W.get()){const oe=fe.vaos||(fe.vaos={});(oe[O]||(oe[O]=new Ds)).bind(l,this,V,se?se.getPaintVertexBuffers():[],U,fe.vertexOffset,ce||[]),ue.drawElements(u,fe.primitiveLength*re,ue.UNSIGNED_SHORT,fe.primitiveOffset*re*2)}}}function Kd(f,l,u){const _=1/dr(u,1,l.transform.tileZoom),x=Math.pow(2,u.tileID.overscaledZ),C=u.tileSize*Math.pow(2,l.transform.tileZoom)/x,D=C*(u.tileID.canonical.x+u.tileID.wrap*x),I=C*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[_,f.fromScale,f.toScale],u_fade:f.t,u_pixel_coord_upper:[D>>16,I>>16],u_pixel_coord_lower:[65535&D,65535&I]}}const Jd=p.create(),pl=(f,l,u,_,x,C,D,I,O,V,U)=>{const W=l.style.light,te=W.properties.get("position"),me=[te.x,te.y,te.z],se=p.create$1();"viewport"===W.properties.get("anchor")&&(p.fromRotation(se,-l.transform.angle),p.transformMat3(me,me,se));const ce=W.properties.get("color"),ue=l.transform,re={u_matrix:f,u_lightpos:me,u_lightintensity:W.properties.get("intensity"),u_lightcolor:[ce.r,ce.g,ce.b],u_vertical_gradient:+u,u_opacity:_,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Jd,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:C};return"globe"===ue.projection.name&&(re.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],re.u_zoom_transition=O,re.u_inv_rot_matrix=U,re.u_merc_center=V,re.u_up_dir=ue.projection.upVector(new p.CanonicalTileID(0,0,0),V[0]*p.EXTENT,V[1]*p.EXTENT),re.u_height_lift=I),re},dm=(f,l,u,_,x,C,D,I,O,V,U,W,te)=>{const me=pl(f,l,u,_,x,C,D,V,U,W,te),se={u_height_factor:-Math.pow(2,D.overscaledZ)/O.tileSize/8};return p.extend(me,Kd(I,l,O),se)},Qd=f=>({u_matrix:f}),ah=(f,l,u,_)=>p.extend(Qd(f),Kd(u,l,_)),Ys=(f,l)=>({u_matrix:f,u_world:l}),rh=(f,l,u,_,x)=>p.extend(ah(f,l,u,_),{u_world:x}),yp=p.create(),oh=(f,l,u,_,x,C)=>{const D=f.transform,I="globe"===D.projection.name;let O;if("map"===C.paint.get("circle-pitch-alignment"))if(I){const U=p.globePixelsToTileUnits(D.zoom,l.canonical)*D._pixelsPerMercatorPixel;O=Float32Array.from([U,0,0,U])}else O=D.calculatePixelsToTileUnitsMatrix(u);else O=new Float32Array([D.pixelsToGLUnits[0],0,0,D.pixelsToGLUnits[1]]);const V={u_camera_to_center_distance:D.cameraToCenterDistance,u_matrix:f.translatePosMatrix(l.projMatrix,u,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_device_pixel_ratio:p.exported.devicePixelRatio,u_extrude_scale:O,u_inv_rot_matrix:yp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(I){V.u_inv_rot_matrix=_,V.u_merc_center=x,V.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],V.u_zoom_transition=p.globeToMercatorTransition(D.zoom);const U=x[0]*p.EXTENT,W=x[1]*p.EXTENT;V.u_up_dir=D.projection.upVector(new p.CanonicalTileID(0,0,0),U,W)}return V},Aa=f=>{const l=[];return"map"===f.paint.get("circle-pitch-alignment")&&l.push("PITCH_WITH_MAP"),"map"===f.paint.get("circle-pitch-scale")&&l.push("SCALE_WITH_MAP"),l},um=(f,l,u,_)=>{const x=p.EXTENT/u.tileSize;return{u_matrix:f,u_camera_to_center_distance:l.getCameraToCenterDistance(_),u_extrude_scale:[l.pixelsToGLUnits[0]/x,l.pixelsToGLUnits[1]/x]}},vp=(f,l,u=1)=>({u_matrix:f,u_color:l,u_overlay:0,u_overlay_scale:u}),sh=p.create(),Uf=(f,l,u,_,x,C,D)=>{const I=f.transform,O="globe"===I.projection.name,V=O?p.globePixelsToTileUnits(I.zoom,l.canonical)*I._pixelsPerMercatorPixel:dr(u,1,C),U={u_matrix:l.projMatrix,u_extrude_scale:V,u_intensity:D,u_inv_rot_matrix:sh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(O){U.u_inv_rot_matrix=_,U.u_merc_center=x,U.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],U.u_zoom_transition=p.globeToMercatorTransition(I.zoom);const W=x[0]*p.EXTENT,te=x[1]*p.EXTENT;U.u_up_dir=I.projection.upVector(new p.CanonicalTileID(0,0,0),W,te)}return U},lh=(f,l,u,_,x,C,D,I)=>{const O=f.transform,V=O.calculatePixelsToTileUnitsMatrix(l),U={u_matrix:ch(f,l,u,x),u_pixels_to_tile_units:V,u_device_pixel_ratio:D,u_units_to_pixels:[1/O.pixelsToGLUnits[0],1/O.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:C,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:I};if(pc(u)){const W=Rl(l,f.transform);U.u_texsize=l.lineAtlasTexture.size,U.u_scale=[W,_.fromScale,_.toScale],U.u_mix=_.t}return U},Gf=(f,l,u,_,x,C)=>{const D=f.transform,I=Rl(l,D);return{u_matrix:ch(f,l,u,x),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:D.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:C,u_image:0,u_scale:[I,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Rl(f,l){return 1/dr(f,1,l.tileZoom)}function ch(f,l,u,_){return f.translatePosMatrix(_||l.tileID.projMatrix,l,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function pc(f){const l=f.paint.get("line-dasharray").value;return l.value||"constant"!==l.kind}const $f=(f,l,u,_,x,C)=>{return{u_matrix:f,u_tl_parent:l,u_scale_parent:u,u_fade_t:_.mix,u_opacity:_.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(I=x.paint.get("raster-saturation"),I>0?1-1/(1.001-I):-I),u_contrast_factor:(D=x.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:fc(x.paint.get("raster-hue-rotate")),u_perspective_transform:C};var D,I};function fc(f){f*=Math.PI/180;const l=Math.sin(f),u=Math.cos(f);return[(2*u+1)/3,(-Math.sqrt(3)*l-u+1)/3,(Math.sqrt(3)*l-u+1)/3]}const eu=p.create(),ls=(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce)=>{const ue=x.transform,re={u_is_size_zoom_constant:+("constant"===f||"source"===f),u_is_size_feature_constant:+("constant"===f||"camera"===f),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:ue.width/ue.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:D,u_coord_matrix:I,u_is_text:+O,u_pitch_with_map:+_,u_texsize:V,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:eu,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:eu,u_up_vector:[0,-1,0]};return"globe"===ce.name&&(re.u_tile_id=[U.canonical.x,U.canonical.y,1<<U.canonical.z],re.u_zoom_transition=W,re.u_inv_rot_matrix=me,re.u_merc_center=te,re.u_camera_forward=ue._camera.forward(),re.u_ecef_origin=p.globeECEFOrigin(ue.globeMatrix,U.toUnwrapped()),re.u_tile_matrix=Float32Array.from(ue.globeMatrix),re.u_up_vector=se),re},Qc=(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce,ue)=>p.extend(ls(f,l,u,_,x,C,D,I,O,V,W,te,me,se,ce,ue),{u_gamma_scale:_?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:p.exported.devicePixelRatio,u_is_halo:+U}),Yi=(f,l,u,_,x,C,D,I,O,V,U,W,te,me,se,ce)=>p.extend(Qc(f,l,u,_,x,C,D,I,!0,O,!0,U,W,te,me,se,ce),{u_texsize_icon:V,u_texture_icon:1}),hm=(f,l,u)=>({u_matrix:f,u_opacity:l,u_color:u}),dh=(f,l,u,_,x,C)=>p.extend(function(D,I,O,V){const U=O.imageManager.getPattern(D.from.toString()),W=O.imageManager.getPattern(D.to.toString()),{width:te,height:me}=O.imageManager.getPixelSize(),se=Math.pow(2,V.tileID.overscaledZ),ce=V.tileSize*Math.pow(2,O.transform.tileZoom)/se,ue=ce*(V.tileID.canonical.x+V.tileID.wrap*se),re=ce*V.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:U.tl,u_pattern_br_a:U.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[te,me],u_mix:I.t,u_pattern_size_a:U.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:I.fromScale,u_scale_b:I.toScale,u_tile_units_to_pixels:1/dr(V,1,O.transform.tileZoom),u_pixel_coord_upper:[ue>>16,re>>16],u_pixel_coord_lower:[65535&ue,65535&re]}}(_,C,u,x),{u_matrix:f,u_opacity:l}),uh={fillExtrusion:f=>({u_matrix:new p.UniformMatrix4f(f),u_lightpos:new p.Uniform3f(f),u_lightintensity:new p.Uniform1f(f),u_lightcolor:new p.Uniform3f(f),u_vertical_gradient:new p.Uniform1f(f),u_opacity:new p.Uniform1f(f),u_edge_radius:new p.Uniform1f(f),u_ao:new p.Uniform2f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_up_dir:new p.Uniform3f(f),u_height_lift:new p.Uniform1f(f)}),fillExtrusionPattern:f=>({u_matrix:new p.UniformMatrix4f(f),u_lightpos:new p.Uniform3f(f),u_lightintensity:new p.Uniform1f(f),u_lightcolor:new p.Uniform3f(f),u_vertical_gradient:new p.Uniform1f(f),u_height_factor:new p.Uniform1f(f),u_edge_radius:new p.Uniform1f(f),u_ao:new p.Uniform2f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_up_dir:new p.Uniform3f(f),u_height_lift:new p.Uniform1f(f),u_image:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_pixel_coord_upper:new p.Uniform2f(f),u_pixel_coord_lower:new p.Uniform2f(f),u_scale:new p.Uniform3f(f),u_fade:new p.Uniform1f(f),u_opacity:new p.Uniform1f(f)}),fill:f=>({u_matrix:new p.UniformMatrix4f(f)}),fillPattern:f=>({u_matrix:new p.UniformMatrix4f(f),u_image:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_pixel_coord_upper:new p.Uniform2f(f),u_pixel_coord_lower:new p.Uniform2f(f),u_scale:new p.Uniform3f(f),u_fade:new p.Uniform1f(f)}),fillOutline:f=>({u_matrix:new p.UniformMatrix4f(f),u_world:new p.Uniform2f(f)}),fillOutlinePattern:f=>({u_matrix:new p.UniformMatrix4f(f),u_world:new p.Uniform2f(f),u_image:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_pixel_coord_upper:new p.Uniform2f(f),u_pixel_coord_lower:new p.Uniform2f(f),u_scale:new p.Uniform3f(f),u_fade:new p.Uniform1f(f)}),circle:f=>({u_camera_to_center_distance:new p.Uniform1f(f),u_extrude_scale:new p.UniformMatrix2f(f),u_device_pixel_ratio:new p.Uniform1f(f),u_matrix:new p.UniformMatrix4f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_up_dir:new p.Uniform3f(f)}),collisionBox:f=>({u_matrix:new p.UniformMatrix4f(f),u_camera_to_center_distance:new p.Uniform1f(f),u_extrude_scale:new p.Uniform2f(f)}),collisionCircle:f=>({u_matrix:new p.UniformMatrix4f(f),u_inv_matrix:new p.UniformMatrix4f(f),u_camera_to_center_distance:new p.Uniform1f(f),u_viewport_size:new p.Uniform2f(f)}),debug:f=>({u_color:new p.UniformColor(f),u_matrix:new p.UniformMatrix4f(f),u_overlay:new p.Uniform1i(f),u_overlay_scale:new p.Uniform1f(f)}),clippingMask:f=>({u_matrix:new p.UniformMatrix4f(f)}),heatmap:f=>({u_extrude_scale:new p.Uniform1f(f),u_intensity:new p.Uniform1f(f),u_matrix:new p.UniformMatrix4f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_up_dir:new p.Uniform3f(f)}),heatmapTexture:f=>({u_image:new p.Uniform1i(f),u_color_ramp:new p.Uniform1i(f),u_opacity:new p.Uniform1f(f)}),hillshade:f=>({u_matrix:new p.UniformMatrix4f(f),u_image:new p.Uniform1i(f),u_latrange:new p.Uniform2f(f),u_light:new p.Uniform2f(f),u_shadow:new p.UniformColor(f),u_highlight:new p.UniformColor(f),u_accent:new p.UniformColor(f)}),hillshadePrepare:f=>({u_matrix:new p.UniformMatrix4f(f),u_image:new p.Uniform1i(f),u_dimension:new p.Uniform2f(f),u_zoom:new p.Uniform1f(f),u_unpack:new p.Uniform4f(f)}),line:f=>({u_matrix:new p.UniformMatrix4f(f),u_pixels_to_tile_units:new p.UniformMatrix2f(f),u_device_pixel_ratio:new p.Uniform1f(f),u_units_to_pixels:new p.Uniform2f(f),u_dash_image:new p.Uniform1i(f),u_gradient_image:new p.Uniform1i(f),u_image_height:new p.Uniform1f(f),u_texsize:new p.Uniform2f(f),u_scale:new p.Uniform3f(f),u_mix:new p.Uniform1f(f),u_alpha_discard_threshold:new p.Uniform1f(f),u_trim_offset:new p.Uniform2f(f)}),linePattern:f=>({u_matrix:new p.UniformMatrix4f(f),u_texsize:new p.Uniform2f(f),u_pixels_to_tile_units:new p.UniformMatrix2f(f),u_device_pixel_ratio:new p.Uniform1f(f),u_image:new p.Uniform1i(f),u_units_to_pixels:new p.Uniform2f(f),u_scale:new p.Uniform3f(f),u_fade:new p.Uniform1f(f),u_alpha_discard_threshold:new p.Uniform1f(f)}),raster:f=>({u_matrix:new p.UniformMatrix4f(f),u_tl_parent:new p.Uniform2f(f),u_scale_parent:new p.Uniform1f(f),u_fade_t:new p.Uniform1f(f),u_opacity:new p.Uniform1f(f),u_image0:new p.Uniform1i(f),u_image1:new p.Uniform1i(f),u_brightness_low:new p.Uniform1f(f),u_brightness_high:new p.Uniform1f(f),u_saturation_factor:new p.Uniform1f(f),u_contrast_factor:new p.Uniform1f(f),u_spin_weights:new p.Uniform3f(f),u_perspective_transform:new p.Uniform2f(f)}),symbolIcon:f=>({u_is_size_zoom_constant:new p.Uniform1i(f),u_is_size_feature_constant:new p.Uniform1i(f),u_size_t:new p.Uniform1f(f),u_size:new p.Uniform1f(f),u_camera_to_center_distance:new p.Uniform1f(f),u_rotate_symbol:new p.Uniform1i(f),u_aspect_ratio:new p.Uniform1f(f),u_fade_change:new p.Uniform1f(f),u_matrix:new p.UniformMatrix4f(f),u_label_plane_matrix:new p.UniformMatrix4f(f),u_coord_matrix:new p.UniformMatrix4f(f),u_is_text:new p.Uniform1i(f),u_pitch_with_map:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_camera_forward:new p.Uniform3f(f),u_tile_matrix:new p.UniformMatrix4f(f),u_up_vector:new p.Uniform3f(f),u_ecef_origin:new p.Uniform3f(f),u_texture:new p.Uniform1i(f)}),symbolSDF:f=>({u_is_size_zoom_constant:new p.Uniform1i(f),u_is_size_feature_constant:new p.Uniform1i(f),u_size_t:new p.Uniform1f(f),u_size:new p.Uniform1f(f),u_camera_to_center_distance:new p.Uniform1f(f),u_rotate_symbol:new p.Uniform1i(f),u_aspect_ratio:new p.Uniform1f(f),u_fade_change:new p.Uniform1f(f),u_matrix:new p.UniformMatrix4f(f),u_label_plane_matrix:new p.UniformMatrix4f(f),u_coord_matrix:new p.UniformMatrix4f(f),u_is_text:new p.Uniform1i(f),u_pitch_with_map:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_texture:new p.Uniform1i(f),u_gamma_scale:new p.Uniform1f(f),u_device_pixel_ratio:new p.Uniform1f(f),u_tile_id:new p.Uniform3f(f),u_zoom_transition:new p.Uniform1f(f),u_inv_rot_matrix:new p.UniformMatrix4f(f),u_merc_center:new p.Uniform2f(f),u_camera_forward:new p.Uniform3f(f),u_tile_matrix:new p.UniformMatrix4f(f),u_up_vector:new p.Uniform3f(f),u_ecef_origin:new p.Uniform3f(f),u_is_halo:new p.Uniform1i(f)}),symbolTextAndIcon:f=>({u_is_size_zoom_constant:new p.Uniform1i(f),u_is_size_feature_constant:new p.Uniform1i(f),u_size_t:new p.Uniform1f(f),u_size:new p.Uniform1f(f),u_camera_to_center_distance:new p.Uniform1f(f),u_rotate_symbol:new p.Uniform1i(f),u_aspect_ratio:new p.Uniform1f(f),u_fade_change:new p.Uniform1f(f),u_matrix:new p.UniformMatrix4f(f),u_label_plane_matrix:new p.UniformMatrix4f(f),u_coord_matrix:new p.UniformMatrix4f(f),u_is_text:new p.Uniform1i(f),u_pitch_with_map:new p.Uniform1i(f),u_texsize:new p.Uniform2f(f),u_texsize_icon:new p.Uniform2f(f),u_texture:new p.Uniform1i(f),u_texture_icon:new p.Uniform1i(f),u_gamma_scale:new p.Uniform1f(f),u_device_pixel_ratio:new p.Uniform1f(f),u_is_halo:new p.Uniform1i(f)}),background:f=>({u_matrix:new p.UniformMatrix4f(f),u_opacity:new p.Uniform1f(f),u_color:new p.UniformColor(f)}),backgroundPattern:f=>({u_matrix:new p.UniformMatrix4f(f),u_opacity:new p.Uniform1f(f),u_image:new p.Uniform1i(f),u_pattern_tl_a:new p.Uniform2f(f),u_pattern_br_a:new p.Uniform2f(f),u_pattern_tl_b:new p.Uniform2f(f),u_pattern_br_b:new p.Uniform2f(f),u_texsize:new p.Uniform2f(f),u_mix:new p.Uniform1f(f),u_pattern_size_a:new p.Uniform2f(f),u_pattern_size_b:new p.Uniform2f(f),u_scale_a:new p.Uniform1f(f),u_scale_b:new p.Uniform1f(f),u_pixel_coord_upper:new p.Uniform2f(f),u_pixel_coord_lower:new p.Uniform2f(f),u_tile_units_to_pixels:new p.Uniform1f(f)}),terrainRaster:Ll,terrainDepth:Ll,skybox:f=>({u_matrix:new p.UniformMatrix4f(f),u_sun_direction:new p.Uniform3f(f),u_cubemap:new p.Uniform1i(f),u_opacity:new p.Uniform1f(f),u_temporal_offset:new p.Uniform1f(f)}),skyboxGradient:f=>({u_matrix:new p.UniformMatrix4f(f),u_color_ramp:new p.Uniform1i(f),u_center_direction:new p.Uniform3f(f),u_radius:new p.Uniform1f(f),u_opacity:new p.Uniform1f(f),u_temporal_offset:new p.Uniform1f(f)}),skyboxCapture:f=>({u_matrix_3f:new p.UniformMatrix3f(f),u_sun_direction:new p.Uniform3f(f),u_sun_intensity:new p.Uniform1f(f),u_color_tint_r:new p.Uniform4f(f),u_color_tint_m:new p.Uniform4f(f),u_luminance:new p.Uniform1f(f)}),globeRaster:f=>({u_proj_matrix:new p.UniformMatrix4f(f),u_globe_matrix:new p.UniformMatrix4f(f),u_normalize_matrix:new p.UniformMatrix4f(f),u_merc_matrix:new p.UniformMatrix4f(f),u_zoom_transition:new p.Uniform1f(f),u_merc_center:new p.Uniform2f(f),u_image0:new p.Uniform1i(f),u_grid_matrix:new p.UniformMatrix3f(f),u_frustum_tl:new p.Uniform3f(f),u_frustum_tr:new p.Uniform3f(f),u_frustum_br:new p.Uniform3f(f),u_frustum_bl:new p.Uniform3f(f),u_globe_pos:new p.Uniform3f(f),u_globe_radius:new p.Uniform1f(f),u_viewport:new p.Uniform2f(f)}),globeAtmosphere:f=>({u_frustum_tl:new p.Uniform3f(f),u_frustum_tr:new p.Uniform3f(f),u_frustum_br:new p.Uniform3f(f),u_frustum_bl:new p.Uniform3f(f),u_horizon:new p.Uniform1f(f),u_transition:new p.Uniform1f(f),u_fadeout_range:new p.Uniform1f(f),u_color:new p.Uniform4f(f),u_high_color:new p.Uniform4f(f),u_space_color:new p.Uniform4f(f),u_star_intensity:new p.Uniform1f(f),u_star_density:new p.Uniform1f(f),u_star_size:new p.Uniform1f(f),u_temporal_offset:new p.Uniform1f(f),u_horizon_angle:new p.Uniform1f(f),u_rotation_matrix:new p.UniformMatrix4f(f)})};let zl;function hh(f,l,u,_,x,C,D){const I=f.context,O=I.gl,V=f.transform,U=f.useProgram("collisionBox"),W=[];let te=0,me=0;for(let Le=0;Le<_.length;Le++){const De=_[Le],we=l.getTile(De),Ee=we.getBucket(u);if(!Ee)continue;const Me=no(De,Ee,V);let Re=Me;0===x[0]&&0===x[1]||(Re=f.translatePosMatrix(Me,we,x,C));const Ue=D?Ee.textCollisionBox:Ee.iconCollisionBox,_t=Ee.collisionCircleArray;if(_t.length>0){const Be=p.create(),st=Re;p.mul(Be,Ee.placementInvProjMatrix,V.glCoordMatrix),p.mul(Be,Be,Ee.placementViewportMatrix),W.push({circleArray:_t,circleOffset:me,transform:st,invTransform:Be,projection:Ee.getProjection()}),te+=_t.length/4,me=te}Ue&&(f.terrain&&f.terrain.setupElevationDraw(we,U),U.draw(I,O.LINES,p.DepthMode.disabled,p.StencilMode.disabled,f.colorModeForRenderPass(),p.CullFaceMode.disabled,um(Re,V,we,Ee.getProjection()),u.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,null,V.zoom,null,[Ue.collisionVertexBuffer,Ue.collisionVertexBufferExt]))}if(!D||!W.length)return;const se=f.useProgram("collisionCircle"),ce=new p.StructArrayLayout2f1f2i16;ce.resize(4*te),ce._trim();let ue=0;for(const Le of W)for(let De=0;De<Le.circleArray.length/4;De++){const we=4*De,Ee=Le.circleArray[we+0],Me=Le.circleArray[we+1],Re=Le.circleArray[we+2],Ue=Le.circleArray[we+3];ce.emplace(ue++,Ee,Me,Re,Ue,0),ce.emplace(ue++,Ee,Me,Re,Ue,1),ce.emplace(ue++,Ee,Me,Re,Ue,2),ce.emplace(ue++,Ee,Me,Re,Ue,3)}(!zl||zl.length<2*te)&&(zl=function(Le){const De=2*Le,we=new p.StructArrayLayout3ui6;we.resize(De),we._trim();for(let Ee=0;Ee<De;Ee++){const Me=6*Ee;we.uint16[Me+0]=4*Ee+0,we.uint16[Me+1]=4*Ee+1,we.uint16[Me+2]=4*Ee+2,we.uint16[Me+3]=4*Ee+2,we.uint16[Me+4]=4*Ee+3,we.uint16[Me+5]=4*Ee+0}return we}(te));const re=I.createIndexBuffer(zl,!0),fe=I.createVertexBuffer(ce,p.collisionCircleLayout.members,!0);for(const Le of W){const De={u_matrix:Le.transform,u_inv_matrix:Le.invTransform,u_camera_to_center_distance:(oe=V).getCameraToCenterDistance(Le.projection),u_viewport_size:[oe.width,oe.height]};se.draw(I,O.TRIANGLES,p.DepthMode.disabled,p.StencilMode.disabled,f.colorModeForRenderPass(),p.CullFaceMode.disabled,De,u.id,fe,re,p.SegmentVector.simpleSegment(0,2*Le.circleOffset,Le.circleArray.length,Le.circleArray.length/2),null,V.zoom)}var oe;fe.destroy(),re.destroy()}const mm=p.create();function ed(f,l,u,_,x,C){const{horizontalAlign:D,verticalAlign:I}=p.getAnchorAlignment(f),O=-(D-.5)*l,V=-(I-.5)*u,U=p.evaluateVariableOffset(f,_);return new p.pointGeometry((O/x+U[0])*C,(V/x+U[1])*C)}function mh(f,l,u,_,x,C,D,I,O,V,U){const W=f.text.placedSymbolArray,te=f.text.dynamicLayoutVertexArray,me=f.icon.dynamicLayoutVertexArray,se={},ce=io(I,f.getProjection(),C),ue=C.elevation,re=f.getProjection().upVectorScale(I.canonical,C.center.lat,C.worldSize);te.clear();for(let fe=0;fe<W.length;fe++){const oe=W.get(fe),Le=f.allowVerticalPlacement&&!oe.placedOrientation,De=oe.hidden||!oe.crossTileID||Le?null:_[oe.crossTileID];if(De){const we=new p.pointGeometry(oe.tileAnchorX,oe.tileAnchorY),Ee=f.getProjection().upVector(I.canonical,we.x,we.y),Me=ue?ue.getAtTileOffset(I,we.x,we.y):0,Re=Qn([oe.projectedAnchorX+Me*Ee[0]*re.metersToTile,oe.projectedAnchorY+Me*Ee[1]*re.metersToTile,oe.projectedAnchorZ+Me*Ee[2]*re.metersToTile],u?ce:D),Ue=ll(C.getCameraToCenterDistance(f.getProjection()),Re.signedDistanceFromCamera);let _t=x.evaluateSizeForFeature(f.textSizeData,V,oe)*Ue/p.ONE_EM;u&&(_t*=f.tilePixelRatio/O);const{width:Be,height:st,anchor:ut,textOffset:It,textScale:qe}=De,Ve=ed(ut,Be,st,It,qe,_t);let lt;if(u){const Pt=we.add(Ve),{x:ln,y:Tn,z:$n}=f.getProjection().projectTilePoint(Pt.x,Pt.y,I.canonical);lt=Qn([ln+Me*Ee[0]*re.metersToTile,Tn+Me*Ee[1]*re.metersToTile,$n+Me*Ee[2]*re.metersToTile],D).point}else{const Pt=l?Ve.rotate(-C.angle):Ve;lt=[Re.point[0]+Pt.x,Re.point[1]+Pt.y,0]}const Rt=f.allowVerticalPlacement&&oe.placedOrientation===p.WritingMode.vertical?Math.PI/2:0;for(let Pt=0;Pt<oe.numGlyphs;Pt++)p.addDynamicAttributes(te,lt[0],lt[1],lt[2],Rt);U&&oe.associatedIconIndex>=0&&(se[oe.associatedIconIndex]={shiftedAnchor:lt,angle:Rt})}else Wa(oe.numGlyphs,te)}if(U){me.clear();const fe=f.icon.placedSymbolArray;for(let oe=0;oe<fe.length;oe++){const Le=fe.get(oe);if(Le.hidden)Wa(Le.numGlyphs,me);else{const De=se[oe];if(De)for(let we=0;we<Le.numGlyphs;we++)p.addDynamicAttributes(me,De.shiftedAnchor[0],De.shiftedAnchor[1],De.shiftedAnchor[2],De.angle);else Wa(Le.numGlyphs,me)}}f.icon.dynamicLayoutVertexBuffer.updateData(me)}f.text.dynamicLayoutVertexBuffer.updateData(te)}function Do(f,l,u){return u.iconsInText&&l?"symbolTextAndIcon":f?"symbolSDF":"symbolIcon"}function tu(f,l,u,_,x,C,D,I,O,V,U,W){const te=f.context,me=te.gl,se=f.transform,ce="map"===I,ue="map"===O,re=ce&&"point"!==u.layout.get("symbol-placement"),fe=ce&&!ue&&!re,oe=void 0!==u.layout.get("symbol-sort-key").constantOr(1);let Le=!1;const De=f.depthModeForSublayer(0,p.DepthMode.ReadOnly),we=[p.mercatorXfromLng(se.center.lng),p.mercatorYfromLat(se.center.lat)],Ee=u.layout.get("text-variable-anchor"),Me="globe"===se.projection.name,Re=[],Ue=[0,-1,0];let _t=Ue;!Me&&!se.mercatorFromTransition||ce||(_t=function(Be){const st=Be._camera.getWorldToCamera(Be.worldSize,1),ut=p.multiply([],st,Be.globeMatrix);p.invert(ut,ut);const It=[0,0,0],qe=[0,1,0,0];return p.transformMat4$1(qe,qe,ut),It[0]=qe[0],It[1]=qe[1],It[2]=qe[2],p.normalize(It,It),It}(se));for(const Be of _){const st=l.getTile(Be),ut=st.getBucket(u);if(!ut||"mercator"===ut.projection.name&&Me)continue;const It=x?ut.text:ut.icon;if(!It||ut.fullyClipped||!It.segments.get().length)continue;const qe=It.programConfigurations.get(u.id),Ve=x||ut.sdfIcons,lt=x?ut.textSizeData:ut.iconSizeData,Rt=ue||0!==se.pitch,Pt=p.evaluateSizeForZoom(lt,se.zoom);let ln,Tn,$n,hi,nn=[0,0],Yt=null;if(x){if(Tn=st.glyphAtlasTexture,$n=me.LINEAR,ln=st.glyphAtlasTexture.size,ut.iconsInText){nn=st.imageAtlasTexture.size,Yt=st.imageAtlasTexture;const oo="composite"===lt.kind||"camera"===lt.kind;hi=Rt||f.options.rotating||f.options.zooming||oo?me.LINEAR:me.NEAREST}}else{const oo=1!==u.layout.get("icon-size").constantOr(0)||ut.iconsNeedLinear;Tn=st.imageAtlasTexture,$n=Ve||f.options.rotating||f.options.zooming||oo||Rt?me.LINEAR:me.NEAREST,ln=st.imageAtlasTexture.size}const k="globe"===ut.projection.name,S=k?_t:Ue,H=k?p.globeToMercatorTransition(se.zoom):0,q=io(Be,ut.getProjection(),se),ee=se.calculatePixelsToTileUnitsMatrix(st),Fe=bi(q,st.tileID.canonical,ue,ce,se,ut.getProjection(),ee),et=f.terrain&&ue&&re?p.invert(p.create(),Fe):mm,Qt=ns(q,st.tileID.canonical,ue,ce,se,ut.getProjection(),ee),wn=Ee&&ut.hasTextData(),qt="none"!==u.layout.get("icon-text-fit")&&wn&&ut.hasIconData();if(re){const oo=se.elevation,Ir=oo?oo.getAtTileOffsetFunc(Be,se.center.lat,se.worldSize,ut.getProjection()):vl=>[0,0,0],yl=wi(q,st.tileID.canonical,ue,ce,se,ut.getProjection(),ee);Yc(ut,q,f,x,yl,Qt,ue,V,Ir,Be)}const yi=re||x&&Ee||qt,ba=f.translatePosMatrix(q,st,C,D),Ti=yi?mm:Fe,er=f.translatePosMatrix(Qt,st,C,D,!0),Dc=ut.getProjection().createInversionMatrix(se,Be.canonical),Ao=[];f.terrain&&ue&&Ao.push("PITCH_WITH_MAP_TERRAIN"),k&&Ao.push("PROJECTION_GLOBE_VIEW"),yi&&Ao.push("PROJECTED_POS_ON_VIEWPORT");const _d=Ve&&0!==u.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1);let gu;gu=Ve?ut.iconsInText?Yi(lt.kind,Pt,fe,ue,f,ba,Ti,er,ln,nn,Be,H,we,Dc,S,ut.getProjection()):Qc(lt.kind,Pt,fe,ue,f,ba,Ti,er,x,ln,!0,Be,H,we,Dc,S,ut.getProjection()):ls(lt.kind,Pt,fe,ue,f,ba,Ti,er,x,ln,Be,H,we,Dc,S,ut.getProjection());const _u={program:f.useProgram(Do(Ve,x,ut),qe,Ao),buffers:It,uniformValues:gu,atlasTexture:Tn,atlasTextureIcon:Yt,atlasInterpolation:$n,atlasInterpolationIcon:hi,isSDF:Ve,hasHalo:_d,tile:st,labelPlaneMatrixInv:et};if(oe&&ut.canOverlap){Le=!0;const oo=It.segments.get();for(const Ir of oo)Re.push({segments:new p.SegmentVector([Ir]),sortKey:Ir.sortKey,state:_u})}else Re.push({segments:It.segments,sortKey:0,state:_u})}Le&&Re.sort((Be,st)=>Be.sortKey-st.sortKey);for(const Be of Re){const st=Be.state;if(f.terrain&&f.terrain.setupElevationDraw(st.tile,st.program,{useDepthForOcclusion:!Me,labelPlaneMatrixInv:st.labelPlaneMatrixInv}),te.activeTexture.set(me.TEXTURE0),st.atlasTexture.bind(st.atlasInterpolation,me.CLAMP_TO_EDGE),st.atlasTextureIcon&&(te.activeTexture.set(me.TEXTURE1),st.atlasTextureIcon&&st.atlasTextureIcon.bind(st.atlasInterpolationIcon,me.CLAMP_TO_EDGE)),st.isSDF){const ut=st.uniformValues;st.hasHalo&&(ut.u_is_halo=1,nu(st.buffers,Be.segments,u,f,st.program,De,U,W,ut)),ut.u_is_halo=0}nu(st.buffers,Be.segments,u,f,st.program,De,U,W,st.uniformValues)}}function nu(f,l,u,_,x,C,D,I,O){const V=_.context,U=[f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer,f.globeExtVertexBuffer];x.draw(V,V.gl.TRIANGLES,C,D,I,p.CullFaceMode.disabled,O,u.id,f.layoutVertexBuffer,f.indexBuffer,l,u.paint,_.transform.zoom,f.programConfigurations.get(u.id),U)}function gc(f,l,u,_,x,C,D){const I=f.context.gl,O=u.paint.get("fill-pattern"),V=O&&O.constantOr(1),U=u.getCrossfadeParameters();let W,te,me,se,ce;D?(te=V&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=I.LINES):(te=V?"fillPattern":"fill",W=I.TRIANGLES);for(const ue of _){const re=l.getTile(ue);if(V&&!re.patternsLoaded())continue;const fe=re.getBucket(u);if(!fe)continue;f.prepareDrawTile();const oe=fe.programConfigurations.get(u.id),Le=f.useProgram(te,oe);V&&(f.context.activeTexture.set(I.TEXTURE0),re.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),oe.updatePaintBuffers(U));const De=O.constantOr(null);if(De&&re.imageAtlas){const Ee=re.imageAtlas,Me=Ee.patternPositions[De.to.toString()],Re=Ee.patternPositions[De.from.toString()];Me&&Re&&oe.setConstantPatternPositions(Me,Re)}const we=f.translatePosMatrix(ue.projMatrix,re,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(D){se=fe.indexBuffer2,ce=fe.segments2;const Ee=f.terrain&&f.terrain.renderingToTexture?f.terrain.drapeBufferSize:[I.drawingBufferWidth,I.drawingBufferHeight];me="fillOutlinePattern"===te&&V?rh(we,f,U,re,Ee):Ys(we,Ee)}else se=fe.indexBuffer,ce=fe.segments,me=V?ah(we,f,U,re):Qd(we);f.prepareDrawProgram(f.context,Le,ue.toUnwrapped()),Le.draw(f.context,W,x,f.stencilModeForClipping(ue),C,p.CullFaceMode.disabled,me,u.id,fe.layoutVertexBuffer,se,ce,u.paint,f.transform.zoom,oe)}}function qs(f,l,u,_,x,C,D){const I=f.context,O=I.gl,V=f.transform,U=u.paint.get("fill-extrusion-pattern"),W=U.constantOr(1),te=u.getCrossfadeParameters(),me=u.paint.get("fill-extrusion-opacity"),se=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],ce=u.layout.get("fill-extrusion-edge-radius"),ue="globe"===V.projection.name?p.fillExtrusionHeightLift():0,re="globe"===V.projection.name,fe=re?p.globeToMercatorTransition(V.zoom):0,oe=[p.mercatorXfromLng(V.center.lng),p.mercatorYfromLat(V.center.lat)],Le=[];re&&(Le.push("PROJECTION_GLOBE_VIEW"),f.style.terrainSetForDrapingOnly()&&Le.push("TERRAIN")),se[0]>0&&Le.push("FAUX_AO");for(const De of _){const we=l.getTile(De),Ee=we.getBucket(u);if(!Ee||Ee.projection.name!==V.projection.name)continue;const Me=Ee.programConfigurations.get(u.id),Re=f.useProgram(W?"fillExtrusionPattern":"fillExtrusion",Me,Le);if(f.terrain){const qe=f.terrain;if(f.style.terrainSetForDrapingOnly())qe.setupElevationDraw(we,Re,{useMeterToDem:!0});else{if(!Ee.enableTerrain)continue;if(qe.setupElevationDraw(we,Re,{useMeterToDem:!0}),Nl(I,l,De,Ee,u,qe),!Ee.centroidVertexBuffer){const Ve=Re.attributes.a_centroid_pos;void 0!==Ve&&O.vertexAttrib2f(Ve,0,0)}}}W&&(f.context.activeTexture.set(O.TEXTURE0),we.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Me.updatePaintBuffers(te));const Ue=U.constantOr(null);if(Ue&&we.imageAtlas){const qe=we.imageAtlas,Ve=qe.patternPositions[Ue.to.toString()],lt=qe.patternPositions[Ue.from.toString()];Ve&&lt&&Me.setConstantPatternPositions(Ve,lt)}const _t=f.translatePosMatrix(De.projMatrix,we,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Be=V.projection.createInversionMatrix(V,De.canonical),st=u.paint.get("fill-extrusion-vertical-gradient"),ut=W?dm(_t,f,st,me,se,ce,De,te,we,ue,fe,oe,Be):pl(_t,f,st,me,se,ce,De,ue,fe,oe,Be);f.prepareDrawProgram(I,Re,De.toUnwrapped());const It=[];f.terrain&&It.push(Ee.centroidVertexBuffer),re&&It.push(Ee.layoutVertexExtBuffer),Re.draw(I,I.gl.TRIANGLES,x,C,D,p.CullFaceMode.backCCW,ut,u.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,u.paint,f.transform.zoom,Me,It)}}function Nl(f,l,u,_,x,C){const D=[re=>{let fe=re.canonical.x-1,oe=re.wrap;return fe<0&&(fe=(1<<re.canonical.z)-1,oe--),new p.OverscaledTileID(re.overscaledZ,oe,re.canonical.z,fe,re.canonical.y)},re=>{let fe=re.canonical.x+1,oe=re.wrap;return fe===1<<re.canonical.z&&(fe=0,oe++),new p.OverscaledTileID(re.overscaledZ,oe,re.canonical.z,fe,re.canonical.y)},re=>new p.OverscaledTileID(re.overscaledZ,re.wrap,re.canonical.z,re.canonical.x,(0===re.canonical.y?1<<re.canonical.z:re.canonical.y)-1),re=>new p.OverscaledTileID(re.overscaledZ,re.wrap,re.canonical.z,re.canonical.x,re.canonical.y===(1<<re.canonical.z)-1?0:re.canonical.y+1)],I=re=>{const fe=l.getSource().minzoom,oe=De=>{const we=l.getTileByID(De);if(we&&we.hasData())return we.getBucket(x)},Le=[0,-1,1];for(const De of Le){if(re.overscaledZ+De<fe)continue;const we=oe(re.calculateScaledKey(re.overscaledZ+De));if(we)return we}},O=[0,0,0],V=(re,fe)=>(O[0]=Math.min(re.min.y,fe.min.y),O[1]=Math.max(re.max.y,fe.max.y),O[2]=p.EXTENT-fe.min.x>re.max.x?fe.min.x-p.EXTENT:re.max.x,O),U=(re,fe)=>(O[0]=Math.min(re.min.x,fe.min.x),O[1]=Math.max(re.max.x,fe.max.x),O[2]=p.EXTENT-fe.min.y>re.max.y?fe.min.y-p.EXTENT:re.max.y,O),W=[(re,fe)=>V(re,fe),(re,fe)=>V(fe,re),(re,fe)=>U(re,fe),(re,fe)=>U(fe,re)],te=new p.pointGeometry(0,0);let me,se,ce;const ue=(re,fe,oe,Le,De)=>{const we=[[Le?oe:re,Le?re:oe,0],[Le?oe:fe,Le?fe:oe,0]],Ee=De<0?p.EXTENT+De:De,Me=[Le?Ee:(re+fe)/2,Le?(re+fe)/2:Ee,0];return 0===oe&&De<0||0!==oe&&De>0?C.getForTilePoints(ce,[Me],!0,se):we.push(Me),C.getForTilePoints(u,we,!0,me),Math.max(we[0][2],we[1][2],Me[2])/C.exaggeration()};for(let re=0;re<4;re++){const fe=(re<2?1:5)-re,oe=_.borders[re];if(0===oe.length)continue;const Le=ce=D[re](u),De=I(Le);if(!(De&&De instanceof p.FillExtrusionBucket&&De.enableTerrain)||_.borderDoneWithNeighborZ[re]===De.canonical.z&&De.borderDoneWithNeighborZ[fe]===_.canonical.z||(se=C.findDEMTileFor(Le),!se||!se.dem))continue;if(!me){const Re=C.findDEMTileFor(u);if(!Re||!Re.dem)return;me=Re}const we=De.borders[fe];let Ee=0;const Me=De.borderDoneWithNeighborZ[fe]!==_.canonical.z;if(_.canonical.z===De.canonical.z){for(let Re=0;Re<oe.length;Re++){const Ue=_.featuresOnBorder[oe[Re]],_t=Ue.borders[re];let Be;for(;Ee<we.length&&(Be=De.featuresOnBorder[we[Ee]],!(Be.borders[fe][1]>_t[0]+3));)Me&&De.encodeCentroid(void 0,Be,!1),Ee++;if(Be&&Ee<we.length){const st=Ee;let ut=0;for(;!(Be.borders[fe][0]>_t[1]-3)&&(ut++,++Ee!==we.length);)Be=De.featuresOnBorder[we[Ee]];if(Be=De.featuresOnBorder[we[st]],Ue.intersectsCount()>1||Be.intersectsCount()>1||1!==ut){1!==ut&&(Ee=st),_.encodeCentroid(void 0,Ue,!1),Me&&De.encodeCentroid(void 0,Be,!1);continue}const It=W[re](Ue,Be),qe=re%2?p.EXTENT-1:0;te.x=ue(It[0],Math.min(p.EXTENT-1,It[1]),qe,re<2,It[2]),te.y=0,_.encodeCentroid(te,Ue,!1),Me&&De.encodeCentroid(te,Be,!1)}else _.encodeCentroid(void 0,Ue,!1)}_.borderDoneWithNeighborZ[re]=De.canonical.z,_.needsCentroidUpdate=!0,Me&&(De.borderDoneWithNeighborZ[fe]=_.canonical.z,De.needsCentroidUpdate=!0)}else{for(const Re of oe)_.encodeCentroid(void 0,_.featuresOnBorder[Re],!1);if(Me){for(const Re of we)De.encodeCentroid(void 0,De.featuresOnBorder[Re],!1);De.borderDoneWithNeighborZ[fe]=_.canonical.z,De.needsCentroidUpdate=!0}_.borderDoneWithNeighborZ[re]=De.canonical.z,_.needsCentroidUpdate=!0}}(_.needsCentroidUpdate||!_.centroidVertexBuffer&&0!==_.centroidVertexArray.length)&&_.uploadCentroid(f)}const pm=new p.Color(1,0,0,1),_a=new p.Color(0,1,0,1),td=new p.Color(0,0,1,1),So=new p.Color(1,0,1,1),Ws=new p.Color(0,1,1,1);function Wn(f,l,u){const _=f.context,x=f.transform,C=_.gl,D="globe"===x.projection.name,I=D?["PROJECTION_GLOBE_VIEW"]:null;let O=u.projMatrix;if(D&&p.globeToMercatorTransition(x.zoom)>0){const Ue=p.transitionTileAABBinECEF(u.canonical,x),_t=p.globeDenormalizeECEF(Ue);O=p.multiply(new Float32Array(16),x.globeMatrix,_t),p.multiply(O,x.projMatrix,O)}const V=f.useProgram("debug",null,I),U=l.getTileByID(u.key);f.terrain&&f.terrain.setupElevationDraw(U,V);const W=p.DepthMode.disabled,te=p.StencilMode.disabled,me=f.colorModeForRenderPass();_.activeTexture.set(C.TEXTURE0),f.emptyTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE),D?U._makeGlobeTileDebugBuffers(f.context,x):U._makeDebugTileBoundsBuffers(f.context,x.projection);const ce=U._tileDebugBuffer||f.debugBuffer,ue=U._tileDebugIndexBuffer||f.debugIndexBuffer,re=U._tileDebugSegments||f.debugSegments;V.draw(_,C.LINE_STRIP,W,te,me,p.CullFaceMode.disabled,vp(O,p.Color.red),"$debug",ce,ue,re,null,null,null,[U._globeTileDebugBorderBuffer]);const fe=U.latestRawTileData,oe=Math.floor((fe&&fe.byteLength||0)/1024),Le=l.getTile(u).tileSize,De=512/Math.min(Le,512)*(u.overscaledZ/x.zoom)*.5;let we=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(we+=` => ${u.overscaledZ}`),we+=` ${oe}kb`,function(Ue,_t){Ue.initDebugOverlayCanvas();const Be=Ue.debugOverlayCanvas,st=Ue.context.gl,ut=Ue.debugOverlayCanvas.getContext("2d");ut.clearRect(0,0,Be.width,Be.height),ut.shadowColor="white",ut.shadowBlur=2,ut.lineWidth=1.5,ut.strokeStyle="white",ut.textBaseline="top",ut.font="bold 36px Open Sans, sans-serif",ut.fillText(_t,5,5),ut.strokeText(_t,5,5),Ue.debugOverlayTexture.update(Be),Ue.debugOverlayTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE)}(f,we);const Ee=U._tileDebugTextBuffer||f.debugBuffer,Me=U._tileDebugTextIndexBuffer||f.quadTriangleIndexBuffer,Re=U._tileDebugTextSegments||f.debugSegments;V.draw(_,C.TRIANGLES,W,te,p.ColorMode.alphaBlended,p.CullFaceMode.disabled,vp(O,p.Color.transparent,De),"$debug",Ee,Me,Re,null,null,null,[U._globeTileDebugTextBuffer])}function nd(f,l,u,_){Zs(f,0,l+u/2,f.transform.width,u,_)}function fm(f,l,u,_){Zs(f,l-u/2,0,u,f.transform.height,_)}function Zs(f,l,u,_,x,C){const D=f.context,I=D.gl;I.enable(I.SCISSOR_TEST),I.scissor(l*p.exported.devicePixelRatio,u*p.exported.devicePixelRatio,_*p.exported.devicePixelRatio,x*p.exported.devicePixelRatio),D.clear({color:C}),I.disable(I.SCISSOR_TEST)}const Vr=p.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:xp}=Vr;function cs(f,l,u,_){f.emplaceBack(l,u,_)}class fl{constructor(l){this.vertexArray=new p.StructArrayLayout3f12,this.indices=new p.StructArrayLayout3ui6,cs(this.vertexArray,-1,-1,1),cs(this.vertexArray,1,-1,1),cs(this.vertexArray,-1,1,1),cs(this.vertexArray,1,1,1),cs(this.vertexArray,-1,-1,-1),cs(this.vertexArray,1,-1,-1),cs(this.vertexArray,-1,1,-1),cs(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,xp),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=p.SegmentVector.simpleSegment(0,0,36,12)}}function yr(f,l,u,_,x,C){const D=f.gl,I=l.paint.get("sky-atmosphere-color"),O=l.paint.get("sky-atmosphere-halo-color"),V=l.paint.get("sky-atmosphere-sun-intensity"),U={u_matrix_3f:p.fromMat4(p.create$1(),_),u_sun_direction:x,u_sun_intensity:V,u_color_tint_r:[(se=I).r,se.g,se.b,se.a],u_color_tint_m:[(ce=O).r,ce.g,ce.b,ce.a],u_luminance:5e-5};var se,ce;D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+C,l.skyboxTexture,0),u.draw(f,D.TRIANGLES,p.DepthMode.disabled,p.StencilMode.disabled,p.ColorMode.unblended,p.CullFaceMode.frontCW,U,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const iu=p.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class _c{constructor(l){const u=new p.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const _=new p.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,3,0),this.vertexBuffer=l.createVertexBuffer(u,iu.members),this.indexBuffer=l.createIndexBuffer(_),this.segments=p.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const bc={symbol:function(f,l,u,_,x){if("translucent"!==f.renderPass)return;const C=p.StencilMode.disabled,D=f.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(I,O,V,U,W,te,me){const se=O.transform,ce="map"===W,ue="map"===te;for(const re of I){const fe=U.getTile(re),oe=fe.getBucket(V);if(!oe||!oe.text||!oe.text.segments.get().length)continue;const Le=p.evaluateSizeForZoom(oe.textSizeData,se.zoom),De=io(re,oe.getProjection(),se),we=se.calculatePixelsToTileUnitsMatrix(fe),Ee=bi(De,fe.tileID.canonical,ue,ce,se,oe.getProjection(),we),Me="none"!==V.layout.get("icon-text-fit")&&oe.hasIconData();if(Le){const Re=Math.pow(2,se.zoom-fe.tileID.overscaledZ);mh(oe,ce,ue,me,p.symbolSize,se,Ee,re,Re,Le,Me)}}}(_,f,u,l,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),x),0!==u.paint.get("icon-opacity").constantOr(1)&&tu(f,l,u,_,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),C,D),0!==u.paint.get("text-opacity").constantOr(1)&&tu(f,l,u,_,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),C,D),l.map.showCollisionBoxes&&(hh(f,l,u,_,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),hh(f,l,u,_,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(f,l,u,_){if("translucent"!==f.renderPass)return;const x=u.paint.get("circle-opacity"),C=u.paint.get("circle-stroke-width"),D=u.paint.get("circle-stroke-opacity"),I=void 0!==u.layout.get("circle-sort-key").constantOr(1);if(0===x.constantOr(1)&&(0===C.constantOr(1)||0===D.constantOr(1)))return;const O=f.context,V=O.gl,U=f.transform,W=f.depthModeForSublayer(0,p.DepthMode.ReadOnly),te=p.StencilMode.disabled,me=f.colorModeForRenderPass(),se="globe"===U.projection.name,ce=[p.mercatorXfromLng(U.center.lng),p.mercatorYfromLat(U.center.lat)],ue=[];for(let fe=0;fe<_.length;fe++){const oe=_[fe],Le=l.getTile(oe),De=Le.getBucket(u);if(!De||De.projection.name!==U.projection.name)continue;const we=De.programConfigurations.get(u.id),Ee=Aa(u);se&&Ee.push("PROJECTION_GLOBE_VIEW");const Me=f.useProgram("circle",we,Ee),Re=De.layoutVertexBuffer,Ue=De.globeExtVertexBuffer,_t=De.indexBuffer,Be=U.projection.createInversionMatrix(U,oe.canonical),st={programConfiguration:we,program:Me,layoutVertexBuffer:Re,globeExtVertexBuffer:Ue,indexBuffer:_t,uniformValues:oh(f,oe,Le,Be,ce,u),tile:Le};if(I){const ut=De.segments.get();for(const It of ut)ue.push({segments:new p.SegmentVector([It]),sortKey:It.sortKey,state:st})}else ue.push({segments:De.segments,sortKey:0,state:st})}I&&ue.sort((fe,oe)=>fe.sortKey-oe.sortKey);const re={useDepthForOcclusion:!se};for(const fe of ue){const{programConfiguration:oe,program:Le,layoutVertexBuffer:De,globeExtVertexBuffer:we,indexBuffer:Ee,uniformValues:Me,tile:Re}=fe.state,Ue=fe.segments;f.terrain&&f.terrain.setupElevationDraw(Re,Le,re),f.prepareDrawProgram(O,Le,Re.tileID.toUnwrapped()),Le.draw(O,V.TRIANGLES,W,te,me,p.CullFaceMode.disabled,Me,u.id,De,Ee,Ue,u.paint,U.zoom,oe,[we])}},heatmap:function(f,l,u,_){if(0!==u.paint.get("heatmap-opacity"))if("offscreen"===f.renderPass){const x=f.context,C=x.gl,D=p.StencilMode.disabled,I=new p.ColorMode([C.ONE,C.ONE],p.Color.transparent,[!0,!0,!0,!0]);(function(me,se,ce,ue){const re=me.gl,fe=se.width*ue,oe=se.height*ue;me.activeTexture.set(re.TEXTURE1),me.viewport.set([0,0,fe,oe]);let Le=ce.heatmapFbo;if(!Le||Le&&(Le.width!==fe||Le.height!==oe)){Le&&Le.destroy();const De=re.createTexture();re.bindTexture(re.TEXTURE_2D,De),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),Le=ce.heatmapFbo=me.createFramebuffer(fe,oe,!1),function(we,Ee,Me,Re,Ue,_t){const Be=we.gl;Be.texImage2D(Be.TEXTURE_2D,0,Be.RGBA,Ue,_t,0,Be.RGBA,we.extRenderToTextureHalfFloat?we.extTextureHalfFloat.HALF_FLOAT_OES:Be.UNSIGNED_BYTE,null),Re.colorAttachment.set(Me)}(me,0,De,Le,fe,oe)}else re.bindTexture(re.TEXTURE_2D,Le.colorAttachment.get()),me.bindFramebuffer.set(Le.framebuffer)})(x,f,u,"globe"===f.transform.projection.name?.5:.25),x.clear({color:p.Color.transparent});const O=f.transform,V="globe"===O.projection.name,U=V?["PROJECTION_GLOBE_VIEW"]:null,W=V?p.CullFaceMode.frontCCW:p.CullFaceMode.disabled,te=[p.mercatorXfromLng(O.center.lng),p.mercatorYfromLat(O.center.lat)];for(let me=0;me<_.length;me++){const se=_[me];if(l.hasRenderableParent(se))continue;const ce=l.getTile(se),ue=ce.getBucket(u);if(!ue||ue.projection.name!==O.projection.name)continue;const re=ue.programConfigurations.get(u.id),fe=f.useProgram("heatmap",re,U),{zoom:oe}=f.transform;f.terrain&&f.terrain.setupElevationDraw(ce,fe),f.prepareDrawProgram(x,fe,se.toUnwrapped());const Le=O.projection.createInversionMatrix(O,se.canonical);fe.draw(x,C.TRIANGLES,p.DepthMode.disabled,D,I,W,Uf(f,se,ce,Le,te,oe,u.paint.get("heatmap-intensity")),u.id,ue.layoutVertexBuffer,ue.indexBuffer,ue.segments,u.paint,f.transform.zoom,re,V?[ue.globeExtVertexBuffer]:null)}x.viewport.set([0,0,f.width,f.height])}else"translucent"===f.renderPass&&(f.context.setColorMode(f.colorModeForRenderPass()),function(x,C){const D=x.context,I=D.gl,O=C.heatmapFbo;if(!O)return;D.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,O.colorAttachment.get()),D.activeTexture.set(I.TEXTURE1);let V=C.colorRampTexture;V||(V=C.colorRampTexture=new p.Texture(D,C.colorRamp,I.RGBA)),V.bind(I.LINEAR,I.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(D,I.TRIANGLES,p.DepthMode.disabled,p.StencilMode.disabled,x.colorModeForRenderPass(),p.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:C.paint.get("heatmap-opacity")},C.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,C.paint,x.transform.zoom)}(f,u))},line:function(f,l,u,_){if("translucent"!==f.renderPass)return;const x=u.paint.get("line-opacity"),C=u.paint.get("line-width");if(0===x.constantOr(1)||0===C.constantOr(1))return;const D=f.depthModeForSublayer(0,p.DepthMode.ReadOnly),I=f.colorModeForRenderPass(),O=f.terrain&&f.terrain.renderingToTexture?1:p.exported.devicePixelRatio,V=u.paint.get("line-dasharray"),U=V.constantOr(1),W=u.layout.get("line-cap"),te=u.paint.get("line-pattern"),me=te.constantOr(1),se=u.paint.get("line-gradient"),ce=u.getCrossfadeParameters(),ue=me?"linePattern":"line",re=f.context,fe=re.gl,oe=(De=>{const we=[];pc(De)&&we.push("RENDER_LINE_DASH"),De.paint.get("line-gradient")&&we.push("RENDER_LINE_GRADIENT");const Ee=De.paint.get("line-trim-offset");0===Ee[0]&&0===Ee[1]||we.push("RENDER_LINE_TRIM_OFFSET");const Me=De.paint.get("line-pattern").constantOr(1),Re=1!==De.paint.get("line-opacity").constantOr(1);return!Me&&Re&&we.push("RENDER_LINE_ALPHA_DISCARD"),we})(u);let Le=oe.includes("RENDER_LINE_ALPHA_DISCARD");f.terrain&&f.terrain.clipOrMaskOverlapStencilType()&&(Le=!1);for(const De of _){const we=l.getTile(De);if(me&&!we.patternsLoaded())continue;const Ee=we.getBucket(u);if(!Ee)continue;f.prepareDrawTile();const Me=Ee.programConfigurations.get(u.id),Re=f.useProgram(ue,Me,oe),Ue=te.constantOr(null);if(Ue&&we.imageAtlas){const lt=we.imageAtlas,Rt=lt.patternPositions[Ue.to.toString()],Pt=lt.patternPositions[Ue.from.toString()];Rt&&Pt&&Me.setConstantPatternPositions(Rt,Pt)}const _t=V.constantOr(null),Be=W.constantOr(null);if(!me&&_t&&Be&&we.lineAtlas){const lt=we.lineAtlas,Rt=lt.getDash(_t.to,Be),Pt=lt.getDash(_t.from,Be);Rt&&Pt&&Me.setConstantPatternPositions(Rt,Pt)}let[st,ut]=u.paint.get("line-trim-offset");if("round"===Be||"square"===Be){const lt=1;st!==ut&&(0===st&&(st-=lt),1===ut&&(ut+=lt))}const It=f.terrain?De.projMatrix:null,qe=me?Gf(f,we,u,ce,It,O):lh(f,we,u,ce,It,Ee.lineClipsArray.length,O,[st,ut]);if(se){const lt=Ee.gradients[u.id];let Rt=lt.texture;if(u.gradientVersion!==lt.version){let Pt=256;if(u.stepInterpolant){const ln=l.getSource().maxzoom,Tn=De.canonical.z===ln?Math.ceil(1<<f.transform.maxZoom-De.canonical.z):1;Pt=p.clamp(p.nextPowerOfTwo(Ee.maxLineLength/p.EXTENT*1024*Tn),256,re.maxTextureSize)}lt.gradient=p.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:Pt,image:lt.gradient||void 0,clips:Ee.lineClipsArray}),lt.texture?lt.texture.update(lt.gradient):lt.texture=new p.Texture(re,lt.gradient,fe.RGBA),lt.version=u.gradientVersion,Rt=lt.texture}re.activeTexture.set(fe.TEXTURE1),Rt.bind(u.stepInterpolant?fe.NEAREST:fe.LINEAR,fe.CLAMP_TO_EDGE)}U&&(re.activeTexture.set(fe.TEXTURE0),we.lineAtlasTexture.bind(fe.LINEAR,fe.REPEAT),Me.updatePaintBuffers(ce)),me&&(re.activeTexture.set(fe.TEXTURE0),we.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),Me.updatePaintBuffers(ce)),f.prepareDrawProgram(re,Re,De.toUnwrapped());const Ve=lt=>{Re.draw(re,fe.TRIANGLES,D,lt,I,p.CullFaceMode.disabled,qe,u.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,u.paint,f.transform.zoom,Me,[Ee.layoutVertexBuffer2])};if(Le){const lt=f.stencilModeForClipping(De).ref;0===lt&&f.terrain&&re.clear({stencil:0});const Rt={func:fe.EQUAL,mask:255};qe.u_alpha_discard_threshold=.8,Ve(new p.StencilMode(Rt,lt,255,fe.KEEP,fe.KEEP,fe.INVERT)),qe.u_alpha_discard_threshold=0,Ve(new p.StencilMode(Rt,lt,255,fe.KEEP,fe.KEEP,fe.KEEP))}else Ve(f.stencilModeForClipping(De))}Le&&(f.resetStencilClippingMasks(),f.terrain&&re.clear({stencil:0}))},fill:function(f,l,u,_){const x=u.paint.get("fill-color"),C=u.paint.get("fill-opacity");if(0===C.constantOr(1))return;const D=f.colorModeForRenderPass(),I=u.paint.get("fill-pattern"),O=f.opaquePassEnabledForLayer()&&!I.constantOr(1)&&1===x.constantOr(p.Color.transparent).a&&1===C.constantOr(0)?"opaque":"translucent";if(f.renderPass===O){const V=f.depthModeForSublayer(1,"opaque"===f.renderPass?p.DepthMode.ReadWrite:p.DepthMode.ReadOnly);gc(f,l,u,_,V,D,!1)}if("translucent"===f.renderPass&&u.paint.get("fill-antialias")){const V=f.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,p.DepthMode.ReadOnly);gc(f,l,u,_,V,D,!0)}},"fill-extrusion":function(f,l,u,_){const x=u.paint.get("fill-extrusion-opacity");if(0!==x&&"translucent"===f.renderPass){const C=new p.DepthMode(f.context.gl.LEQUAL,p.DepthMode.ReadWrite,f.depthRangeFor3D);if(1!==x||u.paint.get("fill-extrusion-pattern").constantOr(1))qs(f,l,u,_,C,p.StencilMode.disabled,p.ColorMode.disabled),qs(f,l,u,_,C,f.stencilModeFor3D(),f.colorModeForRenderPass()),f.resetStencilClippingMasks();else{const D=f.colorModeForRenderPass();qs(f,l,u,_,C,p.StencilMode.disabled,D)}}},hillshade:function(f,l,u,_){if("offscreen"!==f.renderPass&&"translucent"!==f.renderPass)return;const x=f.context,C=f.depthModeForSublayer(0,p.DepthMode.ReadOnly),D=f.colorModeForRenderPass(),I=f.terrain&&f.terrain.renderingToTexture,[O,V]="translucent"!==f.renderPass||I?[{},_]:f.stencilConfigForOverlap(_);for(const U of V){const W=l.getTile(U);if(W.needsHillshadePrepare&&"offscreen"===f.renderPass)$s(f,W,u,C,p.StencilMode.disabled,D);else if("translucent"===f.renderPass){const te=I&&f.terrain?f.terrain.stencilModeForRTTOverlap(U):O[U.overscaledZ];ko(f,U,W,u,C,te,D)}}x.viewport.set([0,0,f.width,f.height]),f.resetStencilClippingMasks()},raster:function(f,l,u,_,x,C){if("translucent"!==f.renderPass||0===u.paint.get("raster-opacity")||!_.length)return;const D=f.context,I=D.gl,O=l.getSource(),V=f.useProgram("raster"),U=f.colorModeForRenderPass(),W=f.terrain&&f.terrain.renderingToTexture,[te,me]=O instanceof ye||W?[{},_]:f.stencilConfigForOverlap(_),se=me[me.length-1].overscaledZ,ce=!f.options.moving;for(const ue of me){const re=W?p.DepthMode.disabled:f.depthModeForSublayer(ue.overscaledZ-se,1===u.paint.get("raster-opacity")?p.DepthMode.ReadWrite:p.DepthMode.ReadOnly,I.LESS),fe=ue.toUnwrapped(),oe=l.getTile(ue);if(W&&(!oe||!oe.hasData()))continue;const Le=W?ue.projMatrix:f.transform.calculateProjMatrix(fe,ce),De=f.terrain&&W?f.terrain.stencilModeForRTTOverlap(ue):te[ue.overscaledZ],we=C?0:u.paint.get("raster-fade-duration");oe.registerFadeDuration(we);const Ee=l.findLoadedParent(ue,0),Me=Mo(oe,Ee,l,f.transform,we);let Re,Ue;f.terrain&&f.terrain.prepareDrawTile();const _t="nearest"===u.paint.get("raster-resampling")?I.NEAREST:I.LINEAR;D.activeTexture.set(I.TEXTURE0),oe.texture.bind(_t,I.CLAMP_TO_EDGE),D.activeTexture.set(I.TEXTURE1),Ee?(Ee.texture.bind(_t,I.CLAMP_TO_EDGE),Re=Math.pow(2,Ee.tileID.overscaledZ-oe.tileID.overscaledZ),Ue=[oe.tileID.canonical.x*Re%1,oe.tileID.canonical.y*Re%1]):oe.texture.bind(_t,I.CLAMP_TO_EDGE);const Be=$f(Le,Ue||[0,0],Re||1,Me,u,O instanceof ye?O.perspectiveTransform:[0,0]);if(f.prepareDrawProgram(D,V,fe),O instanceof ye)O.boundsBuffer&&O.boundsSegments&&V.draw(D,I.TRIANGLES,re,p.StencilMode.disabled,U,p.CullFaceMode.disabled,Be,u.id,O.boundsBuffer,f.quadTriangleIndexBuffer,O.boundsSegments);else{const{tileBoundsBuffer:st,tileBoundsIndexBuffer:ut,tileBoundsSegments:It}=f.getTileBoundsBuffers(oe);V.draw(D,I.TRIANGLES,re,De,U,p.CullFaceMode.disabled,Be,u.id,st,ut,It)}}f.resetStencilClippingMasks()},background:function(f,l,u,_){const x=u.paint.get("background-color"),C=u.paint.get("background-opacity");if(0===C)return;const D=f.context,I=D.gl,O=f.transform,V=O.tileSize,U=u.paint.get("background-pattern");if(f.isPatternMissing(U))return;const W=!U&&1===x.a&&1===C&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==W)return;const te=p.StencilMode.disabled,me=f.depthModeForSublayer(0,"opaque"===W?p.DepthMode.ReadWrite:p.DepthMode.ReadOnly),se=f.colorModeForRenderPass(),ce=f.useProgram(U?"backgroundPattern":"background");let ue,re=_;re||(ue=f.getBackgroundTiles(),re=Object.values(ue).map(oe=>oe.tileID)),U&&(D.activeTexture.set(I.TEXTURE0),f.imageManager.bind(f.context));const fe=u.getCrossfadeParameters();for(const oe of re){const Le=oe.toUnwrapped(),De=_?oe.projMatrix:f.transform.calculateProjMatrix(Le);f.prepareDrawTile();const we=l?l.getTile(oe):ue?ue[oe.key]:new p.Tile(oe,V,O.zoom,f),Ee=U?dh(De,C,f,U,{tileID:oe,tileSize:V},fe):hm(De,C,x);f.prepareDrawProgram(D,ce,Le);const{tileBoundsBuffer:Me,tileBoundsIndexBuffer:Re,tileBoundsSegments:Ue}=f.getTileBoundsBuffers(we);ce.draw(D,I.TRIANGLES,me,te,se,p.CullFaceMode.disabled,Ee,u.id,Me,Re,Ue)}},sky:function(f,l,u){const _=f.transform,x="mercator"===_.projection.name||"globe"===_.projection.name?1:p.smoothstep(7,8,_.zoom),C=u.paint.get("sky-opacity")*x;if(0===C)return;const D=f.context,I=u.paint.get("sky-type"),O=new p.DepthMode(D.gl.LEQUAL,p.DepthMode.ReadOnly,[0,1]),V=f.frameCounter/1e3%1;"atmosphere"===I?"offscreen"===f.renderPass?u.needsSkyboxCapture(f)&&(function(U,W,te,me){const se=U.context,ce=se.gl;let ue=W.skyboxFbo;if(!ue){ue=W.skyboxFbo=se.createFramebuffer(32,32,!1),W.skyboxGeometry=new fl(se),W.skyboxTexture=se.gl.createTexture(),ce.bindTexture(ce.TEXTURE_CUBE_MAP,W.skyboxTexture),ce.texParameteri(ce.TEXTURE_CUBE_MAP,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_CUBE_MAP,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_CUBE_MAP,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_CUBE_MAP,ce.TEXTURE_MAG_FILTER,ce.LINEAR);for(let Le=0;Le<6;++Le)ce.texImage2D(ce.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,ce.RGBA,32,32,0,ce.RGBA,ce.UNSIGNED_BYTE,null)}se.bindFramebuffer.set(ue.framebuffer),se.viewport.set([0,0,32,32]);const re=W.getCenter(U,!0),fe=U.useProgram("skyboxCapture"),oe=new Float64Array(16);p.identity(oe),p.rotateY(oe,oe,.5*-Math.PI),yr(se,W,fe,oe,re,0),p.identity(oe),p.rotateY(oe,oe,.5*Math.PI),yr(se,W,fe,oe,re,1),p.identity(oe),p.rotateX(oe,oe,.5*-Math.PI),yr(se,W,fe,oe,re,2),p.identity(oe),p.rotateX(oe,oe,.5*Math.PI),yr(se,W,fe,oe,re,3),p.identity(oe),yr(se,W,fe,oe,re,4),p.identity(oe),p.rotateY(oe,oe,Math.PI),yr(se,W,fe,oe,re,5),se.viewport.set([0,0,U.width,U.height])}(f,u),u.markSkyboxValid(f)):"sky"===f.renderPass&&function(U,W,te,me,se){const ce=U.context,ue=ce.gl,re=U.transform,fe=U.useProgram("skybox");ce.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_CUBE_MAP,W.skyboxTexture);const oe={u_matrix:re.skyboxMatrix,u_sun_direction:W.getCenter(U,!1),u_cubemap:0,u_opacity:me,u_temporal_offset:se};U.prepareDrawProgram(ce,fe),fe.draw(ce,ue.TRIANGLES,te,p.StencilMode.disabled,U.colorModeForRenderPass(),p.CullFaceMode.backCW,oe,"skybox",W.skyboxGeometry.vertexBuffer,W.skyboxGeometry.indexBuffer,W.skyboxGeometry.segment)}(f,u,O,C,V):"gradient"===I&&"sky"===f.renderPass&&function(U,W,te,me,se){const ce=U.context,ue=ce.gl,re=U.transform,fe=U.useProgram("skyboxGradient");W.skyboxGeometry||(W.skyboxGeometry=new fl(ce)),ce.activeTexture.set(ue.TEXTURE0);let oe=W.colorRampTexture;oe||(oe=W.colorRampTexture=new p.Texture(ce,W.colorRamp,ue.RGBA)),oe.bind(ue.LINEAR,ue.CLAMP_TO_EDGE);const Le=(De=re.skyboxMatrix,we=W.getCenter(U,!1),Ee=W.paint.get("sky-gradient-radius"),Me=me,Re=se,{u_matrix:De,u_color_ramp:0,u_center_direction:we,u_radius:p.degToRad(Ee),u_opacity:Me,u_temporal_offset:Re});var De,we,Ee,Me,Re;U.prepareDrawProgram(ce,fe),fe.draw(ce,ue.TRIANGLES,te,p.StencilMode.disabled,U.colorModeForRenderPass(),p.CullFaceMode.backCW,Le,"skyboxGradient",W.skyboxGeometry.vertexBuffer,W.skyboxGeometry.indexBuffer,W.skyboxGeometry.segment)}(f,u,O,C,V)},debug:function(f,l,u){for(let _=0;_<u.length;_++)Wn(f,l,u[_])},custom:function(f,l,u){const _=f.context,x=u.implementation;if(f.transform.projection.unsupportedLayers&&f.transform.projection.unsupportedLayers.includes("custom"))p.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===f.renderPass){const C=x.prerender;C&&(f.setCustomLayerDefaults(),_.setColorMode(f.colorModeForRenderPass()),C.call(x,_.gl,f.transform.customLayerMatrix()),_.setDirty(),f.setBaseState())}else if("translucent"===f.renderPass){f.setCustomLayerDefaults(),_.setColorMode(f.colorModeForRenderPass()),_.setStencilMode(p.StencilMode.disabled);const C="3d"===x.renderingMode?new p.DepthMode(f.context.gl.LEQUAL,p.DepthMode.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,p.DepthMode.ReadOnly);_.setDepthMode(C),x.render(_.gl,f.transform.customLayerMatrix()),_.setDirty(),f.setBaseState(),_.bindFramebuffer.set(null)}}};class Is{constructor(l,u){this.context=new de(l),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=p.SourceCache.maxUnderzooming+p.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new is,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,u){const _=!!l&&!!l.terrain&&this.transform.projection.supportsTerrain;if(!(_||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ss(this,l));const x=this._terrain;this.transform.elevation=_?x:null,x.update(l,this.transform,u)}_updateFog(l){const u=l.fog;if(!u||"globe"===this.transform.projection.name||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[_,x]=u.getFovAdjustedRange(this.transform._fov);if(_>x)return void(this.transform.fogCullDistSq=null);const C=_+.78*(x-_);this.transform.fogCullDistSq=C*C}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,u){if(this.width=l*p.exported.devicePixelRatio,this.height=u*p.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style.order)this.style._layers[_].resize()}setup(){const l=this.context,u=new p.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(p.EXTENT,0),u.emplaceBack(0,p.EXTENT),u.emplaceBack(p.EXTENT,p.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(u,p.posAttributes.members),this.tileExtentSegments=p.SegmentVector.simpleSegment(0,0,4,2);const _=new p.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(p.EXTENT,0),_.emplaceBack(0,p.EXTENT),_.emplaceBack(p.EXTENT,p.EXTENT),this.debugBuffer=l.createVertexBuffer(_,p.posAttributes.members),this.debugSegments=p.SegmentVector.simpleSegment(0,0,4,5);const x=new p.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(x,p.posAttributes.members),this.viewportSegments=p.SegmentVector.simpleSegment(0,0,4,2);const C=new p.StructArrayLayout4i8;C.emplaceBack(0,0,0,0),C.emplaceBack(p.EXTENT,0,p.EXTENT,0),C.emplaceBack(0,p.EXTENT,0,p.EXTENT),C.emplaceBack(p.EXTENT,p.EXTENT,p.EXTENT,p.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(C,p.boundsAttributes.members),this.mercatorBoundsSegments=p.SegmentVector.simpleSegment(0,0,4,2);const D=new p.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(D);const I=new p.StructArrayLayout1ui2;for(const V of[0,1,3,2,0])I.emplaceBack(V);this.debugIndexBuffer=l.createIndexBuffer(I),this.emptyTexture=new p.Texture(l,new p.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),l.gl.RGBA),this.identityMat=p.create();const O=this.context.gl;this.stencilClearMode=new p.StencilMode({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO),this.loadTimeStamps.push(p.window.performance.now()),this.atmosphereBuffer=new _c(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,u=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(l,u.TRIANGLES,p.DepthMode.disabled,this.stencilClearMode,p.ColorMode.disabled,p.CullFaceMode.disabled,ih(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(l,u,_){if(!u||this.currentStencilSource===u.id||!l.isTileClipped()||!_||0===_.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let I=!1;for(const O of _)if(void 0===this._tileClippingMaskIDs[O.key]){I=!0;break}if(!I)return}this.currentStencilSource=u.id;const x=this.context,C=x.gl;this.nextStencilID+_.length>256&&this.clearStencil(),x.setColorMode(p.ColorMode.disabled),x.setDepthMode(p.DepthMode.disabled);const D=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const I of _){const O=u.getTile(I),V=this._tileClippingMaskIDs[I.key]=this.nextStencilID++,{tileBoundsBuffer:U,tileBoundsIndexBuffer:W,tileBoundsSegments:te}=this.getTileBoundsBuffers(O);D.draw(x,C.TRIANGLES,p.DepthMode.disabled,new p.StencilMode({func:C.ALWAYS,mask:0},V,255,C.KEEP,C.KEEP,C.REPLACE),p.ColorMode.disabled,p.CullFaceMode.disabled,ih(I.projMatrix),"$clipping",U,W,te)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,u=this.context.gl;return new p.StencilMode({func:u.NOTEQUAL,mask:255},l,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const u=this.context.gl;return new p.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(l){const u=this.context.gl,_=l.sort((D,I)=>I.overscaledZ-D.overscaledZ),x=_[_.length-1].overscaledZ,C=_[0].overscaledZ-x+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const D={};for(let I=0;I<C;I++)D[I+x]=new p.StencilMode({func:u.GEQUAL,mask:255},I+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=C,[D,_]}return[{[x]:p.StencilMode.disabled},_]}colorModeForRenderPass(){const l=this.context.gl;if(this._showOverdrawInspector){const u=1/8;return new p.ColorMode([l.CONSTANT_COLOR,l.ONE],new p.Color(u,u,u,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?p.ColorMode.unblended:p.ColorMode.alphaBlended}depthModeForSublayer(l,u,_){if(!this.opaquePassEnabledForLayer())return p.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new p.DepthMode(_||this.context.gl.LEQUAL,u,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,u){this.style=l,this.options=u,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(p.exported.now()),this.imageManager.beginFrame();const _=this.style.order,x=this.style._sourceCaches;for(const O in x){const V=x[O];V.used&&V.prepare(this.context)}const C={},D={},I={};for(const O in x){const V=x[O];C[O]=V.getVisibleCoordinates(),D[O]=C[O].slice().reverse(),I[O]=V.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let O=0;O<_.length;O++)if(this.style._layers[_[O]].is3D()){this.opaquePassCutoff=O;break}if(this.terrain&&(this.terrain.updateTileBinding(I),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new p.GlobeSharedBuffers(this.context)),p.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const O of _){const V=this.style._layers[O],U=l._getLayerSourceCache(V);if(!V.hasOffscreenPass()||V.isHidden(this.transform.zoom))continue;const W=U?D[U.id]:void 0;("custom"===V.type||V.isSky()||W&&W.length)&&this.renderLayer(this,U,V,W)}if(this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?p.Color.black:p.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const O=this.style._layers[_[this.currentLayer]],V=l._getLayerSourceCache(O);if(O.isSky())continue;const U=V?D[V.id]:void 0;this._renderTileClippingMasks(O,V,U),this.renderLayer(this,V,O,U)}if(this.style.fog&&this.transform.projection.supportsFog&&function(O,V){const U=O.context,W=U.gl,te=O.transform,me=new p.DepthMode(W.LEQUAL,p.DepthMode.ReadOnly,[0,1]),se=O.useProgram("globeAtmosphere",null,"globe"===te.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ce=p.globeToMercatorTransition(te.zoom),ue=V.properties.get("color").toArray01(),re=V.properties.get("high-color").toArray01(),fe=V.properties.get("space-color").toArray01PremultipliedAlpha(),oe=p.identity$1([]);p.rotateY$1(oe,oe,-p.degToRad(te._center.lng)),p.rotateX$1(oe,oe,p.degToRad(te._center.lat)),p.rotateZ$1(oe,oe,te.angle),p.rotateX$1(oe,oe,-te._pitch);const Le=p.fromQuat(new Float32Array(16),oe),De=p.mapValue(V.properties.get("star-intensity"),0,1,0,.25),Ee=p.mapValue(V.properties.get("horizon-blend"),0,1,5e-4,.25),Me=p.globeUseCustomAntiAliasing(O,U,te)&&5e-4===Ee?te.worldSize/(2*Math.PI*1.025)-1:te.globeRadius,Re=O.frameCounter/1e3%1,Ue=p.length(te.globeCenterInViewSpace),_t=Math.sqrt(Math.pow(Ue,2)-Math.pow(Me,2)),Be=Math.acos(_t/Ue),st={u_frustum_tl:te.frustumCorners.TL,u_frustum_tr:te.frustumCorners.TR,u_frustum_br:te.frustumCorners.BR,u_frustum_bl:te.frustumCorners.BL,u_horizon:te.frustumCorners.horizon,u_transition:ce,u_fadeout_range:Ee,u_color:ue,u_high_color:re,u_space_color:fe,u_star_intensity:De,u_star_size:5*p.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Re,u_horizon_angle:Be,u_rotation_matrix:Le};O.prepareDrawProgram(U,se);const ut=O.atmosphereBuffer;ut&&se.draw(U,W.TRIANGLES,me,p.StencilMode.disabled,p.ColorMode.alphaBlended,p.CullFaceMode.backCW,st,"skybox",ut.vertexBuffer,ut.indexBuffer,ut.segments)}(this,this.style.fog),this.renderPass="sky",(p.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const O=this.style._layers[_[this.currentLayer]],V=l._getLayerSourceCache(O);O.isSky()&&this.renderLayer(this,V,O,V?D[V.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;){const O=this.style._layers[_[this.currentLayer]],V=l._getLayerSourceCache(O);if(O.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(O)){if(O.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const U=V?("symbol"===O.type?I:D)[V.id]:void 0;this._renderTileClippingMasks(O,V,V?C[V.id]:void 0),this.renderLayer(this,V,O,U),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let O=null;p.values(this.style._layers).forEach(V=>{const U=l._getLayerSourceCache(V);U&&!V.isHidden(this.transform.zoom)&&(!O||O.getSource().maxzoom<U.getSource().maxzoom)&&(O=U)}),O&&this.options.showTileBoundaries&&bc.debug(this,O,O.getVisibleCoordinates())}this.options.showPadding&&function(O){const V=O.transform.padding;nd(O,O.transform.height-(V.top||0),3,pm),nd(O,V.bottom||0,3,_a),fm(O,V.left||0,3,td),fm(O,O.transform.width-(V.right||0),3,So);const U=O.transform.centerPoint;var W,te,me,se;Zs(W=O,(te=U.x)-1,(me=O.transform.height-U.y)-10,2,20,se=Ws),Zs(W,te-10,me-1,20,2,se)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(p.window.performance.now()),this.saveCanvasCopy())}}renderLayer(l,u,_,x){_.isHidden(this.transform.zoom)||("background"===_.type||"sky"===_.type||"custom"===_.type||x&&x.length)&&(this.id=_.id,this.gpuTimingStart(_),l.transform.projection.unsupportedLayers&&l.transform.projection.unsupportedLayers.includes(_.type)||bc[_.type](l,u,_,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let _=this.gpuTimers[l.id];_||(_=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),_.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const l=this.context.extTimerQuery,u=l.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),l.beginQueryEXT(l.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}collectDeferredRenderGpuQueries(){const l=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],l}queryGpuTimers(l){const u={};for(const _ in l){const x=l[_],C=this.context.extTimerQuery,D=C.getQueryObjectEXT(x.query,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(x.query),u[_]=D}return u}queryGpuTimeDeferredRender(l){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let _=0;for(const x of l)_+=u.getQueryObjectEXT(x,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(x);return _}translatePosMatrix(l,u,_,x,C){if(!_[0]&&!_[1])return l;const D=C?"map"===x?this.transform.angle:0:"viewport"===x?-this.transform.angle:0;if(D){const V=Math.sin(D),U=Math.cos(D);_=[_[0]*U-_[1]*V,_[0]*V+_[1]*U]}const I=[C?_[0]:dr(u,_[0],this.transform.zoom),C?_[1]:dr(u,_[1],this.transform.zoom),0],O=new Float32Array(16);return p.translate(O,l,I),O}saveTileTexture(l){const u=this._tileTextures[l.size[0]];u?u.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const u=this._tileTextures[l];return u&&u.length>0?u.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const u=this.imageManager.getPattern(l.from.toString()),_=this.imageManager.getPattern(l.to.toString());return!u||!_}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,u=this.style&&this.style.fog,_=[];return this.terrain&&!this.terrain.renderingToTexture&&_.push("TERRAIN"),u&&!l&&0!==u.getOpacity(this.transform.pitch)&&_.push("FOG"),l&&_.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&_.push("OVERDRAW_INSPECTOR"),_}useProgram(l,u,_){this.cache=this.cache||{};const x=_||[],C=this.currentGlobalDefines().concat(x),D=Eo.cacheKey(uc[l],l,C,u);return this.cache[D]||(this.cache[D]=new Eo(this.context,l,uc[l],u,uh[l],C)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=p.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new p.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(l,u,_){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const C=x.getOpacity(this.transform.pitch),D=((I,O,V,U,W,te,me,se,ce,ue,re)=>{const fe=I.transform,oe=O.properties.get("color").toArray01();oe[3]=U;const Le=I.frameCounter/1e3%1;return{u_fog_matrix:V?fe.calculateFogTileMatrix(V):I.identityMat,u_fog_range:O.getFovAdjustedRange(fe._fov),u_fog_color:oe,u_fog_horizon_blend:O.properties.get("horizon-blend"),u_fog_temporal_offset:Le,u_frustum_tl:W,u_frustum_tr:te,u_frustum_br:me,u_frustum_bl:se,u_globe_pos:ce,u_globe_radius:ue,u_viewport:re,u_globe_transition:p.globeToMercatorTransition(fe.zoom),u_is_globe:+("globe"===fe.projection.name)}})(this,x,_,C,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*p.exported.devicePixelRatio,this.transform.height*p.exported.devicePixelRatio]);u.setFogUniformValues(l,D)}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const l=this.context.gl,u=l.createTexture();return l.bindTexture(l.TEXTURE_2D,u),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&0!==l.getOpacity(this.transform.pitch)}getBackgroundTiles(){const l=this._backgroundTiles,u=this._backgroundTiles={},_=this.transform.coveringTiles({tileSize:512});for(const x of _)u[x.key]=l[x.key]||new p.Tile(x,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class yc{constructor(l=0,u=0,_=0,x=0){if(isNaN(l)||l<0||isNaN(u)||u<0||isNaN(_)||_<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=u,this.left=_,this.right=x}interpolate(l,u,_){return null!=u.top&&null!=l.top&&(this.top=p.number(l.top,u.top,_)),null!=u.bottom&&null!=l.bottom&&(this.bottom=p.number(l.bottom,u.bottom,_)),null!=u.left&&null!=l.left&&(this.left=p.number(l.left,u.left,_)),null!=u.right&&null!=l.right&&(this.right=p.number(l.right,u.right,_)),this}getCenter(l,u){const _=p.clamp((this.left+l-this.right)/2,0,l),x=p.clamp((this.top+u-this.bottom)/2,0,u);return new p.pointGeometry(_,x)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new yc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function id(f,l){const u=p.getColumn(f,3);p.fromQuat(f,l),p.setColumn(f,3,u)}function ei(f,l){const u=p.identity$1([]);return p.rotateZ$1(u,u,-l),p.rotateX$1(u,u,-f),u}function ad(f,l){const u=[f[0],f[1],0],_=[l[0],l[1],0];if(p.length(u)>=1e-15){const D=p.normalize([],u);p.scale$2(_,D,p.dot(_,D)),l[0]=_[0],l[1]=_[1]}const x=p.cross([],l,f);if(p.len(x)<1e-15)return null;const C=Math.atan2(-x[1],x[0]);return ei(Math.atan2(Math.sqrt(f[0]*f[0]+f[1]*f[1]),-f[2]),C)}class jt{constructor(l,u){this.position=l,this.orientation=u}get position(){return this._position}set position(l){if(l){const u=l instanceof p.MercatorCoordinate?l:new p.MercatorCoordinate(l[0],l[1],l[2]);this._renderWorldCopies&&(u.x=p.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(l,u){if(this.orientation=null,!this.position)return;const _=this._elevation?this._elevation.getAtPointOrZero(p.MercatorCoordinate.fromLngLat(l)):0,x=this.position,C=p.MercatorCoordinate.fromLngLat(l,_),D=[C.x-x.x,C.y-x.y,C.z-x.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=ad(D,u)}setPitchBearing(l,u){this.orientation=ei(p.degToRad(l),p.degToRad(-u))}}class Io{constructor(l,u){this._transform=p.identity([]),this.orientation=u,this.position=l}get mercatorPosition(){const l=this.position;return new p.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=p.getColumn(this._transform,3);return[l[0],l[1],l[2]]}set position(l){var u;l&&p.setColumn(this._transform,3,[(u=l)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(l){this._orientation=l||p.identity$1([]),l&&id(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,u){this._orientation=ei(l,u),id(this._transform,this._orientation)}forward(){const l=p.getColumn(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=p.getColumn(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=p.getColumn(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,u){const _=new Float64Array(16);return p.invert(_,this.getWorldToCamera(l,u)),_}getWorldToCameraPosition(l,u,_){const x=this.position;p.scale$2(x,x,-l);const C=new Float64Array(16);return p.fromScaling(C,[_,_,_]),p.translate(C,C,x),C[10]*=u,C}getWorldToCamera(l,u){const _=new Float64Array(16),x=new Float64Array(4),C=this.position;return p.conjugate(x,this._orientation),p.scale$2(C,C,-l),p.fromQuat(_,x),p.translate(_,_,C),_[1]*=-1,_[5]*=-1,_[9]*=-1,_[13]*=-1,_[8]*=u,_[9]*=u,_[10]*=u,_[11]*=u,_}getCameraToClipPerspective(l,u,_,x){const C=new Float64Array(16);return p.perspective(C,l,u,_,x),C}getDistanceToElevation(l){const u=0===l?0:p.mercatorZfromAltitude(l,this.position[1]),_=this.forward();return(u-this.position[2])/_[2]}clone(){return new Io([...this.position],[...this.orientation])}}function ph(f,l){const u=gl(f.projection,f.zoom,f.width,f.height),_=function(C,D,I,O,V){const U=new p.LngLat(I.lng-180*ds,I.lat),W=new p.LngLat(I.lng+180*ds,I.lat),te=C.project(U.lng,U.lat),me=C.project(W.lng,W.lat),se=-Math.atan2(me.y-te.y,me.x-te.x),ce=p.MercatorCoordinate.fromLngLat(I);ce.y=p.clamp(ce.y,-.999975,.999975);const ue=ce.toLngLat(),re=C.project(ue.lng,ue.lat),fe=p.MercatorCoordinate.fromLngLat(ue);fe.x+=ds;const oe=fe.toLngLat(),Le=C.project(oe.lng,oe.lat),De=Fi(Le.x-re.x,Le.y-re.y,se),we=p.MercatorCoordinate.fromLngLat(ue);we.y+=ds;const Ee=we.toLngLat(),Me=C.project(Ee.lng,Ee.lat),Re=Fi(Me.x-re.x,Me.y-re.y,se),Ue=Math.abs(De.x)/Math.abs(Re.y),_t=p.identity([]);p.rotateZ(_t,_t,-se*(1-(V?0:O)));const Be=p.identity([]);return p.scale(Be,Be,[1,1-(1-Ue)*O,1]),Be[4]=-Re.x/Re.y*O,p.rotateZ(Be,Be,se),p.multiply(Be,_t,Be),Be}(f.projection,0,f.center,u,l),x=au(f);return p.scale(_,_,[x,x,1]),_}function au(f){const l=f.projection,u=gl(f.projection,f.zoom,f.width,f.height),_=vt(l,f.center),x=vt(l,p.LngLat.convert(l.center));return Math.pow(2,_*u+(1-u)*x)}function gl(f,l,u,_,x=1/0){const C=f.range;if(!C)return 0;const D=Math.min(x,Math.max(u,_)),I=Math.log(D/1024)/Math.LN2;return p.smoothstep(C[0]+I,C[1]+I,l)}const ds=1/4e4;function vt(f,l){const u=p.clamp(l.lat,-p.MAX_MERCATOR_LATITUDE,p.MAX_MERCATOR_LATITUDE),_=new p.LngLat(l.lng-180*ds,u),x=new p.LngLat(l.lng+180*ds,u),C=f.project(_.lng,u),D=f.project(x.lng,u),I=p.MercatorCoordinate.fromLngLat(_),O=p.MercatorCoordinate.fromLngLat(x),V=D.x-C.x,U=D.y-C.y,W=O.x-I.x,te=O.y-I.y,me=Math.sqrt((W*W+te*te)/(V*V+U*U));return Math.log(me)/Math.LN2}function Fi(f,l,u){const _=Math.cos(u),x=Math.sin(u);return{x:f*_-l*x,y:f*x+l*_}}class mt{constructor(l,u,_,x,C,D,I){this.tileSize=512,this._renderWorldCopies=void 0===C||C,this._minZoom=l||0,this._maxZoom=u||22,this._minPitch=null==_?0:_,this._maxPitch=null==x?60:x,this.setProjection(D),this.setMaxBounds(I),this.width=0,this.height=0,this._center=new p.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new yc,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Io,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const l=new mt(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,l.tileSize=this.tileSize,l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._seaLevelZoom=this._seaLevelZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._nearZ=this._nearZ,l._farZ=this._farZ,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.frustumCorners=this.frustumCorners,l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(l){const u=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||u)&&this._updateCameraOnTerrain(),(l||u)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return p.pick(this.projection,["name","center","parallels"])}setProjection(l){this.projectionOptions=l||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=p.getProjection(this.projectionOptions);const _=!at(u,this.getProjection());return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setMercatorFromTransition(){const l=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=p.getProjection({name:"mercator"});const u=l!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(l){void 0===l?l=!0:null===l&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return p.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new p.pointGeometry(this.width,this.height)}get bearing(){return p.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const u=-l*Math.PI/180;var _,x,C,D,I,O,V,U,W,te;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(_=new p.ARRAY_TYPE(4),p.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),x=this.rotationMatrix,D=this.angle,I=(C=this.rotationMatrix)[0],O=C[1],V=C[2],U=C[3],W=Math.sin(D),te=Math.cos(D),x[0]=I*te+V*W,x[1]=O*te+U*W,x[2]=I*-W+V*te,x[3]=O*-W+U*te)}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const u=p.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(l){const u=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const l=this._elevation;this._centerAltitude=l.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=l.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],_=this.horizonLineFromTop();let x=0,C=0;for(let D=0;D<u.length;D++){const I=new p.pointGeometry(u[D][0]*this.width,_+u[D][1]*(this.height-_)),O=l.pointCoordinate(I);if(!O)continue;const V=1/Math.hypot(O[0]-this._camera.position[0],O[1]-this._camera.position[1]);x+=O[3]*V,C+=V}return 0===C?NaN:x/C}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const l=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),_=this.pixelsPerMeter/this.worldSize*u,x=this._mercatorZfromZoom(l),C=this._mercatorZfromZoom(this._maxZoom),D=Math.max(x-_,C);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let _;_=l.z<this._camera.position[2]?[u.x,u.y,u.z]:[l.x,l.y,l.z];const x=p.length(p.sub([],this._camera.position,_));return p.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let u=!1;if(l.orientation&&!p.exactEquals(l.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(l.orientation)),l.position){const _=[l.position.x,l.position.y,l.position.z];p.exactEquals$1(_,this._camera.position)||(this._setCameraPosition(_),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,u=new jt;return u.position=new p.MercatorCoordinate(l[0],l[1],l[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(l){if(!p.length$1(l))return!1;p.normalize$1(l,l);const u=p.transformQuat([],[0,0,-1],l),_=p.transformQuat([],[0,-1,0],l);if(_[2]<0)return!1;const x=ad(u,_);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(l){const u=this.zoomScale(this.minZoom)*this.tileSize,_=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;l[2]=p.clamp(l[2],x/_,x/u),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,u,_){this._unmodified=!1,this._edgeInsets.interpolate(l,u,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const u=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(l){const u=[new p.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const _=this.pointCoordinate(new p.pointGeometry(0,0)),x=this.pointCoordinate(new p.pointGeometry(this.width,0)),C=this.pointCoordinate(new p.pointGeometry(this.width,this.height)),D=this.pointCoordinate(new p.pointGeometry(0,this.height)),I=Math.floor(Math.min(_.x,x.x,C.x,D.x)),O=Math.floor(Math.max(_.x,x.x,C.x,D.x)),V=1;for(let U=I-V;U<=O+V;U++)0!==U&&u.push(new p.UnwrappedTileID(U,l))}return u}coveringTiles(l){let u=this.coveringZoomLevel(l);const _=u,x=this.elevation&&!l.isTerrainDEM,C="mercator"===this.projection.name;if(void 0!==l.minzoom&&u<l.minzoom)return[];void 0!==l.maxzoom&&u>l.maxzoom&&(u=l.maxzoom);const D=this.locationCoordinate(this.center),I=this.center.lat,O=1<<u,V=[O*D.x,O*D.y,0],U="globe"===this.projection.name,W=!U,te=p.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,W),me=U?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),se=O*p.mercatorZfromAltitude(1,this.center.lat),ce=this._camera.position[2]/p.mercatorZfromAltitude(1,this.center.lat),ue=[O*me.x,O*me.y,ce*(W?1:se)],re=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),fe=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,oe=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Le=l.isTerrainDEM?-oe:this._elevation?this._elevation.getMinElevationBelowMSL():0,De=this.projection.isReprojectedInTileSpace?au(this):1,we=qe=>{const Ve=1/4e4,lt=new p.MercatorCoordinate(qe.x+Ve,qe.y,qe.z),Rt=new p.MercatorCoordinate(qe.x,qe.y+Ve,qe.z),Pt=qe.toLngLat(),ln=lt.toLngLat(),Tn=Rt.toLngLat(),$n=this.locationCoordinate(Pt),hi=this.locationCoordinate(ln),nn=this.locationCoordinate(Tn),Yt=Math.hypot(hi.x-$n.x,hi.y-$n.y),k=Math.hypot(nn.x-$n.x,nn.y-$n.y);return Math.sqrt(Yt*k)*De/Ve},Ee=qe=>{const Ve=oe,lt=Le;return{aabb:p.tileAABB(this,O,0,0,0,qe,lt,Ve,this.projection),zoom:0,x:0,y:0,minZ:lt,maxZ:Ve,wrap:qe,fullyVisible:!1}},Me=[];let Re=[];const Ue=u,_t=l.reparseOverscaled?_:u,Be=qe=>qe*qe,st=Be((ce-this._centerAltitude)*se),ut=qe=>{if(!this._elevation||!qe.tileID||!C)return;const Ve=this._elevation.getMinMaxForTile(qe.tileID),lt=qe.aabb;Ve?(lt.min[2]=Ve.min,lt.max[2]=Ve.max,lt.center[2]=(lt.min[2]+lt.max[2])/2):(qe.shouldSplit=It(qe),qe.shouldSplit||(lt.min[2]=lt.max[2]=lt.center[2]=this._centerAltitude))},It=qe=>{if(qe.zoom<fe)return!0;if(qe.zoom===Ue)return!1;if(null!=qe.shouldSplit)return qe.shouldSplit;const Ve=qe.aabb.distanceX(ue),lt=qe.aabb.distanceY(ue);let Rt=st,Pt=1;if(U){Rt=Be(qe.aabb.distanceZ(ue));const Tn=Math.pow(2,qe.zoom),$n=p.latFromMercatorY((qe.y+1)/Tn),hi=p.latFromMercatorY(qe.y/Tn),nn=Math.min(Math.max(I,$n),hi),Yt=p.circumferenceAtLatitude(nn)/p.circumferenceAtLatitude(I);if(Pt=nn===I?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Yt/this._mercatorScaleRatio),this.zoom<=p.GLOBE_ZOOM_THRESHOLD_MIN&&qe.zoom===Ue-1&&Yt>=.9)return!0}else if(x&&(Rt=Be(qe.aabb.distanceZ(ue)*se)),this.projection.isReprojectedInTileSpace&&_<=5){const Tn=Math.pow(2,qe.zoom),$n=we(new p.MercatorCoordinate((qe.x+.5)/Tn,(qe.y+.5)/Tn));Pt=$n>.85?1:$n}const ln=Ve*Ve+lt*lt+Rt;return ln<Be((1<<Ue-qe.zoom)*re*Pt*((Tn,$n)=>{if($n*Be(.707)<Tn)return 1;const hi=Math.sqrt($n/Tn);return hi/(1.4144271570014144+(Math.pow(1.1,hi-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Rt,st),ln))};if(this.renderWorldCopies)for(let qe=1;qe<=3;qe++)Me.push(Ee(-qe)),Me.push(Ee(qe));for(Me.push(Ee(0));Me.length>0;){const qe=Me.pop(),Ve=qe.x,lt=qe.y;let Rt=qe.fullyVisible;if(!Rt){const Pt=qe.aabb.intersects(te);if(0===Pt)continue;Rt=2===Pt}if(qe.zoom!==Ue&&It(qe))for(let Pt=0;Pt<4;Pt++){const ln=(Ve<<1)+Pt%2,Tn=(lt<<1)+(Pt>>1),$n={aabb:C?qe.aabb.quadrant(Pt):p.tileAABB(this,O,qe.zoom+1,ln,Tn,qe.wrap,qe.minZ,qe.maxZ,this.projection),zoom:qe.zoom+1,x:ln,y:Tn,wrap:qe.wrap,fullyVisible:Rt,tileID:void 0,shouldSplit:void 0,minZ:qe.minZ,maxZ:qe.maxZ};x&&!U&&($n.tileID=new p.OverscaledTileID(qe.zoom+1===Ue?_t:qe.zoom+1,qe.wrap,qe.zoom+1,ln,Tn),ut($n)),Me.push($n)}else{const Pt=qe.zoom===Ue?_t:qe.zoom;if(l.minzoom&&l.minzoom>Pt)continue;const ln=V[0]-(.5+Ve+(qe.wrap<<qe.zoom))*(1<<u-qe.zoom),Tn=V[1]-.5-lt,$n=qe.tileID?qe.tileID:new p.OverscaledTileID(Pt,qe.wrap,qe.zoom,Ve,lt);Re.push({tileID:$n,distanceSq:ln*ln+Tn*Tn})}}if(this.fogCullDistSq){const qe=this.fogCullDistSq,Ve=this.horizonLineFromTop();Re=Re.filter(lt=>{const Rt=[0,0,0,1],Pt=[p.EXTENT,p.EXTENT,0,1],ln=this.calculateFogTileMatrix(lt.tileID.toUnwrapped());p.transformMat4$1(Rt,Rt,ln),p.transformMat4$1(Pt,Pt,ln);const Tn=p.getAABBPointSquareDist(Rt,Pt);if(0===Tn)return!0;let $n=!1;const hi=this._elevation;if(hi&&Tn>qe&&0!==Ve){const nn=this.calculateProjMatrix(lt.tileID.toUnwrapped());let Yt;l.isTerrainDEM||(Yt=hi.getMinMaxForTile(lt.tileID)),Yt||(Yt={min:Le,max:oe});const k=p.furthestTileCorner(this.rotation),S=[k[0]*p.EXTENT,k[1]*p.EXTENT,Yt.max];p.transformMat4(S,S,nn),$n=(1-S[1])*this.height*.5<Ve}return Tn<qe||$n})}return Re.sort((qe,Ve)=>qe.distanceSq-Ve.distanceSq).map(qe=>qe.tileID)}resize(l,u){this.width=l,this.height=u,this.pixelsToGLUnits=[2/l,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const u=p.clamp(l.lat,-p.MAX_MERCATOR_LATITUDE,p.MAX_MERCATOR_LATITUDE),_=this.projection.project(l.lng,u);return new p.pointGeometry(_.x*this.worldSize,_.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(l,u){let _,x;const C=this.centerPoint;if("globe"===this.projection.name){const I=this.worldSize;_=(u.x-C.x)/I,x=(u.y-C.y)/I}else{const I=this.pointCoordinate(u),O=this.pointCoordinate(C);_=I.x-O.x,x=I.y-O.y}const D=this.locationCoordinate(l);this.setLocation(new p.MercatorCoordinate(D.x-_,D.y-x))}setLocation(l){this.center=this.coordinateLocation(l),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(l){return this.projection.locationPoint(this,l)}locationPoint3D(l){return this.projection.locationPoint(this,l,!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,u){const _=u?p.mercatorZfromAltitude(u,l.lat):void 0,x=this.projection.project(l.lng,l.lat);return new p.MercatorCoordinate(x.x,x.y,_)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,u){const _=null!=u?u:this._centerAltitude,x=[l.x,l.y,0,1],C=[l.x,l.y,1,1];p.transformMat4$1(x,x,this.pixelMatrixInverse),p.transformMat4$1(C,C,this.pixelMatrixInverse);const D=C[3];p.scale$1(x,x,1/x[3]),p.scale$1(C,C,1/D);const I=x[2],O=C[2];return{p0:x,p1:C,t:I===O?0:(_-I)/(O-I)}}screenPointToMercatorRay(l){const u=[l.x,l.y,0,1],_=[l.x,l.y,1,1];return p.transformMat4$1(u,u,this.pixelMatrixInverse),p.transformMat4$1(_,_,this.pixelMatrixInverse),p.scale$1(u,u,1/u[3]),p.scale$1(_,_,1/_[3]),u[2]=p.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,_[2]=p.mercatorZfromAltitude(_[2],this._center.lat)*this.worldSize,p.scale$1(u,u,1/this.worldSize),p.scale$1(_,_,1/this.worldSize),new p.Ray([u[0],u[1],u[2]],p.normalize([],p.sub([],_,u)))}rayIntersectionCoordinate(l){const{p0:u,p1:_,t:x}=l,C=p.mercatorZfromAltitude(u[2],this._center.lat),D=p.mercatorZfromAltitude(_[2],this._center.lat);return new p.MercatorCoordinate(p.number(u[0],_[0],x)/this.worldSize,p.number(u[1],_[1],x)/this.worldSize,p.number(C,D,x))}pointCoordinate(l,u=this._centerAltitude){return this.projection.pointCoordinate(this,l.x,l.y,u)}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);let u=this.projection.pointCoordinate3D(this,l.x,l.y);if(u)return new p.MercatorCoordinate(u[0],u[1],u[2]);let _=0,x=this.horizonLineFromTop();if(l.y>x)return this.pointCoordinate(l);const C=.02*x,D=l.clone();for(let I=0;I<10&&x-_>C;I++){D.y=p.number(_,x,.66);const O=this.projection.pointCoordinate3D(this,D.x,D.y);O?(x=D.y,u=O):_=D.y}return u?new p.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){return this.projection.isPointAboveHorizon(this,l)}_coordinatePoint(l,u){const _=u&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,x=[l.x*this.worldSize,l.y*this.worldSize,_+l.toAltitude(),1];return p.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new p.pointGeometry(x[0]/x[3],x[1]/x[3]):new p.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(l,u){const _=new p.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),x=new p.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),C=new p.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),D=new p.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let I=this.pointCoordinate(_,l),O=this.pointCoordinate(x,l);const V=this.pointCoordinate(C,u),U=this.pointCoordinate(D,u),W=(te,me)=>(me.y-te.y)/(me.x-te.x);return I.y>1&&O.y>=0?I=new p.MercatorCoordinate((1-U.y)/W(U,I)+U.x,1):I.y<0&&O.y<=1&&(I=new p.MercatorCoordinate(-U.y/W(U,I)+U.x,0)),O.y>1&&I.y>=0?O=new p.MercatorCoordinate((1-V.y)/W(V,O)+V.x,1):O.y<0&&I.y<=1&&(O=new p.MercatorCoordinate(-V.y/W(V,O)+V.x,0)),(new p.LngLatBounds).extend(this.coordinateLocation(I)).extend(this.coordinateLocation(O)).extend(this.coordinateLocation(U)).extend(this.coordinateLocation(V))}_getBounds3D(){const l=this.elevation;if(!l.visibleDemTiles.length)return this._getBounds(0,0);const u=l.visibleDemTiles.reduce((_,x)=>{if(x.dem){const C=x.dem.tree;_.min=Math.min(_.min,C.minimums[0]),_.max=Math.max(_.max,C.maximums[0])}return _},{min:Number.MAX_VALUE,max:0});return this._getBounds(u.min*l.exaggeration(),u.max*l.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(l=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,_=this.height/2-u*(1-this._horizonShift);return l?Math.max(0,_):_}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-p.MAX_MERCATOR_LATITUDE,this.maxLat=p.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=p.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=p.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=p.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=p.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,u){return this.projection.createTileMatrix(this,u,l)}calculateDistanceTileData(l){const u=l.key,_=this._distanceTileDataCache;if(_[u])return _[u];const x=l.canonical,C=1/this.height,D=this.cameraWorldSize/this.zoomScale(x.z),I=(x.x+Math.pow(2,x.z)*l.wrap)*D,O=x.y*D,V=this.point,U=this.angle,W=Math.sin(-U),te=-Math.cos(-U);return _[u]={bearing:[W,te],center:[(V.x-I)*C,(V.y-O)*C],scale:D/p.EXTENT*C},_[u]}calculateFogTileMatrix(l){const u=l.key,_=this._fogTileMatrixCache;if(_[u])return _[u];const x=this.projection.createTileMatrix(this,this.cameraWorldSize,l);return p.multiply(x,this.worldToFogMatrix,x),_[u]=new Float32Array(x),_[u]}calculateProjMatrix(l,u=!1){const _=l.key,x=u?this._alignedProjMatrixCache:this._projMatrixCache;if(x[_])return x[_];const C=this.calculatePosMatrix(l,this.worldSize);return p.multiply(C,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,C),x[_]=new Float32Array(C),x[_]}calculatePixelsToTileUnitsMatrix(l){const u=l.tileID.key,_=this._pixelsToTileUnitsCache;if(_[u])return _[u];const x=function(C,D){const{scale:I}=C.tileTransform,O=I*p.EXTENT/(C.tileSize*Math.pow(2,D.zoom-C.tileID.overscaledZ+C.tileID.canonical.z));return V=new Float32Array(4),te=(U=D.inverseAdjustmentMatrix)[1],me=U[2],se=U[3],ue=(W=[O,O])[1],V[0]=U[0]*(ce=W[0]),V[1]=te*ce,V[2]=me*ue,V[3]=se*ue,V;var V,U,W,te,me,se,ce,ue}(l,this);return _[u]=x,_[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const l=this._elevation;this._updateCameraState();const u=p.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(u),x=this._camera.forward(),C=p.mercatorZfromAltitude(1,this._center.lat);_[2]/=C,x[2]/=C,p.normalize(x,x);const D=l.raycast(_,x,l.exaggeration());if(D){const I=p.scaleAndAdd([],_,x,D),O=new p.MercatorCoordinate(I[0],I[1],p.mercatorZfromAltitude(I[2],p.latFromMercatorY(I[1]))),V=(O.z+p.length([O.x-_[0],O.y-_[1],O.z-_[2]*C]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=O.toAltitude(),this._center=this.coordinateLocation(O),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const l=this._elevation;this._updateCameraState();const u=p.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(u),x=l.getAtPointOrZero(new p.MercatorCoordinate(..._)),C=this._minimumHeightOverTerrain()*Math.cos(p.degToRad(this._maxPitch)),D=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*x;if(D<C){const I=this.locationCoordinate(this._center,this._centerAltitude),O=[I.x-_[0],I.y-_[1],I.z-_[2]],V=p.length(O);O[2]-=(C-D)/this._pixelsPerMercatorPixel;const U=p.length(O);if(0===U)return;p.scale$2(O,O,V/U*this._pixelsPerMercatorPixel),this._camera.position=[I.x-O[0],I.y-O[1],I.z*this._pixelsPerMercatorPixel-O[2]],this._camera.orientation=ad(O,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const l="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||l){const te=this.center;return te.lat=p.clamp(te.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!l)&&(te.lng=p.clamp(te.lng,this.minLng,this.maxLng)),this.center=te,void(this._constraining=!1)}const u=this._unmodified,{x:_,y:x}=this.point;let C=0,D=_,I=x;const O=this.width/2,V=this.height/2,U=this.worldMinY*this.scale,W=this.worldMaxY*this.scale;if(x-V<U&&(I=U+V),x+V>W&&(I=W-V),W-U<this.height&&(C=Math.max(C,this.height/(W-U)),I=(W+U)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const te=this.worldMinX*this.scale,me=this.worldMaxX*this.scale,se=this.worldSize/2-(te+me)/2;D=(_+se+this.worldSize)%this.worldSize-se,D-O<te&&(D=te+O),D+O>me&&(D=me-O),me-te<this.width&&(C=Math.max(C,this.width/(me-te)),D=(me+te)/2)}D===_&&I===x||(this.center=this.unproject(new p.pointGeometry(D,I))),C&&(this.zoom+=this.scaleZoom(C)),this._constrainCameraAltitude(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,u=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=p.mercatorZfromAltitude(1,this.center.lat)/p.mercatorZfromAltitude(1,p.GLOBE_SCALE_MATCH_LATITUDE));const _=gl(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?u:1),C=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);C[8]=2*-l.x/this.width,C[9]=2*l.y/this.height;let D=p.mul([],C,x);if(this.projection.isReprojectedInTileSpace){const De=this.locationCoordinate(this.center),we=p.identity([]);p.translate(we,we,[De.x*this.worldSize,De.y*this.worldSize,0]),p.multiply(we,we,ph(this)),p.translate(we,we,[-De.x*this.worldSize,-De.y*this.worldSize,0]),p.multiply(D,D,we),this.inverseAdjustmentMatrix=function(Ee){const Me=ph(Ee,!0);return Qi([],[Me[0],Me[1],Me[4],Me[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=p.scale([],D,[this.worldSize,this.worldSize,this.worldSize/u,1]),this.projMatrix=D,this.invProjMatrix=p.invert(new Float64Array(16),this.projMatrix);const I=p.invert([],C);this.frustumCorners=p.FrustumCorners.fromInvProjectionMatrix(I,this.horizonLineFromTop(),this.height);const O=new Float32Array(16);p.identity(O),p.scale(O,O,[1,-1,1]),p.rotateX(O,O,this._pitch),p.rotateZ(O,O,this.angle);const V=p.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),U=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;V[8]=2*-l.x/this.width,V[9]=2*(l.y+U)/this.height,this.skyboxMatrix=p.multiply(O,V,O);const W=this.point,te=W.x,me=W.y,se=this.width%2/2,ce=this.height%2/2,ue=Math.cos(this.angle),re=Math.sin(this.angle),fe=te-Math.round(te)+ue*se+re*ce,oe=me-Math.round(me)+ue*ce+re*se,Le=new Float64Array(D);if(p.translate(Le,Le,[fe>.5?fe-1:fe,oe>.5?oe-1:oe,0]),this.alignedProjMatrix=Le,D=p.create(),p.scale(D,D,[this.width/2,-this.height/2,1]),p.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=p.create(),p.scale(D,D,[1,-1,1]),p.translate(D,D,[-1,-1,0]),p.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=p.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=p.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=p.calculateGlobeMatrix(this);const De=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=p.transformMat4(De,De,x),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSize,u=this.cameraPixelsPerMeter,_=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,C=[l,l,u];p.scale$2(C,C,x),p.scale$2(_,_,-1),p.multiply$2(_,_,C);const D=p.create();p.translate(D,D,_),p.scale(D,D,C),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,u,x)}_computeCameraPosition(l){const u=(l=l||this.pixelsPerMeter)/this.pixelsPerMeter,_=this._camera.forward(),x=this.point,C=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-l/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-_[0]*C,x.y/this.worldSize-_[1]*C,l/this.worldSize*this._centerAltitude-_[2]*C]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(l){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),_=l[2];let x=1;_>0&&(x=Math.min((u-this._camera.position[2])/_,1)),this._camera.position=p.scaleAndAdd([],this._camera.position,l,x),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}_updateStateFromCamera(){const l=this._camera.position,u=this._camera.forward(),{pitch:_,bearing:x}=this._camera.getPitchBearing(),C=p.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(p.degToRad(this._maxPitch)),I=Math.max((l[2]-C)/Math.cos(_),D),O=this._zoomFromMercatorZ(I);p.scaleAndAdd(l,l,u,I),this._pitch=p.clamp(_,p.degToRad(this.minPitch),p.degToRad(this.maxPitch)),this.angle=p.wrap(x,-Math.PI,Math.PI),this._setZoom(p.clamp(O,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new p.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(p.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(l,u){const _=Math.min(l.x,u.x),x=Math.max(l.x,u.x),C=Math.min(l.y,u.y),D=Math.max(l.y,u.y);if(C<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const I=[new p.pointGeometry(_,C),new p.pointGeometry(x,D),new p.pointGeometry(_,D),new p.pointGeometry(x,C)],O=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const U of I){const W=this.pointRayIntersection(U);if(W.t<0)return!0;const te=this.rayIntersectionCoordinate(W);if(te.x<O||te.y<0||te.x>V||te.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+p.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new p.pointGeometry(0,0),new p.pointGeometry(this.width,this.height))}zoomDeltaToMovement(l,u){const _=p.length(p.sub([],this._camera.position,l)),x=this._zoomFromMercatorZ(_)+u;return _-this._mercatorZfromZoom(x)}getCameraPoint(){if("globe"===this.projection.name){const l=function(u,_){const x=[u[0],u[1],u[2],1];p.transformMat4$1(x,x,_);const C=Math.max(x[3],1e-6);return[x[0]/C,x[1]/C,x[2]/C,C]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new p.pointGeometry(l[0],l[1])}{const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new p.pointGeometry(0,l))}}getCameraToCenterDistance(l){const u=gl(l,this.zoom,this.width,this.height,1024),_=l.pixelSpaceConversion(this.center.lat,this.worldSize,u);return.5/Math.tan(.5*this._fov)*this.height*_}}function ja(f,l){let u=!1,_=null;const x=()=>{_=null,u&&(f(),_=setTimeout(x,l),u=!1)};return()=>(u=!0,_||x(),_)}class fh{constructor(l){this._hashName=l&&encodeURIComponent(l),p.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ja(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,p.window.addEventListener("hashchange",this._onHashChange,!1),l.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),p.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const l=this._map;if(!l)return"";const u=Bl(l);if(this._hashName){const _=this._hashName;let x=!1;const C=p.window.location.hash.slice(1).split("&").map(D=>{const I=D.split("=")[0];return I===_?(x=!0,`${I}=${u}`):D}).filter(D=>D);return x||C.push(`${_}=${u}`),`#${C.join("&")}`}return`#${u}`}_getCurrentHash(){const l=p.window.location.hash.replace("#","");if(this._hashName){let u;return l.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(u=_)}),(u&&u[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._map;if(!l)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(_=>isNaN(_))){const _=l.dragRotate.isEnabled()&&l.touchZoomRotate.isEnabled()?+(u[3]||0):l.getBearing();return l.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:_,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=p.window.location.href.replace(/(#.+)?$/,this.getHashString());p.window.history.replaceState(p.window.history.state,null,l)}}function Bl(f,l){const u=f.getCenter(),_=Math.round(100*f.getZoom())/100,x=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,x),D=Math.round(u.lng*C)/C,I=Math.round(u.lat*C)/C,O=f.getBearing(),V=f.getPitch();let U=l?`/${D}/${I}/${_}`:`${_}/${I}/${D}`;return(O||V)&&(U+="/"+Math.round(10*O)/10),V&&(U+=`/${Math.round(V)}`),U}const vr={linearity:.3,easing:p.bezier(0,0,.3,1)},ru=p.extend({deceleration:2500,maxSpeed:1400},vr),ou=p.extend({deceleration:20,maxSpeed:1400},vr),gm=p.extend({deceleration:1e3,maxSpeed:360},vr),Vl=p.extend({deceleration:1e3,maxSpeed:90},vr);class us{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:p.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,u=p.exported.now();for(;l.length>0&&u-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new p.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)u.zoom+=C.zoomDelta||0,u.bearing+=C.bearingDelta||0,u.pitch+=C.pitchDelta||0,C.panDelta&&u.pan._add(C.panDelta),C.around&&(u.around=C.around),C.pinchAround&&(u.pinchAround=C.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(u.pan.mag()){const C=or(u.pan.mag(),_,p.extend({},ru,l||{}));x.offset=u.pan.mult(C.amount/u.pan.mag()),x.center=this._map.transform.center,hs(x,C)}if(u.zoom){const C=or(u.zoom,_,ou);x.zoom=this._map.transform.zoom+C.amount,hs(x,C)}if(u.bearing){const C=or(u.bearing,_,gm);x.bearing=this._map.transform.bearing+p.clamp(C.amount,-179,179),hs(x,C)}if(u.pitch){const C=or(u.pitch,_,Vl);x.pitch=this._map.transform.pitch+C.amount,hs(x,C)}if(x.zoom||x.bearing){const C=void 0===u.pinchAround?u.around:u.pinchAround;x.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function hs(f,l){(!f.duration||f.duration<l.duration)&&(f.duration=l.duration,f.easing=l.easing)}function or(f,l,u){const{maxSpeed:_,linearity:x,deceleration:C}=u,D=p.clamp(f*x/(l/1e3),-_,_),I=Math.abs(D)/(C*x);return{easing:u.easing,duration:1e3*I,amount:D*(I/2)}}class ta extends p.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,_,x={}){const C=Gt(u.getCanvasContainer(),_),D=u.unproject(C);super(l,p.extend({point:C,lngLat:D,originalEvent:_},x)),this._defaultPrevented=!1,this.target=u}}class _l extends p.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,_){const x="touchend"===l?_.changedTouches:_.touches,C=An(u.getCanvasContainer(),x),D=C.map(O=>u.unproject(O)),I=C.reduce((O,V,U,W)=>O.add(V.div(W.length)),new p.pointGeometry(0,0));super(l,{points:C,point:I,lngLats:D,lngLat:u.unproject(I),originalEvent:_}),this._defaultPrevented=!1}}class bl extends p.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,_){super(l,{originalEvent:_}),this._defaultPrevented=!1}}class As{constructor(l,u){this._map=l,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(l){return this._firePreventable(new bl(l.type,this._map,l))}mousedown(l,u){return this._mousedownPos=u,this._firePreventable(new ta(l.type,this._map,l))}mouseup(l){this._map.fire(new ta(l.type,this._map,l))}preclick(l){const u=p.extend({},l);u.type="preclick",this._map.fire(new ta(u.type,this._map,u))}click(l,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(l),this._map.fire(new ta(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new ta(l.type,this._map,l))}mouseover(l){this._map.fire(new ta(l.type,this._map,l))}mouseout(l){this._map.fire(new ta(l.type,this._map,l))}touchstart(l){return this._firePreventable(new _l(l.type,this._map,l))}touchmove(l){this._map.fire(new _l(l.type,this._map,l))}touchend(l){this._map.fire(new _l(l.type,this._map,l))}touchcancel(l){this._map.fire(new _l(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _m{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(l){this._map.fire(new ta(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ta("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new ta(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gh{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,u){this.isEnabled()&&l.shiftKey&&0===l.button&&(ht(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(l,u){if(!this._active)return;const _=u;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const x=this._startPos;this._lastPos=_,this._box||(this._box=rn("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const C=Math.min(x.x,_.x),D=Math.max(x.x,_.x),I=Math.min(x.y,_.y),O=Math.max(x.y,_.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${C}px,${I}px)`,this._box.style.width=D-C+"px",this._box.style.height=O-I+"px")})}mouseupWindow(l,u){if(!this._active||0!==l.button)return;const _=this._startPos,x=u;if(this.reset(),Jt(),_.x!==x.x||_.y!==x.y)return this._map.fire(new p.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:C=>C.fitScreenCoordinates(_,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&27===l.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),zn(),delete this._startPos,delete this._lastPos}_fireEvent(l,u){return this._map.fire(new p.Event(l,{originalEvent:u}))}}function su(f,l){const u={};for(let _=0;_<f.length;_++)u[f[_].identifier]=l[_];return u}class vc{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(l,u,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=l.timeStamp),_.length===this.numTouches&&(this.centroid=function(x){const C=new p.pointGeometry(0,0);for(const D of x)C._add(D);return C.div(x.length)}(u),this.touches=su(_,u)))}touchmove(l,u,_){if(this.aborted||!this.centroid)return;const x=su(_,u);for(const C in this.touches){const D=this.touches[C],I=x[C];(!I||I.dist(D)>30)&&(this.aborted=!0)}}touchend(l,u,_){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),0===_.length){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class xc{constructor(l){this.singleTap=new vc(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(l,u,_){this.singleTap.touchstart(l,u,_)}touchmove(l,u,_){this.singleTap.touchmove(l,u,_)}touchend(l,u,_){const x=this.singleTap.touchend(l,u,_);if(x){const C=l.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(x)<30;if(C&&D||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class lu{constructor(){this._zoomIn=new xc({numTouches:1,numTaps:2}),this._zoomOut=new xc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,u,_){this._zoomIn.touchstart(l,u,_),this._zoomOut.touchstart(l,u,_)}touchmove(l,u,_){this._zoomIn.touchmove(l,u,_),this._zoomOut.touchmove(l,u,_)}touchend(l,u,_){const x=this._zoomIn.touchend(l,u,_),C=this._zoomOut.touchend(l,u,_);return x?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(x)},{originalEvent:l})}):C?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(C)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const _h={0:1,2:2};class wc{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(l,u){return!1}_move(l,u){return{}}mousedown(l,u){if(this._lastPoint)return;const _=Ta(l);this._correctButton(l,_)&&(this._lastPoint=u,this._eventButton=_)}mousemoveWindow(l,u){const _=this._lastPoint;if(_)if(l.preventDefault(),null!=this._eventButton&&function(x,C){const D=_h[C];return void 0===x.buttons||(x.buttons&D)!==D}(l,this._eventButton))this.reset();else if(this._moved||!(u.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(_,u)}mouseupWindow(l){this._lastPoint&&Ta(l)===this._eventButton&&(this._moved&&Jt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bm extends wc{mousedown(l,u){super.mousedown(l,u),this._lastPoint&&(this._active=!0)}_correctButton(l,u){return 0===u&&!l.ctrlKey}_move(l,u){return{around:u,panDelta:u.sub(l)}}}class cu extends wc{_correctButton(l,u){return 0===u&&l.ctrlKey||2===u}_move(l,u){const _=.8*(u.x-l.x);if(_)return this._active=!0,{bearingDelta:_}}contextmenu(l){l.preventDefault()}}class sr extends wc{_correctButton(l,u){return 0===u&&l.ctrlKey||2===u}_move(l,u){const _=-.5*(u.y-l.y);if(_)return this._active=!0,{pitchDelta:_}}contextmenu(l){l.preventDefault()}}class ym{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),p.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new p.pointGeometry(0,0)}touchstart(l,u,_){return this._calculateTransform(l,u,_)}touchmove(l,u,_){if(this._active&&!(_.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===_.length&&!p.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.cancelable&&l.preventDefault(),this._calculateTransform(l,u,_)}}touchend(l,u,_){this._calculateTransform(l,u,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,u,_){_.length>0&&(this._active=!0);const x=su(_,u),C=new p.pointGeometry(0,0),D=new p.pointGeometry(0,0);let I=0;for(const V in x){const U=x[V],W=this._touches[V];W&&(C._add(U),D._add(U.sub(W)),I++,x[V]=U)}if(this._touches=x,I<this._minTouches||!D.mag())return;const O=D.div(I);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(I),panDelta:O}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=rn("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class rd{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(l){}_move(l,u,_){return{}}touchstart(l,u,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([u[0],u[1]]))}touchmove(l,u,_){const x=this._firstTwoTouches;if(!x)return;l.preventDefault();const[C,D]=x,I=od(_,u,C),O=od(_,u,D);if(!I||!O)return;const V=this._aroundCenter?null:I.add(O).div(2);return this._move([I,O],V,l)}touchend(l,u,_){if(!this._firstTwoTouches)return;const[x,C]=this._firstTwoTouches,D=od(_,u,x),I=od(_,u,C);D&&I||(this._active&&Jt(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&"center"===l.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function od(f,l,u){for(let _=0;_<f.length;_++)if(f[_].identifier===u)return l[_]}function bh(f,l){return Math.log(f/l)/Math.LN2}class Yo extends rd{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,u){const _=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(bh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:bh(this._distance,_),pinchAround:u}}}function yh(f,l){return 180*f.angleWith(l)/Math.PI}class Cc extends rd{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,u){const _=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:yh(this._vector,_),pinchAround:u}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const u=25/(Math.PI*this._minDiameter)*360,_=yh(l,this._startVector);return Math.abs(_)<u}}function wa(f){return Math.abs(f.y)>Math.abs(f.x)}class ms extends rd{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(l){this._lastPoints=l,wa(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,u,_){const x=this._lastPoints;if(!x)return;const C=l[0].sub(x[0]),D=l[1].sub(x[1]);return this._map._cooperativeGestures&&_.touches.length<3||(this._valid=this.gestureBeginsVertically(C,D,_.timeStamp),!this._valid)?void 0:(this._lastPoints=l,this._active=!0,{pitchDelta:(C.y+D.y)/2*-.5})}gestureBeginsVertically(l,u,_){if(void 0!==this._valid)return this._valid;const x=l.mag()>=2,C=u.mag()>=2;if(!x&&!C)return;if(!x||!C)return null==this._firstMove&&(this._firstMove=_),_-this._firstMove<100&&void 0;const D=l.y>0==u.y>0;return wa(l)&&wa(u)&&D}}const kt={panStep:100,bearingStep:15,pitchStep:10};class kc{constructor(){const l=kt;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let u=0,_=0,x=0,C=0,D=0;switch(l.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:l.shiftKey?_=-1:(l.preventDefault(),C=-1);break;case 39:l.shiftKey?_=1:(l.preventDefault(),C=1);break;case 38:l.shiftKey?x=1:(l.preventDefault(),D=-1);break;case 40:l.shiftKey?x=-1:(l.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(_=0,x=0),{cameraAnimation:I=>{const O=I.getZoom();I.easeTo({duration:300,easeId:"keyboardHandler",easing:vm,zoom:u?Math.round(O)+u*(l.shiftKey?2:1):O,bearing:I.getBearing()+_*this._bearingStep,pitch:I.getPitch()+x*this._pitchStep,offset:[-C*this._panStep,-D*this._panStep],center:I.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function vm(f){return f*(2-f)}const Hl=4.000244140625;class sd{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,p.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&"center"===l.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||p.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=l.deltaMode===p.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const _=p.exported.now(),x=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,0!==u&&u%Hl==0?this._type="wheel":0!==u&&Math.abs(u)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(x*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),l.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=l,this._delta-=u,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=Gt(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform,u=()=>l._terrainEnabled()&&this._aroundCoord?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(0!==this._delta){const O="wheel"===this._type&&Math.abs(this._delta)>Hl?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*O)));this._delta<0&&0!==V&&(V=1/V);const U=u(),W=Math.pow(2,U),te="number"==typeof this._targetZoom?l.zoomScale(this._targetZoom):W;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(te*V))),"wheel"===this._type&&(this._startZoom=U,this._easing=this._smoothOutEasing(200)),this._delta=0}const _="number"==typeof this._targetZoom?this._targetZoom:u(),x=this._startZoom,C=this._easing;let D,I=!1;if("wheel"===this._type&&x&&C){const O=Math.min((p.exported.now()-this._lastWheelEventTime)/200,1),V=C(O);D=p.number(x,_,V),O<1?this._frameId||(this._frameId=!0):I=!0}else D=_,I=!0;return this._active=!0,I&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!I,zoomDelta:D-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let u=p.ease;if(this._prevEase){const _=this._prevEase,x=(p.exported.now()-_.start)/_.duration,C=_.easing(x+.01)-_.easing(x),D=.27/Math.sqrt(C*C+1e-4)*.01,I=Math.sqrt(.0729-D*D);u=p.bezier(D,I,.25,1)}return this._prevEase={start:p.exported.now(),duration:l,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=rn("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(p.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class du{constructor(l,u){this._clickZoom=l,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ld{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,u){return l.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:_.getZoom()+(l.shiftKey?-1:1),around:_.unproject(u)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class cd{constructor(){this._tap=new xc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(l,u,_){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=u[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(l,u,_))}touchmove(l,u,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const x=u[0],C=x.y-this._swipePoint.y;return this._swipePoint=x,l.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(l,u,_)}touchend(l,u,_){this._tapTime?this._swipePoint&&0===_.length&&this.reset():this._tap.touchend(l,u,_)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dd{constructor(l,u,_){this._el=l,this._mousePan=u,this._touchPan=_}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ud{constructor(l,u,_){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=u,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class uu{constructor(l,u,_,x){this._el=l,this._touchZoom=u,this._touchRotate=_,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Mc=f=>f.zoom||f.drag||f.pitch||f.rotate;class hu extends p.Event{}class ps{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,u){const _=p.sub([],u,l);this.radius=p.length(_[2]<0?p.div([],_,this.constants):[_[0],_[1],0])}projectRay(l){p.div(l,l,this.constants),p.normalize(l,l),p.mul$1(l,l,this.constants);const u=p.scale$2([],l,this.radius);if(u[2]>0){const _=p.scale$2([],[0,0,1],p.dot(u,[0,0,1])),x=p.scale$2([],p.normalize([],[u[0],u[1],0]),this.radius),C=p.add([],u,p.scale$2([],p.sub([],p.add([],x,_),u),2));u[0]=C[0],u[1]=C[1]}return u}}function fs(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class xm{constructor(l,u){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new us(l),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new ps,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),p.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[p.window.document,"mousemove",{capture:!0}],[p.window.document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[p.window,"blur",void 0]];for(const[x,C,D]of this._listeners)x.addEventListener(C,x===p.window.document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[l,u,_]of this._listeners)l.removeEventListener(u,l===p.window.document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(l){const u=this._map,_=u.getCanvasContainer();this._add("mapEvent",new As(u,l));const x=u.boxZoom=new gh(u,l);this._add("boxZoom",x);const C=new lu,D=new ld;u.doubleClickZoom=new du(D,C),this._add("tapZoom",C),this._add("clickZoom",D);const I=new cd;this._add("tapDragZoom",I);const O=u.touchPitch=new ms(u);this._add("touchPitch",O);const V=new cu(l),U=new sr(l);u.dragRotate=new ud(l,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);const W=new bm(l),te=new ym(u,l);u.dragPan=new dd(_,W,te),this._add("mousePan",W),this._add("touchPan",te,["touchZoom","touchRotate"]);const me=new Cc,se=new Yo;u.touchZoomRotate=new uu(_,se,me,I),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",se,["touchPan","touchRotate"]),this._add("blockableMapEvent",new _m(u));const ce=u.scrollZoom=new sd(u,this);this._add("scrollZoom",ce,["mousePan"]);const ue=u.keyboard=new kc;this._add("keyboard",ue);for(const re of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[re]&&u[re].enable(l[re])}_add(l,u,_){this._handlers.push({handlerName:l,handler:u,allowed:_}),this._handlersById[l]=u}stop(l){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Mc(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,u,_){for(const x in l)if(x!==_&&(!u||u.indexOf(x)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const u=[];for(const _ of l)this._el.contains(_.target)&&u.push(_);return u}handleEvent(l,u){this._updatingCamera=!0;const _="renderFrame"===l.type,x=_?void 0:l,C={needsRenderFrame:!1},D={},I={},O=l.touches?this._getMapTouches(l.touches):void 0,V=O?An(this._el,O):_?void 0:Gt(this._el,l);for(const{handlerName:te,handler:me,allowed:se}of this._handlers){if(!me.isEnabled())continue;let ce;this._blockedByActive(I,se,te)?me.reset():me[u||l.type]&&(ce=me[u||l.type](l,V,O),this.mergeHandlerResult(C,D,ce,te,x),ce&&ce.needsRenderFrame&&this._triggerRenderFrame()),(ce||me.isActive())&&(I[te]=me)}const U={};for(const te in this._previousActiveHandlers)I[te]||(U[te]=x);this._previousActiveHandlers=I,(Object.keys(U).length||fs(C))&&(this._changes.push([C,D,U]),this._triggerRenderFrame()),(Object.keys(I).length||fs(C))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:W}=C;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))}mergeHandlerResult(l,u,_,x,C){if(!_)return;p.extend(l,_);const D={handlerName:x,originalEvent:_.originalEvent||C};void 0!==_.zoomDelta&&(u.zoom=D),void 0!==_.panDelta&&(u.drag=D),void 0!==_.pitchDelta&&(u.pitch=D),void 0!==_.bearingDelta&&(u.rotate=D)}_applyChanges(){const l={},u={},_={};for(const[x,C,D]of this._changes)x.panDelta&&(l.panDelta=(l.panDelta||new p.pointGeometry(0,0))._add(x.panDelta)),x.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+x.pitchDelta),void 0!==x.around&&(l.around=x.around),void 0!==x.aroundCoord&&(l.aroundCoord=x.aroundCoord),void 0!==x.pinchAround&&(l.pinchAround=x.pinchAround),x.noInertia&&(l.noInertia=x.noInertia),p.extend(u,C),p.extend(_,D);this._updateMapTransform(l,u,_),this._changes=[]}_updateMapTransform(l,u,_){const x=this._map,C=x.transform,D=fe=>[fe.x,fe.y,fe.z];if((fe=>{const oe=this._eventsInProgress.drag;return oe&&!this._handlersById[oe.handlerName].isActive()})()&&!fs(l)){const fe=C.zoom;C.cameraElevationReference="sea",C.recenterOnTerrain(),C.cameraElevationReference="ground",fe!==C.zoom&&this._map._update(!0)}if(!fs(l))return void this._fireEvents(u,_,!0);let{panDelta:I,zoomDelta:O,bearingDelta:V,pitchDelta:U,around:W,aroundCoord:te,pinchAround:me}=l;void 0!==me&&(W=me),(fe=>u.drag&&!this._eventsInProgress.drag)()&&W&&(this._dragOrigin=D(C.pointCoordinate3D(W)),this._trackingEllipsoid.setup(C._camera.position,this._dragOrigin)),C.cameraElevationReference="sea",x._stop(!0),W=W||x.transform.centerPoint,V&&(C.bearing+=V),U&&(C.pitch+=U),C._updateCameraState();const se=[0,0,0];if(I)if("mercator"===C.projection.name){const fe=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(W).dir),oe=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(W.sub(I)).dir);se[0]=oe[0]-fe[0],se[1]=oe[1]-fe[1]}else{const fe=C.pointCoordinate(W);if("globe"===C.projection.name){I=I.rotate(-C.angle);const oe=C._pixelsPerMercatorPixel/C.worldSize;se[0]=-I.x*p.mercatorScale(p.latFromMercatorY(fe.y))*oe,se[1]=-I.y*p.mercatorScale(C.center.lat)*oe}else{const oe=C.pointCoordinate(W.sub(I));fe&&oe&&(se[0]=oe.x-fe.x,se[1]=oe.y-fe.y)}}const ce=C.zoom,ue=[0,0,0];if(O){const fe=D(te||C.pointCoordinate3D(W)),oe={dir:p.normalize([],p.sub([],fe,C._camera.position))};if(oe.dir[2]<0){const Le=C.zoomDeltaToMovement(fe,O);p.scale$2(ue,oe.dir,Le)}}const re=p.add(se,se,ue);C._translateCameraConstrained(re),O&&Math.abs(C.zoom-ce)>1e-4&&C.recenterOnTerrain(),C.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(u,_,!0)}_fireEvents(l,u,_){const x=Mc(this._eventsInProgress),C=Mc(l),D={};for(const U in l){const{originalEvent:W}=l[U];this._eventsInProgress[U]||(D[`${U}start`]=W),this._eventsInProgress[U]=l[U]}!x&&C&&this._fireEvent("movestart",C.originalEvent);for(const U in D)this._fireEvent(U,D[U]);C&&this._fireEvent("move",C.originalEvent);for(const U in l){const{originalEvent:W}=l[U];this._fireEvent(U,W)}const I={};let O;for(const U in this._eventsInProgress){const{handlerName:W,originalEvent:te}=this._eventsInProgress[U];this._handlersById[W].isActive()||(delete this._eventsInProgress[U],O=u[W]||te,I[`${U}end`]=O)}for(const U in I)this._fireEvent(U,I[U]);const V=Mc(this._eventsInProgress);if(_&&(x||C)&&!V){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),W=te=>0!==te&&-this._bearingSnap<te&&te<this._bearingSnap;U?(W(U.bearing||this._map.getBearing())&&(U.bearing=0),this._map.easeTo(U,{originalEvent:O})):(this._map.fire(new p.Event("moveend",{originalEvent:O})),W(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,u){this._map.fire(new p.Event(l,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{this._frameId=void 0,this.handleEvent(new hu("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const mu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Tc extends p.Evented{constructor(l,u){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=u.bearingSnap,p.bindAll(["_renderFrameCallback"],this)}getCenter(){return new p.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,u){return this.jumpTo({center:l},u)}panBy(l,u,_){return l=p.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,p.extend({offset:l},u),_)}panTo(l,u,_){return this.easeTo(p.extend({center:l},u),_)}getZoom(){return this.transform.zoom}setZoom(l,u){return this.jumpTo({zoom:l},u),this}zoomTo(l,u,_){return this.easeTo(p.extend({zoom:l},u),_)}zoomIn(l,u){return this.zoomTo(this.getZoom()+1,l,u),this}zoomOut(l,u){return this.zoomTo(this.getZoom()-1,l,u),this}getBearing(){return this.transform.bearing}setBearing(l,u){return this.jumpTo({bearing:l},u),this}getPadding(){return this.transform.padding}setPadding(l,u){return this.jumpTo({padding:l},u),this}rotateTo(l,u,_){return this.easeTo(p.extend({bearing:l},u),_)}resetNorth(l,u){return this.rotateTo(0,p.extend({duration:1e3},l),u),this}resetNorthPitch(l,u){return this.easeTo(p.extend({bearing:0,pitch:0,duration:1e3},l),u),this}snapToNorth(l,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,u):this}getPitch(){return this.transform.pitch}setPitch(l,u){return this.jumpTo({pitch:l},u),this}cameraForBounds(l,u){"globe"===this.transform.projection.name&&p.warnOnce('Globe projection does not support cameraForBounds API, this API may behave unexpectedly."'),l=p.LngLatBounds.convert(l);const _=u&&u.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),_,u)}_extendCameraOptions(l){const u={top:0,bottom:0,right:0,left:0};if("number"==typeof(l=p.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding){const _=l.padding;l.padding={top:_,bottom:_,right:_,left:_}}return l.padding=p.extend(u,l.padding),l}_cameraForBoxAndBearing(l,u,_,x){const C=this._extendCameraOptions(x),D=this.transform,I=D.padding,O=D.project(p.LngLat.convert(l)),V=D.project(p.LngLat.convert(u)),U=new p.pointGeometry(O.x,V.y),W=new p.pointGeometry(V.x,O.y),te=-p.degToRad(_),me=O.rotate(te),se=V.rotate(te),ce=U.rotate(te),ue=W.rotate(te),re=new p.pointGeometry(Math.max(me.x,se.x,ce.x,ue.x),Math.max(me.y,se.y,ce.y,ue.y)),fe=new p.pointGeometry(Math.min(me.x,se.x,ce.x,ue.x),Math.min(me.y,se.y,ce.y,ue.y)),oe=re.sub(fe),Le=(D.width-((I.left||0)+(I.right||0)+C.padding.left+C.padding.right))/oe.x,De=(D.height-((I.top||0)+(I.bottom||0)+C.padding.top+C.padding.bottom))/oe.y;if(De<0||Le<0)return void p.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const we=Math.min(D.scaleZoom(D.scale*Math.min(Le,De)),C.maxZoom),Ee="number"==typeof C.offset.x&&"number"==typeof C.offset.y?new p.pointGeometry(C.offset.x,C.offset.y):p.pointGeometry.convert(C.offset),Me=new p.pointGeometry((C.padding.left-C.padding.right)/2,(C.padding.top-C.padding.bottom)/2).rotate(_*Math.PI/180),Re=Ee.add(Me).mult(D.scale/D.zoomScale(we));return{center:D.unproject(O.add(V).div(2).sub(Re)),zoom:we,bearing:_}}_cameraForBox(l,u,_,x,C){const D=this._extendCameraOptions(C);_=_||0,x=x||0,l=p.LngLat.convert(l),u=p.LngLat.convert(u);const I=this.transform.clone();I.padding=D.padding;const O=this.getFreeCameraOptions(),V=new p.LngLat(.5*(l.lng+u.lng),.5*(l.lat+u.lat)),U=.5*(_+x);if(I._camera.position[2]<p.mercatorZfromAltitude(U,V.lat))return void p.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");O.lookAtPoint(V),I.setFreeCameraOptions(O);const W=p.MercatorCoordinate.fromLngLat(l),te=p.MercatorCoordinate.fromLngLat(u),me=I.pointRayIntersection(I.centerPoint,U),se=[(ce=I.rayIntersectionCoordinate(me)).x,ce.y,ce.z];var ce;const ue=I.screenPointToMercatorRay(I.centerPoint),re="globe"!==I.projection.name;let fe,oe=0;do{const Le=Math.floor(I.zoom),De=1<<Le,we=Math.min(De*W.x,De*te.x),Ee=Math.min(De*W.y,De*te.y),Me=Math.max(De*W.x,De*te.x),Re=Math.max(De*W.y,De*te.y),Ue=new p.Aabb([we,Ee,_],[Me,Re,x]),_t=p.Frustum.fromInvProjectionMatrix(I.invProjMatrix,I.worldSize,Le,re);if(2!==Ue.intersects(_t)){fe&&(I._camera.position=p.scaleAndAdd([],I._camera.position,ue.dir,-fe),I._updateStateFromCamera());break}const Be=p.sub([],I._camera.position,se);fe=.5*p.length(Be),I._camera.position=p.scaleAndAdd([],I._camera.position,ue.dir,fe);try{I._updateStateFromCamera()}catch(st){return void p.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++oe<10);return{center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}}fitBounds(l,u,_){return"globe"===this.transform.projection.name&&p.warnOnce("Globe projection does not support fitBounds API, this API may behave unexpectedly."),this._fitInternal(this.cameraForBounds(l,u),u,_)}_raycastElevationBox(l,u){const _=this.transform.elevation;if(!_)return;const x=new p.pointGeometry(l.x,u.y),C=new p.pointGeometry(u.x,l.y),D=_.pointCoordinate(l);if(!D)return;const I=_.pointCoordinate(u);if(!I)return;const O=_.pointCoordinate(x);if(!O)return;const V=_.pointCoordinate(C);if(!V)return;const U=new p.MercatorCoordinate(D[0],D[1]).toLngLat(),W=new p.MercatorCoordinate(I[0],I[1]).toLngLat(),te=new p.MercatorCoordinate(O[0],O[1]).toLngLat(),me=new p.MercatorCoordinate(V[0],V[1]).toLngLat(),se=Math.min(U.lng,Math.min(W.lng,Math.min(te.lng,me.lng))),ce=Math.min(U.lat,Math.min(W.lat,Math.min(te.lat,me.lat))),ue=Math.max(U.lng,Math.max(W.lng,Math.max(te.lng,me.lng))),re=Math.max(U.lat,Math.max(W.lat,Math.max(te.lat,me.lat))),fe=Math.min(D[3],Math.min(I[3],Math.min(O[3],V[3]))),oe=Math.max(D[3],Math.max(I[3],Math.max(O[3],V[3])));return{minLngLat:new p.LngLat(se,ce),maxLngLat:new p.LngLat(ue,re),minAltitude:fe,maxAltitude:oe}}fitScreenCoordinates(l,u,_,x,C){let D,I,O,V;"globe"===this.transform.projection.name&&p.warnOnce("Globe projection does not support fitScreenCoordinates API, this API may behave unexpectedly.");const U=p.pointGeometry.convert(l),W=p.pointGeometry.convert(u),te=this._raycastElevationBox(U,W);if(te)D=te.minLngLat,I=te.maxLngLat,O=te.minAltitude,V=te.maxAltitude;else{if(this.transform.anyCornerOffEdge(U,W))return this;D=this.transform.pointLocation(U),I=this.transform.pointLocation(W)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(p.pointGeometry.convert(l)),this.transform.pointLocation(p.pointGeometry.convert(u)),_,x):this._cameraForBox(D,I,O,V,x),x,C)}_fitInternal(l,u,_){return l?(delete(u=p.extend(l,u)).padding,u.linear?this.easeTo(u,_):this.flyTo(u,_)):this}jumpTo(l,u){this.stop();const _=l.preloadOnly?this.transform.clone():this.transform;let x=!1,C=!1,D=!1;return"zoom"in l&&_.zoom!==+l.zoom&&(x=!0,_.zoom=+l.zoom),void 0!==l.center&&(_.center=p.LngLat.convert(l.center)),"bearing"in l&&_.bearing!==+l.bearing&&(C=!0,_.bearing=+l.bearing),"pitch"in l&&_.pitch!==+l.pitch&&(D=!0,_.pitch=+l.pitch),null==l.padding||_.isPaddingEqual(l.padding)||(_.padding=l.padding),l.preloadOnly?(this._preloadTiles(_),this):(this.fire(new p.Event("movestart",u)).fire(new p.Event("move",u)),x&&this.fire(new p.Event("zoomstart",u)).fire(new p.Event("zoom",u)).fire(new p.Event("zoomend",u)),C&&this.fire(new p.Event("rotatestart",u)).fire(new p.Event("rotate",u)).fire(new p.Event("rotateend",u)),D&&this.fire(new p.Event("pitchstart",u)).fire(new p.Event("pitch",u)).fire(new p.Event("pitchend",u)),this.fire(new p.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||p.warnOnce(mu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,u){const _=this.transform;if(!_.projection.supportsFreeCamera)return p.warnOnce(mu),this;this.stop();const x=_.zoom,C=_.pitch,D=_.bearing;_.setFreeCameraOptions(l);const I=x!==_.zoom,O=C!==_.pitch,V=D!==_.bearing;return this.fire(new p.Event("movestart",u)).fire(new p.Event("move",u)),I&&this.fire(new p.Event("zoomstart",u)).fire(new p.Event("zoom",u)).fire(new p.Event("zoomend",u)),V&&this.fire(new p.Event("rotatestart",u)).fire(new p.Event("rotate",u)).fire(new p.Event("rotateend",u)),O&&this.fire(new p.Event("pitchstart",u)).fire(new p.Event("pitch",u)).fire(new p.Event("pitchend",u)),this.fire(new p.Event("moveend",u)),this}easeTo(l,u){this._stop(!1,l.easeId),(!1===(l=p.extend({offset:[0,0],duration:500,easing:p.ease},l)).animate||!l.essential&&p.exported.prefersReducedMotion)&&(l.duration=0);const _=this.transform,x=this.getZoom(),C=this.getBearing(),D=this.getPitch(),I=this.getPadding(),O="zoom"in l?+l.zoom:x,V="bearing"in l?this._normalizeBearing(l.bearing,C):C,U="pitch"in l?+l.pitch:D,W="padding"in l?l.padding:_.padding,te=p.pointGeometry.convert(l.offset);let me,se,ce;if("globe"===_.projection.name){const Re=p.MercatorCoordinate.fromLngLat(_.center),Ue=te.rotate(-_.angle);Re.x+=Ue.x/_.worldSize,Re.y+=Ue.y/_.worldSize;const _t=Re.toLngLat(),Be=p.LngLat.convert(l.center||_t);this._normalizeCenter(Be),me=_.centerPoint.add(Ue),se=new p.pointGeometry(Re.x,Re.y).mult(_.worldSize),ce=new p.pointGeometry(p.mercatorXfromLng(Be.lng),p.mercatorYfromLat(Be.lat)).mult(_.worldSize).sub(se)}else{me=_.centerPoint.add(te);const Re=_.pointLocation(me),Ue=p.LngLat.convert(l.center||Re);this._normalizeCenter(Ue),se=_.project(Re),ce=_.project(Ue).sub(se)}const ue=_.zoomScale(O-x);let re,fe;l.around&&(re=p.LngLat.convert(l.around),fe=_.locationPoint(re));const oe=this._zooming||O!==x,Le=this._rotating||C!==V,De=this._pitching||U!==D,we=!_.isPaddingEqual(W),Ee=Re=>Ue=>{if(oe&&(Re.zoom=p.number(x,O,Ue)),Le&&(Re.bearing=p.number(C,V,Ue)),De&&(Re.pitch=p.number(D,U,Ue)),we&&(Re.interpolatePadding(I,W,Ue),me=Re.centerPoint.add(te)),re)Re.setLocationAtPoint(re,fe);else{const _t=Re.zoomScale(Re.zoom-x),Be=O>x?Math.min(2,ue):Math.max(.5,ue),st=Math.pow(Be,1-Ue),ut=Re.unproject(se.add(ce.mult(Ue*st)).mult(_t));Re.setLocationAtPoint(Re.renderWorldCopies?ut.wrap():ut,me)}return l.preloadOnly||this._fireMoveEvents(u),Re};if(l.preloadOnly){const Re=this._emulate(Ee,l.duration,_);return this._preloadTiles(Re),this}const Me={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=oe,this._rotating=Le,this._pitching=De,this._padding=we,this._easeId=l.easeId,this._prepareEase(u,l.noMoveStart,Me),this._ease(Ee(_),Re=>{_.recenterOnTerrain(),this._afterEase(u,Re)},l),this}_prepareEase(l,u,_={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||_.moving||this.fire(new p.Event("movestart",l)),this._zooming&&!_.zooming&&this.fire(new p.Event("zoomstart",l)),this._rotating&&!_.rotating&&this.fire(new p.Event("rotatestart",l)),this._pitching&&!_.pitching&&this.fire(new p.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new p.Event("move",l)),this._zooming&&this.fire(new p.Event("zoom",l)),this._rotating&&this.fire(new p.Event("rotate",l)),this._pitching&&this.fire(new p.Event("pitch",l))}_afterEase(l,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const _=this._zooming,x=this._rotating,C=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new p.Event("zoomend",l)),x&&this.fire(new p.Event("rotateend",l)),C&&this.fire(new p.Event("pitchend",l)),this.fire(new p.Event("moveend",l))}flyTo(l,u){if(!l.essential&&p.exported.prefersReducedMotion){const Rt=p.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Rt,u)}this.stop(),l=p.extend({offset:[0,0],speed:1.2,curve:1.42,easing:p.ease},l);const _=this.transform,x=this.getZoom(),C=this.getBearing(),D=this.getPitch(),I=this.getPadding(),O="zoom"in l?p.clamp(+l.zoom,_.minZoom,_.maxZoom):x,V="bearing"in l?this._normalizeBearing(l.bearing,C):C,U="pitch"in l?+l.pitch:D,W="padding"in l?l.padding:_.padding,te=_.zoomScale(O-x),me=p.pointGeometry.convert(l.offset);let se=_.centerPoint.add(me);const ce=_.pointLocation(se),ue=p.LngLat.convert(l.center||ce);this._normalizeCenter(ue);const re=_.project(ce),fe=_.project(ue).sub(re);let oe=l.curve;const Le=Math.max(_.width,_.height),De=Le/te,we=fe.mag();if("minZoom"in l){const Rt=p.clamp(Math.min(l.minZoom,x,O),_.minZoom,_.maxZoom),Pt=Le/_.zoomScale(Rt-x);oe=Math.sqrt(Pt/we*2)}const Ee=oe*oe;function Me(Rt){const Pt=(De*De-Le*Le+(Rt?-1:1)*Ee*Ee*we*we)/(2*(Rt?De:Le)*Ee*we);return Math.log(Math.sqrt(Pt*Pt+1)-Pt)}function Re(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Ue(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}const _t=Me(0);let Be=function(Rt){return Ue(_t)/Ue(_t+oe*Rt)},st=function(Rt){return Le*((Ue(_t)*(Re(Pt=_t+oe*Rt)/Ue(Pt))-Re(_t))/Ee)/we;var Pt},ut=(Me(1)-_t)/oe;if(Math.abs(we)<1e-6||!isFinite(ut)){if(Math.abs(Le-De)<1e-6)return this.easeTo(l,u);const Rt=De<Le?-1:1;ut=Math.abs(Math.log(De/Le))/oe,st=function(){return 0},Be=function(Pt){return Math.exp(Rt*oe*Pt)}}l.duration="duration"in l?+l.duration:1e3*ut/("screenSpeed"in l?+l.screenSpeed/oe:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0);const It=C!==V,qe=U!==D,Ve=!_.isPaddingEqual(W),lt=Rt=>Pt=>{const ln=Pt*ut,Tn=1/Be(ln);Rt.zoom=1===Pt?O:x+Rt.scaleZoom(Tn),It&&(Rt.bearing=p.number(C,V,Pt)),qe&&(Rt.pitch=p.number(D,U,Pt)),Ve&&(Rt.interpolatePadding(I,W,Pt),se=Rt.centerPoint.add(me));const $n=1===Pt?ue:Rt.unproject(re.add(fe.mult(st(ln))).mult(Tn));return Rt.setLocationAtPoint(Rt.renderWorldCopies?$n.wrap():$n,se),Rt._updateCameraOnTerrain(),l.preloadOnly||this._fireMoveEvents(u),Rt};if(l.preloadOnly){const Rt=this._emulate(lt,l.duration,_);return this._preloadTiles(Rt),this}return this._zooming=!0,this._rotating=It,this._pitching=qe,this._padding=Ve,this._prepareEase(u,!1),this._ease(lt(_),()=>this._afterEase(u),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const _=this._onEaseEnd;this._onEaseEnd=void 0,_.call(this,u)}if(!l){const _=this.handlers;_&&_.stop(!1)}return this}_ease(l,u,_){!1===_.animate||0===_.duration?(l(1),u()):(this._easeStart=p.exported.now(),this._easeOptions=_,this._onEaseFrame=l,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((p.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,u){l=p.wrap(l,-180,180);const _=Math.abs(l-u);return Math.abs(l-360-u)<_&&(l-=360),Math.abs(l+360-u)<_&&(l+=360),l}_normalizeCenter(l){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const _=l.lng-u.center.lng;l.lng+=_>180?-360:_<-180?360:0}_emulate(l,u,_){const x=Math.ceil(15*u/1e3),C=[],D=l(_.clone());for(let I=0;I<=x;I++){const O=D(I/x);C.push(O.clone())}return C}}class hd{constructor(l={}){this.options=l,p.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const u=this.options&&this.options.compact;return this._map=l,this._container=rn("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=rn("button","mapboxgl-ctrl-attrib-button",this._container),rn("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=rn("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===u&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,u){const _=this._map._getUIString(`AttributionControl.${u}`);l.setAttribute("aria-label",_),l.removeAttribute("title"),l.firstElementChild&&l.firstElementChild.setAttribute("title",_)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||p.config.ACCESS_TOKEN}];if(l){const _=u.reduce((x,C,D)=>(C.value&&(x+=`${C.key}=${C.value}${D<u.length-1?"&":""}`),x),"?");l.href=`${p.config.FEEDBACK_URL}/${_}#${Bl(this._map,!0)}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||"metadata"!==l.sourceDataType&&"visibility"!==l.sourceDataType&&"style"!==l.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const u=this._map.style._sourceCaches;for(const x in u){const C=u[x];if(C.used){const D=C.getSource();D.attribution&&l.indexOf(D.attribution)<0&&l.push(D.attribution)}}l.sort((x,C)=>x.length-C.length),l=l.filter((x,C)=>{for(let D=C+1;D<l.length;D++)if(l[D].indexOf(x)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=[...this.options.customAttribution,...l]:l.unshift(this.options.customAttribution));const _=l.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,l.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class vh{constructor(){p.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(l){this._map=l,this._container=rn("div","mapboxgl-ctrl");const u=rn("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&"metadata"!==l.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(0===Object.entries(l).length)return!0;for(const u in l){const _=l[u].getSource();if(_.hasOwnProperty("mapbox_logo")&&!_.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const u=l[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class Os{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const u=++this._id;return this._queue.push({callback:l,id:u,cancelled:!1}),u}remove(l){const u=this._currentlyRunning,_=u?this._queue.concat(u):this._queue;for(const x of _)if(x.id===l)return void(x.cancelled=!0)}run(l=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const _ of u)if(!_.cancelled&&(_.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function xh(f,l,u){if(f=new p.LngLat(f.lng,f.lat),l){const _=new p.LngLat(f.lng-360,f.lat),x=new p.LngLat(f.lng+360,f.lat),C=360*Math.ceil(Math.abs(f.lng-u.center.lng)/360),D=u.locationPoint(f).distSqr(l),I=l.x<0||l.y<0||l.x>u.width||l.y>u.height;u.locationPoint(_).distSqr(l)<D&&(I||Math.abs(_.lng-u.center.lng)<C)?f=_:u.locationPoint(x).distSqr(l)<D&&(I||Math.abs(x.lng-u.center.lng)<C)&&(f=x)}for(;Math.abs(f.lng-u.center.lng)>180;){const _=u.locationPoint(f);if(_.x>=0&&_.y>=0&&_.x<=u.width&&_.y<=u.height)break;f.lng>u.center.lng?f.lng-=360:f.lng+=360}return f}const pu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class jl extends p.Evented{constructor(l,u){if(super(),(l instanceof p.window.HTMLElement||u)&&(l=p.extend({element:l},u)),p.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),l&&l.element)this._element=l.element,this._offset=p.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=rn("div");const x=41,C=27,D=Wi("svg",{display:"block",height:x*this._scale+"px",width:C*this._scale+"px",viewBox:`0 0 ${C} ${x}`},this._element),I=Wi("radialGradient",{id:"shadowGradient"},Wi("defs",{},D));Wi("stop",{offset:"10%","stop-opacity":.4},I),Wi("stop",{offset:"100%","stop-opacity":.05},I),Wi("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},D),Wi("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},D),Wi("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},D),Wi("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},D),this._offset=p.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const _=this._element.classList;for(const x in pu)_.remove(`mapboxgl-marker-anchor-${x}`);_.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return l===this._map||(this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._updateMoving),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),l.on("click",this._onMapClick)),this}remove(){const l=this._map;return l&&(l.off("click",this._onMapClick),l.off("move",this._updateMoving),l.off("moveend",this._update),l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler),l.off("mouseup",this._onUp),l.off("touchend",this._onUp),l.off("mousemove",this._onMove),l.off("touchmove",this._onMove),l.off("remove",this._clearFadeTimer),l._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=p.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const u=38.1,_=13.5,x=Math.sqrt(Math.pow(_,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-u],"bottom-left":[x,-1*(u-_+x)],"bottom-right":[-x,-1*(u-_+x)],left:[_,-1*(u-_)],right:[-_,-1*(u-_)]}:this._offset}this._popup=l,l._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const u=l.code,_=l.charCode||l.keyCode;"Space"!==u&&"Enter"!==u&&32!==_&&13!==_||this.togglePopup()}_onMapClick(l){const u=l.originalEvent.target,_=this._element;this._popup&&(u===_||_.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const l=this._map;if(!l)return!1;const u=l.unproject(this._pos),_=l.getFreeCameraOptions();if(!_.position)return!1;const x=_.position.toLngLat();return x.distanceTo(u)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const l=this._map;if(!l)return;const u=this._pos;if(!u||u.x<0||u.x>l.transform.width||u.y<0||u.y>l.transform.height)return void this._clearFadeTimer();const _=l.unproject(u);let x;l._showingGlobe()&&p.isLngLatBehindGlobe(l.transform,this._lngLat)?x=0:(x=1-l._queryFogOpacity(_),l.transform._terrainEnabled()&&l.getTerrain()&&this._behindTerrain()&&(x*=.2)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const l=this._pos;if(!l||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${l.x}px,${l.y}px)\n            ${pu[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${u.x}px,${u.y}px)\n        `}_calculateXYTransform(){const l=this._pos,u=this._map,_=this.getPitchAlignment();if(!u||!l||"map"!==_)return"";if(!u._showingGlobe()){const O=u.getPitch();return O?`rotateX(${O}deg)`:""}const x=p.radToDeg(p.globeTiltAtLngLat(u.transform,this._lngLat)),C=l.sub(p.globeCenterToScreenPoint(u.transform)),D=Math.abs(C.x)+Math.abs(C.y);if(0===D)return"";const I=x/D;return`rotateX(${-C.y*I}deg) rotateY(${C.x*I}deg)`}_calculateZTransform(){const l=this._pos,u=this._map;if(!u||!l)return"";let _=0;const x=this.getRotationAlignment();if("map"===x)if(u._showingGlobe()){const C=u.project(new p.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),D=u.project(new p.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(C);_=p.radToDeg(Math.atan2(D.y,D.x))-90}else _=-u.getBearing();else if("horizon"===x){const C=p.smoothstep(4,6,u.getZoom()),D=p.globeCenterToScreenPoint(u.transform);D.y+=C*u.transform.height;const I=l.sub(D),O=p.radToDeg(Math.atan2(I.y,I.x));_=(O>90?O-270:O+90)*(1-C)}return _+=this._rotation,_?`rotateZ(${_}deg)`:""}_update(l){p.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=xh(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),!0===l?this._updateFrameId=p.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(l){return this._offset=p.pointGeometry.convert(l),this._update(),this}_onMove(l){const u=this._map;if(u){if(!this._isDragging){const _=this._clickTolerance||u._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new p.Event("dragstart"))),this.fire(new p.Event("drag")))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const l=this._map;l&&(l.off("mousemove",this._onMove),l.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new p.Event("dragend")),this._state="inactive"}_addDragHandler(l){const u=this._map;u&&this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos),this._pointerdownPos=l.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(l){this._draggable=!!l;const u=this._map;return u&&(l?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}}class wh{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const u=p.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,u,_){this._start=this.getValue(u),this._end=l,this._startTime=u,this._endTime=u+_}}const St={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},md={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Ec(f){f.parentNode&&f.parentNode.removeChild(f)}const fu={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ai{constructor(l,u,_=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new cu({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,_&&(this.mousePitch=new sr({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),p.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(l,u){this.mouseRotate.mousedown(l,u),this.mousePitch&&this.mousePitch.mousedown(l,u),ht()}move(l,u){const _=this.map,x=this.mouseRotate.mousemoveWindow(l,u),C=x&&x.bearingDelta;if(C&&_.setBearing(_.getBearing()+C),this.mousePitch){const D=this.mousePitch.mousemoveWindow(l,u),I=D&&D.pitchDelta;I&&_.setPitch(_.getPitch()+I)}}off(){const l=this.element;l.removeEventListener("mousedown",this.mousedown),l.removeEventListener("touchstart",this.touchstart,{passive:!1}),l.removeEventListener("touchmove",this.touchmove),l.removeEventListener("touchend",this.touchend),l.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){zn(),p.window.removeEventListener("mousemove",this.mousemove),p.window.removeEventListener("mouseup",this.mouseup)}mousedown(l){this.down(p.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),Gt(this.element,l)),p.window.addEventListener("mousemove",this.mousemove),p.window.addEventListener("mouseup",this.mouseup)}mousemove(l){this.move(l,Gt(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){1!==l.targetTouches.length?this.reset():(this._startPos=this._lastPos=An(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){1!==l.targetTouches.length?this.reset():(this._lastPos=An(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){0===l.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const pd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Xs={maxWidth:100,unit:"metric"};function Ul(f,l,u){const _=Gl(l),x=_/l,C={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[u];this._map._requestDomTask(()=>{this._container.style.width=f*x+"px",this._container.innerHTML=`${_}&nbsp;${C}`})}function Gl(f){const l=Math.pow(10,`${Math.floor(f)}`.length-1);let u=f/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:function(_){const x=Math.pow(10,Math.ceil(-Math.log(_)/Math.LN10));return Math.round(_*x)/x}(u),l*u}const Yf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},wm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function fd(f=new p.pointGeometry(0,0),l="bottom"){if("number"==typeof f){const u=Math.round(Math.sqrt(.5*Math.pow(f,2)));switch(l){case"top":return new p.pointGeometry(0,f);case"top-left":return new p.pointGeometry(u,u);case"top-right":return new p.pointGeometry(-u,u);case"bottom":return new p.pointGeometry(0,-f);case"bottom-left":return new p.pointGeometry(u,-u);case"bottom-right":return new p.pointGeometry(-u,-u);case"left":return new p.pointGeometry(f,0);case"right":return new p.pointGeometry(-f,0)}return new p.pointGeometry(0,0)}return f instanceof p.pointGeometry||Array.isArray(f)?p.pointGeometry.convert(f):p.pointGeometry.convert(f[l]||[0,0])}const gd={version:p.version,supported:un,setRTLTextPlugin:p.setRTLTextPlugin,getRTLTextPluginStatus:p.getRTLTextPluginStatus,Map:class extends Tc{constructor(f){if(null!=(f=p.extend({},md,f)).minZoom&&null!=f.maxZoom&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=f.minPitch&&null!=f.maxPitch&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=f.minPitch&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=f.maxPitch&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(f.antialias&&p.isSafariWithAntialiasingBug(p.window)&&(f.antialias=!1,p.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new mt(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),f),this._interactive=f.interactive,this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._optimizeForTerrain=f.optimizeForTerrain,this._language="auto"===f.language?p.window.navigator.language:f.language,this._worldview=f.worldview,this._renderTaskQueue=new Os,this._domRenderTaskQueue=new Os,this._controls=[],this._markers=[],this._mapId=p.uniqueId(),this._locale=p.extend({},St,f.locale),this._clickTolerance=f.clickTolerance,this._cooperativeGestures=f.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new wh(0),this._useExplicitProjection=!1,this._requestManager=new p.RequestManager(f.transformRequest,f.accessToken,f.testMode),this._silenceAuthErrors=!!f.testMode,"string"==typeof f.container){if(this._container=p.window.document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof p.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(this._container.childNodes.length>0&&p.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),f.maxBounds&&this.setMaxBounds(f.maxBounds),p.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==p.window&&(p.window.addEventListener("online",this._onWindowOnline,!1),p.window.addEventListener("resize",this._onWindowResize,!1),p.window.addEventListener("orientationchange",this._onWindowResize,!1),p.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new xm(this,f),this._localFontFamily=f.localFontFamily,this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),f.projection&&this.setProjection(f.projection),this._hash=f.hash&&new fh("string"==typeof f.hash&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,p.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),f.attributionControl&&this.addControl(new hd({customAttribution:f.customAttribution})),this._logoControl=new vh,this.addControl(this._logoControl,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update("style"===l.dataType),this.fire(new p.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new p.Event(`${l.dataType}dataloading`,l))})}_getMapId(){return this._mapId}addControl(f,l){if(void 0===l&&(l=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new p.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=f.onAdd(this);this._controls.push(f);const _=this._controlPositions[l];return-1!==l.indexOf("bottom")?_.insertBefore(u,_.firstChild):_.appendChild(u),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new p.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(f);return l>-1&&this._controls.splice(l,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(f){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const l=!this._moving;return l&&this.fire(new p.Event("movestart",f)).fire(new p.Event("move",f)),this.fire(new p.Event("resize",f)),l&&this.fire(new p.Event("moveend",f)),this}getBounds(){return"globe"===this.transform.projection.name&&p.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(f){return this.transform.setMaxBounds(p.LngLatBounds.convert(f)),this._update()}setMinZoom(f){if((f=null==f?-2:f)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f?this.setZoom(f):this.fire(new p.Event("zoomstart")).fire(new p.Event("zoom")).fire(new p.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=null==f?22:f)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f?this.setZoom(f):this.fire(new p.Event("zoomstart")).fire(new p.Event("zoom")).fire(new p.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=null==f?0:f)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f?this.setPitch(f):this.fire(new p.Event("pitchstart")).fire(new p.Event("pitch")).fire(new p.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=null==f?85:f)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f?this.setPitch(f):this.fire(new p.Event("pitchstart")).fire(new p.Event("pitch")).fire(new p.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this._update()}getLanguage(){return this._language}setLanguage(f){if(this._language="auto"===f?p.window.navigator.language:f,this.style)for(const l in this.style._sourceCaches){const u=this.style._sourceCaches[l]._source;u._setLanguage&&u._setLanguage(this._language)}for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(f){if(this._worldview=f,this.style)for(const l in this.style._sourceCaches){const u=this.style._sourceCaches[l]._source;u._setWorldview&&u._setWorldview(f)}return this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(f){return this._lazyInitEmptyStyle(),f?"string"==typeof f&&(f={name:f}):f=null,this._useExplicitProjection=!!f,this._prioritizeAndUpdateProjection(f,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const f=this.transform,l=f.projection.name;let u;"globe"===l&&f.zoom>=p.GLOBE_ZOOM_THRESHOLD_MAX?(f.setMercatorFromTransition(),u=!0):"mercator"===l&&f.zoom<p.GLOBE_ZOOM_THRESHOLD_MAX&&(f.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(f,l){return this._updateProjection(f||l||{name:"mercator"})}_updateProjection(f){let l;if(l="globe"===f.name&&this.transform.zoom>=p.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(f),this.style.applyProjectionUpdate(),l){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0)}return this}project(f){return this.transform.locationPoint3D(p.LngLat.convert(f))}unproject(f){return this.transform.pointLocation3D(p.pointGeometry.convert(f))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(f,l,u){if("mouseenter"===f||"mouseover"===f){let _=!1;const x=D=>{const I=l.filter(V=>this.getLayer(V)),O=I.length?this.queryRenderedFeatures(D.point,{layers:I}):[];O.length?_||(_=!0,u.call(this,new ta(f,this,D.originalEvent,{features:O}))):_=!1},C=()=>{_=!1};return{layers:new Set(l),listener:u,delegates:{mousemove:x,mouseout:C}}}if("mouseleave"===f||"mouseout"===f){let _=!1;const x=D=>{const I=l.filter(O=>this.getLayer(O));(I.length?this.queryRenderedFeatures(D.point,{layers:I}):[]).length?_=!0:_&&(_=!1,u.call(this,new ta(f,this,D.originalEvent)))},C=D=>{_&&(_=!1,u.call(this,new ta(f,this,D.originalEvent)))};return{layers:new Set(l),listener:u,delegates:{mousemove:x,mouseout:C}}}{const _=x=>{const C=l.filter(I=>this.getLayer(I)),D=C.length?this.queryRenderedFeatures(x.point,{layers:C}):[];D.length&&(x.features=D,u.call(this,x),delete x.features)};return{layers:new Set(l),listener:u,delegates:{[f]:_}}}}on(f,l,u){if(void 0===u)return super.on(f,l);Array.isArray(l)||(l=[l]);const _=this._createDelegatedListener(f,l,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(_);for(const x in _.delegates)this.on(x,_.delegates[x]);return this}once(f,l,u){if(void 0===u)return super.once(f,l);Array.isArray(l)||(l=[l]);const _=this._createDelegatedListener(f,l,u);for(const x in _.delegates)this.once(x,_.delegates[x]);return this}off(f,l,u){if(void 0===u)return super.off(f,l);l=new Set(Array.isArray(l)?l:[l]);const _=(C,D)=>{if(C.size!==D.size)return!1;for(const I of C)if(!D.has(I))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[f]:void 0;return x&&(C=>{for(let D=0;D<C.length;D++){const I=C[D];if(I.listener===u&&_(I.layers,l)){for(const O in I.delegates)this.off(O,I.delegates[O]);return C.splice(D,1),this}}})(x),this}queryRenderedFeatures(f,l){return this.style?(void 0!==l||void 0===f||f instanceof p.pointGeometry||Array.isArray(f)||(l=f,f=void 0),this.style.queryRenderedFeatures(f=f||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(f,l){return this.style.querySourceFeatures(f,l)}queryTerrainElevation(f,l){const u=this.transform.elevation;return u?(l=p.extend({},{exaggerated:!0},l),u.getAtPoint(p.MercatorCoordinate.fromLngLat(f),null,l.exaggerated)):null}setStyle(f,l){return!1!==(l=p.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&f?(this._diffStyle(f,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(f,l))}_getUIString(f){const l=this._locale[f];if(null==l)throw new Error(`Missing UI string '${f}'`);return l}_updateStyle(f,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),f&&(this.style=new ii(this,l||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof f?this.style.loadURL(f):this.style.loadJSON(f)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ii(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(f,l){if("string"==typeof f){const u=this._requestManager.normalizeStyleURL(f),_=this._requestManager.transformRequest(u,p.ResourceType.Style);p.getJSON(_,(x,C)=>{x?this.fire(new p.ErrorEvent(x)):C&&this._updateDiff(C,l)})}else"object"==typeof f&&this._updateDiff(f,l)}_updateDiff(f,l){try{this.style.setState(f)&&this._update(!0)}catch(u){p.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(f,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(p.warnOnce("There is no style added to the map."),!1)}addSource(f,l){return this._lazyInitEmptyStyle(),this.style.addSource(f,l),this._update(!0)}isSourceLoaded(f){return!!this.style&&this.style._isSourceCacheLoaded(f)}areTilesLoaded(){const f=this.style&&this.style._sourceCaches;for(const l in f){const u=f[l]._tiles;for(const _ in u){const x=u[_];if("loaded"!==x.state&&"errored"!==x.state)return!1}}return!0}addSourceType(f,l,u){this._lazyInitEmptyStyle(),this.style.addSourceType(f,l,u)}removeSource(f){return this.style.removeSource(f),this._updateTerrain(),this._update(!0)}getSource(f){return this.style.getSource(f)}addImage(f,l,{pixelRatio:u=1,sdf:_=!1,stretchX:x,stretchY:C,content:D}={}){if(this._lazyInitEmptyStyle(),l instanceof p.window.HTMLImageElement||p.window.ImageBitmap&&l instanceof p.window.ImageBitmap){const{width:I,height:O,data:V}=p.exported.getImageData(l);this.style.addImage(f,{data:new p.RGBAImage({width:I,height:O},V),pixelRatio:u,stretchX:x,stretchY:C,content:D,sdf:_,version:0})}else if(void 0===l.width||void 0===l.height)this.fire(new p.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:I,height:O}=l,V=l;this.style.addImage(f,{data:new p.RGBAImage({width:I,height:O},new Uint8Array(V.data)),pixelRatio:u,stretchX:x,stretchY:C,content:D,sdf:_,version:0,userImage:V}),V.onAdd&&V.onAdd(this,f)}}updateImage(f,l){const u=this.style.getImage(f);if(!u)return void this.fire(new p.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=l instanceof p.window.HTMLImageElement||p.window.ImageBitmap&&l instanceof p.window.ImageBitmap?p.exported.getImageData(l):l,{width:x,height:C}=_;void 0!==x&&void 0!==C?x===u.data.width&&C===u.data.height?(u.data.replace(_.data,!(l instanceof p.window.HTMLImageElement||p.window.ImageBitmap&&l instanceof p.window.ImageBitmap)),this.style.updateImage(f,u)):this.fire(new p.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${C})\n                must be that same as the previous version of the image\n                (${u.data.width}, ${u.data.height})`))):this.fire(new p.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(f){return f?!!this.style.getImage(f):(this.fire(new p.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,l){p.getImage(this._requestManager.transformRequest(f,p.ResourceType.Image),(u,_)=>{l(u,_ instanceof p.window.HTMLImageElement?p.exported.getImageData(_):_)})}listImages(){return this.style.listImages()}addLayer(f,l){return this._lazyInitEmptyStyle(),this.style.addLayer(f,l),this._update(!0)}moveLayer(f,l){return this.style.moveLayer(f,l),this._update(!0)}removeLayer(f){return this.style.removeLayer(f),this._update(!0)}getLayer(f){return this.style.getLayer(f)}setLayerZoomRange(f,l,u){return this.style.setLayerZoomRange(f,l,u),this._update(!0)}setFilter(f,l,u={}){return this.style.setFilter(f,l,u),this._update(!0)}getFilter(f){return this.style.getFilter(f)}setPaintProperty(f,l,u,_={}){return this.style.setPaintProperty(f,l,u,_),this._update(!0)}getPaintProperty(f,l){return this.style.getPaintProperty(f,l)}setLayoutProperty(f,l,u,_={}){return this.style.setLayoutProperty(f,l,u,_),this._update(!0)}getLayoutProperty(f,l){return this.style.getLayoutProperty(f,l)}setLight(f,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(f,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(f){return this._lazyInitEmptyStyle(),!f&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(f),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(f){return this._lazyInitEmptyStyle(),this.style.setFog(f),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(f){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(p.LngLat.convert(f),this.transform):0}setFeatureState(f,l){return this.style.setFeatureState(f,l),this._update()}removeFeatureState(f,l){return this.style.removeFeatureState(f,l),this._update()}getFeatureState(f){return this.style.getFeatureState(f)}_updateContainerDimensions(){if(!this._container)return;const f=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300;let u,_,x,C=this._container;for(;C&&(!_||!x);){const D=p.window.getComputedStyle(C).transform;D&&"none"!==D&&(u=D.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&"0"!==u[0]&&"1"!==u[0]&&(_=u[0]),u[3]&&"0"!==u[3]&&"1"!==u[3]&&(x=u[3])),C=C.parentElement}this._containerWidth=_?Math.abs(f/_):f,this._containerHeight=x?Math.abs(l/x):l}_detectMissingCSS(){"rgb(250, 128, 114)"!==p.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&p.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=rn("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=rn("div","mapboxgl-canvas-container",f);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=rn("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=rn("div","mapboxgl-control-container",f),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{_[x]=rn("div",`mapboxgl-ctrl-${x}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(f,l){const u=p.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(f),this._canvas.height=u*Math.ceil(l),this._canvas.style.width=`${f}px`,this._canvas.style.height=`${l}px`}_addMarker(f){this._markers.push(f)}_removeMarker(f){const l=this._markers.indexOf(f);-1!==l&&this._markers.splice(l,1)}_setupPainter(){const f=p.extend({},un.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);l?(p.storeAuthState(l,!0),this.painter=new Is(l,this.transform),this.on("data",u=>{"source"===u.dataType&&this.painter.setTileLoadedFlag(!0)}),p.exported$1.testSupport(l)):this.fire(new p.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new p.Event("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new p.Event("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_requestDomTask(f){!this.loaded()||this.loaded()&&!this.isMoving()?f():this._domRenderTaskQueue.add(f)}_render(f){let l;const u=this.painter.context.extTimerQuery,_=p.exported.now();if(this.listens("gpu-timing-frame")&&(l=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,l)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),this._domRenderTaskQueue.run(f),this._removed)return;this._updateProjectionTransition();let x=!1;const C=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const O=this.transform.zoom,V=this.transform.pitch,U=p.exported.now();this.style.zoomHistory.update(O,U);const W=new p.EvaluationParameters(O,{now:U,fadeDuration:C,pitch:V,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),te=W.crossFadingFactor();1===te&&te===this._crossFadingFactor||(x=!0,this._crossFadingFactor=te),this.style.update(W)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let D=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),D=this._updateAverageElevation(_),this.style._updateSources(this.transform),this._forceMarkerUpdate()):D=this._updateAverageElevation(_),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,C,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:C,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new p.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new p.Event("load"))),this.style&&(this.style.hasTransitions()||x)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),l){const O=p.exported.now()-_;u.endQueryEXT(u.TIME_ELAPSED_EXT,l),setTimeout(()=>{const V=u.getQueryObjectEXT(l,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(l),this.fire(new p.Event("gpu-timing-frame",{cpuTime:O,gpuTime:V})),p.window.performance.mark("frame-gpu",{startTime:_,detail:{gpuTime:V}})},50)}if(this.listens("gpu-timing-layer")){const O=this.painter.collectGpuTimers();setTimeout(()=>{const V=this.painter.queryGpuTimers(O);this.fire(new p.Event("gpu-timing-layer",{layerTimes:V}))},50)}if(this.listens("gpu-timing-deferred-render")){const O=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const V=this.painter.queryGpuTimeDeferredRender(O);this.fire(new p.Event("gpu-timing-deferred-render",{gpuTime:V}))},50)}const I=this._sourcesDirty||this._styleDirty||this._placementDirty||D;if(I||this._repaint)this.triggerRepaint();else{const O=!this.isMoving()&&this.loaded();if(O&&(D=this._updateAverageElevation(_,!0)),D)this.triggerRepaint();else if(this._triggerFrame(!1),O&&(this.fire(new p.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const V=this._calculateSpeedIndex();this.fire(new p.Event("speedindexcompleted",{speedIndex:V})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||I||(this._fullyLoaded=!0,this._authenticate())}_forceMarkerUpdate(){for(const f of this._markers)f._update()}_updateAverageElevation(f,l=!1){const u=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&u(0);if((l||f-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(f)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),C=!1;this.transform.elevation&&(C=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=f;const D=Math.abs(_-x);if(D>1){if(this._isInitialLoad||C)return this._averageElevation.jumpTo(x),u(x);this._averageElevation.easeTo(x,f,300)}else if(D>1e-4)return this._averageElevation.jumpTo(x),u(x)}return!!this._averageElevation.isEasing(f)&&u(this._averageElevation.getValue(f))}_authenticate(){p.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,f=>{if(f&&(f.message===p.AUTH_ERR_MSG||401===f.status)){const l=this.painter.context.gl;p.storeAuthState(l,!1),this._logoControl instanceof vh&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new p.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),p.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const f=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const u=this.painter.context.gl,_=u.createFramebuffer();function x(C){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,C,0);const D=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,D),D}return u.bindFramebuffer(u.FRAMEBUFFER,_),this._canvasPixelComparison(x(f),l.canvasCopies.map(x),l.timeStamps)}_canvasPixelComparison(f,l,u){let _=u[1]-u[0];const x=f.length/4;for(let C=0;C<l.length;C++){const D=l[C];let I=0;for(let O=0;O<D.length;O+=4)D[O]===f[O]&&D[O+1]===f[O+1]&&D[O+2]===f[O+2]&&D[O+3]===f[O+3]&&(I+=1);_+=(u[C+2]-u[C+1])*(1-I/x)}return _}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==p.window&&(p.window.removeEventListener("resize",this._onWindowResize,!1),p.window.removeEventListener("orientationchange",this._onWindowResize,!1),p.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),p.window.removeEventListener("online",this._onWindowOnline,!1));const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),Ec(this._canvasContainer),Ec(this._controlContainer),Ec(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),p.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new p.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(f){this._renderNextFrame=this._renderNextFrame||f,this.style&&!this._frame&&(this._frame=p.exported.frame(l=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(l)}))}_preloadTiles(f){const l=this.style?Object.values(this.style._sourceCaches):[];return p.asyncAll(l,(u,_)=>u._preloadTiles(f,_),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(f){this._showTerrainWireframe!==f&&(this._showTerrainWireframe=f,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(f){this._speedIndexTiming!==f&&(this._speedIndexTiming=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}_setCacheLimits(f,l){p.setCacheLimits(f,l)}get version(){return p.version}},NavigationControl:class{constructor(f){this.options=p.extend({},fu,f),this._container=rn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(p.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",l=>{this._map&&this._map.zoomIn({},{originalEvent:l})}),rn("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",l=>{this._map&&this._map.zoomOut({},{originalEvent:l})}),rn("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(p.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",l=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:l}):u.resetNorth({},{originalEvent:l}))}),this._compassIcon=rn("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map;if(!f)return;const l=f.getZoom(),u=l===f.getMaxZoom(),_=l===f.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())}_rotateCompassArrow(){const f=this._map;if(!f)return;const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(f.transform.pitch*(Math.PI/180)),.5)}) rotateX(${f.transform.pitch}deg) rotateZ(${f.transform.angle*(180/Math.PI)}deg)`:`rotate(${f.transform.angle*(180/Math.PI)}deg)`;f._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=l)})}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),f.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&f.on("pitch",this._rotateCompassArrow),f.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ai(f,this._compass,this.options.visualizePitch)),this._container}onRemove(){const f=this._map;f&&(this._container.remove(),this.options.showZoom&&f.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&f.off("pitch",this._rotateCompassArrow),f.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(f,l){const u=rn("button",f,this._container);return u.type="button",u.addEventListener("click",l),u}_setButtonTitle(f,l){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${l}`);f.setAttribute("aria-label",u),f.firstElementChild&&f.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends p.Evented{constructor(f){super(),this.options=p.extend({geolocation:p.window.navigator.geolocation},pd,f),p.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=ja(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(f){return this._map=f,this._container=rn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(f){void 0!==this._supportsGeolocation?f(this._supportsGeolocation):void 0!==p.window.navigator.permissions?p.window.navigator.permissions.query({name:"geolocation"}).then(l=>{this._supportsGeolocation="denied"!==l.state,f(this._supportsGeolocation)}):(this._supportsGeolocation=!!this.options.geolocation,f(this._supportsGeolocation))}_isOutOfMapMaxBounds(f){const l=this._map.getMaxBounds(),u=f.coords;return!!l&&(u.longitude<l.getWest()||u.longitude>l.getEast()||u.latitude<l.getSouth()||u.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new p.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(f),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new p.Event("geolocate",f)),this._finish()}}_updateCamera(f){const l=new p.LngLat(f.coords.longitude,f.coords.latitude),u=f.coords.accuracy,_=this._map.getBearing(),x=p.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(u),x,{geolocateSource:!0})}_updateMarker(f){if(f){const l=new p.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map.transform,l=p.mercatorZfromAltitude(1,f._center.lat)*f.worldSize,u=Math.ceil(2*this._accuracy*l);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(f){if(this._map){if(this.options.trackUserLocation)if(1===f.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===f.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new p.Event("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=rn("button","mapboxgl-ctrl-geolocate",this._container),rn("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===f){p.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=rn("div","mapboxgl-user-location"),this._dotElement.appendChild(rn("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(rn("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new jl({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=rn("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new jl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||"ACTIVE_LOCK"!==this._watchState||l.originalEvent&&"resize"===l.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new p.Event("trackuserlocationend")))})}_onDeviceOrientation(f){this._userLocationDotMarker&&(f.webkitCompassHeading?this._heading=f.webkitCompassHeading:!0===f.absolute&&(this._heading=-1*f.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return p.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new p.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new p.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new p.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let f;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(f={maximumAge:6e5,timeout:0},this._noTimeout=!0):(f=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,f),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const f=()=>{p.window.addEventListener("ondeviceorientationabsolute"in p.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==p.window.DeviceMotionEvent&&"function"==typeof p.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(l=>{"granted"===l&&f()}).catch(console.error):f()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),p.window.removeEventListener("deviceorientation",this._onDeviceOrientation),p.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:hd,ScaleControl:class{constructor(f){this.options=p.extend({},Xs,f),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(l){return!1}}()||(this._setScale=Ul.bind(this)),p.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const f=this.options.maxWidth||100,l=this._map,u=l._containerHeight/2,_=l._containerWidth/2-f/2,x=l.unproject([_,u]),C=l.unproject([_+f,u]),D=x.distanceTo(C);if("imperial"===this.options.unit){const I=3.2808*D;I>5280?this._setScale(f,I/5280,"mile"):this._setScale(f,I,"foot")}else"nautical"===this.options.unit?this._setScale(f,D/1852,"nautical-mile"):D>=1e3?this._setScale(f,D/1e3,"kilometer"):this._setScale(f,D,"meter")}_setScale(f,l,u){const _=Gl(l),x=_/l;this._map._requestDomTask(()=>{this._container.style.width=f*x+"px",this._container.innerHTML="nautical-mile"!==u?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:u}).format(_):`${_}&nbsp;nm`})}onAdd(f){return this._map=f,this._language=f.getLanguage(),this._container=rn("div","mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(f){this._language=f,this._update()}setUnit(f){this.options.unit=f,this._update()}},FullscreenControl:class{constructor(f){this._fullscreen=!1,f&&f.container&&(f.container instanceof p.window.HTMLElement?this._container=f.container:p.warnOnce("Full screen control 'container' must be a DOM element.")),p.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in p.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in p.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=rn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",p.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,p.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!p.window.document.fullscreenEnabled&&!p.window.document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=rn("button","mapboxgl-ctrl-fullscreen",this._controlContainer);rn("span","mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),p.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",f)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(p.window.document.fullscreenElement||p.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?p.window.document.exitFullscreen?p.window.document.exitFullscreen():p.window.document.webkitCancelFullScreen&&p.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends p.Evented{constructor(f){super(),this.options=p.extend(Object.create(Yf),f),p.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(f&&f.className?f.className.trim().split(/\s+/):[])}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&f.on("preclick",this._onClose),this.options.closeOnMove&&f.on("move",this._onClose),f.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(f.on("mousemove",this._onMouseEvent),f.on("mouseup",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")):f.on("move",this._update),this.fire(new p.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const f=this._map;return f&&(f.off("move",this._update),f.off("move",this._onClose),f.off("preclick",this._onClose),f.off("click",this._onClose),f.off("remove",this.remove),f.off("mousemove",this._onMouseEvent),f.off("mouseup",this._onMouseEvent),f.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new p.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(f){this._lngLat=p.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update();const l=this._map;return l&&(l.on("move",this._update),l.off("mousemove",this._onMouseEvent),l._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const f=this._map;return f&&(f.off("move",this._update),f.on("mousemove",this._onMouseEvent),f.on("drag",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(p.window.document.createTextNode(f))}setHTML(f){const l=p.window.document.createDocumentFragment(),u=p.window.document.createElement("body");let _;for(u.innerHTML=f;_=u.firstChild,_;)l.appendChild(_);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){let l=this._content;if(l)for(;l.hasChildNodes();)l.firstChild&&l.removeChild(l.firstChild);else l=this._content=rn("div","mapboxgl-popup-content",this._container||void 0);if(l.appendChild(f),this.options.closeButton){const u=this._closeButton=rn("button","mapboxgl-popup-close-button",l);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(f){return this._classList.add(f),this._updateClassList(),this}removeClassName(f){return this._classList.delete(f),this._updateClassList(),this}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){let l;return this._classList.delete(f)?l=!1:(this._classList.add(f),l=!0),this._updateClassList(),l}_onMouseEvent(f){this._update(f.point)}_getAnchor(f){if(this.options.anchor)return this.options.anchor;const l=this._map,u=this._container,_=this._pos;if(!l||!u||!_)return"bottom";const x=u.offsetWidth,C=u.offsetHeight,D=_.x<x/2,I=_.x>l.transform.width-x/2;if(_.y+f<C)return D?"top-left":I?"top-right":"top";if(_.y>l.transform.height-C){if(D)return"bottom-left";if(I)return"bottom-right"}return D?"left":I?"right":"bottom"}_updateClassList(){const f=this._container;if(!f)return;const l=[...this._classList];l.push("mapboxgl-popup"),this._anchor&&l.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&l.push("mapboxgl-popup-track-pointer"),f.className=l.join(" ")}_update(f){const l=this._map,u=this._content;if(!l||!this._lngLat&&!this._trackPointer||!u)return;let _=this._container;if(_||(_=this._container=rn("div","mapboxgl-popup",l.getContainer()),this._tip=rn("div","mapboxgl-popup-tip",_),_.appendChild(u)),this.options.maxWidth&&_.style.maxWidth!==this.options.maxWidth&&(_.style.maxWidth=this.options.maxWidth),l.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=xh(this._lngLat,this._pos,l.transform)),!this._trackPointer||f){const x=this._pos=this._trackPointer&&f?f:l.project(this._lngLat),C=fd(this.options.offset),D=this._anchor=this._getAnchor(C.y),I=fd(this.options.offset,D),O=x.add(I).round();l._requestDomTask(()=>{this._container&&D&&(this._container.style.transform=`${pu[D]} translate(${O.x}px,${O.y}px)`)})}if(!this._marker&&l._showingGlobe()){const x=p.isLngLatBehindGlobe(l.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(wm);f&&f.focus()}_onClose(){this.remove()}_setOpacity(f){this._container&&(this._container.style.opacity=`${f}`),this._content&&(this._content.style.pointerEvents=f?"auto":"none")}},Marker:jl,Style:ii,LngLat:p.LngLat,LngLatBounds:p.LngLatBounds,Point:p.pointGeometry,MercatorCoordinate:p.MercatorCoordinate,FreeCameraOptions:jt,Evented:p.Evented,config:p.config,prewarm:function(){fn().acquire(bt)},clearPrewarmedResources:function(){const f=mn;f&&(f.isPreloaded()&&1===f.numActive()?(f.release(bt),mn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return p.config.ACCESS_TOKEN},set accessToken(f){p.config.ACCESS_TOKEN=f},get baseApiUrl(){return p.config.API_URL},set baseApiUrl(f){p.config.API_URL=f},get workerCount(){return Ht.workerCount},set workerCount(f){Ht.workerCount=f},get maxParallelImageRequests(){return p.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){p.config.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){p.clearTileCache(f)},workerUrl:"",workerClass:null,setNow:p.exported.setNow,restoreNow:p.exported.restoreNow};return gd}),cn}()},96:function(Ut,an,tt){!function(cn){"use strict";function Ye(p,at,un,Bt){var nt={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[p+" Tage",p+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[p+" Monate",p+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[p+" Jahre",p+" Jahren"]};return at?nt[un][0]:nt[un][1]}cn.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:Ye,mm:"%d Minuten",h:Ye,hh:"%d Stunden",d:Ye,dd:Ye,w:Ye,ww:"%d Wochen",M:Ye,MM:Ye,y:Ye,yy:Ye},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(tt(328))},851:function(Ut,an,tt){!function(cn){"use strict";function Ye(p,at,un,Bt){var nt={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[p+" Tage",p+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[p+" Monate",p+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[p+" Jahre",p+" Jahren"]};return at?nt[un][0]:nt[un][1]}cn.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:Ye,mm:"%d Minuten",h:Ye,hh:"%d Stunden",d:Ye,dd:Ye,w:Ye,ww:"%d Wochen",M:Ye,MM:Ye,y:Ye,yy:Ye},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(tt(328))},700:function(Ut,an,tt){!function(cn){"use strict";cn.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(Nn,p){switch(p){default:case"M":case"Q":case"D":case"DDD":case"d":return Nn+(1===Nn?"er":"e");case"w":case"W":return Nn+(1===Nn?"re":"e")}},week:{dow:1,doy:4}})}(tt(328))},39:function(Ut,an,tt){!function(cn){"use strict";var p=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,at=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];cn.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:p,monthsShortRegex:p,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:at,longMonthsParse:at,shortMonthsParse:at,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(Bt,nt){switch(nt){case"D":return Bt+(1===Bt?"er":"");default:case"M":case"Q":case"DDD":case"d":return Bt+(1===Bt?"er":"e");case"w":case"W":return Bt+(1===Bt?"re":"e")}},week:{dow:1,doy:4}})}(tt(328))},81:function(Ut,an,tt){!function(cn){"use strict";cn.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(Nn){return(/^[0-9].+$/.test(Nn)?"tra":"in")+" "+Nn},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(tt(328))},928:function(Ut,an,tt){!function(cn){"use strict";cn.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(tt(328))},328:function(Ut,an,tt){(Ut=tt.nmd(Ut)).exports=function(){"use strict";var cn,xa;function Ye(){return cn.apply(null,arguments)}function p(k){return k instanceof Array||"[object Array]"===Object.prototype.toString.call(k)}function at(k){return null!=k&&"[object Object]"===Object.prototype.toString.call(k)}function un(k,S){return Object.prototype.hasOwnProperty.call(k,S)}function Bt(k){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(k).length;var S;for(S in k)if(un(k,S))return!1;return!0}function nt(k){return void 0===k}function rn(k){return"number"==typeof k||"[object Number]"===Object.prototype.toString.call(k)}function Wi(k){return k instanceof Date||"[object Date]"===Object.prototype.toString.call(k)}function Sn(k,S){var q,H=[],ee=k.length;for(q=0;q<ee;++q)H.push(S(k[q],q));return H}function pn(k,S){for(var H in S)un(S,H)&&(k[H]=S[H]);return un(S,"toString")&&(k.toString=S.toString),un(S,"valueOf")&&(k.valueOf=S.valueOf),k}function oi(k,S,H,q){return oh(k,S,H,q,!0).utc()}function zn(k){return null==k._pf&&(k._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),k._pf}function Jt(k){if(null==k._isValid){var S=zn(k),H=xa.call(S.parsedDateParts,function(ee){return null!=ee}),q=!isNaN(k._d.getTime())&&S.overflow<0&&!S.empty&&!S.invalidEra&&!S.invalidMonth&&!S.invalidWeekday&&!S.weekdayMismatch&&!S.nullInput&&!S.invalidFormat&&!S.userInvalidated&&(!S.meridiem||S.meridiem&&H);if(k._strict&&(q=q&&0===S.charsLeftOver&&0===S.unusedTokens.length&&void 0===S.bigHour),null!=Object.isFrozen&&Object.isFrozen(k))return q;k._isValid=q}return k._isValid}function Gt(k){var S=oi(NaN);return null!=k?pn(zn(S),k):zn(S).userInvalidated=!0,S}xa=Array.prototype.some?Array.prototype.some:function(k){var q,S=Object(this),H=S.length>>>0;for(q=0;q<H;q++)if(q in S&&k.call(this,S[q],q,S))return!0;return!1};var An=Ye.momentProperties=[],Ta=!1;function Pa(k,S){var H,q,ee,Fe=An.length;if(nt(S._isAMomentObject)||(k._isAMomentObject=S._isAMomentObject),nt(S._i)||(k._i=S._i),nt(S._f)||(k._f=S._f),nt(S._l)||(k._l=S._l),nt(S._strict)||(k._strict=S._strict),nt(S._tzm)||(k._tzm=S._tzm),nt(S._isUTC)||(k._isUTC=S._isUTC),nt(S._offset)||(k._offset=S._offset),nt(S._pf)||(k._pf=zn(S)),nt(S._locale)||(k._locale=S._locale),Fe>0)for(H=0;H<Fe;H++)nt(ee=S[q=An[H]])||(k[q]=ee);return k}function Qi(k){Pa(this,k),this._d=new Date(null!=k._d?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ta&&(Ta=!0,Ye.updateOffset(this),Ta=!1)}function Mi(k){return k instanceof Qi||null!=k&&null!=k._isAMomentObject}function pi(k){!1===Ye.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+k)}function on(k,S){var H=!0;return pn(function(){if(null!=Ye.deprecationHandler&&Ye.deprecationHandler(null,k),H){var ee,Fe,et,q=[],Qt=arguments.length;for(Fe=0;Fe<Qt;Fe++){if(ee="","object"==typeof arguments[Fe]){for(et in ee+="\n["+Fe+"] ",arguments[0])un(arguments[0],et)&&(ee+=et+": "+arguments[0][et]+", ");ee=ee.slice(0,-2)}else ee=arguments[Fe];q.push(ee)}pi(k+"\nArguments: "+Array.prototype.slice.call(q).join("")+"\n"+(new Error).stack),H=!1}return S.apply(this,arguments)},S)}var fr,$a={};function Fr(k,S){null!=Ye.deprecationHandler&&Ye.deprecationHandler(k,S),$a[k]||(pi(S),$a[k]=!0)}function ji(k){return"undefined"!=typeof Function&&k instanceof Function||"[object Function]"===Object.prototype.toString.call(k)}function zr(k,S){var q,H=pn({},k);for(q in S)un(S,q)&&(at(k[q])&&at(S[q])?(H[q]={},pn(H[q],k[q]),pn(H[q],S[q])):null!=S[q]?H[q]=S[q]:delete H[q]);for(q in k)un(k,q)&&!un(S,q)&&at(k[q])&&(H[q]=pn({},H[q]));return H}function nr(k){null!=k&&this.set(k)}Ye.suppressDeprecationWarnings=!1,Ye.deprecationHandler=null,fr=Object.keys?Object.keys:function(k){var S,H=[];for(S in k)un(k,S)&&H.push(S);return H};function ci(k,S,H){var q=""+Math.abs(k);return(k>=0?H?"+":"":"-")+Math.pow(10,Math.max(0,S-q.length)).toString().substr(1)+q}var Ha=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ki={},Ya={};function hn(k,S,H,q){var ee=q;"string"==typeof q&&(ee=function(){return this[q]()}),k&&(Ya[k]=ee),S&&(Ya[S[0]]=function(){return ci(ee.apply(this,arguments),S[1],S[2])}),H&&(Ya[H]=function(){return this.localeData().ordinal(ee.apply(this,arguments),k)})}function yo(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function Ka(k,S){return k.isValid()?(S=Ms(S,k.localeData()),Ki[S]=Ki[S]||function(k){var H,q,S=k.match(Ha);for(H=0,q=S.length;H<q;H++)S[H]=Ya[S[H]]?Ya[S[H]]:yo(S[H]);return function(ee){var et,Fe="";for(et=0;et<q;et++)Fe+=ji(S[et])?S[et].call(ee,k):S[et];return Fe}}(S),Ki[S](k)):k.localeData().invalidDate()}function Ms(k,S){var H=5;function q(ee){return S.longDateFormat(ee)||ee}for(dr.lastIndex=0;H>=0&&dr.test(k);)k=k.replace(dr,q),dr.lastIndex=0,H-=1;return k}var _n={};function Pn(k,S){var H=k.toLowerCase();_n[H]=_n[H+"s"]=_n[S]=k}function Bn(k){return"string"==typeof k?_n[k]||_n[k.toLowerCase()]:void 0}function qa(k){var H,q,S={};for(q in k)un(k,q)&&(H=Bn(q))&&(S[H]=k[q]);return S}var Dr={};function On(k,S){Dr[k]=S}function Ea(k){return k%4==0&&k%100!=0||k%400==0}function Da(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function ni(k){var S=+k,H=0;return 0!==S&&isFinite(S)&&(H=Da(S)),H}function Sa(k,S){return function(H){return null!=H?(Ts(this,k,H),Ye.updateOffset(this,S),this):_r(this,k)}}function _r(k,S){return k.isValid()?k._d["get"+(k._isUTC?"UTC":"")+S]():NaN}function Ts(k,S,H){k.isValid()&&!isNaN(H)&&("FullYear"===S&&Ea(k.year())&&1===k.month()&&29===k.date()?(H=ni(H),k._d["set"+(k._isUTC?"UTC":"")+S](H,k.month(),sl(H,k.month()))):k._d["set"+(k._isUTC?"UTC":"")+S](H))}var ze,sa=/\d/,Ni=/\d\d/,ir=/\d{3}/,ui=/\d{4}/,Qr=/[+-]?\d{6}/,tn=/\d\d?/,br=/\d\d\d\d?/,qr=/\d\d\d\d\d\d?/,Un=/\d{1,3}/,wt=/\d{1,4}/,Vn=/[+-]?\d{1,6}/,ne=/\d+/,Y=/[+-]?\d+/,X=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ye(k,S,H){ze[k]=ji(S)?S:function(q,ee){return q&&H?H:S}}function Ie(k,S){return un(ze,k)?ze[k](S._strict,S._locale):new RegExp(function(k){return Je(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(S,H,q,ee,Fe){return H||q||ee||Fe}))}(k))}function Je(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ze={};var ke={};function xe(k,S){var H,ee,q=S;for("string"==typeof k&&(k=[k]),rn(S)&&(q=function(Fe,et){et[S]=ni(Fe)}),ee=k.length,H=0;H<ee;H++)ke[k[H]]=q}function Xe(k,S){xe(k,function(H,q,ee,Fe){ee._w=ee._w||{},S(H,ee._w,ee,Fe)})}function gt(k,S,H){null!=S&&un(ke,k)&&ke[k](S,H._a,H,k)}var Ui;function sl(k,S){if(isNaN(k)||isNaN(S))return NaN;var H=function(k,S){return(k%S+S)%S}(S,12);return k+=(S-H)/12,1===H?Ea(k)?29:28:31-H%7%2}Ui=Array.prototype.indexOf?Array.prototype.indexOf:function(k){var S;for(S=0;S<this.length;++S)if(this[S]===k)return S;return-1},hn("M",["MM",2],"Mo",function(){return this.month()+1}),hn("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),hn("MMMM",0,0,function(k){return this.localeData().months(this,k)}),Pn("month","M"),On("month",8),ye("M",tn),ye("MM",tn,Ni),ye("MMM",function(k,S){return S.monthsShortRegex(k)}),ye("MMMM",function(k,S){return S.monthsRegex(k)}),xe(["M","MM"],function(k,S){S[1]=ni(k)-1}),xe(["MMM","MMMM"],function(k,S,H,q){var ee=H._locale.monthsParse(k,q,H._strict);null!=ee?S[1]=ee:zn(H).invalidMonth=k});var Es="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$t="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_p=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,dn=be,Lt=be;function ns(k,S,H){var q,ee,Fe,et=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],q=0;q<12;++q)Fe=oi([2e3,q]),this._shortMonthsParse[q]=this.monthsShort(Fe,"").toLocaleLowerCase(),this._longMonthsParse[q]=this.months(Fe,"").toLocaleLowerCase();return H?"MMM"===S?-1!==(ee=Ui.call(this._shortMonthsParse,et))?ee:null:-1!==(ee=Ui.call(this._longMonthsParse,et))?ee:null:"MMM"===S?-1!==(ee=Ui.call(this._shortMonthsParse,et))||-1!==(ee=Ui.call(this._longMonthsParse,et))?ee:null:-1!==(ee=Ui.call(this._longMonthsParse,et))||-1!==(ee=Ui.call(this._shortMonthsParse,et))?ee:null}function Qn(k,S){var H;if(!k.isValid())return k;if("string"==typeof S)if(/^\d+$/.test(S))S=ni(S);else if(!rn(S=k.localeData().monthsParse(S)))return k;return H=Math.min(k.date(),sl(k.year(),S)),k._d["set"+(k._isUTC?"UTC":"")+"Month"](S,H),k}function ll(k){return null!=k?(Qn(this,k),Ye.updateOffset(this,!0),this):_r(this,"Month")}function la(){function k(et,Qt){return Qt.length-et.length}var ee,Fe,S=[],H=[],q=[];for(ee=0;ee<12;ee++)Fe=oi([2e3,ee]),S.push(this.monthsShort(Fe,"")),H.push(this.months(Fe,"")),q.push(this.months(Fe,"")),q.push(this.monthsShort(Fe,""));for(S.sort(k),H.sort(k),q.sort(k),ee=0;ee<12;ee++)S[ee]=Je(S[ee]),H[ee]=Je(H[ee]);for(ee=0;ee<24;ee++)q[ee]=Je(q[ee]);this._monthsRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+H.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+S.join("|")+")","i")}function dc(k){return Ea(k)?366:365}hn("Y",0,0,function(){var k=this.year();return k<=9999?ci(k,4):"+"+k}),hn(0,["YY",2],0,function(){return this.year()%100}),hn(0,["YYYY",4],0,"year"),hn(0,["YYYYY",5],0,"year"),hn(0,["YYYYYY",6,!0],0,"year"),Pn("year","y"),On("year",1),ye("Y",Y),ye("YY",tn,Ni),ye("YYYY",wt,ui),ye("YYYYY",Vn,Qr),ye("YYYYYY",Vn,Qr),xe(["YYYYY","YYYYYY"],0),xe("YYYY",function(k,S){S[0]=2===k.length?Ye.parseTwoDigitYear(k):ni(k)}),xe("YY",function(k,S){S[0]=Ye.parseTwoDigitYear(k)}),xe("Y",function(k,S){S[0]=parseInt(k,10)}),Ye.parseTwoDigitYear=function(k){return ni(k)+(ni(k)>68?1900:2e3)};var eo=Sa("FullYear",!0);function Ol(k,S,H,q,ee,Fe,et){var Qt;return k<100&&k>=0?(Qt=new Date(k+400,S,H,q,ee,Fe,et),isFinite(Qt.getFullYear())&&Qt.setFullYear(k)):Qt=new Date(k,S,H,q,ee,Fe,et),Qt}function to(k){var S,H;return k<100&&k>=0?((H=Array.prototype.slice.call(arguments))[0]=k+400,S=new Date(Date.UTC.apply(null,H)),isFinite(S.getUTCFullYear())&&S.setUTCFullYear(k)):S=new Date(Date.UTC.apply(null,arguments)),S}function Wa(k,S,H){var q=7+S-H;return-(7+to(k,0,q).getUTCDay()-S)%7+q-1}function Wr(k,S,H,q,ee){var wn,qt,Qt=1+7*(S-1)+(7+H-q)%7+Wa(k,q,ee);return Qt<=0?qt=dc(wn=k-1)+Qt:Qt>dc(k)?(wn=k+1,qt=Qt-dc(k)):(wn=k,qt=Qt),{year:wn,dayOfYear:qt}}function Gi(k,S,H){var Fe,et,q=Wa(k.year(),S,H),ee=Math.floor((k.dayOfYear()-q-1)/7)+1;return ee<1?Fe=ee+ea(et=k.year()-1,S,H):ee>ea(k.year(),S,H)?(Fe=ee-ea(k.year(),S,H),et=k.year()+1):(et=k.year(),Fe=ee),{week:Fe,year:et}}function ea(k,S,H){var q=Wa(k,S,H),ee=Wa(k+1,S,H);return(dc(k)-q+ee)/7}hn("w",["ww",2],"wo","week"),hn("W",["WW",2],"Wo","isoWeek"),Pn("week","w"),Pn("isoWeek","W"),On("week",5),On("isoWeek",5),ye("w",tn),ye("ww",tn,Ni),ye("W",tn),ye("WW",tn,Ni),Xe(["w","ww","W","WW"],function(k,S,H,q){S[q.substr(0,1)]=ni(k)});function $i(k,S){return k.slice(S,7).concat(k.slice(0,S))}hn("d",0,"do","day"),hn("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),hn("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),hn("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),hn("e",0,0,"weekday"),hn("E",0,0,"isoWeekday"),Pn("day","d"),Pn("weekday","e"),Pn("isoWeekday","E"),On("day",11),On("weekday",11),On("isoWeekday",11),ye("d",tn),ye("e",tn),ye("E",tn),ye("dd",function(k,S){return S.weekdaysMinRegex(k)}),ye("ddd",function(k,S){return S.weekdaysShortRegex(k)}),ye("dddd",function(k,S){return S.weekdaysRegex(k)}),Xe(["dd","ddd","dddd"],function(k,S,H,q){var ee=H._locale.weekdaysParse(k,q,H._strict);null!=ee?S.d=ee:zn(H).invalidWeekday=k}),Xe(["d","e","E"],function(k,S,H,q){S[q]=ni(k)});var Qa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vo=be,Xc=be,jo=be;function th(k,S,H){var q,ee,Fe,et=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],q=0;q<7;++q)Fe=oi([2e3,1]).day(q),this._minWeekdaysParse[q]=this.weekdaysMin(Fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[q]=this.weekdaysShort(Fe,"").toLocaleLowerCase(),this._weekdaysParse[q]=this.weekdays(Fe,"").toLocaleLowerCase();return H?"dddd"===S?-1!==(ee=Ui.call(this._weekdaysParse,et))?ee:null:"ddd"===S?-1!==(ee=Ui.call(this._shortWeekdaysParse,et))?ee:null:-1!==(ee=Ui.call(this._minWeekdaysParse,et))?ee:null:"dddd"===S?-1!==(ee=Ui.call(this._weekdaysParse,et))||-1!==(ee=Ui.call(this._shortWeekdaysParse,et))||-1!==(ee=Ui.call(this._minWeekdaysParse,et))?ee:null:"ddd"===S?-1!==(ee=Ui.call(this._shortWeekdaysParse,et))||-1!==(ee=Ui.call(this._weekdaysParse,et))||-1!==(ee=Ui.call(this._minWeekdaysParse,et))?ee:null:-1!==(ee=Ui.call(this._minWeekdaysParse,et))||-1!==(ee=Ui.call(this._weekdaysParse,et))||-1!==(ee=Ui.call(this._shortWeekdaysParse,et))?ee:null}function ar(){function k(yi,ba){return ba.length-yi.length}var Fe,et,Qt,wn,qt,S=[],H=[],q=[],ee=[];for(Fe=0;Fe<7;Fe++)et=oi([2e3,1]).day(Fe),Qt=Je(this.weekdaysMin(et,"")),wn=Je(this.weekdaysShort(et,"")),qt=Je(this.weekdays(et,"")),S.push(Qt),H.push(wn),q.push(qt),ee.push(Qt),ee.push(wn),ee.push(qt);S.sort(k),H.sort(k),q.sort(k),ee.sort(k),this._weekdaysRegex=new RegExp("^("+ee.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+H.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+S.join("|")+")","i")}function Sr(){return this.hours()%12||12}function as(k,S){hn(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),S)})}function ao(k,S){return S._meridiemParse}hn("H",["HH",2],0,"hour"),hn("h",["hh",2],0,Sr),hn("k",["kk",2],0,function(){return this.hours()||24}),hn("hmm",0,0,function(){return""+Sr.apply(this)+ci(this.minutes(),2)}),hn("hmmss",0,0,function(){return""+Sr.apply(this)+ci(this.minutes(),2)+ci(this.seconds(),2)}),hn("Hmm",0,0,function(){return""+this.hours()+ci(this.minutes(),2)}),hn("Hmmss",0,0,function(){return""+this.hours()+ci(this.minutes(),2)+ci(this.seconds(),2)}),as("a",!0),as("A",!1),Pn("hour","h"),On("hour",13),ye("a",ao),ye("A",ao),ye("H",tn),ye("h",tn),ye("k",tn),ye("HH",tn,Ni),ye("hh",tn,Ni),ye("kk",tn,Ni),ye("hmm",br),ye("hmmss",qr),ye("Hmm",br),ye("Hmmss",qr),xe(["H","HH"],3),xe(["k","kk"],function(k,S,H){var q=ni(k);S[3]=24===q?0:q}),xe(["a","A"],function(k,S,H){H._isPm=H._locale.isPM(k),H._meridiem=k}),xe(["h","hh"],function(k,S,H){S[3]=ni(k),zn(H).bigHour=!0}),xe("hmm",function(k,S,H){var q=k.length-2;S[3]=ni(k.substr(0,q)),S[4]=ni(k.substr(q)),zn(H).bigHour=!0}),xe("hmmss",function(k,S,H){var q=k.length-4,ee=k.length-2;S[3]=ni(k.substr(0,q)),S[4]=ni(k.substr(q,2)),S[5]=ni(k.substr(ee)),zn(H).bigHour=!0}),xe("Hmm",function(k,S,H){var q=k.length-2;S[3]=ni(k.substr(0,q)),S[4]=ni(k.substr(q))}),xe("Hmmss",function(k,S,H){var q=k.length-4,ee=k.length-2;S[3]=ni(k.substr(0,q)),S[4]=ni(k.substr(q,2)),S[5]=ni(k.substr(ee))});var sn=Sa("Hours",!0);var Fa,ga={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Es,monthsShort:$t,week:{dow:0,doy:6},weekdays:Qa,weekdaysMin:Zc,weekdaysShort:dl,meridiemParse:/[ap]\.?m?\.?/i},Pi={},wo={};function Go(k,S){var H,q=Math.min(k.length,S.length);for(H=0;H<q;H+=1)if(k[H]!==S[H])return H;return q}function Ia(k){return k&&k.toLowerCase().replace("_","-")}function si(k){var S=null;if(void 0===Pi[k]&&Ut&&Ut.exports&&function(k){return null!=k.match("^[^/\\\\]*$")}(k))try{S=Fa._abbr,tt(378)("./"+k),ro(S)}catch(q){Pi[k]=null}return Pi[k]}function ro(k,S){var H;return k&&((H=nt(S)?rr(k):os(k,S))?Fa=H:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+k+" not found. Did you forget to load it?")),Fa._abbr}function os(k,S){if(null!==S){var H,q=ga;if(S.abbr=k,null!=Pi[k])Fr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),q=Pi[k]._config;else if(null!=S.parentLocale)if(null!=Pi[S.parentLocale])q=Pi[S.parentLocale]._config;else{if(null==(H=si(S.parentLocale)))return wo[S.parentLocale]||(wo[S.parentLocale]=[]),wo[S.parentLocale].push({name:k,config:S}),null;q=H._config}return Pi[k]=new nr(zr(q,S)),wo[k]&&wo[k].forEach(function(ee){os(ee.name,ee.config)}),ro(k),Pi[k]}return delete Pi[k],null}function rr(k){var S;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return Fa;if(!p(k)){if(S=si(k))return S;k=[k]}return function(k){for(var H,q,ee,Fe,S=0;S<k.length;){for(H=(Fe=Ia(k[S]).split("-")).length,q=(q=Ia(k[S+1]))?q.split("-"):null;H>0;){if(ee=si(Fe.slice(0,H).join("-")))return ee;if(q&&q.length>=H&&Go(Fe,q)>=H-1)break;H--}S++}return Fa}(k)}function Ds(k){var S,H=k._a;return H&&-2===zn(k).overflow&&(S=H[1]<0||H[1]>11?1:H[2]<1||H[2]>sl(H[0],H[1])?2:H[3]<0||H[3]>24||24===H[3]&&(0!==H[4]||0!==H[5]||0!==H[6])?3:H[4]<0||H[4]>59?4:H[5]<0||H[5]>59?5:H[6]<0||H[6]>999?6:-1,zn(k)._overflowDayOfYear&&(S<0||S>2)&&(S=2),zn(k)._overflowWeeks&&-1===S&&(S=7),zn(k)._overflowWeekday&&-1===S&&(S=8),zn(k).overflow=S),k}var ml=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ko=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,In=/Z|[+-]\d\d(?::?\d\d)?/,$s=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ll=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hc=/^\/?Date\((-?\d+)/i,Jc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Pl={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $o(k){var S,H,Fe,et,Qt,wn,q=k._i,ee=ml.exec(q)||ko.exec(q),qt=$s.length,yi=Ll.length;if(ee){for(zn(k).iso=!0,S=0,H=qt;S<H;S++)if($s[S][1].exec(ee[1])){et=$s[S][0],Fe=!1!==$s[S][2];break}if(null==et)return void(k._isValid=!1);if(ee[3]){for(S=0,H=yi;S<H;S++)if(Ll[S][1].exec(ee[3])){Qt=(ee[2]||" ")+Ll[S][0];break}if(null==Qt)return void(k._isValid=!1)}if(!Fe&&null!=Qt)return void(k._isValid=!1);if(ee[4]){if(!In.exec(ee[4]))return void(k._isValid=!1);wn="Z"}k._f=et+(Qt||"")+(wn||""),pl(k)}else k._isValid=!1}function Br(k){var S=parseInt(k,10);return S<=49?2e3+S:S<=999?1900+S:S}function mc(k){var H,S=Jc.exec(function(k){return k.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(k._i));if(S){if(H=function(k,S,H,q,ee,Fe){var et=[Br(k),$t.indexOf(S),parseInt(H,10),parseInt(q,10),parseInt(ee,10)];return Fe&&et.push(parseInt(Fe,10)),et}(S[4],S[3],S[2],S[5],S[6],S[7]),!function(k,S,H){return!k||dl.indexOf(k)===new Date(S[0],S[1],S[2]).getDay()||(zn(H).weekdayMismatch=!0,H._isValid=!1,!1)}(S[1],H,k))return;k._a=H,k._tzm=function(k,S,H){if(k)return Pl[k];if(S)return 0;var q=parseInt(H,10),ee=q%100;return(q-ee)/100*60+ee}(S[8],S[9],S[10]),k._d=to.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),zn(k).rfc2822=!0}else k._isValid=!1}function Ss(k,S,H){return null!=k?k:null!=S?S:H}function Kd(k){var S,H,ee,Fe,et,q=[];if(!k._d){for(ee=function(k){var S=new Date(Ye.now());return k._useUTC?[S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()]:[S.getFullYear(),S.getMonth(),S.getDate()]}(k),k._w&&null==k._a[2]&&null==k._a[1]&&function(k){var S,H,q,ee,Fe,et,Qt,wn,qt;null!=(S=k._w).GG||null!=S.W||null!=S.E?(Fe=1,et=4,H=Ss(S.GG,k._a[0],Gi(Aa(),1,4).year),q=Ss(S.W,1),((ee=Ss(S.E,1))<1||ee>7)&&(wn=!0)):(Fe=k._locale._week.dow,et=k._locale._week.doy,qt=Gi(Aa(),Fe,et),H=Ss(S.gg,k._a[0],qt.year),q=Ss(S.w,qt.week),null!=S.d?((ee=S.d)<0||ee>6)&&(wn=!0):null!=S.e?(ee=S.e+Fe,(S.e<0||S.e>6)&&(wn=!0)):ee=Fe),q<1||q>ea(H,Fe,et)?zn(k)._overflowWeeks=!0:null!=wn?zn(k)._overflowWeekday=!0:(Qt=Wr(H,q,ee,Fe,et),k._a[0]=Qt.year,k._dayOfYear=Qt.dayOfYear)}(k),null!=k._dayOfYear&&(et=Ss(k._a[0],ee[0]),(k._dayOfYear>dc(et)||0===k._dayOfYear)&&(zn(k)._overflowDayOfYear=!0),H=to(et,0,k._dayOfYear),k._a[1]=H.getUTCMonth(),k._a[2]=H.getUTCDate()),S=0;S<3&&null==k._a[S];++S)k._a[S]=q[S]=ee[S];for(;S<7;S++)k._a[S]=q[S]=null==k._a[S]?2===S?1:0:k._a[S];24===k._a[3]&&0===k._a[4]&&0===k._a[5]&&0===k._a[6]&&(k._nextDay=!0,k._a[3]=0),k._d=(k._useUTC?to:Ol).apply(null,q),Fe=k._useUTC?k._d.getUTCDay():k._d.getDay(),null!=k._tzm&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[3]=24),k._w&&void 0!==k._w.d&&k._w.d!==Fe&&(zn(k).weekdayMismatch=!0)}}function pl(k){if(k._f!==Ye.ISO_8601)if(k._f!==Ye.RFC_2822){k._a=[],zn(k).empty=!0;var H,q,ee,Fe,et,qt,yi,S=""+k._i,Qt=S.length,wn=0;for(yi=(ee=Ms(k._f,k._locale).match(Ha)||[]).length,H=0;H<yi;H++)(q=(S.match(Ie(Fe=ee[H],k))||[])[0])&&((et=S.substr(0,S.indexOf(q))).length>0&&zn(k).unusedInput.push(et),S=S.slice(S.indexOf(q)+q.length),wn+=q.length),Ya[Fe]?(q?zn(k).empty=!1:zn(k).unusedTokens.push(Fe),gt(Fe,q,k)):k._strict&&!q&&zn(k).unusedTokens.push(Fe);zn(k).charsLeftOver=Qt-wn,S.length>0&&zn(k).unusedInput.push(S),k._a[3]<=12&&!0===zn(k).bigHour&&k._a[3]>0&&(zn(k).bigHour=void 0),zn(k).parsedDateParts=k._a.slice(0),zn(k).meridiem=k._meridiem,k._a[3]=function(k,S,H){var q;return null==H?S:null!=k.meridiemHour?k.meridiemHour(S,H):(null!=k.isPM&&((q=k.isPM(H))&&S<12&&(S+=12),!q&&12===S&&(S=0)),S)}(k._locale,k._a[3],k._meridiem),null!==(qt=zn(k).era)&&(k._a[0]=k._locale.erasConvertYear(qt,k._a[0])),Kd(k),Ds(k)}else mc(k);else $o(k)}function rh(k){var S=k._i,H=k._f;return k._locale=k._locale||rr(k._l),null===S||void 0===H&&""===S?Gt({nullInput:!0}):("string"==typeof S&&(k._i=S=k._locale.preparse(S)),Mi(S)?new Qi(Ds(S)):(Wi(S)?k._d=S:p(H)?function(k){var S,H,q,ee,Fe,et,Qt=!1,wn=k._f.length;if(0===wn)return zn(k).invalidFormat=!0,void(k._d=new Date(NaN));for(ee=0;ee<wn;ee++)Fe=0,et=!1,S=Pa({},k),null!=k._useUTC&&(S._useUTC=k._useUTC),S._f=k._f[ee],pl(S),Jt(S)&&(et=!0),Fe+=zn(S).charsLeftOver,Fe+=10*zn(S).unusedTokens.length,zn(S).score=Fe,Qt?Fe<q&&(q=Fe,H=S):(null==q||Fe<q||et)&&(q=Fe,H=S,et&&(Qt=!0));pn(k,H||S)}(k):H?pl(k):function(k){var S=k._i;nt(S)?k._d=new Date(Ye.now()):Wi(S)?k._d=new Date(S.valueOf()):"string"==typeof S?function(k){var S=hc.exec(k._i);null===S?($o(k),!1===k._isValid&&(delete k._isValid,mc(k),!1===k._isValid&&(delete k._isValid,k._strict?k._isValid=!1:Ye.createFromInputFallback(k)))):k._d=new Date(+S[1])}(k):p(S)?(k._a=Sn(S.slice(0),function(H){return parseInt(H,10)}),Kd(k)):at(S)?function(k){if(!k._d){var S=qa(k._i);k._a=Sn([S.year,S.month,void 0===S.day?S.date:S.day,S.hour,S.minute,S.second,S.millisecond],function(q){return q&&parseInt(q,10)}),Kd(k)}}(k):rn(S)?k._d=new Date(S):Ye.createFromInputFallback(k)}(k),Jt(k)||(k._d=null),k))}function oh(k,S,H,q,ee){var Fe={};return(!0===S||!1===S)&&(q=S,S=void 0),(!0===H||!1===H)&&(q=H,H=void 0),(at(k)&&Bt(k)||p(k)&&0===k.length)&&(k=void 0),Fe._isAMomentObject=!0,Fe._useUTC=Fe._isUTC=ee,Fe._l=H,Fe._i=k,Fe._f=S,Fe._strict=q,function(k){var S=new Qi(Ds(rh(k)));return S._nextDay&&(S.add(1,"d"),S._nextDay=void 0),S}(Fe)}function Aa(k,S,H,q){return oh(k,S,H,q,!1)}Ye.createFromInputFallback=on("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))}),Ye.ISO_8601=function(){},Ye.RFC_2822=function(){};var um=on("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Aa.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:Gt()}),vp=on("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Aa.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:Gt()});function sh(k,S){var H,q;if(1===S.length&&p(S[0])&&(S=S[0]),!S.length)return Aa();for(H=S[0],q=1;q<S.length;++q)(!S[q].isValid()||S[q][k](H))&&(H=S[q]);return H}var Rl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fc(k){var S=qa(k),H=S.year||0,q=S.quarter||0,ee=S.month||0,Fe=S.week||S.isoWeek||0,et=S.day||0,Qt=S.hour||0,wn=S.minute||0,qt=S.second||0,yi=S.millisecond||0;this._isValid=function(k){var S,q,H=!1,ee=Rl.length;for(S in k)if(un(k,S)&&(-1===Ui.call(Rl,S)||null!=k[S]&&isNaN(k[S])))return!1;for(q=0;q<ee;++q)if(k[Rl[q]]){if(H)return!1;parseFloat(k[Rl[q]])!==ni(k[Rl[q]])&&(H=!0)}return!0}(S),this._milliseconds=+yi+1e3*qt+6e4*wn+1e3*Qt*60*60,this._days=+et+7*Fe,this._months=+ee+3*q+12*H,this._data={},this._locale=rr(),this._bubble()}function eu(k){return k instanceof fc}function ls(k){return k<0?-1*Math.round(-1*k):Math.round(k)}function Yi(k,S){hn(k,0,0,function(){var H=this.utcOffset(),q="+";return H<0&&(H=-H,q="-"),q+ci(~~(H/60),2)+S+ci(~~H%60,2)})}Yi("Z",":"),Yi("ZZ",""),ye("Z",de),ye("ZZ",de),xe(["Z","ZZ"],function(k,S,H){H._useUTC=!0,H._tzm=dh(de,k)});var hm=/([\+\-]|\d\d)/gi;function dh(k,S){var ee,Fe,H=(S||"").match(k);return null===H?null:0===(Fe=60*(ee=((H[H.length-1]||[])+"").match(hm)||["-",0,0])[1]+ni(ee[2]))?0:"+"===ee[0]?Fe:-Fe}function uh(k,S){var H,q;return S._isUTC?(H=S.clone(),q=(Mi(k)||Wi(k)?k.valueOf():Aa(k).valueOf())-H.valueOf(),H._d.setTime(H._d.valueOf()+q),Ye.updateOffset(H,!1),H):Aa(k).local()}function zl(k){return-Math.round(k._d.getTimezoneOffset())}function pm(){return!!this.isValid()&&this._isUTC&&0===this._offset}Ye.updateOffset=function(){};var _a=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,td=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function So(k,S){var ee,Fe,et,H=k,q=null;return eu(k)?H={ms:k._milliseconds,d:k._days,M:k._months}:rn(k)||!isNaN(+k)?(H={},S?H[S]=+k:H.milliseconds=+k):(q=_a.exec(k))?(ee="-"===q[1]?-1:1,H={y:0,d:ni(q[2])*ee,h:ni(q[3])*ee,m:ni(q[4])*ee,s:ni(q[5])*ee,ms:ni(ls(1e3*q[6]))*ee}):(q=td.exec(k))?H={y:Ws(q[2],ee="-"===q[1]?-1:1),M:Ws(q[3],ee),w:Ws(q[4],ee),d:Ws(q[5],ee),h:Ws(q[6],ee),m:Ws(q[7],ee),s:Ws(q[8],ee)}:null==H?H={}:"object"==typeof H&&("from"in H||"to"in H)&&(et=function(k,S){var H;return k.isValid()&&S.isValid()?(S=uh(S,k),k.isBefore(S)?H=Wn(k,S):((H=Wn(S,k)).milliseconds=-H.milliseconds,H.months=-H.months),H):{milliseconds:0,months:0}}(Aa(H.from),Aa(H.to)),(H={}).ms=et.milliseconds,H.M=et.months),Fe=new fc(H),eu(k)&&un(k,"_locale")&&(Fe._locale=k._locale),eu(k)&&un(k,"_isValid")&&(Fe._isValid=k._isValid),Fe}function Ws(k,S){var H=k&&parseFloat(k.replace(",","."));return(isNaN(H)?0:H)*S}function Wn(k,S){var H={};return H.months=S.month()-k.month()+12*(S.year()-k.year()),k.clone().add(H.months,"M").isAfter(S)&&--H.months,H.milliseconds=+S-+k.clone().add(H.months,"M"),H}function fm(k,S){return function(H,q){var Fe;return null!==q&&!isNaN(+q)&&(Fr(S,"moment()."+S+"(period, number) is deprecated. Please use moment()."+S+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Fe=H,H=q,q=Fe),Zs(this,So(H,q),k),this}}function Zs(k,S,H,q){var ee=S._milliseconds,Fe=ls(S._days),et=ls(S._months);!k.isValid()||(q=null==q||q,et&&Qn(k,_r(k,"Month")+et*H),Fe&&Ts(k,"Date",_r(k,"Date")+Fe*H),ee&&k._d.setTime(k._d.valueOf()+ee*H),q&&Ye.updateOffset(k,Fe||et))}So.fn=fc.prototype,So.invalid=function(){return So(NaN)};var Vr=fm(1,"add"),xp=fm(-1,"subtract");function cs(k){return"string"==typeof k||k instanceof String}function fl(k){return Mi(k)||Wi(k)||cs(k)||rn(k)||function(k){var S=p(k),H=!1;return S&&(H=0===k.filter(function(q){return!rn(q)&&cs(k)}).length),S&&H}(k)||function(k){var ee,S=at(k)&&!Bt(k),H=!1,q=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],et=q.length;for(ee=0;ee<et;ee+=1)H=H||un(k,q[ee]);return S&&H}(k)||null==k}function _c(k){var ee,S=at(k)&&!Bt(k),H=!1,q=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(ee=0;ee<q.length;ee+=1)H=H||un(k,q[ee]);return S&&H}function gl(k,S){if(k.date()<S.date())return-gl(S,k);var H=12*(S.year()-k.year())+(S.month()-k.month()),q=k.clone().add(H,"months");return-(H+(S-q<0?(S-q)/(q-k.clone().add(H-1,"months")):(S-q)/(k.clone().add(H+1,"months")-q)))||0}function ru(k){var S;return void 0===k?this._locale._abbr:(null!=(S=rr(k))&&(this._locale=S),this)}Ye.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Ye.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ou=on("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return void 0===k?this.localeData():this.locale(k)});function gm(){return this._locale}var us=6e4,hs=60*us,or=3506328*hs;function ta(k,S){return(k%S+S)%S}function _l(k,S,H){return k<100&&k>=0?new Date(k+400,S,H)-or:new Date(k,S,H).valueOf()}function bl(k,S,H){return k<100&&k>=0?Date.UTC(k+400,S,H)-or:Date.UTC(k,S,H)}function kc(k,S){return S.erasAbbrRegex(k)}function du(){var ee,Fe,k=[],S=[],H=[],q=[],et=this.eras();for(ee=0,Fe=et.length;ee<Fe;++ee)S.push(Je(et[ee].name)),k.push(Je(et[ee].abbr)),H.push(Je(et[ee].narrow)),q.push(Je(et[ee].name)),q.push(Je(et[ee].abbr)),q.push(Je(et[ee].narrow));this._erasRegex=new RegExp("^("+q.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+S.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+H.join("|")+")","i")}function ld(k,S){hn(0,[k,k.length],0,S)}function ps(k,S,H,q,ee){var Fe;return null==k?Gi(this,q,ee).year:(S>(Fe=ea(k,q,ee))&&(S=Fe),fs.call(this,k,S,H,q,ee))}function fs(k,S,H,q,ee){var Fe=Wr(k,S,H,q,ee),et=to(Fe.year,0,Fe.dayOfYear);return this.year(et.getUTCFullYear()),this.month(et.getUTCMonth()),this.date(et.getUTCDate()),this}hn("N",0,0,"eraAbbr"),hn("NN",0,0,"eraAbbr"),hn("NNN",0,0,"eraAbbr"),hn("NNNN",0,0,"eraName"),hn("NNNNN",0,0,"eraNarrow"),hn("y",["y",1],"yo","eraYear"),hn("y",["yy",2],0,"eraYear"),hn("y",["yyy",3],0,"eraYear"),hn("y",["yyyy",4],0,"eraYear"),ye("N",kc),ye("NN",kc),ye("NNN",kc),ye("NNNN",function(k,S){return S.erasNameRegex(k)}),ye("NNNNN",function(k,S){return S.erasNarrowRegex(k)}),xe(["N","NN","NNN","NNNN","NNNNN"],function(k,S,H,q){var ee=H._locale.erasParse(k,q,H._strict);ee?zn(H).era=ee:zn(H).invalidEra=k}),ye("y",ne),ye("yy",ne),ye("yyy",ne),ye("yyyy",ne),ye("yo",function(k,S){return S._eraYearOrdinalRegex||ne}),xe(["y","yy","yyy","yyyy"],0),xe(["yo"],function(k,S,H,q){var ee;H._locale._eraYearOrdinalRegex&&(ee=k.match(H._locale._eraYearOrdinalRegex)),S[0]=H._locale.eraYearOrdinalParse?H._locale.eraYearOrdinalParse(k,ee):parseInt(k,10)}),hn(0,["gg",2],0,function(){return this.weekYear()%100}),hn(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ld("gggg","weekYear"),ld("ggggg","weekYear"),ld("GGGG","isoWeekYear"),ld("GGGGG","isoWeekYear"),Pn("weekYear","gg"),Pn("isoWeekYear","GG"),On("weekYear",1),On("isoWeekYear",1),ye("G",Y),ye("g",Y),ye("GG",tn,Ni),ye("gg",tn,Ni),ye("GGGG",wt,ui),ye("gggg",wt,ui),ye("GGGGG",Vn,Qr),ye("ggggg",Vn,Qr),Xe(["gggg","ggggg","GGGG","GGGGG"],function(k,S,H,q){S[q.substr(0,2)]=ni(k)}),Xe(["gg","GG"],function(k,S,H,q){S[q]=Ye.parseTwoDigitYear(k)}),hn("Q",0,"Qo","quarter"),Pn("quarter","Q"),On("quarter",7),ye("Q",sa),xe("Q",function(k,S){S[1]=3*(ni(k)-1)}),hn("D",["DD",2],"Do","date"),Pn("date","D"),On("date",9),ye("D",tn),ye("DD",tn,Ni),ye("Do",function(k,S){return k?S._dayOfMonthOrdinalParse||S._ordinalParse:S._dayOfMonthOrdinalParseLenient}),xe(["D","DD"],2),xe("Do",function(k,S){S[2]=ni(k.match(tn)[0])});var mu=Sa("Date",!0);hn("DDD",["DDDD",3],"DDDo","dayOfYear"),Pn("dayOfYear","DDD"),On("dayOfYear",4),ye("DDD",Un),ye("DDDD",ir),xe(["DDD","DDDD"],function(k,S,H){H._dayOfYear=ni(k)}),hn("m",["mm",2],0,"minute"),Pn("minute","m"),On("minute",14),ye("m",tn),ye("mm",tn,Ni),xe(["m","mm"],4);var hd=Sa("Minutes",!1);hn("s",["ss",2],0,"second"),Pn("second","s"),On("second",15),ye("s",tn),ye("ss",tn,Ni),xe(["s","ss"],5);var Os,xh,vh=Sa("Seconds",!1);for(hn("S",0,0,function(){return~~(this.millisecond()/100)}),hn(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),hn(0,["SSS",3],0,"millisecond"),hn(0,["SSSS",4],0,function(){return 10*this.millisecond()}),hn(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),hn(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),hn(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),hn(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),hn(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Pn("millisecond","ms"),On("millisecond",16),ye("S",Un,sa),ye("SS",Un,Ni),ye("SSS",Un,ir),Os="SSSS";Os.length<=9;Os+="S")ye(Os,ne);function pu(k,S){S[6]=ni(1e3*("0."+k))}for(Os="S";Os.length<=9;Os+="S")xe(Os,pu);xh=Sa("Milliseconds",!1),hn("z",0,0,"zoneAbbr"),hn("zz",0,0,"zoneName");var St=Qi.prototype;function fu(k){return k}St.add=Vr,St.calendar=function(k,S){1===arguments.length&&(arguments[0]?fl(arguments[0])?(k=arguments[0],S=void 0):_c(arguments[0])&&(S=arguments[0],k=void 0):(k=void 0,S=void 0));var H=k||Aa(),q=uh(H,this).startOf("day"),ee=Ye.calendarFormat(this,q)||"sameElse",Fe=S&&(ji(S[ee])?S[ee].call(this,H):S[ee]);return this.format(Fe||this.localeData().calendar(ee,this,Aa(H)))},St.clone=function(){return new Qi(this)},St.diff=function(k,S,H){var q,ee,Fe;if(!this.isValid())return NaN;if(!(q=uh(k,this)).isValid())return NaN;switch(ee=6e4*(q.utcOffset()-this.utcOffset()),S=Bn(S)){case"year":Fe=gl(this,q)/12;break;case"month":Fe=gl(this,q);break;case"quarter":Fe=gl(this,q)/3;break;case"second":Fe=(this-q)/1e3;break;case"minute":Fe=(this-q)/6e4;break;case"hour":Fe=(this-q)/36e5;break;case"day":Fe=(this-q-ee)/864e5;break;case"week":Fe=(this-q-ee)/6048e5;break;default:Fe=this-q}return H?Fe:Da(Fe)},St.endOf=function(k){var S,H;if(void 0===(k=Bn(k))||"millisecond"===k||!this.isValid())return this;switch(H=this._isUTC?bl:_l,k){case"year":S=H(this.year()+1,0,1)-1;break;case"quarter":S=H(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":S=H(this.year(),this.month()+1,1)-1;break;case"week":S=H(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":S=H(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":S=H(this.year(),this.month(),this.date()+1)-1;break;case"hour":S=this._d.valueOf(),S+=hs-ta(S+(this._isUTC?0:this.utcOffset()*us),hs)-1;break;case"minute":S=this._d.valueOf(),S+=us-ta(S,us)-1;break;case"second":S=this._d.valueOf(),S+=1e3-ta(S,1e3)-1}return this._d.setTime(S),Ye.updateOffset(this,!0),this},St.format=function(k){k||(k=this.isUtc()?Ye.defaultFormatUtc:Ye.defaultFormat);var S=Ka(this,k);return this.localeData().postformat(S)},St.from=function(k,S){return this.isValid()&&(Mi(k)&&k.isValid()||Aa(k).isValid())?So({to:this,from:k}).locale(this.locale()).humanize(!S):this.localeData().invalidDate()},St.fromNow=function(k){return this.from(Aa(),k)},St.to=function(k,S){return this.isValid()&&(Mi(k)&&k.isValid()||Aa(k).isValid())?So({from:this,to:k}).locale(this.locale()).humanize(!S):this.localeData().invalidDate()},St.toNow=function(k){return this.to(Aa(),k)},St.get=function(k){return ji(this[k=Bn(k)])?this[k]():this},St.invalidAt=function(){return zn(this).overflow},St.isAfter=function(k,S){var H=Mi(k)?k:Aa(k);return!(!this.isValid()||!H.isValid())&&("millisecond"===(S=Bn(S)||"millisecond")?this.valueOf()>H.valueOf():H.valueOf()<this.clone().startOf(S).valueOf())},St.isBefore=function(k,S){var H=Mi(k)?k:Aa(k);return!(!this.isValid()||!H.isValid())&&("millisecond"===(S=Bn(S)||"millisecond")?this.valueOf()<H.valueOf():this.clone().endOf(S).valueOf()<H.valueOf())},St.isBetween=function(k,S,H,q){var ee=Mi(k)?k:Aa(k),Fe=Mi(S)?S:Aa(S);return!!(this.isValid()&&ee.isValid()&&Fe.isValid())&&("("===(q=q||"()")[0]?this.isAfter(ee,H):!this.isBefore(ee,H))&&(")"===q[1]?this.isBefore(Fe,H):!this.isAfter(Fe,H))},St.isSame=function(k,S){var q,H=Mi(k)?k:Aa(k);return!(!this.isValid()||!H.isValid())&&("millisecond"===(S=Bn(S)||"millisecond")?this.valueOf()===H.valueOf():(q=H.valueOf(),this.clone().startOf(S).valueOf()<=q&&q<=this.clone().endOf(S).valueOf()))},St.isSameOrAfter=function(k,S){return this.isSame(k,S)||this.isAfter(k,S)},St.isSameOrBefore=function(k,S){return this.isSame(k,S)||this.isBefore(k,S)},St.isValid=function(){return Jt(this)},St.lang=ou,St.locale=ru,St.localeData=gm,St.max=vp,St.min=um,St.parsingFlags=function(){return pn({},zn(this))},St.set=function(k,S){if("object"==typeof k){var q,H=function(k){var H,S=[];for(H in k)un(k,H)&&S.push({unit:H,priority:Dr[H]});return S.sort(function(q,ee){return q.priority-ee.priority}),S}(k=qa(k)),ee=H.length;for(q=0;q<ee;q++)this[H[q].unit](k[H[q].unit])}else if(ji(this[k=Bn(k)]))return this[k](S);return this},St.startOf=function(k){var S,H;if(void 0===(k=Bn(k))||"millisecond"===k||!this.isValid())return this;switch(H=this._isUTC?bl:_l,k){case"year":S=H(this.year(),0,1);break;case"quarter":S=H(this.year(),this.month()-this.month()%3,1);break;case"month":S=H(this.year(),this.month(),1);break;case"week":S=H(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":S=H(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":S=H(this.year(),this.month(),this.date());break;case"hour":S=this._d.valueOf(),S-=ta(S+(this._isUTC?0:this.utcOffset()*us),hs);break;case"minute":S=this._d.valueOf(),S-=ta(S,us);break;case"second":S=this._d.valueOf(),S-=ta(S,1e3)}return this._d.setTime(S),Ye.updateOffset(this,!0),this},St.subtract=xp,St.toArray=function(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]},St.toObject=function(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}},St.toDate=function(){return new Date(this.valueOf())},St.toISOString=function(k){if(!this.isValid())return null;var S=!0!==k,H=S?this.clone().utc():this;return H.year()<0||H.year()>9999?Ka(H,S?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ji(Date.prototype.toISOString)?S?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Ka(H,"Z")):Ka(H,S?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},St.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var H,q,k="moment",S="";return this.isLocal()||(k=0===this.utcOffset()?"moment.utc":"moment.parseZone",S="Z"),H="["+k+'("]',q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(H+q+"-MM-DD[T]HH:mm:ss.SSS"+S+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(St[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),St.toJSON=function(){return this.isValid()?this.toISOString():null},St.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},St.unix=function(){return Math.floor(this.valueOf()/1e3)},St.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},St.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},St.eraName=function(){var k,S,H,q=this.localeData().eras();for(k=0,S=q.length;k<S;++k)if(H=this.clone().startOf("day").valueOf(),q[k].since<=H&&H<=q[k].until||q[k].until<=H&&H<=q[k].since)return q[k].name;return""},St.eraNarrow=function(){var k,S,H,q=this.localeData().eras();for(k=0,S=q.length;k<S;++k)if(H=this.clone().startOf("day").valueOf(),q[k].since<=H&&H<=q[k].until||q[k].until<=H&&H<=q[k].since)return q[k].narrow;return""},St.eraAbbr=function(){var k,S,H,q=this.localeData().eras();for(k=0,S=q.length;k<S;++k)if(H=this.clone().startOf("day").valueOf(),q[k].since<=H&&H<=q[k].until||q[k].until<=H&&H<=q[k].since)return q[k].abbr;return""},St.eraYear=function(){var k,S,H,q,ee=this.localeData().eras();for(k=0,S=ee.length;k<S;++k)if(H=ee[k].since<=ee[k].until?1:-1,q=this.clone().startOf("day").valueOf(),ee[k].since<=q&&q<=ee[k].until||ee[k].until<=q&&q<=ee[k].since)return(this.year()-Ye(ee[k].since).year())*H+ee[k].offset;return this.year()},St.year=eo,St.isLeapYear=function(){return Ea(this.year())},St.weekYear=function(k){return ps.call(this,k,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},St.isoWeekYear=function(k){return ps.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)},St.quarter=St.quarters=function(k){return null==k?Math.ceil((this.month()+1)/3):this.month(3*(k-1)+this.month()%3)},St.month=ll,St.daysInMonth=function(){return sl(this.year(),this.month())},St.week=St.weeks=function(k){var S=this.localeData().week(this);return null==k?S:this.add(7*(k-S),"d")},St.isoWeek=St.isoWeeks=function(k){var S=Gi(this,1,4).week;return null==k?S:this.add(7*(k-S),"d")},St.weeksInYear=function(){var k=this.localeData()._week;return ea(this.year(),k.dow,k.doy)},St.weeksInWeekYear=function(){var k=this.localeData()._week;return ea(this.weekYear(),k.dow,k.doy)},St.isoWeeksInYear=function(){return ea(this.year(),1,4)},St.isoWeeksInISOWeekYear=function(){return ea(this.isoWeekYear(),1,4)},St.date=mu,St.day=St.days=function(k){if(!this.isValid())return null!=k?this:NaN;var S=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=k?(k=function(k,S){return"string"!=typeof k?k:isNaN(k)?"number"==typeof(k=S.weekdaysParse(k))?k:null:parseInt(k,10)}(k,this.localeData()),this.add(k-S,"d")):S},St.weekday=function(k){if(!this.isValid())return null!=k?this:NaN;var S=(this.day()+7-this.localeData()._week.dow)%7;return null==k?S:this.add(k-S,"d")},St.isoWeekday=function(k){if(!this.isValid())return null!=k?this:NaN;if(null!=k){var S=function(k,S){return"string"==typeof k?S.weekdaysParse(k)%7||7:isNaN(k)?null:k}(k,this.localeData());return this.day(this.day()%7?S:S-7)}return this.day()||7},St.dayOfYear=function(k){var S=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==k?S:this.add(k-S,"d")},St.hour=St.hours=sn,St.minute=St.minutes=hd,St.second=St.seconds=vh,St.millisecond=St.milliseconds=xh,St.utcOffset=function(k,S,H){var ee,q=this._offset||0;if(!this.isValid())return null!=k?this:NaN;if(null!=k){if("string"==typeof k){if(null===(k=dh(de,k)))return this}else Math.abs(k)<16&&!H&&(k*=60);return!this._isUTC&&S&&(ee=zl(this)),this._offset=k,this._isUTC=!0,null!=ee&&this.add(ee,"m"),q!==k&&(!S||this._changeInProgress?Zs(this,So(k-q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ye.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?q:zl(this)},St.utc=function(k){return this.utcOffset(0,k)},St.local=function(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(zl(this),"m")),this},St.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var k=dh(X,this._i);null!=k?this.utcOffset(k):this.utcOffset(0,!0)}return this},St.hasAlignedHourOffset=function(k){return!!this.isValid()&&(k=k?Aa(k).utcOffset():0,(this.utcOffset()-k)%60==0)},St.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},St.isLocal=function(){return!!this.isValid()&&!this._isUTC},St.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},St.isUtc=pm,St.isUTC=pm,St.zoneAbbr=function(){return this._isUTC?"UTC":""},St.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},St.dates=on("dates accessor is deprecated. Use date instead.",mu),St.months=on("months accessor is deprecated. Use month instead",ll),St.years=on("years accessor is deprecated. Use year instead",eo),St.zone=on("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(k,S){return null!=k?("string"!=typeof k&&(k=-k),this.utcOffset(k,S),this):-this.utcOffset()}),St.isDSTShifted=on("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!nt(this._isDSTShifted))return this._isDSTShifted;var S,k={};return Pa(k,this),(k=rh(k))._a?(S=k._isUTC?oi(k._a):Aa(k._a),this._isDSTShifted=this.isValid()&&function(k,S,H){var et,q=Math.min(k.length,S.length),ee=Math.abs(k.length-S.length),Fe=0;for(et=0;et<q;et++)(H&&k[et]!==S[et]||!H&&ni(k[et])!==ni(S[et]))&&Fe++;return Fe+ee}(k._a,S.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Ai=nr.prototype;function pd(k,S,H,q){var ee=rr(),Fe=oi().set(q,S);return ee[H](Fe,k)}function Xs(k,S,H){if(rn(k)&&(S=k,k=void 0),k=k||"",null!=S)return pd(k,S,H,"month");var q,ee=[];for(q=0;q<12;q++)ee[q]=pd(k,q,H,"month");return ee}function Ul(k,S,H,q){"boolean"==typeof k?(rn(S)&&(H=S,S=void 0),S=S||""):(H=S=k,k=!1,rn(S)&&(H=S,S=void 0),S=S||"");var et,ee=rr(),Fe=k?ee._week.dow:0,Qt=[];if(null!=H)return pd(S,(H+Fe)%7,q,"day");for(et=0;et<7;et++)Qt[et]=pd(S,(et+Fe)%7,q,"day");return Qt}Ai.calendar=function(k,S,H){var q=this._calendar[k]||this._calendar.sameElse;return ji(q)?q.call(S,H):q},Ai.longDateFormat=function(k){var S=this._longDateFormat[k],H=this._longDateFormat[k.toUpperCase()];return S||!H?S:(this._longDateFormat[k]=H.match(Ha).map(function(q){return"MMMM"===q||"MM"===q||"DD"===q||"dddd"===q?q.slice(1):q}).join(""),this._longDateFormat[k])},Ai.invalidDate=function(){return this._invalidDate},Ai.ordinal=function(k){return this._ordinal.replace("%d",k)},Ai.preparse=fu,Ai.postformat=fu,Ai.relativeTime=function(k,S,H,q){var ee=this._relativeTime[H];return ji(ee)?ee(k,S,H,q):ee.replace(/%d/i,k)},Ai.pastFuture=function(k,S){var H=this._relativeTime[k>0?"future":"past"];return ji(H)?H(S):H.replace(/%s/i,S)},Ai.set=function(k){var S,H;for(H in k)un(k,H)&&(ji(S=k[H])?this[H]=S:this["_"+H]=S);this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ai.eras=function(k,S){var H,q,ee,Fe=this._eras||rr("en")._eras;for(H=0,q=Fe.length;H<q;++H)switch("string"==typeof Fe[H].since&&(ee=Ye(Fe[H].since).startOf("day"),Fe[H].since=ee.valueOf()),typeof Fe[H].until){case"undefined":Fe[H].until=1/0;break;case"string":ee=Ye(Fe[H].until).startOf("day").valueOf(),Fe[H].until=ee.valueOf()}return Fe},Ai.erasParse=function(k,S,H){var q,ee,et,Qt,wn,Fe=this.eras();for(k=k.toUpperCase(),q=0,ee=Fe.length;q<ee;++q)if(et=Fe[q].name.toUpperCase(),Qt=Fe[q].abbr.toUpperCase(),wn=Fe[q].narrow.toUpperCase(),H)switch(S){case"N":case"NN":case"NNN":if(Qt===k)return Fe[q];break;case"NNNN":if(et===k)return Fe[q];break;case"NNNNN":if(wn===k)return Fe[q]}else if([et,Qt,wn].indexOf(k)>=0)return Fe[q]},Ai.erasConvertYear=function(k,S){var H=k.since<=k.until?1:-1;return void 0===S?Ye(k.since).year():Ye(k.since).year()+(S-k.offset)*H},Ai.erasAbbrRegex=function(k){return un(this,"_erasAbbrRegex")||du.call(this),k?this._erasAbbrRegex:this._erasRegex},Ai.erasNameRegex=function(k){return un(this,"_erasNameRegex")||du.call(this),k?this._erasNameRegex:this._erasRegex},Ai.erasNarrowRegex=function(k){return un(this,"_erasNarrowRegex")||du.call(this),k?this._erasNarrowRegex:this._erasRegex},Ai.months=function(k,S){return k?p(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||_p).test(S)?"format":"standalone"][k.month()]:p(this._months)?this._months:this._months.standalone},Ai.monthsShort=function(k,S){return k?p(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[_p.test(S)?"format":"standalone"][k.month()]:p(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ai.monthsParse=function(k,S,H){var q,ee,Fe;if(this._monthsParseExact)return ns.call(this,k,S,H);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),q=0;q<12;q++){if(ee=oi([2e3,q]),H&&!this._longMonthsParse[q]&&(this._longMonthsParse[q]=new RegExp("^"+this.months(ee,"").replace(".","")+"$","i"),this._shortMonthsParse[q]=new RegExp("^"+this.monthsShort(ee,"").replace(".","")+"$","i")),!H&&!this._monthsParse[q]&&(Fe="^"+this.months(ee,"")+"|^"+this.monthsShort(ee,""),this._monthsParse[q]=new RegExp(Fe.replace(".",""),"i")),H&&"MMMM"===S&&this._longMonthsParse[q].test(k))return q;if(H&&"MMM"===S&&this._shortMonthsParse[q].test(k))return q;if(!H&&this._monthsParse[q].test(k))return q}},Ai.monthsRegex=function(k){return this._monthsParseExact?(un(this,"_monthsRegex")||la.call(this),k?this._monthsStrictRegex:this._monthsRegex):(un(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)},Ai.monthsShortRegex=function(k){return this._monthsParseExact?(un(this,"_monthsRegex")||la.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(un(this,"_monthsShortRegex")||(this._monthsShortRegex=dn),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)},Ai.week=function(k){return Gi(k,this._week.dow,this._week.doy).week},Ai.firstDayOfYear=function(){return this._week.doy},Ai.firstDayOfWeek=function(){return this._week.dow},Ai.weekdays=function(k,S){var H=p(this._weekdays)?this._weekdays:this._weekdays[k&&!0!==k&&this._weekdays.isFormat.test(S)?"format":"standalone"];return!0===k?$i(H,this._week.dow):k?H[k.day()]:H},Ai.weekdaysMin=function(k){return!0===k?$i(this._weekdaysMin,this._week.dow):k?this._weekdaysMin[k.day()]:this._weekdaysMin},Ai.weekdaysShort=function(k){return!0===k?$i(this._weekdaysShort,this._week.dow):k?this._weekdaysShort[k.day()]:this._weekdaysShort},Ai.weekdaysParse=function(k,S,H){var q,ee,Fe;if(this._weekdaysParseExact)return th.call(this,k,S,H);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),q=0;q<7;q++){if(ee=oi([2e3,1]).day(q),H&&!this._fullWeekdaysParse[q]&&(this._fullWeekdaysParse[q]=new RegExp("^"+this.weekdays(ee,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[q]=new RegExp("^"+this.weekdaysShort(ee,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[q]=new RegExp("^"+this.weekdaysMin(ee,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[q]||(Fe="^"+this.weekdays(ee,"")+"|^"+this.weekdaysShort(ee,"")+"|^"+this.weekdaysMin(ee,""),this._weekdaysParse[q]=new RegExp(Fe.replace(".",""),"i")),H&&"dddd"===S&&this._fullWeekdaysParse[q].test(k))return q;if(H&&"ddd"===S&&this._shortWeekdaysParse[q].test(k))return q;if(H&&"dd"===S&&this._minWeekdaysParse[q].test(k))return q;if(!H&&this._weekdaysParse[q].test(k))return q}},Ai.weekdaysRegex=function(k){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(un(this,"_weekdaysRegex")||(this._weekdaysRegex=vo),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)},Ai.weekdaysShortRegex=function(k){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(un(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xc),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ai.weekdaysMinRegex=function(k){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(un(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jo),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ai.isPM=function(k){return"p"===(k+"").toLowerCase().charAt(0)},Ai.meridiem=function(k,S,H){return k>11?H?"pm":"PM":H?"am":"AM"},ro("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var S=k%10;return k+(1===ni(k%100/10)?"th":1===S?"st":2===S?"nd":3===S?"rd":"th")}}),Ye.lang=on("moment.lang is deprecated. Use moment.locale instead.",ro),Ye.langData=on("moment.langData is deprecated. Use moment.localeData instead.",rr);var f=Math.abs;function u(k,S,H,q){var ee=So(S,H);return k._milliseconds+=q*ee._milliseconds,k._days+=q*ee._days,k._months+=q*ee._months,k._bubble()}function C(k){return k<0?Math.floor(k):Math.ceil(k)}function I(k){return 4800*k/146097}function O(k){return 146097*k/4800}function W(k){return function(){return this.as(k)}}var te=W("ms"),me=W("s"),se=W("m"),ce=W("h"),ue=W("d"),re=W("w"),fe=W("M"),oe=W("Q"),Le=W("y");function Ee(k){return function(){return this.isValid()?this._data[k]:NaN}}var Me=Ee("milliseconds"),Re=Ee("seconds"),Ue=Ee("minutes"),_t=Ee("hours"),Be=Ee("days"),st=Ee("months"),ut=Ee("years");var qe=Math.round,Ve={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lt(k,S,H,q,ee){return ee.relativeTime(S||1,!!H,k,q)}var $n=Math.abs;function hi(k){return(k>0)-(k<0)||+k}function nn(){if(!this.isValid())return this.localeData().invalidDate();var q,ee,Fe,et,wn,qt,yi,ba,k=$n(this._milliseconds)/1e3,S=$n(this._days),H=$n(this._months),Qt=this.asSeconds();return Qt?(q=Da(k/60),ee=Da(q/60),k%=60,q%=60,Fe=Da(H/12),H%=12,et=k?k.toFixed(3).replace(/\.?0+$/,""):"",wn=Qt<0?"-":"",qt=hi(this._months)!==hi(Qt)?"-":"",yi=hi(this._days)!==hi(Qt)?"-":"",ba=hi(this._milliseconds)!==hi(Qt)?"-":"",wn+"P"+(Fe?qt+Fe+"Y":"")+(H?qt+H+"M":"")+(S?yi+S+"D":"")+(ee||q||k?"T":"")+(ee?ba+ee+"H":"")+(q?ba+q+"M":"")+(k?ba+et+"S":"")):"P0D"}var Yt=fc.prototype;return Yt.isValid=function(){return this._isValid},Yt.abs=function(){var k=this._data;return this._milliseconds=f(this._milliseconds),this._days=f(this._days),this._months=f(this._months),k.milliseconds=f(k.milliseconds),k.seconds=f(k.seconds),k.minutes=f(k.minutes),k.hours=f(k.hours),k.months=f(k.months),k.years=f(k.years),this},Yt.add=function(k,S){return u(this,k,S,1)},Yt.subtract=function(k,S){return u(this,k,S,-1)},Yt.as=function(k){if(!this.isValid())return NaN;var S,H,q=this._milliseconds;if("month"===(k=Bn(k))||"quarter"===k||"year"===k)switch(S=this._days+q/864e5,H=this._months+I(S),k){case"month":return H;case"quarter":return H/3;case"year":return H/12}else switch(S=this._days+Math.round(O(this._months)),k){case"week":return S/7+q/6048e5;case"day":return S+q/864e5;case"hour":return 24*S+q/36e5;case"minute":return 1440*S+q/6e4;case"second":return 86400*S+q/1e3;case"millisecond":return Math.floor(864e5*S)+q;default:throw new Error("Unknown unit "+k)}},Yt.asMilliseconds=te,Yt.asSeconds=me,Yt.asMinutes=se,Yt.asHours=ce,Yt.asDays=ue,Yt.asWeeks=re,Yt.asMonths=fe,Yt.asQuarters=oe,Yt.asYears=Le,Yt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ni(this._months/12):NaN},Yt._bubble=function(){var ee,Fe,et,Qt,wn,k=this._milliseconds,S=this._days,H=this._months,q=this._data;return k>=0&&S>=0&&H>=0||k<=0&&S<=0&&H<=0||(k+=864e5*C(O(H)+S),S=0,H=0),q.milliseconds=k%1e3,ee=Da(k/1e3),q.seconds=ee%60,Fe=Da(ee/60),q.minutes=Fe%60,et=Da(Fe/60),q.hours=et%24,S+=Da(et/24),H+=wn=Da(I(S)),S-=C(O(wn)),Qt=Da(H/12),H%=12,q.days=S,q.months=H,q.years=Qt,this},Yt.clone=function(){return So(this)},Yt.get=function(k){return k=Bn(k),this.isValid()?this[k+"s"]():NaN},Yt.milliseconds=Me,Yt.seconds=Re,Yt.minutes=Ue,Yt.hours=_t,Yt.days=Be,Yt.weeks=function(){return Da(this.days()/7)},Yt.months=st,Yt.years=ut,Yt.humanize=function(k,S){if(!this.isValid())return this.localeData().invalidDate();var ee,Fe,H=!1,q=Ve;return"object"==typeof k&&(S=k,k=!1),"boolean"==typeof k&&(H=k),"object"==typeof S&&(q=Object.assign({},Ve,S),null!=S.s&&null==S.ss&&(q.ss=S.s-1)),Fe=function(k,S,H,q){var ee=So(k).abs(),Fe=qe(ee.as("s")),et=qe(ee.as("m")),Qt=qe(ee.as("h")),wn=qe(ee.as("d")),qt=qe(ee.as("M")),yi=qe(ee.as("w")),ba=qe(ee.as("y")),Ti=Fe<=H.ss&&["s",Fe]||Fe<H.s&&["ss",Fe]||et<=1&&["m"]||et<H.m&&["mm",et]||Qt<=1&&["h"]||Qt<H.h&&["hh",Qt]||wn<=1&&["d"]||wn<H.d&&["dd",wn];return null!=H.w&&(Ti=Ti||yi<=1&&["w"]||yi<H.w&&["ww",yi]),(Ti=Ti||qt<=1&&["M"]||qt<H.M&&["MM",qt]||ba<=1&&["y"]||["yy",ba])[2]=S,Ti[3]=+k>0,Ti[4]=q,lt.apply(null,Ti)}(this,!H,q,ee=this.localeData()),H&&(Fe=ee.pastFuture(+this,Fe)),ee.postformat(Fe)},Yt.toISOString=nn,Yt.toString=nn,Yt.toJSON=nn,Yt.locale=ru,Yt.localeData=gm,Yt.toIsoString=on("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nn),Yt.lang=ou,hn("X",0,0,"unix"),hn("x",0,0,"valueOf"),ye("x",Y),ye("X",/[+-]?\d+(\.\d{1,3})?/),xe("X",function(k,S,H){H._d=new Date(1e3*parseFloat(k))}),xe("x",function(k,S,H){H._d=new Date(ni(k))}),Ye.version="2.29.3",cn=Aa,Ye.fn=St,Ye.min=function(){return sh("isBefore",[].slice.call(arguments,0))},Ye.max=function(){return sh("isAfter",[].slice.call(arguments,0))},Ye.now=function(){return Date.now?Date.now():+new Date},Ye.utc=oi,Ye.unix=function(k){return Aa(1e3*k)},Ye.months=function(k,S){return Xs(k,S,"months")},Ye.isDate=Wi,Ye.locale=ro,Ye.invalid=Gt,Ye.duration=So,Ye.isMoment=Mi,Ye.weekdays=function(k,S,H){return Ul(k,S,H,"weekdays")},Ye.parseZone=function(){return Aa.apply(null,arguments).parseZone()},Ye.localeData=rr,Ye.isDuration=eu,Ye.monthsShort=function(k,S){return Xs(k,S,"monthsShort")},Ye.weekdaysMin=function(k,S,H){return Ul(k,S,H,"weekdaysMin")},Ye.defineLocale=os,Ye.updateLocale=function(k,S){if(null!=S){var H,q,ee=ga;null!=Pi[k]&&null!=Pi[k].parentLocale?Pi[k].set(zr(Pi[k]._config,S)):(null!=(q=si(k))&&(ee=q._config),S=zr(ee,S),null==q&&(S.abbr=k),(H=new nr(S)).parentLocale=Pi[k],Pi[k]=H),ro(k)}else null!=Pi[k]&&(null!=Pi[k].parentLocale?(Pi[k]=Pi[k].parentLocale,k===ro()&&ro(k)):null!=Pi[k]&&delete Pi[k]);return Pi[k]},Ye.locales=function(){return fr(Pi)},Ye.weekdaysShort=function(k,S,H){return Ul(k,S,H,"weekdaysShort")},Ye.normalizeUnits=Bn,Ye.relativeTimeRounding=function(k){return void 0===k?qe:"function"==typeof k&&(qe=k,!0)},Ye.relativeTimeThreshold=function(k,S){return void 0!==Ve[k]&&(void 0===S?Ve[k]:(Ve[k]=S,"s"===k&&(Ve.ss=S-1),!0))},Ye.calendarFormat=function(k,S){var H=k.diff(S,"days",!0);return H<-6?"sameElse":H<-1?"lastWeek":H<0?"lastDay":H<1?"sameDay":H<2?"nextDay":H<7?"nextWeek":"sameElse"},Ye.prototype=St,Ye.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},Ye}()},217:(Ut,an)=>{"use strict";var Ye;an.Z=function(){if(null!=Ye)return Ye;var Nn=window.document.createElement("div"),p=window.document.createElement("div");return Nn.style.width="100px",Nn.style.overflowX="scroll",p.style.width="100px",window.document.body.appendChild(Nn),window.document.body.appendChild(p),Ye=Nn.offsetHeight-p.offsetHeight,window.document.body.removeChild(Nn),window.document.body.removeChild(p),Ye}},112:Ut=>{!function(){"use strict";Ut.exports={polyfill:function(){var tt=window,cn=document;if(!("scrollBehavior"in cn.documentElement.style)||!0===tt.__forceSmoothScrollPolyfill__){var Jt,Ye=tt.HTMLElement||tt.Element,p={scroll:tt.scroll||tt.scrollTo,scrollBy:tt.scrollBy,elementScroll:Ye.prototype.scroll||nt,scrollIntoView:Ye.prototype.scrollIntoView},at=tt.performance&&tt.performance.now?tt.performance.now.bind(tt.performance):Date.now,Bt=(Jt=tt.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(Jt)?1:0);tt.scroll=tt.scrollTo=function(){if(void 0!==arguments[0]){if(!0===Wi(arguments[0]))return void p.scroll.call(tt,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:tt.scrollX||tt.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:tt.scrollY||tt.pageYOffset);xa.call(tt,cn.body,void 0!==arguments[0].left?~~arguments[0].left:tt.scrollX||tt.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:tt.scrollY||tt.pageYOffset)}},tt.scrollBy=function(){if(void 0!==arguments[0]){if(Wi(arguments[0]))return void p.scrollBy.call(tt,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0);xa.call(tt,cn.body,~~arguments[0].left+(tt.scrollX||tt.pageXOffset),~~arguments[0].top+(tt.scrollY||tt.pageYOffset))}},Ye.prototype.scroll=Ye.prototype.scrollTo=function(){if(void 0!==arguments[0]){if(!0===Wi(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void p.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}var Jt=arguments[0].left,Gt=arguments[0].top;xa.call(this,this,void 0===Jt?this.scrollLeft:~~Jt,void 0===Gt?this.scrollTop:~~Gt)}},Ye.prototype.scrollBy=function(){if(void 0!==arguments[0]){if(!0===Wi(arguments[0]))return void p.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},Ye.prototype.scrollIntoView=function(){if(!0!==Wi(arguments[0])){var Jt=ht(this),Gt=Jt.getBoundingClientRect(),An=this.getBoundingClientRect();Jt!==cn.body?(xa.call(this,Jt,Jt.scrollLeft+An.left-Gt.left,Jt.scrollTop+An.top-Gt.top),"fixed"!==tt.getComputedStyle(Jt).position&&tt.scrollBy({left:Gt.left,top:Gt.top,behavior:"smooth"})):tt.scrollBy({left:An.left,top:An.top,behavior:"smooth"})}else p.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function nt(Jt,Gt){this.scrollLeft=Jt,this.scrollTop=Gt}function Wi(Jt){if(null===Jt||"object"!=typeof Jt||void 0===Jt.behavior||"auto"===Jt.behavior||"instant"===Jt.behavior)return!0;if("object"==typeof Jt&&"smooth"===Jt.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+Jt.behavior+" is not a valid value for enumeration ScrollBehavior.")}function Sn(Jt,Gt){return"Y"===Gt?Jt.clientHeight+Bt<Jt.scrollHeight:"X"===Gt?Jt.clientWidth+Bt<Jt.scrollWidth:void 0}function pn(Jt,Gt){var An=tt.getComputedStyle(Jt,null)["overflow"+Gt];return"auto"===An||"scroll"===An}function oi(Jt){var Gt=Sn(Jt,"Y")&&pn(Jt,"Y"),An=Sn(Jt,"X")&&pn(Jt,"X");return Gt||An}function ht(Jt){for(;Jt!==cn.body&&!1===oi(Jt);)Jt=Jt.parentNode||Jt.host;return Jt}function zn(Jt){var An,Ta,Pa,Qi=(at()-Jt.startTime)/468;An=function(Jt){return.5*(1-Math.cos(Math.PI*Jt))}(Qi=Qi>1?1:Qi),Jt.method.call(Jt.scrollable,Ta=Jt.startX+(Jt.x-Jt.startX)*An,Pa=Jt.startY+(Jt.y-Jt.startY)*An),(Ta!==Jt.x||Pa!==Jt.y)&&tt.requestAnimationFrame(zn.bind(tt,Jt))}function xa(Jt,Gt,An){var Ta,Pa,Qi,Mi,pi=at();Jt===cn.body?(Ta=tt,Pa=tt.scrollX||tt.pageXOffset,Qi=tt.scrollY||tt.pageYOffset,Mi=p.scroll):(Ta=Jt,Pa=Jt.scrollLeft,Qi=Jt.scrollTop,Mi=nt),zn({scrollable:Ta,method:Mi,startTime:pi,startX:Pa,startY:Qi,x:Gt,y:An})}}}}()},378:(Ut,an,tt)=>{var cn={"./de":851,"./de-ch":96,"./de-ch.js":96,"./de.js":851,"./fr":39,"./fr-ch":700,"./fr-ch.js":700,"./fr.js":39,"./it":928,"./it-ch":81,"./it-ch.js":81,"./it.js":928};function Ye(p){var at=Nn(p);return tt(at)}function Nn(p){if(!tt.o(cn,p)){var at=new Error("Cannot find module '"+p+"'");throw at.code="MODULE_NOT_FOUND",at}return cn[p]}Ye.keys=function(){return Object.keys(cn)},Ye.resolve=Nn,Ut.exports=Ye,Ye.id=378}},zk={};function Yn(Ut){var an=zk[Ut];if(void 0!==an)return an.exports;var tt=zk[Ut]={id:Ut,loaded:!1,exports:{}};return Rk[Ut].call(tt.exports,tt,tt.exports,Yn),tt.loaded=!0,tt.exports}Yn.m=Rk,Yn.n=Ut=>{var an=Ut&&Ut.__esModule?()=>Ut.default:()=>Ut;return Yn.d(an,{a:an}),an},Ut=Object.getPrototypeOf?tt=>Object.getPrototypeOf(tt):tt=>tt.__proto__,Yn.t=function(tt,cn){if(1&cn&&(tt=this(tt)),8&cn||"object"==typeof tt&&tt&&(4&cn&&tt.__esModule||16&cn&&"function"==typeof tt.then))return tt;var Ye=Object.create(null);Yn.r(Ye);var Nn={};an=an||[null,Ut({}),Ut([]),Ut(Ut)];for(var p=2&cn&&tt;"object"==typeof p&&!~an.indexOf(p);p=Ut(p))Object.getOwnPropertyNames(p).forEach(at=>Nn[at]=()=>tt[at]);return Nn.default=()=>tt,Yn.d(Ye,Nn),Ye},Yn.d=(Ut,an)=>{for(var tt in an)Yn.o(an,tt)&&!Yn.o(Ut,tt)&&Object.defineProperty(Ut,tt,{enumerable:!0,get:an[tt]})},Yn.f={},Yn.e=Ut=>Promise.all(Object.keys(Yn.f).reduce((an,tt)=>(Yn.f[tt](Ut,an),an),[])),Yn.u=Ut=>Ut+".62806dadf318a89c8dfa.js",Yn.miniCssF=Ut=>{},Yn.o=(Ut,an)=>Object.prototype.hasOwnProperty.call(Ut,an),(()=>{var Ut={},an="bt3-angular-elements:";Yn.l=(tt,cn,Ye,Nn)=>{if(Ut[tt])Ut[tt].push(cn);else{var p,at;if(void 0!==Ye)for(var un=document.getElementsByTagName("script"),Bt=0;Bt<un.length;Bt++){var nt=un[Bt];if(nt.getAttribute("src")==tt||nt.getAttribute("data-webpack")==an+Ye){p=nt;break}}p||(at=!0,(p=document.createElement("script")).charset="utf-8",p.timeout=120,Yn.nc&&p.setAttribute("nonce",Yn.nc),p.setAttribute("data-webpack",an+Ye),p.src=Yn.tu(tt)),Ut[tt]=[cn];var rn=(Sn,pn)=>{p.onerror=p.onload=null,clearTimeout(Wi);var oi=Ut[tt];if(delete Ut[tt],p.parentNode&&p.parentNode.removeChild(p),oi&&oi.forEach(ht=>ht(pn)),Sn)return Sn(pn)},Wi=setTimeout(rn.bind(null,void 0,{type:"timeout",target:p}),12e4);p.onerror=rn.bind(null,p.onerror),p.onload=rn.bind(null,p.onload),at&&document.head.appendChild(p)}}})(),Yn.r=Ut=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Ut,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ut,"__esModule",{value:!0})},Yn.nmd=Ut=>(Ut.paths=[],Ut.children||(Ut.children=[]),Ut),(()=>{var Ut;Yn.tu=an=>(void 0===Ut&&(Ut={createScriptURL:tt=>tt},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(Ut=trustedTypes.createPolicy("angular#bundler",Ut))),Ut.createScriptURL(an))})(),Yn.p="/typo3conf/ext/bt3_components/Resources/Public/JavaScript/",(()=>{var Ut={179:0};Yn.f.j=(cn,Ye)=>{var Nn=Yn.o(Ut,cn)?Ut[cn]:void 0;if(0!==Nn)if(Nn)Ye.push(Nn[2]);else{var p=new Promise((nt,rn)=>Nn=Ut[cn]=[nt,rn]);Ye.push(Nn[2]=p);var at=Yn.p+Yn.u(cn),un=new Error;Yn.l(at,nt=>{if(Yn.o(Ut,cn)&&(0!==(Nn=Ut[cn])&&(Ut[cn]=void 0),Nn)){var rn=nt&&("load"===nt.type?"missing":nt.type),Wi=nt&&nt.target&&nt.target.src;un.message="Loading chunk "+cn+" failed.\n("+rn+": "+Wi+")",un.name="ChunkLoadError",un.type=rn,un.request=Wi,Nn[1](un)}},"chunk-"+cn,cn)}};var an=(cn,Ye)=>{var un,Bt,[Nn,p,at]=Ye,nt=0;for(un in p)Yn.o(p,un)&&(Yn.m[un]=p[un]);for(at&&at(Yn),cn&&cn(Ye);nt<Nn.length;nt++)Yn.o(Ut,Bt=Nn[nt])&&Ut[Bt]&&Ut[Bt][0](),Ut[Nn[nt]]=0},tt=self.webpackChunkbt3_angular_elements=self.webpackChunkbt3_angular_elements||[];tt.forEach(an.bind(null,0)),tt.push=an.bind(null,tt.push.bind(tt))})(),(()=>{"use strict";function Ut(t){return"function"==typeof t}let an=!1;const tt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const n=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+n.stack)}else an&&console.log("RxJS: Back to a better error behavior. Thank you. <3");an=t},get useDeprecatedSynchronousErrorHandling(){return an}};function cn(t){setTimeout(()=>{throw t},0)}const Ye={closed:!0,next(t){},error(t){if(tt.useDeprecatedSynchronousErrorHandling)throw t;cn(t)},complete(){}},Nn=Array.isArray||(t=>t&&"number"==typeof t.length);function p(t){return null!==t&&"object"==typeof t}const un=(()=>{function t(n){return Error.call(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t})();class Bt{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Bt)e.remove(this);else if(null!==e)for(let h=0;h<e.length;++h)e[h].remove(this);if(Ut(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(h){n=h instanceof un?nt(h.errors):[h]}}if(Nn(c)){let h=-1,b=c.length;for(;++h<b;){const w=c[h];if(p(w))try{w.unsubscribe()}catch(E){n=n||[],E instanceof un?n=n.concat(nt(E.errors)):n.push(E)}}}if(n)throw new un(n)}add(n){let e=n;if(!n)return Bt.EMPTY;switch(typeof n){case"function":e=new Bt(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Bt)){const c=e;e=new Bt,e._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Bt){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const a=this._subscriptions;return null===a?this._subscriptions=[e]:a.push(e),e}remove(n){const e=this._subscriptions;if(e){const i=e.indexOf(n);-1!==i&&e.splice(i,1)}}}var t;function nt(t){return t.reduce((n,e)=>n.concat(e instanceof un?e.errors:e),[])}Bt.EMPTY=((t=new Bt).closed=!0,t);const rn="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Sn extends Bt{constructor(n,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ye;break;case 1:if(!n){this.destination=Ye;break}if("object"==typeof n){n instanceof Sn?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new pn(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new pn(this,n,e,i)}}[rn](){return this}static create(n,e,i){const a=new Sn(n,e,i);return a.syncErrorThrowable=!1,a}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}}class pn extends Sn{constructor(n,e,i,a){super(),this._parentSubscriber=n;let c,h=this;Ut(e)?c=e:e&&(c=e.next,i=e.error,a=e.complete,e!==Ye&&(h=Object.create(e),Ut(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this))),this._context=h,this._next=c,this._error=i,this._complete=a}next(n){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;tt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}}error(n){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=tt;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=n,e.syncErrorThrown=!0):cn(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;cn(n)}}}complete(){if(!this.isStopped){const{_parentSubscriber:n}=this;if(this._complete){const e=()=>this._complete.call(this._context);tt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,e){try{n.call(this._context,e)}catch(i){if(this.unsubscribe(),tt.useDeprecatedSynchronousErrorHandling)throw i;cn(i)}}__tryOrSetError(n,e,i){if(!tt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(a){return tt.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=a,n.syncErrorThrown=!0,!0):(cn(a),!0)}return!1}_unsubscribe(){const{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}}const zn="function"==typeof Symbol&&Symbol.observable||"@@observable";function xa(t){return t}let An=(()=>{class t{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,a){const{operator:c}=this,h=function(t,n,e){if(t){if(t instanceof Sn)return t;if(t[rn])return t[rn]()}return t||n||e?new Sn(t,n,e):new Sn(Ye)}(e,i,a);if(h.add(c?c.call(h,this.source):this.source||tt.useDeprecatedSynchronousErrorHandling&&!h.syncErrorThrowable?this._subscribe(h):this._trySubscribe(h)),tt.useDeprecatedSynchronousErrorHandling&&h.syncErrorThrowable&&(h.syncErrorThrowable=!1,h.syncErrorThrown))throw h.syncErrorValue;return h}_trySubscribe(e){try{return this._subscribe(e)}catch(i){tt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(t){for(;t;){const{closed:n,destination:e,isStopped:i}=t;if(n||i)return!1;t=e&&e instanceof Sn?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ta(i))((a,c)=>{let h;h=this.subscribe(b=>{try{e(b)}catch(w){c(w),h&&h.unsubscribe()}},c,a)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[zn](){return this}pipe(...e){return 0===e.length?this:function(t){return 0===t.length?xa:1===t.length?t[0]:function(e){return t.reduce((i,a)=>a(i),e)}}(e)(this)}toPromise(e){return new(e=Ta(e))((i,a)=>{let c;this.subscribe(h=>c=h,h=>a(h),()=>i(c))})}}return t.create=n=>new t(n),t})();function Ta(t){if(t||(t=tt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Qi=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Mi extends Bt{constructor(n,e){super(),this.subject=n,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const n=this.subject,e=n.observers;if(this.subject=null,!e||0===e.length||n.isStopped||n.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class pi extends Sn{constructor(n){super(n),this.destination=n}}let on=(()=>{class t extends An{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rn](){return new pi(this)}lift(e){const i=new $a(this,this);return i.operator=e,i}next(e){if(this.closed)throw new Qi;if(!this.isStopped){const{observers:i}=this,a=i.length,c=i.slice();for(let h=0;h<a;h++)c[h].next(e)}}error(e){if(this.closed)throw new Qi;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,a=i.length,c=i.slice();for(let h=0;h<a;h++)c[h].error(e);this.observers.length=0}complete(){if(this.closed)throw new Qi;this.isStopped=!0;const{observers:e}=this,i=e.length,a=e.slice();for(let c=0;c<i;c++)a[c].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Qi;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Qi;return this.hasError?(e.error(this.thrownError),Bt.EMPTY):this.isStopped?(e.complete(),Bt.EMPTY):(this.observers.push(e),new Mi(this,e))}asObservable(){const e=new An;return e.source=this,e}}return t.create=(n,e)=>new $a(n,e),t})();class $a extends on{constructor(n,e){super(),this.destination=n,this.source=e}next(n){const{destination:e}=this;e&&e.next&&e.next(n)}error(n){const{destination:e}=this;e&&e.error&&this.destination.error(n)}complete(){const{destination:n}=this;n&&n.complete&&this.destination.complete()}_subscribe(n){const{source:e}=this;return e?this.source.subscribe(n):Bt.EMPTY}}function Fr(t){return t&&"function"==typeof t.schedule}function ji(t,n){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Rr(t,n))}}class Rr{constructor(n,e){this.project=n,this.thisArg=e}call(n,e){return e.subscribe(new zr(n,this.project,this.thisArg))}}class zr extends Sn{constructor(n,e,i){super(n),this.project=e,this.count=0,this.thisArg=i||this}_next(n){let e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const nr=t=>n=>{for(let e=0,i=t.length;e<i&&!n.closed;e++)n.next(t[e]);n.complete()},Jr="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Ki=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ya(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const hn=t=>{if(t&&"function"==typeof t[zn])return(t=>n=>{const e=t[zn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)})(t);if(Ki(t))return nr(t);if(Ya(t))return(t=>n=>(t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,cn),n))(t);if(t&&"function"==typeof t[Jr])return(t=>n=>{const e=t[Jr]();for(;;){let i;try{i=e.next()}catch(a){return n.error(a),n}if(i.done){n.complete();break}if(n.next(i.value),n.closed)break}return"function"==typeof e.return&&n.add(()=>{e.return&&e.return()}),n})(t);{const e=`You provided ${p(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Ka(t,n){return new An(e=>{const i=new Bt;let a=0;return i.add(n.schedule(function(){a!==t.length?(e.next(t[a++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function gr(t,n){return n?function(t,n){if(null!=t){if(function(t){return t&&"function"==typeof t[zn]}(t))return function(t,n){return new An(e=>{const i=new Bt;return i.add(n.schedule(()=>{const a=t[zn]();i.add(a.subscribe({next(c){i.add(n.schedule(()=>e.next(c)))},error(c){i.add(n.schedule(()=>e.error(c)))},complete(){i.add(n.schedule(()=>e.complete()))}}))})),i})}(t,n);if(Ya(t))return function(t,n){return new An(e=>{const i=new Bt;return i.add(n.schedule(()=>t.then(a=>{i.add(n.schedule(()=>{e.next(a),i.add(n.schedule(()=>e.complete()))}))},a=>{i.add(n.schedule(()=>e.error(a)))}))),i})}(t,n);if(Ki(t))return Ka(t,n);if(function(t){return t&&"function"==typeof t[Jr]}(t)||"string"==typeof t)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new An(e=>{const i=new Bt;let a;return i.add(()=>{a&&"function"==typeof a.return&&a.return()}),i.add(n.schedule(()=>{a=t[Jr](),i.add(n.schedule(function(){if(e.closed)return;let c,h;try{const b=a.next();c=b.value,h=b.done}catch(b){return void e.error(b)}h?e.complete():(e.next(c),this.schedule())}))})),i})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof An?t:new An(hn(t))}class Yr extends Sn{constructor(n){super(),this.parent=n}_next(n){this.parent.notifyNext(n)}_error(n){this.parent.notifyError(n),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class pa extends Sn{notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.destination.complete()}}function yt(t,n){if(n.closed)return;if(t instanceof An)return t.subscribe(n);let e;try{e=hn(t)(n)}catch(i){n.error(i)}return e}function ti(t,n,e=Number.POSITIVE_INFINITY){return"function"==typeof n?i=>i.pipe(ti((a,c)=>gr(t(a,c)).pipe(ji((h,b)=>n(a,h,c,b))),e)):("number"==typeof n&&(e=n),i=>i.lift(new _n(t,e)))}class _n{constructor(n,e=Number.POSITIVE_INFINITY){this.project=n,this.concurrent=e}call(n,e){return e.subscribe(new Pn(n,this.project,this.concurrent))}}class Pn extends pa{constructor(n,e,i=Number.POSITIVE_INFINITY){super(n),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)}_tryNext(n){let e;const i=this.index++;try{e=this.project(n,i)}catch(a){return void this.destination.error(a)}this.active++,this._innerSub(e)}_innerSub(n){const e=new Yr(this),i=this.destination;i.add(e);const a=yt(n,e);a!==e&&i.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(n){this.destination.next(n)}notifyComplete(){const n=this.buffer;this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function qa(t=Number.POSITIVE_INFINITY){return ti(xa,t)}function Dr(t,n){return n?Ka(t,n):new An(nr(t))}function On(...t){let n=Number.POSITIVE_INFINITY,e=null,i=t[t.length-1];return Fr(i)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===e&&1===t.length&&t[0]instanceof An?t[0]:qa(n)(Dr(t,e))}function fa(){return function(n){return n.lift(new Ea(n))}}class Ea{constructor(n){this.connectable=n}call(n,e){const{connectable:i}=this;i._refCount++;const a=new Da(n,i),c=e.subscribe(a);return a.closed||(a.connection=i.connect()),c}}class Da extends Sn{constructor(n,e){super(n),this.connectable=e}_unsubscribe(){const{connectable:n}=this;if(!n)return void(this.connection=null);this.connectable=null;const e=n._refCount;if(e<=0)return void(this.connection=null);if(n._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,a=n._connection;this.connection=null,a&&(!i||a===i)&&a.unsubscribe()}}class ni extends An{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let n=this._connection;return n||(this._isComplete=!1,n=this._connection=new Bt,n.add(this.source.subscribe(new _r(this.getSubject(),this))),n.closed&&(this._connection=null,n=Bt.EMPTY)),n}refCount(){return fa()(this)}}const Sa=(()=>{const t=ni.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class _r extends pi{constructor(n,e){super(n),this.connectable=e}_error(n){this._unsubscribe(),super._error(n)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const n=this.connectable;if(n){this.connectable=null;const e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}}}function Ni(){return new on}function ui(t){for(let n in t)if(t[n]===ui)return n;throw Error("Could not find renamed property on target object.")}function Qr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function tn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function br(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const qr=ui({__forward_ref__:ui});function Un(t){return t.__forward_ref__=Un,t.toString=function(){return tn(this())},t}function wt(t){return Vn(t)?t():t}function Vn(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===Un}class Y extends Error{constructor(n,e){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,e)),this.code=n}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function He(t,n){const e=n?` in ${n}`:"";throw new Y("201",`No provider for ${be(t)} found${e}`)}function Li(t,n){null==t&&function(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lt(t){return bi(t,Qn)||bi(t,cc)}function bi(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ho(t){return t&&(t.hasOwnProperty(ll)||t.hasOwnProperty(Yc))?t[ll]:null}const Qn=ui({\u0275prov:ui}),ll=ui({\u0275inj:ui}),cc=ui({ngInjectableDef:ui}),Yc=ui({ngInjectorDef:ui});var kn=(()=>((kn=kn||{})[kn.Default=0]="Default",kn[kn.Host=1]="Host",kn[kn.Self=2]="Self",kn[kn.SkipSelf=4]="SkipSelf",kn[kn.Optional=8]="Optional",kn))();let la;function eo(t){const n=la;return la=t,n}function qc(t,n,e){const i=Lt(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&kn.Optional?null:void 0!==n?n:void He(tn(t),"Injector")}function to(t){return{toString:t}.toString()}var Wa=(()=>((Wa=Wa||{})[Wa.OnPush=0]="OnPush",Wa[Wa.Default=1]="Default",Wa))(),ea=(()=>((ea=ea||{})[ea.Emulated=0]="Emulated",ea[ea.None=2]="None",ea[ea.ShadowDom=3]="ShadowDom",ea))();const Wc="undefined"!=typeof globalThis&&globalThis,no="undefined"!=typeof window&&window,io="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ri=Wc||"undefined"!=typeof global&&global||no||io,cl={},$i=[],Qa=ui({\u0275cmp:ui}),dl=ui({\u0275dir:ui}),Zc=ui({\u0275pipe:ui}),vo=ui({\u0275mod:ui}),Xc=ui({\u0275loc:ui}),jo=ui({\u0275fac:ui}),Kc=ui({__NG_ELEMENT_ID__:ui});let eh=0;function Ct(t){return to(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Wa.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$i,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ea.Emulated,id:"c",styles:t.styles||$i,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,c=t.features,h=t.pipes;return i.id+=eh++,i.inputs=Xd(t.inputs,e),i.outputs=Xd(t.outputs),c&&c.forEach(b=>b(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(nh):null,i.pipeDefs=h?()=>("function"==typeof h?h():h).map(ul):null,i})}function th(t,n,e){const i=t.\u0275cmp;i.directiveDefs=()=>n.map(nh),i.pipeDefs=()=>e.map(ul)}function nh(t){return Sr(t)||function(t){return t[dl]||null}(t)}function ul(t){return function(t){return t[Zc]||null}(t)}const Uo={};function gn(t){return to(()=>{const n={type:t.type,bootstrap:t.bootstrap||$i,declarations:t.declarations||$i,imports:t.imports||$i,exports:t.exports||$i,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Uo[t.id]=t.type),n})}function Xd(t,n){if(null==t)return cl;const e={};for(const i in t)if(t.hasOwnProperty(i)){let a=t[i],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),e[a]=i,n&&(n[a]=c)}return e}const Tt=Ct;function ar(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sr(t){return t[Qa]||null}function ao(t,n){const e=t[vo]||null;if(!e&&!0===n)throw new Error(`Type ${tn(t)} does not have '\u0275mod' property.`);return e}function Mo(t){return Array.isArray(t)&&"object"==typeof t[1]}function To(t){return Array.isArray(t)&&!0===t[1]}function mc(t){return 0!=(8&t.flags)}function Fl(t){return 2==(2&t.flags)}function Ss(t){return 1==(1&t.flags)}function Eo(t){return null!==t.template}function Kd(t){return 0!=(512&t[2])}function ls(t,n){return t.hasOwnProperty(jo)?t[jo]:null}class Qc{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yi(){return hm}function hm(t){return t.type.prototype.ngOnChanges&&(t.setInput=uh),dh}function dh(){const t=hh(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===cl)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function uh(t,n,e,i){const a=hh(t)||function(t,n){return t[zl]=n}(t,{previous:cl,current:null}),c=a.current||(a.current={}),h=a.previous,b=this.declaredInputs[e],w=h[b];c[b]=new Qc(w&&w.currentValue,n,h===cl),t[i]=n}Yi.ngInherit=!0;const zl="__ngSimpleChanges__";function hh(t){return t[zl]||null}const tu="http://www.w3.org/2000/svg";let gc;function Nl(){return void 0!==gc?gc:"undefined"!=typeof document?document:void 0}function _a(t){return!!t.listen}const So={createRenderer:(t,n)=>Nl()};function Wn(t){for(;Array.isArray(t);)t=t[0];return t}function Zs(t,n){return Wn(n[t])}function Vr(t,n){return Wn(n[t.index])}function cs(t,n){return t.data[n]}function fl(t,n){return t[n]}function yr(t,n){const e=n[t];return Mo(e)?e:e[0]}function iu(t){return 4==(4&t[2])}function _c(t){return 128==(128&t[2])}function Is(t,n){return null==n?null:t[n]}function yc(t){t[18]=0}function id(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const ei={lFrame:rd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function au(){return ei.bindingsEnabled}function vt(){return ei.lFrame.lView}function Fi(){return ei.lFrame.tView}function mt(t){return ei.lFrame.contextLView=t,t[8]}function ja(){let t=fh();for(;null!==t&&64===t.type;)t=t.parent;return t}function fh(){return ei.lFrame.currentTNode}function vr(t,n){const e=ei.lFrame;e.currentTNode=t,e.isParent=n}function ru(){return ei.lFrame.isParent}function ou(){ei.lFrame.isParent=!1}function us(){return ei.isInCheckNoChangesMode}function hs(t){ei.isInCheckNoChangesMode=t}function or(){const t=ei.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ta(){return ei.lFrame.bindingIndex}function bl(){return ei.lFrame.bindingIndex++}function As(t){const n=ei.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function su(t,n){const e=ei.lFrame;e.bindingIndex=e.bindingRootIndex=t,xc(n)}function xc(t){ei.lFrame.currentDirectiveIndex=t}function lu(t){const n=ei.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function _h(){return ei.lFrame.currentQueryIndex}function wc(t){ei.lFrame.currentQueryIndex=t}function bm(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function cu(t,n,e){if(e&kn.SkipSelf){let a=n,c=t;for(;!(a=a.parent,null!==a||e&kn.Host||(a=bm(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;n=a,t=c}const i=ei.lFrame=ym();return i.currentTNode=n,i.lView=t,!0}function sr(t){const n=ym(),e=t[1];ei.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function ym(){const t=ei.lFrame,n=null===t?null:t.child;return null===n?rd(t):n}function rd(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function od(){const t=ei.lFrame;return ei.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bh=od;function Yo(){const t=od();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wa(){return ei.lFrame.selectedIndex}function ms(t){ei.lFrame.selectedIndex=t}function kt(){const t=ei.lFrame;return cs(t.tView,t.selectedIndex)}function kc(){ei.lFrame.currentNamespace=tu}function cd(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const c=t.data[e].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:L}=c;h&&(t.contentHooks||(t.contentHooks=[])).push(-e,h),b&&((t.contentHooks||(t.contentHooks=[])).push(e,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,b)),w&&(t.viewHooks||(t.viewHooks=[])).push(-e,w),E&&((t.viewHooks||(t.viewHooks=[])).push(e,E),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,E)),null!=L&&(t.destroyHooks||(t.destroyHooks=[])).push(e,L)}}function dd(t,n,e){Mc(t,n,3,e)}function ud(t,n,e,i){(3&t[2])===e&&Mc(t,n,e,i)}function uu(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Mc(t,n,e,i){const c=null!=i?i:-1,h=n.length-1;let b=0;for(let w=void 0!==i?65535&t[18]:0;w<h;w++)if("number"==typeof n[w+1]){if(b=n[w],null!=i&&b>=i)break}else n[w]<0&&(t[18]+=65536),(b<c||-1==c)&&(hu(t,e,n,w),t[18]=(4294901760&t[18])+w+2),w++}function hu(t,n,e,i){const a=e[i]<0,c=e[i+1],b=t[a?-e[i]:e[i]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(b)}finally{}}}else try{c.call(b)}finally{}}class fs{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function jl(t,n,e){const i=_a(t);let a=0;for(;a<e.length;){const c=e[a];if("number"==typeof c){if(0!==c)break;a++;const h=e[a++],b=e[a++],w=e[a++];i?t.setAttribute(n,b,w,h):n.setAttributeNS(h,b,w)}else{const h=c,b=e[++a];St(h)?i&&t.setProperty(n,h,b):i?t.setAttribute(n,h,b):n.setAttribute(h,b),a++}}return a}function wh(t){return 3===t||4===t||6===t}function St(t){return 64===t.charCodeAt(0)}function md(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const a=n[i];"number"==typeof a?e=a:0===e||Ec(t,e,a,null,-1===e||2===e?n[++i]:null)}}return t}function Ec(t,n,e,i,a){let c=0,h=t.length;if(-1===n)h=-1;else for(;c<t.length;){const b=t[c++];if("number"==typeof b){if(b===n){h=-1;break}if(b>n){h=c-1;break}}}for(;c<t.length;){const b=t[c];if("number"==typeof b)break;if(b===e){if(null===i)return void(null!==a&&(t[c+1]=a));if(i===t[c+1])return void(t[c+2]=a)}c++,null!==i&&c++,null!==a&&c++}-1!==h&&(t.splice(h,0,n),c=h+1),t.splice(c++,0,e),null!==i&&t.splice(c++,0,i),null!==a&&t.splice(c++,0,a)}function fu(t){return-1!==t}function Ai(t){return 32767&t}function Xs(t,n){let e=function(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Ul=!0;function Gl(t){const n=Ul;return Ul=t,n}let gd=0;function l(t,n){const e=_(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,u(i.data,t),u(n,null),u(i.blueprint,null));const a=x(t,n),c=t.injectorIndex;if(fu(a)){const h=Ai(a),b=Xs(a,n),w=b[1].data;for(let E=0;E<8;E++)n[c+E]=b[h+E]|w[h+E]}return n[c+8]=a,c}function u(t,n){t.push(0,0,0,0,0,0,0,0,n)}function _(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function x(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,a=n;for(;null!==a;){const c=a[1],h=c.type;if(i=2===h?c.declTNode:1===h?a[6]:null,null===i)return-1;if(e++,a=a[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function C(t,n,e){!function(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Kc)&&(i=e[Kc]),null==i&&(i=e[Kc]=gd++);const a=255&i;n.data[t+(a>>5)]|=1<<a}(t,n,e)}function I(t,n,e){if(e&kn.Optional)return t;He(n,"NodeInjector")}function O(t,n,e,i){if(e&kn.Optional&&void 0===i&&(i=null),0==(e&(kn.Self|kn.Host))){const a=t[9],c=eo(void 0);try{return a?a.get(n,i,e&kn.Optional):qc(n,i,e&kn.Optional)}finally{eo(c)}}return I(i,n,e)}function V(t,n,e,i=kn.Default,a){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Kc)?t[Kc]:void 0;return"number"==typeof n?n>=0?255&n:W:n}(e);if("function"==typeof c){if(!cu(n,t,i))return i&kn.Host?I(a,e,i):O(n,e,i,a);try{const h=c(i);if(null!=h||i&kn.Optional)return h;He(e)}finally{bh()}}else if("number"==typeof c){let h=null,b=_(t,n),w=-1,E=i&kn.Host?n[16][6]:null;for((-1===b||i&kn.SkipSelf)&&(w=-1===b?x(t,n):n[b+8],-1!==w&&re(i,!1)?(h=n[1],b=Ai(w),n=Xs(w,n)):b=-1);-1!==b;){const L=n[1];if(ue(c,b,L.data)){const $=te(b,n,e,h,i,E);if($!==U)return $}w=n[b+8],-1!==w&&re(i,n[1].data[b+8]===E)&&ue(c,b,n)?(h=L,b=Ai(w),n=Xs(w,n)):b=-1}}}return O(n,e,i,a)}const U={};function W(){return new fe(ja(),vt())}function te(t,n,e,i,a,c){const h=n[1],b=h.data[t+8],L=me(b,h,e,null==i?Fl(b)&&Ul:i!=h&&0!=(3&b.type),a&kn.Host&&c===b);return null!==L?se(n,h,L,b):U}function me(t,n,e,i,a){const c=t.providerIndexes,h=n.data,b=1048575&c,w=t.directiveStart,L=c>>20,K=a?b+L:t.directiveEnd;for(let ie=i?b:b+L;ie<K;ie++){const pe=h[ie];if(ie<w&&e===pe||ie>=w&&pe.type===e)return ie}if(a){const ie=h[w];if(ie&&Eo(ie)&&ie.type===e)return w}return null}function se(t,n,e,i){let a=t[e];const c=n.data;if(function(t){return t instanceof fs}(a)){const h=a;h.resolving&&function(t,n){throw new Y("200",`Circular dependency in DI detected for ${t}`)}(be(c[e]));const b=Gl(h.canSeeViewProviders);h.resolving=!0;const w=h.injectImpl?eo(h.injectImpl):null;cu(t,i,kn.Default);try{a=t[e]=h.factory(void 0,c,t,i),n.firstCreatePass&&e>=i.directiveStart&&function(t,n,e){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:c}=n.type.prototype;if(i){const h=hm(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,h),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,h)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),c&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,c),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,c))}(e,c[e],n)}finally{null!==w&&eo(w),Gl(b),h.resolving=!1,bh()}}return a}function ue(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function re(t,n){return!(t&kn.Self||t&kn.Host&&n)}class fe{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return V(this._tNode,this._lView,n,i,e)}}function oe(t){return to(()=>{const n=t.prototype.constructor,e=n[jo]||Le(n),i=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==i;){const c=a[jo]||Le(a);if(c&&c!==e)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Le(t){return Vn(t)?()=>{const n=Le(wt(t));return n&&n()}:ls(t)}function De(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let a=0;for(;a<i;){const c=e[a];if(wh(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<i&&"string"==typeof e[a];)a++;else{if(c===n)return e[a+1];a+=2}}}return null}(ja(),t)}const Ee="__parameters__";function _t(t,n,e){return to(()=>{const i=function(t){return function(...e){if(t){const i=t(...e);for(const a in i)this[a]=i[a]}}}(n);function a(...c){if(this instanceof a)return i.apply(this,c),this;const h=new a(...c);return b.annotation=h,b;function b(w,E,L){const $=w.hasOwnProperty(Ee)?w[Ee]:Object.defineProperty(w,Ee,{value:[]})[Ee];for(;$.length<=L;)$.push(null);return($[L]=$[L]||[]).push(h),w}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}class Ve{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=$t({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function qt(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),qt(i,n)):n!==t&&n.push(i)}return n}function yi(t,n){t.forEach(e=>Array.isArray(e)?yi(e,n):n(e))}function ba(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ti(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function er(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Ir(t,n,e){let i=vl(t,n);return i>=0?t[1|i]=e:(i=~i,function(t,n,e,i){let a=t.length;if(a==n)t.push(e,i);else if(1===a)t.push(i,t[0]),t[0]=e;else{for(a--,t.push(t[a-1],t[a]);a>n;)t[a]=t[a-2],a--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function yl(t,n){const e=vl(t,n);if(e>=0)return t[1|e]}function vl(t,n){return function(t,n,e){let i=0,a=t.length>>e;for(;a!==i;){const c=i+(a-i>>1),h=t[c<<e];if(n===h)return c<<e;h>n?a=c:i=c+1}return~(a<<e)}(t,n,1)}const Cp={},x_="__NG_DI_FLAG__",Ch="ngTempTokenPath",kp=/\n/gm,km="__source",Mp=ui({provide:String,useValue:ui});let bu;function Ls(t){const n=bu;return bu=t,n}function Wf(t,n=kn.Default){if(void 0===bu)throw new Error("inject() must be called from an injection context");return null===bu?qc(t,void 0,n):bu.get(t,n&kn.Optional?null:void 0,n)}function Ne(t,n=kn.Default){return(la||Wf)(wt(t),n)}const oy=Ne;function kh(t){const n=[];for(let e=0;e<t.length;e++){const i=wt(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let a,c=kn.Default;for(let h=0;h<i.length;h++){const b=i[h],w=C_(b);"number"==typeof w?-1===w?a=b.token:c|=w:a=b}n.push(Ne(a,c))}else n.push(Ne(i))}return n}function Tp(t,n){return t[x_]=n,t.prototype[x_]=n,t}function C_(t){return t[x_]}function Mm(t,n,e,i){const a=t[Ch];throw n[km]&&a.unshift(n[km]),t.message=function(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let a=tn(n);if(Array.isArray(n))a=n.map(tn).join(" -> ");else if("object"==typeof n){let c=[];for(let h in n)if(n.hasOwnProperty(h)){let b=n[h];c.push(h+":"+("string"==typeof b?JSON.stringify(b):tn(b)))}a=`{${c.join(", ")}}`}return`${e}${i?"("+i+")":""}[${a}]: ${t.replace(kp,"\n  ")}`}("\n"+t.message,a,e,i),t.ngTokenPath=a,t[Ch]=null,t}const gs=Tp(_t("Inject",t=>({token:t})),-1),Hr=Tp(_t("Optional"),8),qo=Tp(_t("SkipSelf"),4);let xl,Dp;function Oo(t){var n;return(null===(n=function(){if(void 0===xl&&(xl=null,Ri.trustedTypes))try{xl=Ri.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return xl}())||void 0===n?void 0:n.createHTML(t))||t}function vu(){if(void 0===Dp&&(Dp=null,Ri.trustedTypes))try{Dp=Ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Dp}function Kf(t){var n;return(null===(n=vu())||void 0===n?void 0:n.createHTML(t))||t}function Jf(t){var n;return(null===(n=vu())||void 0===n?void 0:n.createScriptURL(t))||t}class Th{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class S_ extends Th{getTypeName(){return"HTML"}}class dy extends Th{getTypeName(){return"Style"}}class Kx extends Th{getTypeName(){return"Script"}}class vd extends Th{getTypeName(){return"URL"}}class Eh extends Th{getTypeName(){return"ResourceURL"}}function Wo(t){return t instanceof Th?t.changingThisBreaksApplicationSecurity:t}function Ks(t,n){const e=Qf(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function Qf(t){return t instanceof Th&&t.getTypeName()||null}class A_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Oo(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class py{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Oo(n),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Oo(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const e=n.attributes;for(let a=e.length-1;0<a;a--){const h=e.item(a).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ic(t){return(t=String(t)).match(Dh)||t.match(tw)?t:"unsafe:"+t}function Sp(t){return(t=String(t)).split(",").map(n=>Ic(n.trim())).join(", ")}function ql(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Em(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const gy=ql("area,br,col,hr,img,wbr"),_y=ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ip=ql("rp,rt"),Ap=Em(gy,Em(_y,ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Em(Ip,ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Em(Ip,_y)),xu=ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sh=ql("srcset"),Op=Em(xu,Sh,ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yy=ql("script,style,template");class vy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=this.checkClobberedElement(e,e.nextSibling);if(a){e=a;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Ap.hasOwnProperty(e))return this.sanitizedSomething=!0,!yy.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let a=0;a<i.length;a++){const c=i.item(a),h=c.name,b=h.toLowerCase();if(!Op.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=c.value;xu[b]&&(w=Ic(w)),Sh[b]&&(w=Sp(w)),this.buf.push(" ",h,'="',L_(w),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Ap.hasOwnProperty(e)&&!gy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(L_(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const iw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O_=/([^\#-~ |!])/g;function L_(t){return t.replace(/&/g,"&amp;").replace(iw,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(O_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wu;function Ih(t,n){let e=null;try{wu=wu||function(t){const n=new py(t);return function(){try{return!!(new window.DOMParser).parseFromString(Oo(""),"text/html")}catch(t){return!1}}()?new A_(n):n}(t);let i=n?String(n):"";e=wu.getInertBodyElement(i);let a=5,c=i;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,i=c,c=e.innerHTML,e=wu.getInertBodyElement(i)}while(i!==c);return Oo((new vy).sanitizeChildren(Ac(e)||e))}finally{if(e){const i=Ac(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Ac(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ra=(()=>((Ra=Ra||{})[Ra.NONE=0]="NONE",Ra[Ra.HTML=1]="HTML",Ra[Ra.STYLE=2]="STYLE",Ra[Ra.SCRIPT=3]="SCRIPT",Ra[Ra.URL=4]="URL",Ra[Ra.RESOURCE_URL=5]="RESOURCE_URL",Ra))();function Zi(t){const n=Lp();return n?Kf(n.sanitize(Ra.HTML,t)||""):Ks(t,"HTML")?Kf(Wo(t)):Ih(Nl(),le(t))}function en(t){const n=Lp();return n?n.sanitize(Ra.URL,t)||"":Ks(t,"URL")?Wo(t):Ic(le(t))}function Cu(t){const n=Lp();if(n)return Jf(n.sanitize(Ra.RESOURCE_URL,t)||"");if(Ks(t,"ResourceURL"))return Jf(Wo(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Lp(){const t=vt();return t&&t[12]}const z_="__ngContext__";function Lo(t,n){t[z_]=n}function ng(t){const n=function(t){return t[z_]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Im(t){return t.ngOriginalError}function lw(t,...n){t.error(...n)}class Ah{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=this._findContext(n),a=function(t){return t&&t.ngErrorLogger||lw}(n);a(this._console,"ERROR",n),e&&a(this._console,"ORIGINAL ERROR",e),i&&a(this._console,"ERROR CONTEXT",i)}_findContext(n){return n?function(t){return t.ngDebugContext}(n)||this._findContext(Im(n)):null}_findOriginalError(n){let e=n&&Im(n);for(;e&&Im(e);)e=Im(e);return e||null}}const Ey=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ri))();function lg(t){return t.ownerDocument.defaultView}function Dy(t){return t.ownerDocument}function ca(t){return t instanceof Function?t():t}var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();function dg(t,n){return undefined(t,n)}function Lh(t){const n=t[3];return To(n)?n[3]:n}function Ph(t){return hg(t[13])}function Y_(t){return hg(t[4])}function hg(t){for(;null!==t&&!To(t);)t=t[4];return t}function Tu(t,n,e,i,a){if(null!=i){let c,h=!1;To(i)?c=i:Mo(i)&&(h=!0,i=i[0]);const b=Wn(i);0===t&&null!==e?null==a?Oy(n,e,b):Fh(n,e,b,a||null,!0):1===t&&null!==e?Fh(n,e,b,a||null,!0):2===t?function(t,n,e){const i=Vp(t,n);i&&function(t,n,e,i){_a(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}(n,b,h):3===t&&n.destroyNode(b),null!=c&&function(t,n,e,i,a){const c=e[7];c!==Wn(e)&&Tu(n,t,i,c,a);for(let b=10;b<e.length;b++){const w=e[b];Du(w[1],w,t,n,i,c)}}(n,t,c,e,a)}}function q_(t,n,e){return _a(t)?t.createElement(n,e):null===e?t.createElement(n):t.createElementNS(e,n)}function Ay(t,n){const e=t[9],i=e.indexOf(n),a=n[3];1024&n[2]&&(n[2]&=-1025,id(a,-1)),e.splice(i,1)}function W_(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const a=i[17];null!==a&&a!==t&&Ay(a,i),n>0&&(t[e-1][4]=i[4]);const c=Ti(t,10+n);!function(t,n){Du(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const h=c[19];null!==h&&h.detachView(c[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Z_(t,n){if(!(256&n[2])){const e=n[11];_a(e)&&e.destroyNode&&Du(t,n,e,3,null,null),function(t){let n=t[13];if(!n)return mg(t[1],t);for(;n;){let e=null;if(Mo(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Mo(n)&&mg(n[1],n),n=n[3];null===n&&(n=t),Mo(n)&&mg(n[1],n),e=n&&n[4]}n=e}}(n)}}function mg(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const a=n[e[i]];if(!(a instanceof fs)){const c=e[i+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const b=a[c[h]],w=c[h+1];try{w.call(b)}finally{}}else try{c.call(a)}finally{}}}}(t,n),function(t,n){const e=t.cleanup,i=n[7];let a=-1;if(null!==e)for(let c=0;c<e.length-1;c+=2)if("string"==typeof e[c]){const h=e[c+1],b="function"==typeof h?h(n):Wn(n[h]),w=i[a=e[c+2]],E=e[c+3];"boolean"==typeof E?b.removeEventListener(e[c],w,E):E>=0?i[a=E]():i[a=-E].unsubscribe(),c+=2}else{const h=i[a=e[c+1]];e[c].call(h)}if(null!==i){for(let c=a+1;c<i.length;c++)i[c]();n[7]=null}}(t,n),1===n[1].type&&_a(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&To(n[3])){e!==n[3]&&Ay(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function Eu(t,n,e){return function(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const a=t.data[i.directiveStart].encapsulation;if(a===ea.None||a===ea.Emulated)return null}return Vr(i,e)}(t,n.parent,e)}function Fh(t,n,e,i,a){_a(t)?t.insertBefore(n,e,i,a):n.insertBefore(e,i,a)}function Oy(t,n,e){_a(t)?t.appendChild(n,e):n.appendChild(e)}function Pm(t,n,e,i,a){null!==i?Fh(t,n,e,i,a):Oy(t,n,e)}function Vp(t,n){return _a(t)?t.parentNode(n):n.parentNode}function X_(t,n,e){return K_(t,n,e)}let K_=function(t,n,e){return 40&t.type?Vr(t,e):null};function jp(t,n,e,i){const a=Eu(t,i,n),c=n[11],b=X_(i.parent||n[6],i,n);if(null!=a)if(Array.isArray(e))for(let w=0;w<e.length;w++)Pm(c,a,e[w],b,!1);else Pm(c,a,e,b,!1)}function Up(t,n){if(null!==n){const e=n.type;if(3&e)return Vr(n,t);if(4&e)return eb(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Up(t,i);{const a=t[n.index];return To(a)?eb(-1,a):Wn(a)}}if(32&e)return dg(n,t)()||Wn(t[n.index]);{const i=Q_(t,n);return null!==i?Array.isArray(i)?i[0]:Up(Lh(t[16]),i):Up(t,n.next)}}return null}function Q_(t,n){return null!==n?t[16][6].projection[n.projection]:null}function eb(t,n){const e=10+t+1;if(e<n.length){const i=n[e],a=i[1].firstChild;if(null!==a)return Up(i,a)}return n[7]}function fg(t,n,e,i,a,c,h){for(;null!=e;){const b=i[e.index],w=e.type;if(h&&0===n&&(b&&Lo(Wn(b),i),e.flags|=4),64!=(64&e.flags))if(8&w)fg(t,n,e.child,i,a,c,!1),Tu(n,t,a,b,c);else if(32&w){const E=dg(e,i);let L;for(;L=E();)Tu(n,t,a,L,c);Tu(n,t,a,b,c)}else 16&w?Fo(t,n,i,e,a,c):Tu(n,t,a,b,c);e=h?e.projectionNext:e.next}}function Du(t,n,e,i,a,c){fg(e,i,t.firstChild,n,a,c,!1)}function Fo(t,n,e,i,a,c){const h=e[16],w=h[6].projection[i.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Tu(n,t,a,w[E],c);else fg(t,n,w,h[3],a,c,!0)}function tb(t,n,e){_a(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function Fm(t,n,e){_a(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function nb(t,n,e){let i=t.length;for(;;){const a=t.indexOf(n,e);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const c=n.length;if(a+c===i||t.charCodeAt(a+c)<=32)return a}e=a+1}}const Ry="ng-template";function vw(t,n,e){let i=0;for(;i<t.length;){let a=t[i++];if(e&&"class"===a){if(a=t[i],-1!==nb(a.toLowerCase(),n,0))return!0}else if(1===a){for(;i<t.length&&"string"==typeof(a=t[i++]);)if(a.toLowerCase()===n)return!0;return!1}}return!1}function zy(t){return 4===t.type&&t.value!==Ry}function xw(t,n,e){return n===(4!==t.type||e?t.value:Ry)}function ww(t,n,e){let i=4;const a=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(wh(t[n]))return n;return t.length}(a);let h=!1;for(let b=0;b<n.length;b++){const w=n[b];if("number"!=typeof w){if(!h)if(4&i){if(i=2|1&i,""!==w&&!xw(t,w,e)||""===w&&1===n.length){if(Fs(i))return!1;h=!0}}else{const E=8&i?w:n[++b];if(8&i&&null!==t.attrs){if(!vw(t.attrs,E,e)){if(Fs(i))return!1;h=!0}continue}const $=Cw(8&i?"class":w,a,zy(t),e);if(-1===$){if(Fs(i))return!1;h=!0;continue}if(""!==E){let K;K=$>c?"":a[$+1].toLowerCase();const ie=8&i?K:null;if(ie&&-1!==nb(ie,E,0)||2&i&&E!==K){if(Fs(i))return!1;h=!0}}}}else{if(!h&&!Fs(i)&&!Fs(w))return!1;if(h&&Fs(w))continue;h=!1,i=w|1&i}}return Fs(i)||h}function Fs(t){return 0==(1&t)}function Cw(t,n,e,i){if(null===n)return-1;let a=0;if(i||!e){let c=!1;for(;a<n.length;){const h=n[a];if(h===t)return a;if(3===h||6===h)c=!0;else{if(1===h||2===h){let b=n[++a];for(;"string"==typeof b;)b=n[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=c?1:2}return-1}return function(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function ib(t,n,e=!1){for(let i=0;i<n.length;i++)if(ww(t,n[i],e))return!0;return!1}function Mw(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let a=0;a<t.length;a++)if(t[a]!==i[a])continue e;return!0}}return!1}function Vy(t,n){return t?":not("+n.trim()+")":n}function Tw(t){let n=t[0],e=1,i=2,a="",c=!1;for(;e<t.length;){let h=t[e];if("string"==typeof h)if(2&i){const b=t[++e];a+="["+h+(b.length>0?'="'+b+'"':"")+"]"}else 8&i?a+="."+h:4&i&&(a+=" "+h);else""!==a&&!Fs(h)&&(n+=Vy(c,a),a=""),i=h,c=c||!Fs(i);e++}return""!==a&&(n+=Vy(c,a)),n}const Di={};function F(t){Wl(Fi(),vt(),wa()+t,us())}function Wl(t,n,e,i){if(!i)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&dd(n,c,e)}else{const c=t.preOrderHooks;null!==c&&ud(n,c,0,e)}ms(e)}function Rm(t,n){return t<<17|n<<2}function Rs(t){return t>>17&32767}function ab(t){return 2|t}function el(t){return(131068&t)>>2}function rb(t,n){return-131069&t|n<<2}function gg(t){return 1|t}function mb(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const a=e[i],c=e[i+1];if(-1!==c){const h=t.data[c];wc(a),h.contentQueries(2,n[c],c)}}}function Nm(t,n,e,i,a,c,h,b,w,E){const L=n.blueprint.slice();return L[0]=a,L[2]=140|i,yc(L),L[3]=L[15]=t,L[8]=e,L[10]=h||t&&t[10],L[11]=b||t&&t[11],L[12]=w||t&&t[12]||null,L[9]=E||t&&t[9]||null,L[6]=c,L[16]=2==n.type?t[16]:L,L}function zh(t,n,e,i,a){let c=t.data[n];if(null===c)c=function(t,n,e,i,a){const c=fh(),h=ru(),w=t.data[n]=function(t,n,e,i,a,c){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,e,n,i,a);return null===t.firstChild&&(t.firstChild=w),null!==c&&(h?null==c.child&&null!==w.parent&&(c.child=w):null===c.next&&(c.next=w)),w}(t,n,e,i,a),ei.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=e,c.value=i,c.attrs=a;const h=function(){const t=ei.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return vr(c,!0),c}function Bm(t,n,e,i){if(0===e)return-1;const a=n.length;for(let c=0;c<e;c++)n.push(i),t.blueprint.push(i),t.data.push(null);return a}function Kp(t,n,e){sr(n);try{const i=t.viewQuery;null!==i&&Sg(1,i,e);const a=t.template;null!==a&&Vm(t,n,a,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mb(t,n),t.staticViewQueries&&Sg(2,t.viewQuery,e);const c=t.components;null!==c&&function(t,n){for(let e=0;e<n.length;e++)wb(t,n[e])}(n,c)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,Yo()}}function Nh(t,n,e,i){const a=n[2];if(256==(256&a))return;sr(n);const c=us();try{yc(n),function(t){ei.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Vm(t,n,e,2,i);const h=3==(3&a);if(!c)if(h){const E=t.preOrderCheckHooks;null!==E&&dd(n,E,null)}else{const E=t.preOrderHooks;null!==E&&ud(n,E,0,null),uu(n,0)}if(function(t){for(let n=Ph(t);null!==n;n=Y_(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const a=e[i],c=a[3];0==(1024&a[2])&&id(c,1),a[2]|=1024}}}(n),function(t){for(let n=Ph(t);null!==n;n=Y_(n))for(let e=10;e<n.length;e++){const i=n[e],a=i[1];_c(i)&&Nh(a,i,a.template,i[8])}}(n),null!==t.contentQueries&&mb(t,n),!c)if(h){const E=t.contentCheckHooks;null!==E&&dd(n,E)}else{const E=t.contentHooks;null!==E&&ud(n,E,1),uu(n,1)}!function(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const a=e[i];if(a<0)ms(~a);else{const c=a,h=e[++i],b=e[++i];su(h,c),b(2,n[c])}}}finally{ms(-1)}}(t,n);const b=t.components;null!==b&&function(t,n){for(let e=0;e<n.length;e++)Uw(t,n[e])}(n,b);const w=t.viewQuery;if(null!==w&&Sg(2,w,i),!c)if(h){const E=t.viewCheckHooks;null!==E&&dd(n,E)}else{const E=t.viewHooks;null!==E&&ud(n,E,2),uu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,id(n[3],-1))}finally{Yo()}}function Ky(t,n,e,i){const a=n[10],c=!us(),h=iu(n);try{c&&!h&&a.begin&&a.begin(),h&&Kp(t,n,i),Nh(t,n,e,i)}finally{c&&!h&&a.end&&a.end()}}function Vm(t,n,e,i,a){const c=wa(),h=2&i;try{ms(-1),h&&n.length>20&&Wl(t,n,20,us()),e(i,a)}finally{ms(c)}}function pb(t,n,e){if(mc(n)){const a=n.directiveEnd;for(let c=n.directiveStart;c<a;c++){const h=t.data[c];h.contentQueries&&h.contentQueries(1,e[c],c)}}}function vg(t,n,e){!au()||(function(t,n,e,i){const a=e.directiveStart,c=e.directiveEnd;t.firstCreatePass||l(e,n),Lo(i,n);const h=e.initialInputs;for(let b=a;b<c;b++){const w=t.data[b],E=Eo(w);E&&Kl(n,e,w);const L=se(n,t,b,e);Lo(L,n),null!==h&&n1(0,b-a,L,w,0,h),E&&(yr(e.index,n)[8]=L)}}(t,n,e,Vr(e,n)),128==(128&e.flags)&&function(t,n,e){const i=e.directiveStart,a=e.directiveEnd,h=e.index,b=ei.lFrame.currentDirectiveIndex;try{ms(h);for(let w=i;w<a;w++){const E=t.data[w],L=n[w];xc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&e1(E,L)}}finally{ms(-1),xc(b)}}(t,n,e))}function Jp(t,n,e=Vr){const i=n.localNames;if(null!==i){let a=n.index+1;for(let c=0;c<i.length;c+=2){const h=i[c+1],b=-1===h?e(n,t):t[h];t[a++]=b}}}function Bh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Qp(t,n,e,i,a,c,h,b,w,E){const L=20+i,$=L+a,K=function(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Di);return e}(L,$),ie="function"==typeof E?E():E;return K[1]={type:t,blueprint:K,template:e,queries:null,viewQuery:b,declTNode:n,data:K.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:w,consts:ie,incompleteFirstPass:!1}}function Jy(t,n,e,i){const a=s1(n);null===e?a.push(i):(a.push(e),t.firstCreatePass&&Cb(t).push(i,a.length-1))}function Qy(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const a=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,a):e[i]=[n,a]}return e}function lo(t,n,e,i,a,c,h,b){const w=Vr(n,e);let L,E=n.inputs;!b&&null!=E&&(L=E[i])?(Td(t,e,L,i,a),Fl(n)&&function(t,n){const e=yr(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),a=null!=h?h(a,n.value||"",i):a,_a(c)?c.setProperty(w,i,a):St(i)||(w.setProperty?w.setProperty(i,a):w[i]=a))}function Cg(t,n,e,i){let a=!1;if(au()){const c=function(t,n,e){const i=t.directiveRegistry;let a=null;if(i)for(let c=0;c<i.length;c++){const h=i[c];ib(e,h.selectors,!1)&&(a||(a=[]),C(l(e,n),t,h.type),Eo(h)?(vb(t,e),a.unshift(h)):a.push(h))}return a}(t,n,e),h=null===i?null:{"":-1};if(null!==c){a=!0,Mg(e,t.data.length,c.length);for(let L=0;L<c.length;L++){const $=c[L];$.providersResolver&&$.providersResolver($)}let b=!1,w=!1,E=Bm(t,n,c.length,null);for(let L=0;L<c.length;L++){const $=c[L];e.mergedAttrs=md(e.mergedAttrs,$.hostAttrs),Vh(t,e,n,E,$),Md(E,$,h),null!==$.contentQueries&&(e.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(e.flags|=128);const K=$.type.prototype;!b&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),b=!0),!w&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),w=!0),E++}!function(t,n){const i=n.directiveEnd,a=t.data,c=n.attrs,h=[];let b=null,w=null;for(let E=n.directiveStart;E<i;E++){const L=a[E],$=L.inputs,K=null===c||zy(n)?null:jw($,c);h.push(K),b=Qy($,E,b),w=Qy(L.outputs,E,w)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=16),b.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=b,n.outputs=w}(t,e)}h&&function(t,n,e){if(n){const i=t.localNames=[];for(let a=0;a<n.length;a+=2){const c=e[n[a+1]];if(null==c)throw new Y("301",`Export of name '${n[a+1]}' not found!`);i.push(n[a],c)}}}(e,i,h)}return e.mergedAttrs=md(e.mergedAttrs,e.attrs),a}function bb(t,n,e,i,a,c){const h=c.hostBindings;if(h){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const w=~n.index;(function(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(b)!=w&&b.push(w),b.push(i,a,h)}}function e1(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function vb(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Md(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Eo(n)&&(e[""]=t)}}function Mg(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Vh(t,n,e,i,a){t.data[i]=a;const c=a.factory||(a.factory=ls(a.type)),h=new fs(c,Eo(a),null);t.blueprint[i]=h,e[i]=h,bb(t,n,0,i,Bm(t,e,a.hostVars,Di),a)}function Kl(t,n,e){const i=Vr(n,t),a=Bh(e),c=t[10],h=Hh(t,Nm(t,a,null,e.onPush?64:16,i,n,c,c.createRenderer(i,e),null,null));t[n.index]=h}function jr(t,n,e,i,a,c){const h=Vr(t,n);!function(t,n,e,i,a,c,h){if(null==c)_a(t)?t.removeAttribute(n,a,e):n.removeAttribute(a);else{const b=null==h?le(c):h(c,i||"",a);_a(t)?t.setAttribute(n,a,b,e):e?n.setAttributeNS(e,a,b):n.setAttribute(a,b)}}(n[11],h,c,t.value,e,i,a)}function n1(t,n,e,i,a,c){const h=c[n];if(null!==h){const b=i.setInput;for(let w=0;w<h.length;){const E=h[w++],L=h[w++],$=h[w++];null!==b?i.setInput(e,$,E,L):e[L]=$}}}function jw(t,n){let e=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,t[a],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Jl(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function Uw(t,n){const e=yr(n,t);if(_c(e)){const i=e[1];80&e[2]?Nh(i,e,i.template,e[8]):e[5]>0&&Hm(e)}}function Hm(t){for(let i=Ph(t);null!==i;i=Y_(i))for(let a=10;a<i.length;a++){const c=i[a];if(1024&c[2]){const h=c[1];Nh(h,c,h.template,c[8])}else c[5]>0&&Hm(c)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const a=yr(e[i],t);_c(a)&&a[5]>0&&Hm(a)}}function wb(t,n){const e=yr(n,t),i=e[1];(function(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),Kp(i,e,e[8])}function Hh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function jh(t){for(;t;){t[2]|=64;const n=Lh(t);if(Kd(t)&&!n)return t;t=n}return null}function Uh(t,n,e){const i=n[10];i.begin&&i.begin();try{Nh(t,n,t.template,e)}catch(a){throw l1(n,a),a}finally{i.end&&i.end()}}function Dg(t){!function(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=ng(e),a=i[1];Ky(a,i,a.template,e)}}(t[8])}function Sg(t,n,e){wc(0),n(t,e)}const $w=(()=>Promise.resolve(null))();function s1(t){return t[7]||(t[7]=[])}function Cb(t){return t.cleanup||(t.cleanup=[])}function Au(t,n,e){return(null===t||Eo(t))&&(e=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[n.index])),e[11]}function l1(t,n){const e=t[9],i=e?e.get(Ah,null):null;i&&i.handleError(n)}function Td(t,n,e,i,a){for(let c=0;c<e.length;){const h=e[c++],b=e[c++],w=n[h],E=t.data[h];null!==E.setInput?E.setInput(w,a,i,b):w[b]=a}}function Ed(t,n,e){const i=Zs(n,t);!function(t,n,e){_a(t)?t.setValue(n,e):n.textContent=e}(t[11],i,e)}function Ou(t,n,e){let i=e?t.styles:null,a=e?t.classes:null,c=0;if(null!==n)for(let h=0;h<n.length;h++){const b=n[h];"number"==typeof b?c=b:1==c?a=br(a,b):2==c&&(i=br(i,b+": "+n[++h]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=a:t.classesWithoutHost=a}const Dd=new Ve("INJECTOR",-1);class c1{get(n,e=Cp){if(e===Cp){const i=new Error(`NullInjectorError: No provider for ${tn(n)}!`);throw i.name="NullInjectorError",i}return e}}const of=new Ve("Set Injector scope."),Lc={},Ag={};let kb;function Mb(){return void 0===kb&&(kb=new c1),kb}function u1(t,n=null,e=null,i){return new h1(t,e,n||Mb(),i)}class h1{constructor(n,e,i,a=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];e&&yi(e,b=>this.processProvider(b,n,e)),yi([n],b=>this.processInjectorType(b,[],c)),this.records.set(Dd,Um(void 0,this));const h=this.records.get(of);this.scope=null!=h?h.value:null,this.source=a||("object"==typeof n?null:tn(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Cp,i=kn.Default){this.assertNotDestroyed();const a=Ls(this),c=eo(void 0);try{if(!(i&kn.SkipSelf)){let b=this.records.get(n);if(void 0===b){const w=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ve}(n)&&Lt(n);b=w&&this.injectableDefInScope(w)?Um(Tb(n),Lc):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(i&kn.Self?Mb():this.parent).get(n,e=i&kn.Optional&&e===Cp?null:e)}catch(h){if("NullInjectorError"===h.name){if((h[Ch]=h[Ch]||[]).unshift(tn(n)),a)throw h;return Mm(h,n,"R3InjectorError",this.source)}throw h}finally{eo(c),Ls(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,a)=>n.push(tn(a))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,e,i){if(!(n=wt(n)))return!1;let a=Ho(n);const c=null==a&&n.ngModule||void 0,h=void 0===c?n:c,b=-1!==i.indexOf(h);if(void 0!==c&&(a=Ho(c)),null==a)return!1;if(null!=a.imports&&!b){let L;i.push(h);try{yi(a.imports,$=>{this.processInjectorType($,e,i)&&(void 0===L&&(L=[]),L.push($))})}finally{}if(void 0!==L)for(let $=0;$<L.length;$++){const{ngModule:K,providers:ie}=L[$];yi(ie,pe=>this.processProvider(pe,K,ie||$i))}}this.injectorDefTypes.add(h);const w=ls(h)||(()=>new h);this.records.set(h,Um(w,Lc));const E=a.providers;if(null!=E&&!b){const L=n;yi(E,$=>this.processProvider($,L,E))}return void 0!==c&&void 0!==n.providers}processProvider(n,e,i){let a=Sd(n=wt(n))?n:wt(n&&n.provide);const c=function(t,n,e){return p1(t)?Um(void 0,t.useValue):Um(Eb(t),Lc)}(n);if(Sd(n)||!0!==n.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Um(void 0,Lc,!0),h.factory=()=>kh(h.multi),this.records.set(a,h)),a=n,h.multi.push(n)}this.records.set(a,c)}hydrate(n,e){return e.value===Lc&&(e.value=Ag,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=wt(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Tb(t){const n=Lt(t),e=null!==n?n.factory:ls(t);if(null!==e)return e;if(t instanceof Ve)throw new Error(`Token ${tn(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const i=er(n,"?");throw new Error(`Can't resolve all parameters for ${tn(t)}: (${i.join(", ")}).`)}const e=function(t){const n=t&&(t[Qn]||t[cc]);if(n){const e=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Error("unreachable")}function Eb(t,n,e){let i;if(Sd(t)){const a=wt(t);return ls(a)||Tb(a)}if(p1(t))i=()=>wt(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...kh(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Ne(wt(t.useExisting));else{const a=wt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ls(a)||Tb(a);i=()=>new a(...kh(t.deps))}return i}function Um(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function p1(t){return null!==t&&"object"==typeof t&&Mp in t}function Sd(t){return"function"==typeof t}const Ab=function(t,n,e){return function(t,n=null,e=null,i){const a=u1(t,n,e,i);return a._resolveInjectorDefTypes(),a}({name:e},n,t,e)};let Xn=(()=>{class t{static create(e,i){return Array.isArray(e)?Ab(e,i,""):Ab(e.providers,e.parent,e.name||"")}}return t.THROW_IF_NOT_FOUND=Cp,t.NULL=new c1,t.\u0275prov=$t({token:t,providedIn:"any",factory:()=>Ne(Dd)}),t.__NG_ELEMENT_ID__=-1,t})();function E1(t,n){cd(ng(t)[1],ja())}function yn(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let a;if(Eo(t))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");a=n.\u0275dir}if(a){if(e){i.push(a);const h=t;h.inputs=Fg(t.inputs),h.declaredInputs=Fg(t.declaredInputs),h.outputs=Fg(t.outputs);const b=a.hostBindings;b&&e3(t,b);const w=a.viewQuery,E=a.contentQueries;if(w&&Qw(t,w),E&&S1(t,E),Qr(t.inputs,a.inputs),Qr(t.declaredInputs,a.declaredInputs),Qr(t.outputs,a.outputs),Eo(a)&&a.data.animation){const L=t.data;L.animation=(L.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let h=0;h<c.length;h++){const b=c[h];b&&b.ngInherit&&b(t),b===yn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const a=t[i];a.hostVars=n+=a.hostVars,a.hostAttrs=md(a.hostAttrs,e=md(e,a.hostAttrs))}}(i)}function Fg(t){return t===cl?{}:t===$i?[]:t}function Qw(t,n){const e=t.viewQuery;t.viewQuery=e?(i,a)=>{n(i,a),e(i,a)}:n}function S1(t,n){const e=t.contentQueries;t.contentQueries=e?(i,a,c)=>{n(i,a,c),e(i,a,c)}:n}function e3(t,n){const e=t.hostBindings;t.hostBindings=e?(i,a)=>{n(i,a),e(i,a)}:n}let o=null;function r(){if(!o){const t=Ri.Symbol;if(t&&t.iterator)o=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(o=i)}}}return o}class d{constructor(n){this.wrapped=n}static wrap(n){return new d(n)}static unwrap(n){return d.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof d}}function m(t){return!!v(t)&&(Array.isArray(t)||!(t instanceof Map)&&r()in t)}function v(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function M(t,n,e){return t[n]=e}function A(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function P(t,n,e,i){const a=A(t,n,e);return A(t,n+1,i)||a}function j(t,n,e,i){const a=vt();return A(a,bl(),n)&&(Fi(),jr(kt(),a,t,n,e,i)),j}function ae(t,n,e,i){return A(t,bl(),e)?n+le(e)+i:Di}function ge(t,n,e,i,a,c){const b=P(t,ta(),e,a);return As(2),b?n+le(e)+i+le(a)+c:Di}function Ge(t,n,e,i,a,c){const h=vt(),b=ae(h,n,e,i);return b!==Di&&jr(kt(),h,t,b,a,c),Ge}function Q(t,n,e,i,a,c,h,b){const w=vt(),E=Fi(),L=t+20,$=E.firstCreatePass?function(t,n,e,i,a,c,h,b,w){const E=n.consts,L=zh(n,t,4,h||null,Is(E,b));Cg(n,e,L,Is(E,w)),cd(n,L);const $=L.tViews=Qp(2,L,i,a,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,E);return null!==n.queries&&(n.queries.template(n,L),$.queries=n.queries.embeddedTView(L)),L}(L,E,w,n,e,i,a,c,h):E.data[L];vr($,!1);const K=w[11].createComment("");jp(E,w,K,$),Lo(K,w),Hh(w,w[L]=Jl(K,w,K,$)),Ss($)&&vg(E,w,$),null!=h&&Jp(w,$,b)}function Ft(t){return fl(ei.lFrame.contextLView,20+t)}function he(t,n=kn.Default){const e=vt();return null===e?Ne(t,n):V(ja(),e,wt(t),n)}function B(t,n,e){const i=vt();return A(i,bl(),n)&&lo(Fi(),kt(),i,t,n,i[11],e,!1),B}function n3(t,n,e,i,a){const h=a?"class":"style";Td(t,e,n.inputs[h],h,i)}function R(t,n,e,i){const a=vt(),c=Fi(),h=20+t,b=a[11],w=a[h]=q_(b,n,ei.lFrame.currentNamespace),E=c.firstCreatePass?function(t,n,e,i,a,c,h){const b=n.consts,E=zh(n,t,2,a,Is(b,c));return Cg(n,e,E,Is(b,h)),null!==E.attrs&&Ou(E,E.attrs,!1),null!==E.mergedAttrs&&Ou(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(h,c,a,0,n,e,i):c.data[h];vr(E,!0);const L=E.mergedAttrs;null!==L&&jl(b,w,L);const $=E.classes;null!==$&&Fm(b,w,$);const K=E.styles;null!==K&&tb(b,w,K),64!=(64&E.flags)&&jp(c,a,w,E),0===ei.lFrame.elementDepthCount&&Lo(w,a),ei.lFrame.elementDepthCount++,Ss(E)&&(vg(c,a,E),pb(c,E,a)),null!==i&&Jp(a,E)}function z(){let t=ja();ru()?ou():(t=t.parent,vr(t,!1));const n=t;ei.lFrame.elementDepthCount--;const e=Fi();e.firstCreatePass&&(cd(e,t),mc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&n3(e,n,vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&n3(e,n,vt(),n.stylesWithoutHost,!1)}function Se(t,n,e,i){R(t,n,e,i),z()}function zt(t,n,e){const i=vt(),a=Fi(),c=t+20,h=a.firstCreatePass?function(t,n,e,i,a){const c=n.consts,h=Is(c,i),b=zh(n,t,8,"ng-container",h);return null!==h&&Ou(b,h,!0),Cg(n,e,b,Is(c,a)),null!==n.queries&&n.queries.elementStart(n,b),b}(c,a,i,n,e):a.data[c];vr(h,!0);const b=i[c]=i[11].createComment("");jp(a,i,b,h),Lo(b,i),Ss(h)&&(vg(a,i,h),pb(a,h,i)),null!=e&&Jp(i,h)}function Nt(){let t=ja();const n=Fi();ru()?ou():(t=t.parent,vr(t,!1)),n.firstCreatePass&&(cd(n,t),mc(t)&&n.queries.elementEnd(t))}function Dl(t,n,e){zt(t,n,e),Nt()}function Cn(){return vt()}function F1(t){return!!t&&"function"==typeof t.then}function Jk(t){return!!t&&"function"==typeof t.subscribe}const i3=Jk;function Ze(t,n,e,i){const a=vt(),c=Fi(),h=ja();return Qk(c,a,a[11],h,t,n,!!e,i),Ze}function a3(t,n){const e=ja(),i=vt(),a=Fi();return Qk(a,i,Au(lu(a.data),e,i),e,t,n,!1),a3}function Qk(t,n,e,i,a,c,h,b){const w=Ss(i),L=t.firstCreatePass&&Cb(t),$=n[8],K=s1(n);let ie=!0;if(3&i.type||b){const Oe=Vr(i,n),Qe=b?b(Oe):Oe,We=K.length,Dt=b?Zt=>b(Wn(Zt[i.index])):i.index;if(_a(e)){let Zt=null;if(!b&&w&&(Zt=function(t,n,e,i){const a=t.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const h=a[c];if(h===e&&a[c+1]===i){const b=n[7],w=a[c+2];return b.length>w?b[w]:null}"string"==typeof h&&(c+=2)}return null}(t,n,a,i.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=c,Zt.__ngLastListenerFn__=c,ie=!1;else{c=r3(i,n,$,c,!1);const Ei=e.listen(Qe,a,c);K.push(c,Ei),L&&L.push(a,Dt,We,We+1)}}else c=r3(i,n,$,c,!0),Qe.addEventListener(a,c,h),K.push(c),L&&L.push(a,Dt,We,h)}else c=r3(i,n,$,c,!1);const pe=i.outputs;let Pe;if(ie&&null!==pe&&(Pe=pe[a])){const Oe=Pe.length;if(Oe)for(let Qe=0;Qe<Oe;Qe+=2){const Ma=n[Pe[Qe]][Pe[Qe+1]].subscribe(c),Va=K.length;K.push(c,Ma),L&&L.push(a,i.index,Va,-(Va+1))}}}function eM(t,n,e,i){try{return!1!==e(i)}catch(a){return l1(t,a),!1}}function r3(t,n,e,i,a){return function c(h){if(h===Function)return i;const b=2&t.flags?yr(t.index,n):n;0==(32&n[2])&&jh(b);let w=eM(n,0,i,h),E=c.__ngNextListenerFn__;for(;E;)w=eM(n,0,E,h)&&w,E=E.__ngNextListenerFn__;return a&&!1===w&&(h.preventDefault(),h.returnValue=!1),w}}function Z(t=1){return function(t){return(ei.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,ei.lFrame.contextLView))[8]}(t)}function aO(t,n){let e=null;const i=function(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let a=0;a<n.length;a++){const c=n[a];if("*"!==c){if(null===i?ib(t,c,!0):Mw(i,c))return a}else e=a}return e}function hr(t){const n=vt()[16][6];if(!n.projection){const i=n.projection=er(t?t.length:1,null),a=i.slice();let c=n.child;for(;null!==c;){const h=t?aO(c,t):0;null!==h&&(a[h]?a[h].projectionNext=c:i[h]=c,a[h]=c),c=c.next}}}function aa(t,n=0,e){const i=vt(),a=Fi(),c=zh(a,20+t,16,null,e||null);null===c.projection&&(c.projection=n),ou(),64!=(64&c.flags)&&function(t,n,e){Fo(n[11],0,n,e,Eu(t,e,n),X_(e.parent||n[6],e,n))}(a,i,c)}function zi(t,n,e){return o3(t,"",n,"",e),zi}function o3(t,n,e,i,a){const c=vt(),h=ae(c,n,e,i);return h!==Di&&lo(Fi(),kt(),c,t,h,c[11],a,!1),o3}function Bg(t,n,e,i,a,c,h){const b=vt(),w=ge(b,n,e,i,a,c);return w!==Di&&lo(Fi(),kt(),b,t,w,b[11],h,!1),Bg}function lM(t,n,e,i,a){const c=t[e+1],h=null===n;let b=i?Rs(c):el(c),w=!1;for(;0!==b&&(!1===w||h);){const L=t[b+1];sO(t[b],n)&&(w=!0,t[b+1]=i?gg(L):ab(L)),b=i?Rs(L):el(L)}w&&(t[e+1]=i?ab(c):gg(c))}function sO(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&vl(t,n)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cM(t){return t.substring(zo.key,zo.keyEnd)}function lO(t){return t.substring(zo.value,zo.valueEnd)}function dM(t,n){const e=zo.textEnd;return e===n?-1:(n=zo.keyEnd=function(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,zo.key=n,e),Vg(t,n,e))}function uM(t,n){const e=zo.textEnd;let i=zo.key=Vg(t,n,e);return e===i?-1:(i=zo.keyEnd=function(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=mM(t,i,e),i=zo.value=Vg(t,i,e),i=zo.valueEnd=function(t,n,e){let i=-1,a=-1,c=-1,h=n,b=h;for(;h<e;){const w=t.charCodeAt(h++);if(59===w)return b;34===w||39===w?b=h=pM(t,w,h,e):n===h-4&&85===c&&82===a&&76===i&&40===w?b=h=pM(t,41,h,e):w>32&&(b=h),c=a,a=i,i=-33&w}return b}(t,i,e),mM(t,i,e))}function hM(t){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=t.length}function Vg(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function mM(t,n,e,i){return(n=Vg(t,n,e))<e&&n++,n}function pM(t,n,e,i){let a=-1,c=e;for(;c<i;){const h=t.charCodeAt(c++);if(h==n&&92!==a)return c;a=92==h&&92===a?0:h}throw new Error}function Ru(t,n,e){return Ld(t,n,e,!1),Ru}function Rn(t,n){return Ld(t,n,null,!0),Rn}function il(t){Pd(_M,pO,t,!1)}function pO(t,n){for(let e=function(t){return hM(t),uM(t,Vg(t,0,zo.textEnd))}(n);e>=0;e=uM(n,e))_M(t,cM(n),lO(n))}function ec(t){Pd(Ir,zu,t,!0)}function zu(t,n){for(let e=function(t){return hM(t),dM(t,Vg(t,0,zo.textEnd))}(n);e>=0;e=dM(n,e))Ir(t,cM(n),!0)}function Ld(t,n,e,i){const a=vt(),c=Fi(),h=As(2);c.firstUpdatePass&&gM(c,t,h,i),n!==Di&&A(a,h,n)&&bM(c,c.data[wa()],a,a[11],t,a[h+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=tn(Wo(t)))),t}(n,e),i,h)}function Pd(t,n,e,i){const a=Fi(),c=As(2);a.firstUpdatePass&&gM(a,null,c,i);const h=vt();if(e!==Di&&A(h,c,e)){const b=a.data[wa()];if(vM(b,i)&&!fM(a,c)){let w=i?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(e=br(w,e||"")),n3(a,b,h,e,i)}else!function(t,n,e,i,a,c,h,b){a===Di&&(a=$i);let w=0,E=0,L=0<a.length?a[0]:null,$=0<c.length?c[0]:null;for(;null!==L||null!==$;){const K=w<a.length?a[w+1]:void 0,ie=E<c.length?c[E+1]:void 0;let Pe,pe=null;L===$?(w+=2,E+=2,K!==ie&&(pe=$,Pe=ie)):null===$||null!==L&&L<$?(w+=2,pe=L):(E+=2,pe=$,Pe=ie),null!==pe&&bM(t,n,e,i,pe,Pe,h,b),L=w<a.length?a[w]:null,$=E<c.length?c[E]:null}}(a,b,h,h[11],h[c+1],h[c+1]=function(t,n,e){if(null==e||""===e)return $i;const i=[],a=Wo(e);if(Array.isArray(a))for(let c=0;c<a.length;c++)t(i,a[c],!0);else if("object"==typeof a)for(const c in a)a.hasOwnProperty(c)&&t(i,c,a[c]);else"string"==typeof a&&n(i,a);return i}(t,n,e),i,c)}}function fM(t,n){return n>=t.expandoStartIndex}function gM(t,n,e,i){const a=t.data;if(null===a[e+1]){const c=a[wa()],h=fM(t,e);vM(c,i)&&null===n&&!h&&(n=!1),n=function(t,n,e,i){const a=lu(t);let c=i?n.residualClasses:n.residualStyles;if(null===a)0===(i?n.classBindings:n.styleBindings)&&(e=$b(e=s3(null,t,n,e,i),n.attrs,i),c=null);else{const h=n.directiveStylingLast;if(-1===h||t[h]!==a)if(e=s3(a,t,n,e,i),null===c){let w=function(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==el(i))return t[Rs(i)]}(t,n,i);void 0!==w&&Array.isArray(w)&&(w=s3(null,t,n,w[1],i),w=$b(w,n.attrs,i),function(t,n,e,i){t[Rs(e?n.classBindings:n.styleBindings)]=i}(t,n,i,w))}else c=function(t,n,e){let i;const a=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<a;c++)i=$b(i,t[c].hostAttrs,e);return $b(i,n.attrs,e)}(t,n,i)}return void 0!==c&&(i?n.residualClasses=c:n.residualStyles=c),e}(a,c,n,i),function(t,n,e,i,a,c){let h=c?n.classBindings:n.styleBindings,b=Rs(h),w=el(h);t[i]=e;let L,E=!1;if(Array.isArray(e)){const $=e;L=$[1],(null===L||vl($,L)>0)&&(E=!0)}else L=e;if(a)if(0!==w){const K=Rs(t[b+1]);t[i+1]=Rm(K,b),0!==K&&(t[K+1]=rb(t[K+1],i)),t[b+1]=function(t,n){return 131071&t|n<<17}(t[b+1],i)}else t[i+1]=Rm(b,0),0!==b&&(t[b+1]=rb(t[b+1],i)),b=i;else t[i+1]=Rm(w,0),0===b?b=i:t[w+1]=rb(t[w+1],i),w=i;E&&(t[i+1]=ab(t[i+1])),lM(t,L,i,!0),lM(t,L,i,!1),function(t,n,e,i,a){const c=a?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&vl(c,n)>=0&&(e[i+1]=gg(e[i+1]))}(n,L,t,i,c),h=Rm(b,w),c?n.classBindings=h:n.styleBindings=h}(a,c,n,e,h,i)}}function s3(t,n,e,i,a){let c=null;const h=e.directiveEnd;let b=e.directiveStylingLast;for(-1===b?b=e.directiveStart:b++;b<h&&(c=n[b],i=$b(i,c.hostAttrs,a),c!==t);)b++;return null!==t&&(e.directiveStylingLast=b),i}function $b(t,n,e){const i=e?1:2;let a=-1;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?a=h:a===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ir(t,h,!!e||n[++c]))}return void 0===t?null:t}function _M(t,n,e){Ir(t,n,Wo(e))}function bM(t,n,e,i,a,c,h,b){if(!(3&n.type))return;const w=t.data,E=w[b+1];R1(function(t){return 1==(1&t)}(E)?yM(w,n,e,a,el(E),h):void 0)||(R1(c)||function(t){return 2==(2&t)}(E)&&(c=yM(w,null,e,a,b,h)),function(t,n,e,i,a){const c=_a(t);if(n)a?c?t.addClass(e,i):e.classList.add(i):c?t.removeClass(e,i):e.classList.remove(i);else{let h=-1===i.indexOf("-")?void 0:Po.DashCase;if(null==a)c?t.removeStyle(e,i,h):e.style.removeProperty(i);else{const b="string"==typeof a&&a.endsWith("!important");b&&(a=a.slice(0,-10),h|=Po.Important),c?t.setStyle(e,i,a,h):e.style.setProperty(i,a,b?"important":"")}}}(i,h,Zs(wa(),e),a,c))}function yM(t,n,e,i,a,c){const h=null===n;let b;for(;a>0;){const w=t[a],E=Array.isArray(w),L=E?w[1]:w,$=null===L;let K=e[a+1];K===Di&&(K=$?$i:void 0);let ie=$?yl(K,i):L===i?K:void 0;if(E&&!R1(ie)&&(ie=yl(w,i)),R1(ie)&&(b=ie,h))return b;const pe=t[a+1];a=h?Rs(pe):el(pe)}if(null!==n){let w=c?n.residualClasses:n.residualStyles;null!=w&&(b=yl(w,i))}return b}function R1(t){return void 0!==t}function vM(t,n){return 0!=(t.flags&(n?16:32))}function ot(t,n=""){const e=vt(),i=Fi(),a=t+20,c=i.firstCreatePass?zh(i,a,1,n,null):i.data[a],h=e[a]=function(t,n){return _a(t)?t.createText(n):t.createTextNode(n)}(e[11],n);jp(i,e,h,c),vr(c,!1)}function Kn(t){return vn("",t,""),Kn}function vn(t,n,e){const i=vt(),a=ae(i,t,n,e);return a!==Di&&Ed(i,wa(),a),vn}function Yh(t,n,e,i,a){const c=vt(),h=ge(c,t,n,e,i,a);return h!==Di&&Ed(c,wa(),h),Yh}function Fd(t,n,e){Pd(Ir,zu,ae(vt(),t,n,e),!0)}function qh(t,n,e){const i=vt();return A(i,bl(),n)&&lo(Fi(),kt(),i,t,n,i[11],e,!0),qh}function l3(t,n,e){const i=vt();if(A(i,bl(),n)){const c=Fi(),h=kt();lo(c,h,i,t,n,Au(lu(c.data),h,i),e,!0)}return l3}const pf=void 0;var BO=["en",[["a","p"],["AM","PM"],pf],[["AM","PM"],pf,pf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pf,"{1} 'at' {0}",pf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===e?1:5}];let Hg={};function BM(t){return t in Hg||(Hg[t]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[t]),Hg[t]}var xn=(()=>((xn=xn||{})[xn.LocaleId=0]="LocaleId",xn[xn.DayPeriodsFormat=1]="DayPeriodsFormat",xn[xn.DayPeriodsStandalone=2]="DayPeriodsStandalone",xn[xn.DaysFormat=3]="DaysFormat",xn[xn.DaysStandalone=4]="DaysStandalone",xn[xn.MonthsFormat=5]="MonthsFormat",xn[xn.MonthsStandalone=6]="MonthsStandalone",xn[xn.Eras=7]="Eras",xn[xn.FirstDayOfWeek=8]="FirstDayOfWeek",xn[xn.WeekendRange=9]="WeekendRange",xn[xn.DateFormat=10]="DateFormat",xn[xn.TimeFormat=11]="TimeFormat",xn[xn.DateTimeFormat=12]="DateTimeFormat",xn[xn.NumberSymbols=13]="NumberSymbols",xn[xn.NumberFormats=14]="NumberFormats",xn[xn.CurrencyCode=15]="CurrencyCode",xn[xn.CurrencySymbol=16]="CurrencySymbol",xn[xn.CurrencyName=17]="CurrencyName",xn[xn.Currencies=18]="Currencies",xn[xn.Directionality=19]="Directionality",xn[xn.PluralCase=20]="PluralCase",xn[xn.ExtraData=21]="ExtraData",xn))();const z1="en-US";let VM=z1;function c3(t){Li(t,"Expected localeId to be defined"),"string"==typeof t&&(VM=t.toLowerCase().replace(/_/g,"-"))}function h3(t,n,e,i,a){if(t=wt(t),Array.isArray(t))for(let c=0;c<t.length;c++)h3(t[c],n,e,i,a);else{const c=Fi(),h=vt();let b=Sd(t)?t:wt(t.provide),w=Eb(t);const E=ja(),L=1048575&E.providerIndexes,$=E.directiveStart,K=E.providerIndexes>>20;if(Sd(t)||!t.multi){const ie=new fs(w,a,he),pe=p3(b,n,a?L:L+K,$);-1===pe?(C(l(E,h),c,b),m3(c,t,n.length),n.push(b),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),e.push(ie),h.push(ie)):(e[pe]=ie,h[pe]=ie)}else{const ie=p3(b,n,L+K,$),pe=p3(b,n,L,L+K),Pe=ie>=0&&e[ie],Oe=pe>=0&&e[pe];if(a&&!Oe||!a&&!Pe){C(l(E,h),c,b);const Qe=function(t,n,e,i,a){const c=new fs(t,e,he);return c.multi=[],c.index=n,c.componentProviders=0,dT(c,a,i&&!e),c}(a?RL:FL,e.length,a,i,w);!a&&Oe&&(e[pe].providerFactory=Qe),m3(c,t,n.length,0),n.push(b),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),e.push(Qe),h.push(Qe)}else m3(c,t,ie>-1?ie:pe,dT(e[a?pe:ie],w,!a&&i));!a&&i&&Oe&&e[pe].componentProviders++}}}function m3(t,n,e,i){const a=Sd(n);if(a||function(t){return!!t.useClass}(n)){const h=(n.useClass||n).prototype.ngOnDestroy;if(h){const b=t.destroyHooks||(t.destroyHooks=[]);if(!a&&n.multi){const w=b.indexOf(e);-1===w?b.push(e,[i,h]):b[w+1].push(i,h)}else b.push(e,h)}}}function dT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function p3(t,n,e,i){for(let a=e;a<i;a++)if(n[a]===t)return a;return-1}function FL(t,n,e,i){return f3(this.multi,[])}function RL(t,n,e,i){const a=this.multi;let c;if(this.providerFactory){const h=this.providerFactory.componentProviders,b=se(e,e[1],this.providerFactory.index,i);c=b.slice(0,h),f3(a,c);for(let w=h;w<b.length;w++)c.push(b[w])}else c=[],f3(a,c);return c}function f3(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function gi(t,n=[]){return e=>{e.providersResolver=(i,a)=>function(t,n,e){const i=Fi();if(i.firstCreatePass){const a=Eo(t);h3(e,i.data,i.blueprint,a,!0),h3(n,i.data,i.blueprint,a,!1)}}(i,a?a(t):t,n)}}class uT{}const mT="ngComponent";class BL{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${tn(t)}. Did you add it to @NgModule.entryComponents?`);return n[mT]=t,n}(n)}}let Nu=(()=>{class t{}return t.NULL=new BL,t})();function j1(...t){}function Ug(t,n){return new Hn(Vr(t,n))}const jL=function(){return Ug(ja(),vt())};let Hn=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=jL,t})();function pT(t){return t instanceof Hn?t.nativeElement:t}class ff{}let gf=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>GL(),t})();const GL=function(){const t=vt(),e=yr(ja().index,t);return function(t){return t[11]}(Mo(e)?e:t)};let _3=(()=>{class t{}return t.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null}),t})();class qm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const fT=new qm("12.2.16");class gT{constructor(){}supports(n){return m(n)}create(n){return new WL(n)}}const qL=(t,n)=>n;class WL{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qL}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,a=0,c=null;for(;e||i;){const h=!i||e&&e.currentIndex<bT(i,a,c)?e:i,b=bT(h,a,c),w=h.currentIndex;if(h===i)a--,i=i._nextRemoved;else if(e=e._next,null==h.previousIndex)a++;else{c||(c=[]);const E=b-a,L=w-a;if(E!=L){for(let K=0;K<E;K++){const ie=K<c.length?c[K]:c[K]=0,pe=ie+K;L<=pe&&pe<E&&(c[K]=ie+1)}c[h.previousIndex]=L-E}}b!==w&&n(h,b,w)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!m(n))throw new Error(`Error trying to diff '${tn(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,c,h,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)c=n[b],h=this._trackByFn(b,c),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,c,h,b)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,h,b),i=!0),e=e._next}else a=0,function(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[r()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,b=>{h=this._trackByFn(a,b),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,b,h,a)),Object.is(e.item,b)||this._addIdentityChange(e,b)):(e=this._mismatch(e,b,h,a),i=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,a){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,c,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,c,a)):n=this._addAfter(new ZL(e,i),c,a),n}_verifyReinsertion(n,e,i,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==c?n=this._reinsertAfter(c,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,c=n._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const a=null===e?this._itHead:e._next;return n._next=a,n._prev=e,null===a?this._itTail=n:a._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ZL{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XL{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class _T{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new XL,this.map.set(e,i)),i.add(n)}get(n,e){const a=this.map.get(n);return a?a.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bT(t,n,e){const i=t.previousIndex;if(null===i)return i;let a=0;return e&&i<e.length&&(a=e[i]),i+n+a}class yT{constructor(){}supports(n){return n instanceof Map||v(n)}create(){return new KL}}class KL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||v(n)))throw new Error(`Error trying to diff '${tn(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,a)=>{if(e&&e.key===a)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const c=this._getOrCreateRecordForKey(a,i);e=this._insertBeforeOrAppend(e,c)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,e);const c=a._prev,h=a._next;return c&&(c._next=h),h&&(h._prev=c),a._next=null,a._prev=null,a}const i=new JL(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class JL{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vT(){return new Gg([new gT])}let Gg=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const a=i.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||vT()),deps:[[t,new qo,new Hr]]}}find(e){const i=this.factories.find(a=>a.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'`)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:vT}),t})();function xT(){return new $g([new yT])}let $g=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const a=i.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||xT()),deps:[[t,new qo,new Hr]]}}find(e){const i=this.factories.find(a=>a.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:xT}),t})();function U1(t,n,e,i,a=!1){for(;null!==e;){const c=n[e.index];if(null!==c&&i.push(Wn(c)),To(c))for(let b=10;b<c.length;b++){const w=c[b],E=w[1].firstChild;null!==E&&U1(w[1],w,E,i)}const h=e.type;if(8&h)U1(t,n,e.child,i);else if(32&h){const b=dg(e,n);let w;for(;w=b();)i.push(w)}else if(16&h){const b=Q_(n,e);if(Array.isArray(b))i.push(...b);else{const w=Lh(n[16]);U1(w[1],w,b,i,!0)}}e=a?e.projectionNext:e.next}return i}class Xb{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return U1(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(To(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(W_(n,i),Ti(e,i))}this._attachedToViewContainer=!1}Z_(this._lView[1],this._lView)}onDestroy(n){Jy(this._lView[1],this._lView,null,n)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Uh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,e){hs(!0);try{Uh(t,n,e)}finally{hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,n){Du(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class eP extends Xb{constructor(n){super(n),this._view=n}detectChanges(){Dg(this._view)}checkNoChanges(){!function(t){hs(!0);try{Dg(t)}finally{hs(!1)}}(this._view)}get context(){return null}}const nP=function(t){return function(t,n,e){if(Fl(t)&&!e){const i=yr(t.index,n);return new Xb(i,i)}return 47&t.type?new Xb(n[16],n):null}(ja(),vt(),16==(16&t))};let wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=nP,t})();const rP=[new yT],sP=new Gg([new gT]),lP=new $g(rP),dP=function(){return G1(ja(),vt())};let Sl=(()=>{class t{}return t.__NG_ELEMENT_ID__=dP,t})();const uP=Sl,hP=class extends uP{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=Nm(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(i[19]=c.createEmbeddedView(e)),Kp(e,i,n),new Xb(i)}};function G1(t,n){return 4&t.type?new hP(n,t,Ug(t,n)):null}class _f{}const gP=function(){return kT(ja(),vt())};let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=gP,t})();const bP=xs,wT=class extends bP{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Ug(this._hostTNode,this._hostLView)}get injector(){return new fe(this._hostTNode,this._hostLView)}get parentInjector(){const n=x(this._hostTNode,this._hostLView);if(fu(n)){const e=Xs(n,this._hostLView),i=Ai(n);return new fe(e[1].data[i+8],e)}return new fe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=CT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const a=n.createEmbeddedView(e||{});return this.insert(a,i),a}createComponent(n,e,i,a,c){const h=i||this.parentInjector;if(!c&&null==n.ngModule&&h){const w=h.get(_f,null);w&&(c=w)}const b=n.create(h,a,void 0,c);return this.insert(b.hostView,e),b}insert(n,e){const i=n._lView,a=i[1];if(function(t){return To(t[3])}(i)){const L=this.indexOf(n);if(-1!==L)this.detach(L);else{const $=i[3],K=new wT($,$[6],$[3]);K.detach(K.indexOf(n))}}const c=this._adjustIndex(e),h=this._lContainer;!function(t,n,e,i){const a=10+i,c=e.length;i>0&&(e[a-1][4]=n),i<c-10?(n[4]=e[a],ba(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const h=n[17];null!==h&&e!==h&&function(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(h,n);const b=n[19];null!==b&&b.insertView(t),n[2]|=128}(a,i,h,c);const b=eb(c,h),w=i[11],E=Vp(w,h[7]);return null!==E&&function(t,n,e,i,a,c){i[0]=a,i[6]=n,Du(t,i,e,1,a,c)}(a,h[6],w,i,E,b),n.attachToViewContainerRef(),ba(b3(h),c,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=CT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=W_(this._lContainer,e);i&&(Ti(b3(this._lContainer),e),Z_(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=W_(this._lContainer,e);return i&&null!=Ti(b3(this._lContainer),e)?new Xb(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function CT(t){return t[8]}function b3(t){return t[8]||(t[8]=[])}function kT(t,n){let e;const i=n[t.index];if(To(i))e=i;else{let a;if(8&t.type)a=Wn(i);else{const c=n[11];a=c.createComment("");const h=Vr(t,n);Fh(c,Vp(c,h),a,function(t,n){return _a(t)?t.nextSibling(n):n.nextSibling}(c,h),!1)}n[t.index]=e=Jl(i,n,a,t),Hh(n,e)}return new wT(e,t,n)}const Zg={};class GT extends Nu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Sr(n);return new YT(e,this.ngModule)}}function $T(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}const pF=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ey});class YT extends uT{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function(t){return t.map(Tw).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $T(this.componentDef.inputs)}get outputs(){return $T(this.componentDef.outputs)}create(n,e,i,a){const c=(a=a||this.ngModule)?function(t,n){return{get:(e,i,a)=>{const c=t.get(e,Zg,a);return c!==Zg||i===Zg?c:n.get(e,i,a)}}}(n,a.injector):n,h=c.get(ff,So),b=c.get(_3,null),w=h.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",L=i?function(t,n,e){if(_a(t))return t.selectRootElement(n,e===ea.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(w,i,this.componentDef.encapsulation):q_(h.createRenderer(null,this.componentDef),E,function(t){const n=t.toLowerCase();return"svg"===n?tu:"math"===n?"http://www.w3.org/1998/MathML/":null}(E)),$=this.componentDef.onPush?576:528,K=function(t,n){return{components:[],scheduler:t||Ey,clean:$w,playerHandler:n||null,flags:0}}(),ie=Qp(0,null,null,1,0,null,null,null,null,null),pe=Nm(null,ie,K,$,null,null,h,w,b,c);let Pe,Oe;sr(pe);try{const Qe=function(t,n,e,i,a,c){const h=e[1];e[20]=t;const w=zh(h,20,2,"#host",null),E=w.mergedAttrs=n.hostAttrs;null!==E&&(Ou(w,E,!0),null!==t&&(jl(a,t,E),null!==w.classes&&Fm(a,t,w.classes),null!==w.styles&&tb(a,t,w.styles)));const L=i.createRenderer(t,n),$=Nm(e,Bh(n),null,n.onPush?64:16,e[20],w,i,L,c||null,null);return h.firstCreatePass&&(C(l(w,e),h,n.type),vb(h,w),Mg(w,e.length,1)),Hh(e,$),e[20]=$}(L,this.componentDef,pe,h,w);if(L)if(i)jl(w,L,["ng-version",fT.full]);else{const{attrs:We,classes:Dt}=function(t){const n=[],e=[];let i=1,a=2;for(;i<t.length;){let c=t[i];if("string"==typeof c)2===a?""!==c&&n.push(c,t[++i]):8===a&&e.push(c);else{if(!Fs(a))break;a=c}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);We&&jl(w,L,We),Dt&&Dt.length>0&&Fm(w,L,Dt.join(" "))}if(Oe=cs(ie,20),void 0!==e){const We=Oe.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Zt=e[Dt];We.push(null!=Zt?Array.from(Zt):null)}}Pe=function(t,n,e,i,a){const c=e[1],h=function(t,n,e){const i=ja();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Vh(t,i,n,Bm(t,n,1,null),e));const a=se(n,t,i.directiveStart,i);Lo(a,n);const c=Vr(i,n);return c&&Lo(c,n),a}(c,e,n);if(i.components.push(h),t[8]=h,a&&a.forEach(w=>w(h,n)),n.contentQueries){const w=ja();n.contentQueries(1,h,w.directiveStart)}const b=ja();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ms(b.index),bb(e[1],b,0,b.directiveStart,b.directiveEnd,n),e1(n,h)),h}(Qe,this.componentDef,pe,K,[E1]),Kp(ie,pe,null)}finally{Yo()}return new _F(this.componentType,Pe,Ug(Oe,pe),pe,Oe)}}class _F extends class{}{constructor(n,e,i,a,c){super(),this.location=i,this._rootLView=a,this._tNode=c,this.instance=e,this.hostView=this.changeDetectorRef=new eP(a),this.componentType=n}get injector(){return new fe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Xg=new Map;class vF extends _f{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new GT(this);const i=ao(n),a=function(t){return t[Xc]||null}(n);a&&c3(a),this._bootstrapComponents=ca(i.bootstrap),this._r3Injector=u1(n,e,[{provide:_f,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],tn(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Xn.THROW_IF_NOT_FOUND,i=kn.Default){return n===Xn||n===_f||n===Dd?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class A3 extends class{}{constructor(n){super(),this.moduleType=n,null!==ao(n)&&function(t){const n=new Set;!function e(i){const a=ao(i,!0),c=a.id;null!==c&&(function(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${tn(n)} vs ${tn(n.name)}`)}(c,Xg.get(c),i),Xg.set(c,i));const h=ca(a.imports);for(const b of h)n.has(b)||(n.add(b),e(b))}(t)}(n)}create(n){return new vF(this.moduleType,n)}}function Bu(t,n,e){const i=or()+t,a=vt();return a[i]===Di?M(a,i,e?n.call(e):n()):function(t,n){return t[n]}(a,i)}function Ga(t,n,e,i){return ZT(vt(),or(),t,n,e,i)}function Cr(t,n,e,i,a){return XT(vt(),or(),t,n,e,i,a)}function Wh(t,n,e,i,a,c){return KT(vt(),or(),t,n,e,i,a,c)}function Z1(t,n,e,i,a,c,h){return function(t,n,e,i,a,c,h,b,w){const E=n+e;return function(t,n,e,i,a,c){const h=P(t,n,e,i);return P(t,n+2,a,c)||h}(t,E,a,c,h,b)?M(t,E+4,w?i.call(w,a,c,h,b):i(a,c,h,b)):r0(t,E+4)}(vt(),or(),t,n,e,i,a,c,h)}function X1(t,n,e,i){return function(t,n,e,i,a,c){let h=n+e,b=!1;for(let w=0;w<a.length;w++)A(t,h++,a[w])&&(b=!0);return b?M(t,h,i.apply(c,a)):r0(t,h)}(vt(),or(),t,n,e,i)}function r0(t,n){const e=t[n];return e===Di?void 0:e}function ZT(t,n,e,i,a,c){const h=n+e;return A(t,h,a)?M(t,h+1,c?i.call(c,a):i(a)):r0(t,h+1)}function XT(t,n,e,i,a,c,h){const b=n+e;return P(t,b,a,c)?M(t,b+2,h?i.call(h,a,c):i(a,c)):r0(t,b+2)}function KT(t,n,e,i,a,c,h,b){const w=n+e;return function(t,n,e,i,a){const c=P(t,n,e,i);return A(t,n+2,a)||c}(t,w,a,c,h)?M(t,w+3,b?i.call(b,a,c,h):i(a,c,h)):r0(t,w+3)}function Vu(t,n){const e=Fi();let i;const a=t+20;e.firstCreatePass?(i=function(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}throw new Y("302",`The pipe '${t}' could not be found!`)}(n,e.pipeRegistry),e.data[a]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(a,i.onDestroy)):i=e.data[a];const c=i.factory||(i.factory=ls(i.type)),h=eo(he);try{const b=Gl(!1),w=c();return Gl(b),function(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,vt(),a,w),w}finally{eo(h)}}function o0(t,n,e){const i=t+20,a=vt(),c=fl(a,i);return l0(a,s0(a,i)?ZT(a,or(),n,c.transform,e,c):c.transform(e))}function K1(t,n,e,i){const a=t+20,c=vt(),h=fl(c,a);return l0(c,s0(c,a)?XT(c,or(),n,h.transform,e,i,h):h.transform(e,i))}function O3(t,n,e,i,a){const c=t+20,h=vt(),b=fl(h,c);return l0(h,s0(h,c)?KT(h,or(),n,b.transform,e,i,a,b):b.transform(e,i,a))}function s0(t,n){return t[1].data[n].pure}function l0(t,n){return d.isWrapped(n)&&(n=d.unwrap(n),t[ta()]=Di),n}function L3(t){return n=>{setTimeout(t,void 0,n)}}const Et=class extends on{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var a,c,h;let b=n,w=e||(()=>null),E=i;if(n&&"object"==typeof n){const $=n;b=null===(a=$.next)||void 0===a?void 0:a.bind($),w=null===(c=$.error)||void 0===c?void 0:c.bind($),E=null===(h=$.complete)||void 0===h?void 0:h.bind($)}this.__isAsync&&(w=L3(w),b&&(b=L3(b)),E&&(E=L3(E)));const L=super.subscribe({next:b,error:w,complete:E});return n instanceof Bt&&n.add(L),L}};function SF(){return this._results[r()]()}class Kg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=r(),i=Kg.prototype;i[e]||(i[e]=SF)}get changes(){return this._changes||(this._changes=new Et)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const a=qt(n);(this._changesDetected=!function(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let a=t[i],c=n[i];if(e&&(a=e(a),c=e(c)),c!==a)return!1}return!0}(i._results,a,e))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class P3{constructor(n){this.queryList=n,this.matches=null}clone(){return new P3(this.queryList)}setDirty(){this.queryList.setDirty()}}class F3{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,a=[];for(let c=0;c<i;c++){const h=e.getByIndex(c);a.push(this.queries[h.indexInDeclarationView].clone())}return new F3(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==aE(n,e).matches&&this.queries[e].setDirty()}}class eE{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class R3{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const a=null!==e?e.length:0,c=this.getByIndex(i).embeddedTView(n,a);c&&(c.indexInDeclarationView=i,null!==e?e.push(c):e=[c])}return null!==e?new R3(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class z3{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new z3(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const c=i[a];this.matchTNodeWithReadOption(n,e,OF(e,c)),this.matchTNodeWithReadOption(n,e,me(e,n,c,!1,!1))}else i===Sl?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,me(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===Hn||a===xs||a===Sl&&4&e.type)this.addMatch(e.index,-2);else{const c=me(e,n,a,!1,!1);null!==c&&this.addMatch(e.index,c)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function OF(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function PF(t,n,e,i){return-1===e?function(t,n){return 11&t.type?Ug(t,n):4&t.type?G1(t,n):null}(n,t):-2===e?function(t,n,e){return e===Hn?Ug(n,t):e===Sl?G1(n,t):e===xs?kT(n,t):void 0}(t,n,i):se(t,t[1],e,n)}function tE(t,n,e,i){const a=n[19].queries[i];if(null===a.matches){const c=t.data,h=e.matches,b=[];for(let w=0;w<h.length;w+=2){const E=h[w];b.push(E<0?null:PF(n,c[E],h[w+1],e.metadata.read))}a.matches=b}return a.matches}function N3(t,n,e,i){const a=t.queries.getByIndex(e),c=a.matches;if(null!==c){const h=tE(t,n,a,e);for(let b=0;b<c.length;b+=2){const w=c[b];if(w>0)i.push(h[b/2]);else{const E=c[b+1],L=n[-w];for(let $=10;$<L.length;$++){const K=L[$];K[17]===K[3]&&N3(K[1],K,E,i)}if(null!==L[9]){const $=L[9];for(let K=0;K<$.length;K++){const ie=$[K];N3(ie[1],ie,E,i)}}}}}return i}function Xt(t){const n=vt(),e=Fi(),i=_h();wc(i+1);const a=aE(e,i);if(t.dirty&&iu(n)===(2==(2&a.metadata.flags))){if(null===a.matches)t.reset([]);else{const c=a.crossesNgTemplate?N3(e,n,i,[]):tE(e,n,a,i);t.reset(c,pT),t.notifyOnChanges()}return!0}return!1}function En(t,n,e){const i=Fi();i.firstCreatePass&&(iE(i,new eE(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),nE(i,vt(),n)}function No(t,n,e,i){const a=Fi();if(a.firstCreatePass){const c=ja();iE(a,new eE(n,e,i),c.index),function(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(a,t),2==(2&e)&&(a.staticContentQueries=!0)}nE(a,vt(),e)}function Kt(){return function(t,n){return t[19].queries[n].queryList}(vt(),_h())}function nE(t,n,e){const i=new Kg(4==(4&e));Jy(t,n,i,i.destroy),null===n[19]&&(n[19]=new F3),n[19].queries.push(new P3(i))}function iE(t,n,e){null===t.queries&&(t.queries=new R3),t.queries.track(new z3(n,e))}function aE(t,n){return t.queries.getByIndex(n)}function Hs(t,n){return G1(t,n)}const ev=new Ve("Application Initializer");let Qg=(()=>{class t{constructor(e){this.appInits=e,this.resolve=j1,this.reject=j1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(F1(c))e.push(c);else if(i3(c)){const h=new Promise((b,w)=>{c.subscribe({complete:b,error:w})});e.push(h)}}Promise.all(e).then(()=>{i()}).catch(a=>{this.reject(a)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ne(ev,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const d0=new Ve("AppId"),dR={provide:d0,useFactory:function(){return`${G3()}${G3()}${G3()}`},deps:[]};function G3(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wE=new Ve("Platform Initializer"),e_=new Ve("Platform ID"),uR=new Ve("appBootstrapListener");let $3=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const Zh=new Ve("LocaleId"),CE=new Ve("DefaultCurrencyCode");class mR{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}const Y3=function(t){return new A3(t)},pR=Y3,fR=function(t){return Promise.resolve(Y3(t))},kE=function(t){const n=Y3(t),i=ca(ao(t).declarations).reduce((a,c)=>{const h=Sr(c);return h&&a.push(new YT(h)),a},[]);return new mR(n,i)},gR=kE,_R=function(t){return Promise.resolve(kE(t))};let nv=(()=>{class t{constructor(){this.compileModuleSync=pR,this.compileModuleAsync=fR,this.compileModuleAndAllComponentsSync=gR,this.compileModuleAndAllComponentsAsync=_R}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const vR=(()=>Promise.resolve(0))();function q3(t){"undefined"==typeof Zone?vR.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class mi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Et(!1),this.onMicrotaskEmpty=new Et(!1),this.onStable=new Et(!1),this.onError=new Et(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&e,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function(){let t=Ri.requestAnimationFrame,n=Ri.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ri,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Z3(t),t.isCheckStableRunning=!0,W3(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Z3(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,a,c,h,b)=>{try{return ME(t),e.invokeTask(a,c,h,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),TE(t)}},onInvoke:(e,i,a,c,h,b,w)=>{try{return ME(t),e.invoke(a,c,h,b,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),TE(t)}},onHasTask:(e,i,a,c)=>{e.hasTask(a,c),i===a&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,Z3(t),W3(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(e,i,a,c)=>(e.handleError(a,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,a){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+a,n,wR,j1,j1);try{return c.runTask(h,e,i)}finally{c.cancelTask(h)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const wR={};function W3(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Z3(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ME(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TE(t){t._nesting--,W3(t)}class MR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Et,this.onMicrotaskEmpty=new Et,this.onStable=new Et,this.onError=new Et}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,a){return n.apply(e,i)}}let X3=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),q3(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q3(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,a){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:c,updateCb:a})}whenStable(e,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,a){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ne(mi))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),EE=(()=>{class t{constructor(){this._applications=new Map,K3.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return K3.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class TR{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let K3=new TR,DE=!0,SE=!1;function J3(){return SE=!0,DE}let Nd;const IE=new Ve("AllowMultipleToken");function AE(t,n,e=[]){const i=`Platform: ${n}`,a=new Ve(i);return(c=[])=>{let h=OE();if(!h||h.injector.get(IE,!1))if(t)t(e.concat(c).concat({provide:a,useValue:!0}));else{const b=e.concat(c).concat({provide:a,useValue:!0},{provide:of,useValue:"platform"});!function(t){if(Nd&&!Nd.destroyed&&!Nd.injector.get(IE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nd=t.get(LE);const n=t.get(wE,null);n&&n.forEach(e=>e())}(Xn.create({providers:b,name:i}))}return function(t){const n=OE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(a)}}function OE(){return Nd&&!Nd.destroyed?Nd:null}let LE=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const b=function(t,n){let e;return e="noop"===t?new MR:("zone.js"===t?void 0:t)||new mi({enableLongStackTrace:J3(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),w=[{provide:mi,useValue:b}];return b.run(()=>{const E=Xn.create({providers:w,parent:this.injector,name:e.moduleType.name}),L=e.create(E),$=L.injector.get(Ah,null);if(!$)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const K=b.onError.subscribe({next:ie=>{$.handleError(ie)}});L.onDestroy(()=>{Q3(this._modules,L),K.unsubscribe()})}),function(t,n,e){try{const i=e();return F1(i)?i.catch(a=>{throw n.runOutsideAngular(()=>t.handleError(a)),a}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}($,b,()=>{const K=L.injector.get(Qg);return K.runInitializers(),K.donePromise.then(()=>(c3(L.injector.get(Zh,z1)||z1),this._moduleDoBootstrap(L),L))})})}bootstrapModule(e,i=[]){const a=PE({},i);return function(t,n,e){const i=new A3(e);return Promise.resolve(i)}(0,0,e).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(e){const i=e.injector.get(vf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${tn(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();function PE(t,n){return Array.isArray(n)?n.reduce(PE,t):Object.assign(Object.assign({},t),n)}let vf=(()=>{class t{constructor(e,i,a,c,h){this._zone=e,this._injector=i,this._exceptionHandler=a,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new An(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new An(E=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),q3(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{L.unsubscribe(),$.unsubscribe()}});this.isStable=On(b,w.pipe(t=>fa()(function(t,n){return function(i){let a;a="function"==typeof t?t:function(){return t};const c=Object.create(i,Sa);return c.source=i,c.subjectFactory=a,c}}(Ni)(t))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let a;a=e instanceof uT?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(a.componentType);const c=function(t){return t.isBoundToModule}(a)?void 0:this._injector.get(_f),b=a.create(Xn.NULL,[],i||a.selector,c),w=b.location.nativeElement,E=b.injector.get(X3,null),L=E&&b.injector.get(EE);return E&&L&&L.registerApplication(w,E),b.onDestroy(()=>{this.detachView(b.hostView),Q3(this.components,b),L&&L.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Q3(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uR,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Ne(mi),Ne(Xn),Ne(Ah),Ne(Nu),Ne(Qg))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();function Q3(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const QR=AE(null,"core",[{provide:e_,useValue:"unknown"},{provide:LE,deps:[Xn]},{provide:EE,deps:[]},{provide:$3,deps:[]}]),a6=[{provide:vf,useClass:vf,deps:[mi,Xn,Ah,Nu,Qg]},{provide:pF,deps:[mi],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}},{provide:Qg,useClass:Qg,deps:[[new Hr,ev]]},{provide:nv,useClass:nv,deps:[]},dR,{provide:Gg,useFactory:function(){return sP},deps:[]},{provide:$g,useFactory:function(){return lP},deps:[]},{provide:Zh,useFactory:function(t){return c3(t=t||"undefined"!=typeof $localize&&$localize.locale||z1),t},deps:[[new gs(Zh),new Hr,new qo]]},{provide:CE,useValue:"USD"}];let o6=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Ne(vf))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:a6}),t})(),hv=null;function Hu(){return hv}const di=new Ve("DocumentToken");let f0=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:rz,token:t,providedIn:"platform"}),t})();function rz(){return Ne(lD)}let lD=(()=>{class t extends f0{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hu().getBaseHref(this._doc)}onPopState(e){const i=Hu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Hu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){cD()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){cD()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({factory:oz,token:t,providedIn:"platform"}),t})();function cD(){return!!window.history.pushState}function oz(){return new lD(Ne(di))}function dD(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function uD(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Cf(t){return t&&"?"!==t[0]?"?"+t:t}let f2=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:sz,token:t,providedIn:"root"}),t})();function sz(t){const n=Ne(di).location;return new cz(Ne(f0),n&&n.origin||"")}const lz=new Ve("appBaseHref");let cz=(()=>{class t extends f2{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Cf(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,c){const h=this.prepareExternalUrl(a+Cf(c));this._platformLocation.pushState(e,i,h)}replaceState(e,i,a,c){const h=this.prepareExternalUrl(a+Cf(c));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Ne(f0),Ne(lz,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),hD=(()=>{class t{constructor(e,i){this._subject=new Et,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=uD(mD(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Cf(i))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,mD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cf(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cf(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.\u0275fac=function(e){return new(e||t)(Ne(f2),Ne(f0))},t.normalizeQueryParams=Cf,t.joinWithSlash=dD,t.stripTrailingSlash=uD,t.\u0275prov=$t({factory:dz,token:t,providedIn:"root"}),t})();function dz(){return new hD(Ne(f2),Ne(f0))}function mD(t){return t.replace(/\/index.html$/,"")}var ho=(()=>((ho=ho||{})[ho.Zero=0]="Zero",ho[ho.One=1]="One",ho[ho.Two=2]="Two",ho[ho.Few=3]="Few",ho[ho.Many=4]="Many",ho[ho.Other=5]="Other",ho))();const bz=function(t){return function(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=BM(n);if(e)return e;const i=n.split("-")[0];if(e=BM(i),e)return e;if("en"===i)return BO;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[xn.PluralCase]};class wv{}let qz=(()=>{class t extends wv{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(bz(i||this.locale)(e)){case ho.Zero:return"zero";case ho.One:return"one";case ho.Two:return"two";case ho.Few:return"few";case ho.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Ne(Zh))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();function wD(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(c)}return null}let Pr=(()=>{class t{constructor(e,i,a,c){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(m(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${tn(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(he(Gg),he($g),he(Hn),he(gf))},t.\u0275dir=Tt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Zz{constructor(n,e,i,a){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ya=(()=>{class t{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((a,c,h)=>{if(null==a.previousIndex){const b=this._viewContainer.createEmbeddedView(this._template,new Zz(null,this._ngForOf,-1,-1),null===h?void 0:h),w=new CD(a,b);i.push(w)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const b=this._viewContainer.get(c);this._viewContainer.move(b,h);const w=new CD(a,b);i.push(w)}});for(let a=0;a<i.length;a++)this._perViewChange(i[a].view,i[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=c,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(he(xs),he(Sl),he(Gg))},t.\u0275dir=Tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class CD{constructor(n,e){this.record=n,this.view=e}}let ri=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Kz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(he(xs),he(Sl))},t.\u0275dir=Tt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Kz{constructor(){this.$implicit=null,this.ngIf=null}}function kD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tn(n)}'.`)}class k2{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let i_=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Cv=(()=>{class t{constructor(e,i,a){this.ngSwitch=a,a._addCase(),this._view=new k2(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(he(xs),he(Sl),he(i_,9))},t.\u0275dir=Tt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),MD=(()=>{class t{constructor(e,i,a){a._addDefault(new k2(e,i))}}return t.\u0275fac=function(e){return new(e||t)(he(xs),he(Sl),he(i_,9))},t.\u0275dir=Tt({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),ju=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(he(xs))},t.\u0275dir=Tt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Yi]}),t})();class e8{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class t8{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}onDestroy(n){}}const n8=new t8,i8=new e8;let ED=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(F1(e))return n8;if(Jk(e))return i8;throw function(t,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${tn(t)}'`)}(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(he(wr,16))},t.\u0275pipe=ar({name:"async",type:t,pure:!1}),t})(),Ba=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[{provide:wv,useClass:qz}]}),t})();const SD="browser";class AD{}class E2 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){hv||(hv=t)}(new E2)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(b0=b0||document.querySelector("base"),b0?b0.getAttribute("href"):null);return null==e?null:function(t){kv=kv||document.createElement("a"),kv.setAttribute("href",t);const n=kv.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){b0=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return wD(document.cookie,n)}}let kv,b0=null;const OD=new Ve("TRANSITION_ID"),D8=[{provide:ev,useFactory:function(t,n,e){return()=>{e.get(Qg).donePromise.then(()=>{const i=Hu(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[OD,di,Xn],multi:!0}];class D2{static init(){!function(t){K3=t}(new D2)}addToWindow(n){Ri.getAngularTestability=(i,a=!0)=>{const c=n.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},Ri.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ri.getAllAngularRootElements=()=>n.getAllRootElements(),Ri.frameworkStabilizers||(Ri.frameworkStabilizers=[]),Ri.frameworkStabilizers.push(i=>{const a=Ri.getAllAngularTestabilities();let c=a.length,h=!1;const b=function(w){h=h||w,c--,0==c&&i(h)};a.forEach(function(w){w.whenStable(b)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:i?Hu().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let S8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const y0=new Ve("EventManagerPlugins");let Tv=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Ne(y0),Ne(mi))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class S2{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=Hu().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let PD=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),v0=(()=>{class t extends PD{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(FD),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(FD))}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();function FD(t){Hu().remove(t)}const I2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A2=/%COMP%/g;function Ev(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?Ev(t,a,e):(a=a.replace(A2,t),e.push(a))}return e}function ND(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Dv=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new O2(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case ea.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new G8(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case ea.ShadowDom:return new $8(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=Ev(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Ne(Tv),Ne(v0),Ne(d0))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class O2{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,e){return e?document.createElementNS(I2[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const c=I2[a];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=I2[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(Po.DashCase|Po.Important)?n.style.setProperty(e,i,a&Po.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Po.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,ND(i)):this.eventManager.addEventListener(n,e,ND(i))}}class G8 extends O2{constructor(n,e,i,a){super(n),this.component=i;const c=Ev(a+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(A2,t)}(a+"-"+i.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(A2,t)}(a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class $8 extends O2{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ev(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const b=document.createElement("style");b.textContent=c[h],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Y8=(()=>{class t extends S2{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const q8={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},L2=new Ve("HammerGestureConfig"),VD=new Ve("HammerLoader");let W8=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const a in this.overrides)i.get(a).set(this.overrides[a]);return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),Z8=(()=>{class t extends S2{constructor(e,i,a,c){super(e),this._config=i,this.console=a,this.loader=c,this._loaderPromise=null}supports(e){return!(!q8.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,i,a){const c=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let h=!1,b=()=>{h=!0};return this._loaderPromise.then(()=>{window.Hammer?h||(b=this.addEventListener(e,i,a)):b=()=>{}}).catch(()=>{b=()=>{}}),()=>{b()}}return c.runOutsideAngular(()=>{const h=this._config.buildHammer(e),b=function(w){c.runGuarded(function(){a(w)})};return h.on(i,b),()=>{h.off(i,b),"function"==typeof h.destroy&&h.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return t.\u0275fac=function(e){return new(e||t)(Ne(di),Ne(L2),Ne($3),Ne(VD,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const K8=[{provide:y0,useClass:Z8,multi:!0,deps:[di,L2,$3,[new Hr,VD]]},{provide:L2,useClass:W8,deps:[]}];let Sv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:K8}),t})();const HD=["alt","control","meta","shift"],eN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let nN=(()=>{class t extends S2{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const c=t.parseEventName(i),h=t.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hu().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=t._normalizeKey(i.pop());let h="";if(HD.forEach(w=>{const E=i.indexOf(w);E>-1&&(i.splice(E,1),h+=w+".")}),h+=c,0!=i.length||0===c.length)return null;const b={};return b.domEventName=a,b.fullKey=h,b}static getEventFullKey(e){let i="",a=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&jD.hasOwnProperty(n)&&(n=jD[n]))}return eN[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),HD.forEach(c=>{c!=a&&tN[c](e)&&(i+=c+".")}),i+=a,i}static eventCallback(e,i,a){return c=>{t.getEventFullKey(c)===e&&a.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),Xm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return Ne(P2)},token:t,providedIn:"root"}),t})(),P2=(()=>{class t extends Xm{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ra.NONE:return i;case Ra.HTML:return Ks(i,"HTML")?Wo(i):Ih(this._doc,String(i)).toString();case Ra.STYLE:return Ks(i,"Style")?Wo(i):i;case Ra.SCRIPT:if(Ks(i,"Script"))return Wo(i);throw new Error("unsafe value used in a script context");case Ra.URL:return Qf(i),Ks(i,"URL")?Wo(i):Ic(String(i));case Ra.RESOURCE_URL:if(Ks(i,"ResourceURL"))return Wo(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(t){return new S_(t)}(e)}bypassSecurityTrustStyle(e){return function(t){return new dy(t)}(e)}bypassSecurityTrustScript(e){return function(t){return new Kx(t)}(e)}bypassSecurityTrustUrl(e){return function(t){return new vd(t)}(e)}bypassSecurityTrustResourceUrl(e){return function(t){return new Eh(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({factory:function(){return function(t){return new P2(t.get(di))}(Ne(Dd))},token:t,providedIn:"root"}),t})();const lN=[{provide:e_,useValue:SD},{provide:wE,useValue:function(){E2.makeCurrent(),D2.init()},multi:!0},{provide:di,useFactory:function(){return function(t){gc=t}(document),document},deps:[]}],dN=AE(QR,"browser",lN),uN=[[],{provide:of,useValue:"root"},{provide:Ah,useFactory:function(){return new Ah},deps:[]},{provide:y0,useClass:Y8,multi:!0,deps:[di,mi,e_]},{provide:y0,useClass:nN,multi:!0,deps:[di]},[],{provide:Dv,useClass:Dv,deps:[Tv,v0,d0]},{provide:ff,useExisting:Dv},{provide:PD,useExisting:v0},{provide:v0,useClass:v0,deps:[di]},{provide:X3,useClass:X3,deps:[mi]},{provide:Tv,useClass:Tv,deps:[y0,mi]},{provide:AD,useClass:S8,deps:[]},[]];let F2=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:d0,useValue:e.appId},{provide:OD,useExisting:d0},D8]}}}return t.\u0275fac=function(e){return new(e||t)(Ne(t,12))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:uN,imports:[Ba,o6]}),t})();"undefined"!=typeof window&&window;class GD{}const Jh="*";function kr(t,n){return{type:7,name:t,definitions:n,options:{}}}function va(t,n=null){return{type:4,styles:n,timings:t}}function $D(t,n=null){return{type:3,steps:t,options:n}}function YD(t,n=null){return{type:2,steps:t,options:n}}function Ln(t){return{type:6,styles:t,offset:null}}function ma(t,n,e){return{type:0,name:t,styles:n,options:e}}function z2(t){return{type:5,steps:t}}function ra(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function qD(t=null){return{type:9,options:t}}function WD(t,n,e=null){return{type:11,selector:t,animation:n,options:e}}function vN(t,n){return{type:12,timings:t,animation:n}}function ZD(t){Promise.resolve(null).then(t)}class a_{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ZD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class XD{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,a=0;const c=this.players.length;0==c?ZD(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++i==c&&this._onDestroy()}),h.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,b)=>Math.max(h,b.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(a)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function xN(t,n){1&t&&Se(0,"source",25),2&t&&B("srcset",Z(2).$implicit.formats.w1560,en)}function wN(t,n){1&t&&Se(0,"source",26),2&t&&B("srcset",Z(2).$implicit.formats.w850,en)}function CN(t,n){1&t&&Se(0,"source",27),2&t&&B("srcset",Z(2).$implicit.formats.w600,en)}function kN(t,n){1&t&&Se(0,"source",28),2&t&&B("srcset",Z(2).$implicit.formats.w400,en)}function MN(t,n){if(1&t&&(zt(0),Q(1,xN,1,1,"source",21),Q(2,wN,1,1,"source",22),Q(3,CN,1,1,"source",23),Q(4,kN,1,1,"source",24),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf",e.formats.w1560),F(1),B("ngIf",e.formats.w850),F(1),B("ngIf",e.formats.w600),F(1),B("ngIf",e.formats.w400)}}function TN(t,n){if(1&t&&(R(0,"picture",18),Q(1,MN,5,4,"ng-container",19),Se(2,"img",20),z()),2&t){const e=n.$implicit,i=n.index,a=Z(2);F(1),B("ngIf",e.formats),F(1),Rn("slider__image--current",i===a.currentIndex),B("src",e.publicUrl,en)("alt",e.description)("@slider",a.position(i)),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex)}}function EN(t,n){if(1&t&&(R(0,"p",30),ot(1),z()),2&t){const e=Z().$implicit;F(1),vn(" ",e.description," ")}}function DN(t,n){if(1&t&&(zt(0),Q(1,EN,2,1,"p",29),Nt()),2&t){const e=n.index,i=Z(2);F(1),B("ngIf",e===i.currentIndex)}}function SN(t,n){if(1&t){const e=Cn();R(0,"div",1),R(1,"div",2),R(2,"button",3),Ze("click",function(a){return mt(e),Z().prev(a)}),Se(3,"bt3-icon",4),z(),R(4,"div",5),Ze("swipeleft",function(a){return mt(e),Z().next(a)})("swiperight",function(a){return mt(e),Z().prev(a)}),R(5,"div",6),Q(6,TN,3,8,"picture",7),z(),z(),R(7,"button",8),Ze("click",function(a){return mt(e),Z().next(a)}),Se(8,"bt3-icon",9),z(),z(),R(9,"div",10),R(10,"div",11),R(11,"div",12),R(12,"p",13),ot(13),z(),R(14,"button",14),Ze("click",function(a){return mt(e),Z().prev(a)}),Se(15,"bt3-icon",4),z(),R(16,"button",15),Ze("click",function(a){return mt(e),Z().next(a)}),Se(17,"bt3-icon",9),z(),z(),R(18,"div",16),Q(19,DN,2,1,"ng-container",17),z(),z(),z(),z()}if(2&t){const e=Z();F(2),j("aria-label",e.previousSlideString),F(3),Ru("padding-bottom",e.galleryRatioPadding),F(1),B("ngForOf",e.images),F(1),j("aria-label",e.nextSlideString),F(6),Yh(" ",e.currentIndex+1,"/",e.getTotal()," "),F(1),j("aria-label",e.previousSlideString),F(2),j("aria-label",e.nextSlideString),F(3),B("ngForOf",e.images)}}let IN=(()=>{class t{constructor(){this.previousSlideString="",this.nextSlideString="",this.galleryRatioPadding="100%",this.ready=!1,this.images=[],this.currentIndex=0,this.total=0,this.currentImageDescription="",this.getTotal=()=>this.images.length,Yn.e(329).then(Yn.t.bind(Yn,329,23)).finally(()=>this.ready=!0)}set ratio(e){const i=e?parseFloat(e):1;this.galleryRatioPadding=`${(1/i*100).toFixed(2)}%`}position(e){return e===this.currentIndex?"current":2===this.getTotal()?"other":e===this.getNextIndex()?"next":e===this.getPreviousIndex()?"previous":"other"}ngOnInit(){this.images=JSON.parse(this.imagesJson||"[]"),this.set(0)}getNextIndex(){return(this.currentIndex+1)%this.getTotal()}getPreviousIndex(){return(this.getTotal()+this.currentIndex-1)%this.getTotal()}next(e){this.set(this.getNextIndex())}prev(e){this.set(this.getPreviousIndex())}set(e){this.currentIndex=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-gallery-slider"]],inputs:{imagesJson:"imagesJson",previousSlideString:"previousSlideString",nextSlideString:"nextSlideString",ratio:"ratio"},decls:1,vars:1,consts:[["class","slider",4,"ngIf"],[1,"slider"],[1,"slider__image-row"],["role","button",1,"slider__previous",3,"click"],["name","caret-large-left",1,"slider__icon"],[1,"slider__content",3,"swipeleft","swiperight"],["aria-live","polite","role","presentation",1,"slider__square-container"],["class","slider__square",4,"ngFor","ngForOf"],["role","button",1,"slider__next",3,"click"],["name","caret-large-right",1,"slider__icon"],[1,"slider__description-row"],[1,"slider__description-col"],[1,"slider__description-counter-wrapper"],["aria-hidden","true",1,"slider__counter"],[1,"slider__previous-description",3,"click"],[1,"slider__next-description",3,"click"],["aria-hidden","true",1,"slider__description"],[4,"ngFor","ngForOf"],[1,"slider__square"],[4,"ngIf"],["loading","lazy",1,"slider__image",3,"src","alt"],["media","(min-width: 1921px)",3,"srcset",4,"ngIf"],["media","(min-width: 601px)",3,"srcset",4,"ngIf"],["media","(min-width: 401px)",3,"srcset",4,"ngIf"],[3,"srcset",4,"ngIf"],["media","(min-width: 1921px)",3,"srcset"],["media","(min-width: 601px)",3,"srcset"],["media","(min-width: 401px)",3,"srcset"],[3,"srcset"],["class","slider__description-content",4,"ngIf"],[1,"slider__description-content"]],template:function(e,i){1&e&&Q(0,SN,20,10,"div",0),2&e&&B("ngIf",i.ready)},directives:[ri,ya],styles:['@charset "UTF-8";.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;flex-flow:row wrap}.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .bt3-grid__tablet-col-10[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%], .bt3-grid__tablet-col-1[_ngcontent-%COMP%], .slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-1[_ngcontent-%COMP%], .slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:8.3333333333%;max-width:8.3333333333%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-10[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:83.3333333333%;max-width:83.3333333333%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}}@media (min-width: 60em){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .slider__square-container[_ngcontent-%COMP%]{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .bt3-grid__tablet-col-10[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%], .bt3-grid__tablet-col-1[_ngcontent-%COMP%], .slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__tablet-col-1[_ngcontent-%COMP%], .slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:8.3333333333%;max-width:8.3333333333%}}@media (min-width: 60em){.bt3-grid__tablet-col-10[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%], .slider__content[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:83.3333333333%;max-width:83.3333333333%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .slider__description-col[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 100em){.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 120.0625em){.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 150.0625em){.bt3-grid__row[_ngcontent-%COMP%], .slider__description-row[_ngcontent-%COMP%], .slider__image-row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}.slider[_ngcontent-%COMP%]{position:relative;z-index:0;overflow:hidden}.slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center}@media (min-width: 37.5em){.slider__previous[_ngcontent-%COMP%], .slider__next[_ngcontent-%COMP%]{display:flex}}.slider__content[_ngcontent-%COMP%]{margin-bottom:2.4rem;touch-action:pan-y!important}.slider__square-container[_ngcontent-%COMP%]{position:relative;padding-bottom:100%}@media (min-width: 37.5em){.slider__square-container[_ngcontent-%COMP%]{margin:0}}.slider__square[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.slider__image[_ngcontent-%COMP%]{object-fit:contain;height:100%;width:100%;pointer-events:none}.slider__image--current[_ngcontent-%COMP%]{z-index:1}.slider__counter[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:4.8rem;line-height:1.5;line-height:1;flex-grow:1;margin-right:3.8rem;white-space:nowrap}.slider__description[_ngcontent-%COMP%]{flex:1 1 auto}.slider__description-content[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;position:relative;flex:1 1 100%;margin-top:1.5rem;min-height:7.2rem}@media (min-width: 60em){.slider__description-content[_ngcontent-%COMP%]{font-size:2.1rem;line-height:1.5}}@media (min-width: 37.5em){.slider__description-content[_ngcontent-%COMP%]{margin-top:.3rem}}@media (min-width: 60em){.slider__description-content[_ngcontent-%COMP%]{margin-top:0}}.slider__previous-description[_ngcontent-%COMP%], .slider__next-description[_ngcontent-%COMP%]{display:flex;align-items:center;width:3.8rem;height:3.8rem;margin-top:.3rem}@media (min-width: 37.5em){.slider__previous-description[_ngcontent-%COMP%], .slider__next-description[_ngcontent-%COMP%]{display:none}}.slider__next[_ngcontent-%COMP%], .slider__next-description[_ngcontent-%COMP%]{transition:all .2s ease-in-out;fill:var(--black-500)}@media (hover: hover){.slider__next[_ngcontent-%COMP%]:hover, .slider__next-description[_ngcontent-%COMP%]:hover{transform:translate(.6rem);fill:var(--black-900)}}@media (hover: hover) and (min-width: 60em){.slider__next[_ngcontent-%COMP%]:hover, .slider__next-description[_ngcontent-%COMP%]:hover{transform:translate(.9rem)}}.slider__previous[_ngcontent-%COMP%], .slider__previous-description[_ngcontent-%COMP%]{transition:all .2s ease-in-out;fill:var(--black-500)}@media (hover: hover){.slider__previous[_ngcontent-%COMP%]:hover, .slider__previous-description[_ngcontent-%COMP%]:hover{transform:translate(-.6rem);fill:var(--black-900)}}@media (hover: hover) and (min-width: 60em){.slider__previous[_ngcontent-%COMP%]:hover, .slider__previous-description[_ngcontent-%COMP%]:hover{transform:translate(-.9rem)}}.slider__icon[_ngcontent-%COMP%]{height:2.8rem;width:2.8rem}@media (min-width: 37.5em){.slider__icon[_ngcontent-%COMP%]{height:3.8rem;width:3.8rem}}@media (min-width: 37.5em){.slider__description-col[_ngcontent-%COMP%]{display:flex}}.slider__description-counter-wrapper[_ngcontent-%COMP%]{display:flex;flex:0 0 auto}.slider__previous[_ngcontent-%COMP%]:focus, .slider__next[_ngcontent-%COMP%]:focus, .slider__previous-description[_ngcontent-%COMP%]:focus, .slider__next-description[_ngcontent-%COMP%]:focus{outline:none}'],data:{animation:[kr("slider",[ma("current",Ln({opacity:1,transform:"translate3d(0, 0, 0)"})),ma("next",Ln({opacity:0,transform:"translate3d(100%, 0, 0)"})),ma("previous",Ln({opacity:0,transform:"translate3d(-100%, 0, 0)"})),ma("other",Ln({opacity:0})),ra("current => *",[va("600ms ease-in-out")]),ra("* => current",[va("600ms 50ms ease-in-out")])])]}}),t})();class AN extends Bt{constructor(n,e){super()}schedule(n,e=0){return this}}class Iv extends AN{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,i=0){return setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let a,i=!1;try{this.work(n)}catch(c){i=!0,a=!!c&&c||new Error(c)}if(i)return this.unsubscribe(),a}_unsubscribe(){const n=this.id,e=this.scheduler,i=e.actions,a=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==a&&i.splice(a,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null}}let KD=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,a){return new this.SchedulerAction(this,e).schedule(a,i)}}return t.now=()=>Date.now(),t})();class Ud extends KD{constructor(n,e=KD.now){super(n,()=>Ud.delegate&&Ud.delegate!==this?Ud.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,e=0,i){return Ud.delegate&&Ud.delegate!==this?Ud.delegate.schedule(n,e,i):super.schedule(n,e,i)}flush(n){const{actions:e}=this;if(this.active)return void e.push(n);let i;this.active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const PN=new class extends Ud{}(class extends Iv{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(n,e,i):n.flush(this)}}),JD=new An(t=>t.complete());function B2(t){return t?function(t){return new An(n=>t.schedule(()=>n.complete()))}(t):JD}function Gd(...t){let n=t[t.length-1];return Fr(n)?(t.pop(),Ka(t,n)):Dr(t)}class Al{constructor(n,e,i){this.kind=n,this.value=e,this.error=i,this.hasValue="N"===n}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,e,i){switch(this.kind){case"N":return n&&n(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(n,e,i){return n&&"function"==typeof n.next?this.observe(n):this.do(n,e,i)}toObservable(){switch(this.kind){case"N":return Gd(this.value);case"E":return function(t,n){return new An(e=>e.error(t))}(this.error);case"C":return B2()}throw new Error("unexpected notification kind value")}static createNext(n){return void 0!==n?new Al("N",n):Al.undefinedValueNotification}static createError(n){return new Al("E",void 0,n)}static createComplete(){return Al.completeNotification}}Al.completeNotification=new Al("C"),Al.undefinedValueNotification=new Al("N",void 0);class Av extends Sn{constructor(n,e,i=0){super(n),this.scheduler=e,this.delay=i}static dispatch(n){const{notification:e,destination:i}=n;e.observe(i),this.unsubscribe()}scheduleMessage(n){this.destination.add(this.scheduler.schedule(Av.dispatch,this.delay,new BN(n,this.destination)))}_next(n){this.scheduleMessage(Al.createNext(n))}_error(n){this.scheduleMessage(Al.createError(n)),this.unsubscribe()}_complete(){this.scheduleMessage(Al.createComplete()),this.unsubscribe()}}class BN{constructor(n,e){this.notification=n,this.destination=e}}class QD extends on{constructor(n=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const e=this._events;e.push(n),e.length>this._bufferSize&&e.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new VN(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=i.length;let h;if(this.closed)throw new Qi;if(this.isStopped||this.hasError?h=Bt.EMPTY:(this.observers.push(n),h=new Mi(this,n)),a&&n.add(n=new Av(n,a)),e)for(let b=0;b<c&&!n.closed;b++)n.next(i[b]);else for(let b=0;b<c&&!n.closed;b++)n.next(i[b].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),h}_getNow(){return(this.scheduler||PN).now()}_trimBufferThenGetEvents(){const n=this._getNow(),e=this._bufferSize,i=this._windowTime,a=this._events,c=a.length;let h=0;for(;h<c&&!(n-a[h].time<i);)h++;return c>e&&(h=Math.max(h,c-e)),h>0&&a.splice(0,h),a}}class VN{constructor(n,e){this.time=n,this.value=e}}function kf(t,n){return"function"==typeof n?e=>e.pipe(kf((i,a)=>gr(t(i,a)).pipe(ji((c,h)=>n(i,c,a,h))))):e=>e.lift(new HN(t))}class HN{constructor(n){this.project=n}call(n,e){return e.subscribe(new jN(n,this.project))}}class jN extends pa{constructor(n,e){super(n),this.project=e,this.index=0}_next(n){let e;const i=this.index++;try{e=this.project(n,i)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(n){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Yr(this),a=this.destination;a.add(i),this.innerSubscription=yt(n,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Ov={schedule(t,n){const e=setTimeout(t,n);return()=>clearTimeout(e)},scheduleBeforeRender(t){if("undefined"==typeof window)return Ov.schedule(t,0);if(void 0===window.requestAnimationFrame)return Ov.schedule(t,16);const n=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(n)}};let V2;function JN(t,n,e){let i=e;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&n.some((a,c)=>!("*"===a||!function(t,n){if(!V2){const e=Element.prototype;V2=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&V2.call(t,n)}(t,a)||(i=c,0))),i}class e9{constructor(n,e){this.componentFactory=e.get(Nu).resolveComponentFactory(n)}create(n){return new t9(this.componentFactory,n)}}class t9{constructor(n,e){this.componentFactory=n,this.injector=e,this.eventEmitters=new QD(1),this.events=this.eventEmitters.pipe(kf(i=>On(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(mi),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(n){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(n)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Ov.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(n){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(n):this.componentRef.instance[n])}setInputValue(n,e){this.runInZone(()=>{null!==this.componentRef?function(t,n){return t===n||t!=t&&n!=n}(e,this.getInputValue(n))&&(void 0!==e||!this.unchangedInputs.has(n))||(this.recordInputChange(n,e),this.unchangedInputs.delete(n),this.hasInputChanges=!0,this.componentRef.instance[n]=e,this.scheduleDetectChanges()):this.initialInputValues.set(n,e)})}initializeComponent(n){const e=Xn.create({providers:[],parent:this.injector}),i=function(t,n){const e=t.childNodes,i=n.map(()=>[]);let a=-1;n.some((c,h)=>"*"===c&&(a=h,!0));for(let c=0,h=e.length;c<h;++c){const b=e[c],w=JN(b,n,a);-1!==w&&i[w].push(b)}return i}(n,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,n),this.viewChangeDetectorRef=this.componentRef.injector.get(wr),this.implementsOnChanges=function(t){return"function"==typeof t}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(vf).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:n})=>{this.initialInputValues.has(n)&&this.setInputValue(n,this.initialInputValues.get(n))}),this.initialInputValues.clear()}initializeOutputs(n){const e=this.componentFactory.outputs.map(({propName:i,templateName:a})=>n.instance[i].pipe(ji(h=>({name:a,value:h}))));this.eventEmitters.next(e)}callNgOnChanges(n){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,n.instance.ngOnChanges(e)}markViewForCheck(n){this.hasInputChanges&&(this.hasInputChanges=!1,n.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Ov.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(n,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[n];if(i)return void(i.currentValue=e);const a=this.unchangedInputs.has(n),c=a?void 0:this.getInputValue(n);this.inputChanges[n]=new Qc(c,e,a)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(n){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(n):n()}}class n9 extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function Mr(t,n){const e=function(t,n){return n.get(Nu).resolveComponentFactory(t).inputs}(t,n.injector),i=n.strategyFactory||new e9(t,n.injector),a=function(t){const n={};return t.forEach(({propName:e,templateName:i})=>{n[function(t){return t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}(i)]=e}),n}(e);class c extends n9{constructor(b){super(),this.injector=b}get ngElementStrategy(){if(!this._ngElementStrategy){const b=this._ngElementStrategy=i.create(this.injector||n.injector);e.forEach(({propName:w})=>{if(!this.hasOwnProperty(w))return;const E=this[w];delete this[w],b.setInputValue(w,E)})}return this._ngElementStrategy}attributeChangedCallback(b,w,E,L){this.ngElementStrategy.setInputValue(a[b],E)}connectedCallback(){let b=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),b=!0),this.ngElementStrategy.connect(this),b||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(b=>{const w=function(t,n,e){if("function"!=typeof CustomEvent){const c=t.createEvent("CustomEvent");return c.initCustomEvent(n,!1,!1,e),c}return new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e})}(this.ownerDocument,b.name,b.value);this.dispatchEvent(w)})}}return c.observedAttributes=Object.keys(a),e.forEach(({propName:h})=>{Object.defineProperty(c.prototype,h,{get(){return this.ngElementStrategy.getInputValue(h)},set(b){this.ngElementStrategy.setInputValue(h,b)},configurable:!0,enumerable:!0})}),c}var Uu=(()=>(function(t){t.Default="default",t.Mixed="mixed"}(Uu||(Uu={})),Uu))();const j2="/_api/v1/blog-post",G2=(Object.assign(Object.assign({},{endpoint:j2,layoutType:Uu.Mixed,showNewsletterTeaser:!1,numOfTeasers:4,showTitle:!0}),{showNewsletterTeaser:!0,newsletterCategoryName:"Innovation & Technologie",showTitle:!0}),{endpoint:j2,layoutType:Uu.Default,showNewsletterTeaser:!1,numOfTeasers:4,showTitle:!1,categoryFilterIds:["124"]}),tS=(Object.assign(Object.assign({},G2),{showNewsletterTeaser:!0,newsletterCategoryName:"Innovation & Technologie",showTitle:!1}),function(t,n,e,i,a,c,h,b,w,E,L,$){return{"bt3-atom-button--primary":t,"bt3-atom-button--secondary":n,"bt3-atom-button--tertiary":e,"bt3-atom-button--is-white":i,"bt3-atom-button--on-base":a,"bt3-atom-button--on-light":c,"bt3-atom-button--on-dark":h,"bt3-atom-button--extra-padding":b,"bt3-atom-button--no-padding":w,"bt3-atom-button--footer-styling":E,"bt3-atom-button--right-shift-hover-animation":L,"bt3-atom-button--counter-styling":$}}),nS=function(t,n){return{label:t,rightShiftHoverAnimation:n}};function c9(t,n){if(1&t){const e=Cn();R(0,"a",3),Ze("focus",function(){return mt(e),Z().onFocus()}),Dl(1,4),z()}if(2&t){const e=Z(),i=Ft(3);let a,c,h;B("ngClass",X1(8,tS,[e.buttonLevel===e.buttonLevels.PRIMARY,e.buttonLevel===e.buttonLevels.SECONDARY,e.buttonLevel===e.buttonLevels.TERTIARY,e.white,e.onBase,e.onLight,e.onDark,e.extraPadding,e.noPadding,e.footerStyling,e.rightShiftHoverAnimation,e.counterStyling]))("href",e.url,en)("target",e.openInNewTab?"_blank":"_self"),j("id",null!==(a=e.id)&&void 0!==a?a:null)("aria-controls",null!==(c=e.controls)&&void 0!==c?c:null)("aria-expanded",null!==(h=e.ariaExpanded)&&void 0!==h?h:null),F(1),B("ngTemplateOutlet",i)("ngTemplateOutletContext",Cr(21,nS,e.label,e.rightShiftHoverAnimation))}}function d9(t,n){if(1&t){const e=Cn();R(0,"button",5),Ze("click",function(a){return mt(e),Z().onButtonClicked(a)})("focus",function(){return mt(e),Z().onFocus()}),Dl(1,4),z()}if(2&t){const e=Z(),i=Ft(3);let a,c,h;B("ngClass",X1(10,tS,[e.buttonLevel===e.buttonLevels.PRIMARY,e.buttonLevel===e.buttonLevels.SECONDARY,e.buttonLevel===e.buttonLevels.TERTIARY,e.white,e.onBase,e.onLight,e.onDark,e.extraPadding,e.noPadding,e.footerStyling,e.rightShiftHoverAnimation,e.counterStyling]))("type",e.buttonType)("disabled",e.disabled),j("id",null!==(a=e.id)&&void 0!==a?a:null)("aria-controls",null!==(c=e.controls)&&void 0!==c?c:null)("aria-expanded",null!==(h=e.ariaExpanded)&&void 0!==h?h:null)("value",e.value)("name",e.name),F(1),B("ngTemplateOutlet",i)("ngTemplateOutletContext",Cr(23,nS,e.label,e.rightShiftHoverAnimation))}}function u9(t,n){1&t&&Se(0,"bt3-icon",9)}function h9(t,n){1&t&&Se(0,"bt3-icon",10)}function m9(t,n){if(1&t&&(Q(0,u9,1,0,"bt3-icon",6),R(1,"span",7),ot(2),z(),Q(3,h9,1,0,"bt3-icon",8)),2&t){const e=n.label,i=n.rightShiftHoverAnimation;B("ngIf",i),F(2),Kn(e),F(1),B("ngIf",i)}}var tc=(()=>(function(t){t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary"}(tc||(tc={})),tc))(),Pv=(()=>(function(t){t.BUTTON="button",t.SUBMIT="submit"}(Pv||(Pv={})),Pv))(),w0=(()=>(function(t){t.ARROW_RIGHT="arrow-right"}(w0||(w0={})),w0))();let C0=(()=>{class t{constructor(){this.buttonLevels=tc,this.buttonTypes=Pv,this.linkButtonIcons=w0,this.iconKey=null,this.rightShiftHoverAnimation=!1,this.extraPadding=!1,this.noPadding=!1,this.footerStyling=!1,this.counterStyling=!1,this.white=!1,this.onBase=!1,this.onLight=!1,this.onDark=!1,this.buttonLevel=tc.PRIMARY,this.openInNewTab=!1,this.disabled=!1,this.focus=new Et,this.clicked=new Et}set icon(e){this.iconKey=e,this.rightShiftHoverAnimation=this.iconKey===this.linkButtonIcons.ARROW_RIGHT}set hasExtraPadding(e){this.extraPadding="true"===e}set hasNoPadding(e){this.noPadding="true"===e}set isFooterStyling(e){this.footerStyling="true"===e}set isCounterStyling(e){this.counterStyling="true"===e}set isWhite(e){this.white="true"===e}set isOnBase(e){this.onBase="true"===e}set isOnLight(e){this.onLight="true"===e}set isOnDark(e){this.onDark="true"===e}set expanded(e){this.ariaExpanded="true"===e}onFocus(){this.focus.emit()}onButtonClicked(e){this.clicked.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-button-link"]],inputs:{id:"id",url:"url",label:"label",value:"value",name:"name",buttonLevel:"buttonLevel",buttonType:"buttonType",openInNewTab:"openInNewTab",disabled:"disabled",controls:"controls",icon:"icon",hasExtraPadding:"hasExtraPadding",hasNoPadding:"hasNoPadding",isFooterStyling:"isFooterStyling",isCounterStyling:"isCounterStyling",isWhite:"isWhite",isOnBase:"isOnBase",isOnLight:"isOnLight",isOnDark:"isOnDark",expanded:"expanded"},outputs:{focus:"focus",clicked:"clicked"},decls:4,vars:2,consts:[["class","bt3-atom-button bt3-atom-button__link",3,"ngClass","href","target","focus",4,"ngIf"],["class","bt3-atom-button bt3-atom-button__button",3,"ngClass","type","disabled","click","focus",4,"ngIf"],["linkButtonContent",""],[1,"bt3-atom-button","bt3-atom-button__link",3,"ngClass","href","target","focus"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bt3-atom-button","bt3-atom-button__button",3,"ngClass","type","disabled","click","focus"],["class","bt3-atom-button__icon bt3-atom-button__icon--arrow-right-fade-in bt3-atom-button__icon--before","name","arrow-right",4,"ngIf"],[1,"bt3-atom-button__label"],["class","bt3-atom-button__icon bt3-atom-button__icon--right bt3-atom-button__icon--arrow-right","name","arrow-right",4,"ngIf"],["name","arrow-right",1,"bt3-atom-button__icon","bt3-atom-button__icon--arrow-right-fade-in","bt3-atom-button__icon--before"],["name","arrow-right",1,"bt3-atom-button__icon","bt3-atom-button__icon--right","bt3-atom-button__icon--arrow-right"]],template:function(e,i){1&e&&(Q(0,c9,2,24,"a",0),Q(1,d9,2,26,"button",1),Q(2,m9,4,3,"ng-template",null,2,Hs)),2&e&&(B("ngIf",i.label&&i.url),F(1),B("ngIf",i.label&&!i.url))},directives:[ri,Pr,ju],styles:[".bt3-atom-button{box-sizing:border-box;display:inline-flex;padding:.9rem 3.8rem;align-items:center;cursor:pointer;border:0;border-radius:0;position:relative;text-decoration:none;overflow:hidden;transition-duration:.2s;transition-timing-function:linear;justify-content:center;height:100%;min-height:4.4rem;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.2;--buttonBackgroundColor: var(--themeBase, var(--blue-500));--buttonTextColor: var(--themeBase, var(--blue-500));--buttonBackgroundHoverColor: var(--themeHover, var(--blue-700));--buttonTextHoverColor: var(--themeHover, var(--blue-700));color:var(--buttonTextColor)}.bt3-theme--primary .bt3-atom-button,.bt3-atom-button.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-atom-button,.bt3-atom-button.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (min-width: 60em){.bt3-atom-button{font-size:1.8rem}}.bt3-atom-button:focus{outline:none}.bt3-atom-button .bt3-atom-button__icon{--themeBase: var(--buttonTextColor)}@media (hover: hover){.bt3-atom-button:hover{color:var(--buttonTextHoverColor)}.bt3-atom-button:hover .bt3-atom-button__icon{--themeBase: var(--buttonTextHoverColor)}.bt3-atom-button:hover .bt3-atom-button__icon--arrow-right{transform:translate(calc(3.8rem + 100%));opacity:0}.bt3-atom-button:hover .bt3-atom-button__icon--arrow-right-fade-in{transform:translateY(-50%);left:3.8rem;opacity:1}.bt3-atom-button:hover.bt3-atom-button--extra-padding .bt3-atom-button__icon--arrow-right-fade-in{left:5.4rem}.bt3-atom-button:hover .bt3-atom-button__icon--arrow-right-fade-in+.bt3-atom-button__label{transform:translate(calc(2.4rem + 1.5rem))}}.bt3-atom-button[disabled],.bt3-atom-button[data-disabled]{pointer-events:none;opacity:.5}.bt3-atom-button__label{transform:translate(0);display:inline-block;transition-property:transform;transition-duration:.3s;transition-timing-function:ease-in-out}.bt3-atom-button__icon--right{margin-left:1.5rem;flex-grow:0;flex-shrink:0}.bt3-atom-button__icon--arrow-right{transform:translate(0);transition:all .2s ease-in-out}.bt3-atom-button__icon--arrow-right-fade-in{position:absolute;left:0;top:50%;transform:translate(-100%,-50%);transition:all .3s ease-in-out;opacity:0}.bt3-atom-button--primary{--buttonTextColor: var(--white);--buttonTextHoverColor: var(--white);background:var(--buttonBackgroundColor)}@media (hover: hover){.bt3-atom-button--primary:hover{background:var(--buttonBackgroundHoverColor)}}.bt3-atom-button--secondary{background:transparent;border:1px solid var(--buttonTextColor)}.bt3-atom-button--tertiary{background:transparent}.bt3-atom-button--is-white.bt3-atom-button--primary,.bt3-atom-button--on-base.bt3-atom-button--primary,.bt3-atom-button--on-dark.bt3-atom-button--primary{--buttonBackgroundColor: var(--white);--buttonBackgroundHoverColor: var(--white);--buttonTextColor: var(--themeBase, var(--blue-500));--buttonTextHoverColor: var(--themeHover, var(--blue-700));color:var(--buttonTextColor)}@media (hover: hover){.bt3-atom-button--is-white.bt3-atom-button--primary:hover,.bt3-atom-button--on-base.bt3-atom-button--primary:hover,.bt3-atom-button--on-dark.bt3-atom-button--primary:hover{color:var(--buttonTextHoverColor)}.bt3-atom-button--is-white.bt3-atom-button--primary:hover .bt3-atom-button__icon,.bt3-atom-button--on-base.bt3-atom-button--primary:hover .bt3-atom-button__icon,.bt3-atom-button--on-dark.bt3-atom-button--primary:hover .bt3-atom-button__icon{--themeBase: var(--buttonTextHoverColor)}}.bt3-atom-button--is-white.bt3-atom-button--secondary,.bt3-atom-button--is-white.bt3-atom-button--tertiary,.bt3-atom-button--on-base.bt3-atom-button--secondary,.bt3-atom-button--on-base.bt3-atom-button--tertiary,.bt3-atom-button--on-dark.bt3-atom-button--secondary,.bt3-atom-button--on-dark.bt3-atom-button--tertiary{--buttonTextColor: var(--white);--buttonTextHoverColor: var(--white);border-color:rgba(var(--white),.75);background:transparent}@media (hover: hover){.bt3-atom-button--is-white.bt3-atom-button--secondary:hover,.bt3-atom-button--is-white.bt3-atom-button--tertiary:hover,.bt3-atom-button--on-base.bt3-atom-button--secondary:hover,.bt3-atom-button--on-base.bt3-atom-button--tertiary:hover,.bt3-atom-button--on-dark.bt3-atom-button--secondary:hover,.bt3-atom-button--on-dark.bt3-atom-button--tertiary:hover{border-color:rgba(var(--white),1)}}.bt3-atom-button--is-white .bt3-atom-button__icon,.bt3-atom-button--on-base .bt3-atom-button__icon,.bt3-atom-button--on-dark .bt3-atom-button__icon{--themeBase: var(--buttonTextColor)}.bt3-atom-button--on-base.bt3-atom-button--primary{--buttonBackgroundColor: var(--themeDark, var(--blue-900));--buttonBackgroundHoverColor: var(--themeHover, var(--blue-700));--buttonTextColor: var(--white);--buttonTextHoverColor: var(--white)}.bt3-atom-button--on-light.bt3-atom-button--primary{--buttonBackgroundColor: var(--themeDark, var(--blue-900));--buttonBackgroundHoverColor: var(--themeHover, var(--blue-700));--buttonTextColor: var(--white);--buttonTextHoverColor: var(--white)}.bt3-atom-button--on-light.bt3-atom-button--secondary,.bt3-atom-button--on-light.bt3-atom-button--tertiary{--buttonTextColor: var(--themeDark, var(--blue-900));--buttonTextHoverColor: var(--themeDark, var(--blue-700))}.bt3-atom-button--on-dark.bt3-atom-button--primary{--buttonTextColor: var(--themeDark, var(--blue-500))}.bt3-atom-button--counter-styling{--buttonTextColor: var(--blue-900);--buttonTextHoverColor: var(--white);--buttonBackgroundColor: var(--white);--buttonBackgroundHoverColor: var(--blue-500);width:100%}@media (min-width: 37.5em){.bt3-atom-button--counter-styling{width:auto}}.bt3-atom-button--extra-padding{min-height:5.4rem;padding:.9rem 5.4rem}.bt3-atom-button--no-padding{min-height:0;padding:0}.bt3-atom-button--footer-styling{color:var(--black-300);padding:1.8rem 5.4rem;width:100%}@media (hover: hover){.bt3-atom-button--footer-styling:hover{color:var(--white)}}@media (min-width: 60em){.bt3-atom-button--footer-styling{width:auto;margin-top:.7rem}}\n"],encapsulation:2}),t})();const p9=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function nc(t){return n=>0===t?B2():n.lift(new f9(t))}class f9{constructor(n){if(this.total=n,this.total<0)throw new p9}call(n,e){return e.subscribe(new g9(n,this.total))}}class g9 extends Sn{constructor(n,e){super(n),this.total=e,this.count=0}_next(n){const e=this.total,i=++this.count;i<=e&&(this.destination.next(n),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Qh(t,n){return function(i){return i.lift(new b9(t,n))}}class b9{constructor(n,e){this.predicate=n,this.thisArg=e}call(n,e){return e.subscribe(new y9(n,this.predicate,this.thisArg))}}class y9 extends Sn{constructor(n,e,i){super(n),this.predicate=e,this.thisArg=i,this.count=0}_next(n){let e;try{e=this.predicate.call(this.thisArg,n,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(n)}}class iS{}class aS{}class em{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const a=e.slice(0,i),c=a.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const a=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(a,i),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof em?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new em;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof em?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const a=("a"===n.op?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":const c=n.value;if(c){let h=this.headers.get(e);if(!h)return;h=h.filter(b=>-1===c.indexOf(b)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class v9{encodeKey(n){return rS(n)}encodeValue(n){return rS(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const w9=/%(\d[a-f0-9])/gi,C9={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function rS(t){return encodeURIComponent(t).replace(w9,(n,e)=>{var i;return null!==(i=C9[e])&&void 0!==i?i:n})}function oS(t){return`${t}`}class Jm{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new v9,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[h,b]=-1==c?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,c)),n.decodeValue(a.slice(c+1))],w=e.get(h)||[];w.push(b),e.set(h,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const a=n[i];Array.isArray(a)?a.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Jm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(oS(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const a=i.indexOf(oS(n.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class k9{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function sS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function lS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function cS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class k0{constructor(n,e,i,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,c=a):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new em),this.context||(this.context=new k9),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const b=e.indexOf("?");this.urlWithParams=e+(-1===b?"?":b<e.length-1?"&":"")+h}}else this.params=new Jm,this.urlWithParams=e}serializeBody(){return null===this.body?null:sS(this.body)||lS(this.body)||cS(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cS(this.body)?null:lS(this.body)?this.body.type||null:sS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,a=n.url||this.url,c=n.responseType||this.responseType,h=void 0!==n.body?n.body:this.body,b=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,w=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let E=n.headers||this.headers,L=n.params||this.params;const $=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(E=Object.keys(n.setHeaders).reduce((K,ie)=>K.set(ie,n.setHeaders[ie]),E)),n.setParams&&(L=Object.keys(n.setParams).reduce((K,ie)=>K.set(ie,n.setParams[ie]),L)),new k0(i,a,h,{params:L,headers:E,context:$,reportProgress:w,responseType:c,withCredentials:b})}}var po=(()=>((po=po||{})[po.Sent=0]="Sent",po[po.UploadProgress=1]="UploadProgress",po[po.ResponseHeader=2]="ResponseHeader",po[po.DownloadProgress=3]="DownloadProgress",po[po.Response=4]="Response",po[po.User=5]="User",po))();class $2{constructor(n,e=200,i="OK"){this.headers=n.headers||new em,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Y2 extends $2{constructor(n={}){super(n),this.type=po.ResponseHeader}clone(n={}){return new Y2({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Fv extends $2{constructor(n={}){super(n),this.type=po.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Fv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class dS extends $2{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function q2(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let uS=(()=>{class t{constructor(e){this.handler=e}request(e,i,a={}){let c;if(e instanceof k0)c=e;else{let w,E;w=a.headers instanceof em?a.headers:new em(a.headers),a.params&&(E=a.params instanceof Jm?a.params:new Jm({fromObject:a.params})),c=new k0(e,i,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:E,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=Gd(c).pipe(function(t,n){return ti(t,void 0,1)}(w=>this.handler.handle(w)));if(e instanceof k0||"events"===a.observe)return h;const b=h.pipe(Qh(w=>w instanceof Fv));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return b.pipe(ji(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return b.pipe(ji(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return b.pipe(ji(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return b.pipe(ji(w=>w.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,q2(a,i))}post(e,i,a={}){return this.request("POST",e,q2(a,i))}put(e,i,a={}){return this.request("PUT",e,q2(a,i))}}return t.\u0275fac=function(e){return new(e||t)(Ne(iS))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class hS{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const mS=new Ve("HTTP_INTERCEPTORS");let E9=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const D9=/^\)\]\}',?\n/;let pS=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new An(i=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((ie,pe)=>a.setRequestHeader(ie,pe.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ie=e.detectContentTypeHeader();null!==ie&&a.setRequestHeader("Content-Type",ie)}if(e.responseType){const ie=e.responseType.toLowerCase();a.responseType="json"!==ie?ie:"text"}const c=e.serializeBody();let h=null;const b=()=>{if(null!==h)return h;const ie=1223===a.status?204:a.status,pe=a.statusText||"OK",Pe=new em(a.getAllResponseHeaders()),Oe=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return h=new Y2({headers:Pe,status:ie,statusText:pe,url:Oe}),h},w=()=>{let{headers:ie,status:pe,statusText:Pe,url:Oe}=b(),Qe=null;204!==pe&&(Qe=void 0===a.response?a.responseText:a.response),0===pe&&(pe=Qe?200:0);let We=pe>=200&&pe<300;if("json"===e.responseType&&"string"==typeof Qe){const Dt=Qe;Qe=Qe.replace(D9,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(Zt){Qe=Dt,We&&(We=!1,Qe={error:Zt,text:Qe})}}We?(i.next(new Fv({body:Qe,headers:ie,status:pe,statusText:Pe,url:Oe||void 0})),i.complete()):i.error(new dS({error:Qe,headers:ie,status:pe,statusText:Pe,url:Oe||void 0}))},E=ie=>{const{url:pe}=b(),Pe=new dS({error:ie,status:a.status||0,statusText:a.statusText||"Unknown Error",url:pe||void 0});i.error(Pe)};let L=!1;const $=ie=>{L||(i.next(b()),L=!0);let pe={type:po.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(pe.total=ie.total),"text"===e.responseType&&!!a.responseText&&(pe.partialText=a.responseText),i.next(pe)},K=ie=>{let pe={type:po.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(pe.total=ie.total),i.next(pe)};return a.addEventListener("load",w),a.addEventListener("error",E),a.addEventListener("timeout",E),a.addEventListener("abort",E),e.reportProgress&&(a.addEventListener("progress",$),null!==c&&a.upload&&a.upload.addEventListener("progress",K)),a.send(c),i.next({type:po.Sent}),()=>{a.removeEventListener("error",E),a.removeEventListener("abort",E),a.removeEventListener("load",w),a.removeEventListener("timeout",E),e.reportProgress&&(a.removeEventListener("progress",$),null!==c&&a.upload&&a.upload.removeEventListener("progress",K)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Ne(AD))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const W2=new Ve("XSRF_COOKIE_NAME"),Z2=new Ve("XSRF_HEADER_NAME");class fS{}let I9=(()=>{class t{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=wD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Ne(di),Ne(e_),Ne(W2))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),X2=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ne(fS),Ne(Z2))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),A9=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(mS,[]);this.chain=i.reduceRight((a,c)=>new hS(a,c),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ne(aS),Ne(Xn))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),O9=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:X2,useClass:E9}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:W2,useValue:e.cookieName}:[],e.headerName?{provide:Z2,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[X2,{provide:mS,useExisting:X2,multi:!0},{provide:fS,useClass:I9},{provide:W2,useValue:"XSRF-TOKEN"},{provide:Z2,useValue:"X-XSRF-TOKEN"}]}),t})(),L9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[uS,{provide:iS,useClass:A9},pS,{provide:aS,useExisting:pS}],imports:[[O9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),gS=(()=>{class t{constructor(e){this.http=e,this.data=new on,this.blogCategorySubscriptionFinished=new on,this._collection=[],this._totalItems=0,this._endpoint=""}set endpoint(e){this._endpoint=e}loadBlogTeaser(e,i=[],a=[]){const c=this._collection.length,h=i.length?i.map(L=>`filter[categories][]=${L}&`):"",b=a.length?a.map(L=>`filter[tags][]=${L}&`):"",w=this._endpoint.includes("?")?"&":"?",E=`${this._endpoint}${w}${h}${b}pagination[offset]=${c}&pagination[limit]=${e}`;this.updateData(!0),this.http.get(E).pipe(nc(1)).subscribe(L=>{this._collection.push(...L.data),this._totalItems=L.meta.pagination.total,this.updateData(!1)},L=>{console.error(L)})}updateData(e){this.data.next({items:this._collection,total:this._totalItems,loading:e})}subscriberUserWithData(e){this.blogCategorySubscriptionFinished.next({msg:`Thank you so much for subscribing to our \xab${e.categoryName}\xbb Category. You will be hearing from us soonest.`,status:!0})}}return t.\u0275fac=function(e){return new(e||t)(Ne(uS))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var K2=Yn(328),P9=Yn.n(K2);let F9=(()=>{class t{transform(e,i={de:"D. MMMM YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",en:"MMMM D, YYYY"}){const a=document.documentElement.getAttribute("lang"),c=a?a.split("-")[0]:"de",h=i.hasOwnProperty(c)?i[c]:i.de;return K2(e).locale(c).format(h)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ar({name:"dateI18N",type:t,pure:!0}),t})();function R9(t,n){if(1&t&&(R(0,"h3",11),ot(1),z()),2&t){const e=Z(3);F(1),vn(" ",e.blogTeaser.title," ")}}function z9(t,n){if(1&t&&(R(0,"a",9),Q(1,R9,2,1,"h3",10),z()),2&t){const e=Z(2);B("href",e.blogTeaser.url,en),F(1),B("ngIf",e.blogTeaser.title)}}function N9(t,n){if(1&t&&(R(0,"div",12),R(1,"div",13),R(2,"picture",14),Se(3,"img",15),z(),z(),z()),2&t){const e=Z(2);F(3),B("src",e.blogTeaser.image.src,en),j("alt",e.blogTeaser.title)}}function B9(t,n){if(1&t&&(R(0,"p",16),R(1,"a",17),ot(2),z(),z()),2&t){const e=Z(2);F(1),B("href",e.blogTeaser.category.url,en),F(1),vn(" ",e.blogTeaser.category.title," ")}}function V9(t,n){if(1&t&&(R(0,"h3",18),ot(1),z()),2&t){const e=Z(2);F(1),vn(" ",e.blogTeaser.title," ")}}function H9(t,n){if(1&t&&(R(0,"p",19),ot(1),z()),2&t){const e=Z(2);F(1),vn(" ",e.blogTeaser.lead," ")}}function j9(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(4);F(1),Kn(e.commentsTeaserTextSingular)}}function U9(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(4);F(1),Kn(e.commentsTeaserTextPlural)}}function G9(t,n){if(1&t&&(R(0,"span",23),R(1,"a",24),ot(2),Q(3,j9,2,1,"ng-container",25),Q(4,U9,2,1,"ng-container",25),z(),z()),2&t){const e=Z(3);F(1),B("href",e.blogTeaser.url+"#comments",en),F(1),vn(" ",e.blogTeaser.comments," "),F(1),B("ngIf",1===e.blogTeaser.comments),F(1),B("ngIf",e.blogTeaser.comments>1)}}function $9(t,n){if(1&t&&(R(0,"p",20),R(1,"span",21),ot(2),Vu(3,"dateI18N"),Se(4,"br"),z(),Q(5,G9,5,4,"span",22),z()),2&t){const e=Z(2);F(2),vn(" ",o0(3,2,e.blogTeaser.date)," "),F(3),B("ngIf",e.showComments&&e.blogTeaser.comments&&e.blogTeaser.url)}}const Y9=function(t,n,e,i,a,c,h,b,w){return{"bt3-blog-teaser-item--default":t,"bt3-blog-teaser-item--mixed":n,"bt3-blog-teaser-item--format-small":e,"bt3-blog-teaser-item--format-large":i,"bt3-blog-teaser-item--extreme":a,"bt3-blog-teaser-item--row-reversed-mobile":c,"bt3-theme":h,"bt3-theme--primary":b,"bt3-theme--secondary":w}};function q9(t,n){if(1&t&&(R(0,"div",1),Q(1,z9,2,2,"a",2),Q(2,N9,4,2,"div",3),R(3,"div",4),Q(4,B9,3,2,"p",5),Q(5,V9,2,1,"h3",6),Q(6,H9,2,1,"p",7),Q(7,$9,6,4,"p",8),z(),z()),2&t){const e=Z();B("ngClass",X1(7,Y9,[e.layoutType===e.layoutTypes.Default,e.layoutType===e.layoutTypes.Mixed,e.layoutType===e.layoutTypes.Mixed&&e.isFormatSmall,e.layoutType===e.layoutTypes.Mixed&&!e.isFormatSmall,e.layoutType===e.layoutTypes.Mixed&&e.isExtreme,e.layoutType===e.layoutTypes.Mixed&&e.isRowReversedMobile,e.themeVariant,"primary"===e.themeVariant,"secondary"===e.themeVariant])),F(1),B("ngIf",e.blogTeaser.url),F(1),B("ngIf",null==e.blogTeaser.image?null:e.blogTeaser.image.src),F(2),B("ngIf",e.showCategory&&e.blogTeaser.category&&e.blogTeaser.category.title&&e.blogTeaser.category.url),F(1),B("ngIf",e.blogTeaser.title),F(1),B("ngIf",e.blogTeaser.lead),F(1),B("ngIf",e.blogTeaser.date)}}let W9=(()=>{class t{constructor(){this.layoutType=Uu.Default,this.showCategory=!0,this.showComments=!0,this.isFormatSmall=!1,this.isRowReversedMobile=!1,this.isExtreme=!1,this.themeVariant="primary",this.layoutTypes=Uu}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-blog-teaser-item"]],inputs:{blogTeaser:"blogTeaser",layoutType:"layoutType",showCategory:"showCategory",showComments:"showComments",isFormatSmall:"isFormatSmall",isRowReversedMobile:"isRowReversedMobile",isExtreme:"isExtreme",commentsTeaserTextSingular:"commentsTeaserTextSingular",commentsTeaserTextPlural:"commentsTeaserTextPlural",themeVariant:"themeVariant"},decls:1,vars:1,consts:[["class","bt3-blog-teaser-item",3,"ngClass",4,"ngIf"],[1,"bt3-blog-teaser-item",3,"ngClass"],["class","bt3-blog-teaser-item__link",3,"href",4,"ngIf"],["class","bt3-blog-teaser-item__image-container",4,"ngIf"],[1,"bt3-blog-teaser-item__text-content"],["class","bt3-blog-teaser-item__category",4,"ngIf"],["class","bt3-blog-teaser-item__title",4,"ngIf"],["class","bt3-blog-teaser-item__lead",4,"ngIf"],["class","bt3-blog-teaser-item__meta",4,"ngIf"],[1,"bt3-blog-teaser-item__link",3,"href"],["class","bt3-visually-hidden",4,"ngIf"],[1,"bt3-visually-hidden"],[1,"bt3-blog-teaser-item__image-container"],[1,"bt3-blog-teaser-item__image-wrapper"],[1,"bt3-blog-teaser-item__image"],["loading","lazy",1,"bt3-blog-teaser-item__image-img",3,"src"],[1,"bt3-blog-teaser-item__category"],[1,"bt3-blog-teaser-item__category-link",3,"href"],[1,"bt3-blog-teaser-item__title"],[1,"bt3-blog-teaser-item__lead"],[1,"bt3-blog-teaser-item__meta"],[1,"bt3-blog-teaser-item__date"],["class","bt3-blog-teaser-item__comments",4,"ngIf"],[1,"bt3-blog-teaser-item__comments"],[1,"bt3-blog-teaser-item__comments-link",3,"href"],[4,"ngIf"]],template:function(e,i){1&e&&Q(0,q9,8,17,"div",0),2&e&&B("ngIf",i.blogTeaser)},directives:[ri,Pr],pipes:[F9],styles:['@charset "UTF-8";html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p[_ngcontent-%COMP%]{word-break:break-word}h3[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}.bt3-grid__mobile-clear-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:0}@media (min-width: 37.5em){.bt3-grid__tablet-clear-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:0}}@media (min-width: 37.5em){.bt3-grid__tablet-clear-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:0}}@media (min-width: 60em){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__mobile-clear-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:0}}@media (min-width: 60em){.bt3-grid__tablet-clear-breakout-right[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%], .bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-right:0}}@media (min-width: 60em){.bt3-grid__tablet-clear-breakout-left[_ngcontent-%COMP%], .bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-left:0}}.bt3-blog-teaser-item__image[_ngcontent-%COMP%]{position:relative;display:block;overflow:hidden}.bt3-blog-teaser-item__image[_ngcontent-%COMP%]{padding-bottom:62.5%}.bt3-blog-teaser-item--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{margin-left:0}@keyframes bt3-teaser-list__link-animation{0%{transform:scale(1.05)}to{transform:translate(.9rem)}}@keyframes bt3-teaser-list__link-animation--desktop{0%{transform:scale(1.05)}to{transform:translate(1.8rem)}}[_nghost-%COMP%]{display:block;height:100%}.bt3-blog-teaser-item__link[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0;left:0;z-index:1}.bt3-blog-teaser-item__text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:2.1rem;line-height:1.3;margin-bottom:1.8rem}@media (min-width: 60em){.bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:3rem}}.bt3-blog-teaser-item__lead[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;flex-grow:1;line-height:1.5}@media (min-width: 60em){.bt3-blog-teaser-item__lead[_ngcontent-%COMP%]{font-size:1.8rem}}.bt3-blog-teaser-item__meta[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;display:flex;margin-top:2.1rem}@media (min-width: 60em){.bt3-blog-teaser-item__meta[_ngcontent-%COMP%]{font-size:1.8rem}}@media (min-width: 37.5em){.bt3-blog-teaser-item__meta[_ngcontent-%COMP%]{align-items:flex-end}}.bt3-blog-teaser-item__date[_ngcontent-%COMP%]{flex-grow:1}.bt3-blog-teaser-item__comments[_ngcontent-%COMP%]{z-index:1}.bt3-blog-teaser-item__comments-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--themeBase)}@media (hover: hover){.bt3-blog-teaser-item__comments-link[_ngcontent-%COMP%]:hover{color:var(--themeHover)}}.bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-bottom:2.4rem}@media (min-width: 60em){.bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{margin-bottom:3rem}}.bt3-blog-teaser-item__image-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden}.bt3-blog-teaser-item__image[_ngcontent-%COMP%]{display:block;width:100%}.bt3-blog-teaser-item__image-img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;object-fit:cover}.bt3-blog-teaser-item__surtitle[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;line-height:1.2;text-transform:uppercase;margin-bottom:1.8rem}@media (min-width: 60em){.bt3-blog-teaser-item__surtitle[_ngcontent-%COMP%]{font-size:1.8rem}}.bt3-blog-teaser-item__category[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;line-height:1.2;text-transform:uppercase;margin-bottom:.9rem;z-index:1}@media (min-width: 60em){.bt3-blog-teaser-item__category[_ngcontent-%COMP%]{font-size:1.8rem}}@media (min-width: 60em){.bt3-blog-teaser-item__category[_ngcontent-%COMP%]{margin-bottom:1.8rem}}.bt3-blog-teaser-item__title-link[_ngcontent-%COMP%], .bt3-blog-teaser-item__category-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--themeBase)}@media (hover: hover){.bt3-blog-teaser-item__title-link[_ngcontent-%COMP%]:hover, .bt3-blog-teaser-item__category-link[_ngcontent-%COMP%]:hover{color:var(--themeHover)}}.bt3-blog-teaser-item[_ngcontent-%COMP%]{z-index:0;position:relative;height:100%;display:flex;flex-direction:column}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-blog-teaser-item[_ngcontent-%COMP%], .bt3-blog-teaser-item.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-blog-teaser-item[_ngcontent-%COMP%], .bt3-blog-teaser-item.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (hover: hover){.bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__title[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__surtitle[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__category[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__meta[_ngcontent-%COMP%]   .bt3-blog-teaser-item__comments[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__meta[_ngcontent-%COMP%]   .bt3-blog-teaser-item__date[_ngcontent-%COMP%]{transform:translate(.9rem)}}@media (hover: hover) and (min-width: 60em){.bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__title[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__surtitle[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__category[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__meta[_ngcontent-%COMP%]   .bt3-blog-teaser-item__comments[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__meta[_ngcontent-%COMP%]   .bt3-blog-teaser-item__date[_ngcontent-%COMP%]{transform:translate(1.8rem)}}@media (hover: hover){.bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__image[_ngcontent-%COMP%]{transform:scale(1.05)}}@media (hover: hover) and (min-width: 60em){.bt3-blog-teaser-item[_ngcontent-%COMP%]:hover   .bt3-blog-teaser-item__image[_ngcontent-%COMP%]{transform:scale(1.1)}}.bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__title[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__surtitle[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__category[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__comments[_ngcontent-%COMP%], .bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__date[_ngcontent-%COMP%]{transform:translate(0);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s}.bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{transition-duration:.4s}.bt3-blog-teaser-item[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image[_ngcontent-%COMP%]{transform:scale(1);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.4s}.bt3-blog-teaser-item--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{grid-column:span 6}@media (min-width: 60em){.bt3-blog-teaser-item--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{grid-column:span 8}}.bt3-blog-teaser-list__list-item--initialized[_ngcontent-%COMP%]{transform:translate(-5%);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s;opacity:.3}.bt3-blog-teaser-list__list-item--entered[_ngcontent-%COMP%]{transform:translate(0);opacity:1}.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:2.1rem;margin-bottom:0}@media (min-width: 60em){.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:2.4rem}}.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%]{display:none}@media (max-width: 37.49em){.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-items:flex-end}.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__image-container[_ngcontent-%COMP%]{width:32%;flex-shrink:0}.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.8rem}.bt3-blog-teaser-item--format-small[_ngcontent-%COMP%]   .bt3-blog-teaser-item__meta[_ngcontent-%COMP%]{margin-top:2.1rem}}@media (max-width: 37.49em){.bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-items:flex-end}.bt3-blog-teaser-item--row-reversed-mobile[_ngcontent-%COMP%]   .bt3-blog-teaser-item__text-content[_ngcontent-%COMP%]{margin-right:1.8rem;margin-left:0}}.bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:2.1rem}@media (min-width: 60em){.bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__title[_ngcontent-%COMP%]{font-size:3.6rem}}.bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%]{font-size:1.5rem}@media (min-width: 60em){.bt3-blog-teaser-item--format-large[_ngcontent-%COMP%]   .bt3-blog-teaser-item__lead[_ngcontent-%COMP%]{font-size:2.4rem}}@media (max-width: 37.49em){.bt3-blog-teaser-item--format-large.bt3-blog-teaser-item--extreme[_ngcontent-%COMP%]{margin-left:6rem}}']}),t})();const _S="bt3-prevent-scroll";let Qm=(()=>{class t{constructor(){this.preventScroll=!1,this.isOverlay=!1,this.isAbsolute=!1}ngOnInit(){this.preventScroll="true"===this.preventScroll||!0===this.preventScroll,this.isOverlay="true"===this.isOverlay||!0===this.isOverlay,this.isAbsolute="true"===this.isAbsolute||!0===this.isAbsolute,this.preventScroll&&document.documentElement.classList.add(_S)}ngOnDestroy(){document.documentElement.classList.remove(_S)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-loader"]],hostVars:4,hostBindings:function(e,i){2&e&&Rn("bt3-loader--overlay",i.isOverlay)("bt3-loader--absolute",i.isAbsolute)},inputs:{preventScroll:"preventScroll",isOverlay:"isOverlay",isAbsolute:"isAbsolute"},decls:2,vars:0,consts:[[1,"loader"],["name","loader",1,"loader__icon"]],template:function(e,i){1&e&&(R(0,"div",0),Se(1,"bt3-icon",1),z())},styles:[".loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--white)}.loader__icon[_ngcontent-%COMP%]{--themeBase: var(--black-400);width:5.4rem;height:5.4rem;animation:infinite-rotate 1s linear infinite}[_nghost-%COMP%]{display:block}.bt3-loader--overlay[_nghost-%COMP%], .bt3-loader--absolute[_nghost-%COMP%]{top:0;right:0;bottom:0;left:0}.bt3-loader--overlay[_nghost-%COMP%]   .loader[_ngcontent-%COMP%], .bt3-loader--absolute[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]{z-index:1100;position:absolute;top:0;right:0;bottom:0;left:0}.bt3-loader--overlay[_nghost-%COMP%]{z-index:1100;position:fixed}.bt3-loader--absolute[_nghost-%COMP%]{position:absolute}@keyframes infinite-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const Z9=["emailAddress"],X9=["subscriptionMessage"];function K9(t,n){if(1&t&&(R(0,"div",17,18),ot(2),z()),2&t){const e=Z();F(2),vn(" ",e.statusMessage," ")}}let J9=(()=>{class t{constructor(e){this.blogService=e,this.subscriptionEndpoint="https://bkw.ch/_api/v1/reference",this.categoryName="",this.categoryId=null,this.newsletterTeaserText="",this.buttonLabel="",this.buttonLevels=tc}ngOnInit(){this.blogService.blogCategorySubscriptionFinished.subscribe(e=>{this.statusMessage=e.msg,this.subscriptionOK=e.status,console.log(e),this.emailInput.nativeElement.querySelector("input").value=""})}subscribeUser(){var e;this.blogService.subscriberUserWithData({email:null===(e=this.emailInput)||void 0===e?void 0:e.nativeElement.querySelector("input").value,categoryId:this.categoryId,categoryName:this.categoryName})}}return t.\u0275fac=function(e){return new(e||t)(he(gS))},t.\u0275cmp=Ct({type:t,selectors:[["app-blog-category-subscription-form"]],viewQuery:function(e,i){if(1&e&&(En(Z9,5),En(X9,5)),2&e){let a;Xt(a=Kt())&&(i.emailInput=a.first),Xt(a=Kt())&&(i.subscriptionMessage=a.first)}},inputs:{categoryName:"categoryName",categoryId:"categoryId",newsletterTeaserText:"newsletterTeaserText",buttonLabel:"buttonLabel"},decls:19,vars:10,consts:[[1,"bt3-blog-category-subscription-form"],[1,"bt3-blog-category-subscription-form__container"],[1,"bt3-blog-category-subscription-form__content"],[1,"bt3-blog-category-subscription-form__text-wrapper"],[1,"bt3-blog-category-subscription-form__teaser-text-slot"],[1,"bt3-blog-category-subscription-form__title"],[1,"bt3-blog-category-subscription-form__text"],[1,"bt3-blog-category-subscription-form__form-controls"],["id","subscribe_blog_category_newsletter_form",1,"bt3-blog-category-subscription-form__form"],[1,"bt3-form","bt3-form--inverted"],["method","","id","category-subscription-form","action",""],[1,"bt3-blog-category-subscription-form__email-wrapper"],["type","email","required","required","data-validations",'[{"attrName":"required","options":[],"warnMessage":{"1221560910":"Das ist ein Pflichtfeld."}}, {"attrName":"email", "warnMessage":{"1221560910":"E-Mail Adresse ist ung\xfcltig."}}]',"value","",3,"fieldName","fieldId","type","fieldType","label"],["emailAddress",""],[1,"bt3-blog-category-subscription-form__button-wrapper"],["is-white","true","has-extra-padding","true",3,"label","click"],["class","bt3-blog-category-subscription-form__message",4,"ngIf"],[1,"bt3-blog-category-subscription-form__message"],["subscriptionMessage",""]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"div",2),R(3,"div",3),R(4,"div",4),R(5,"h3",5),ot(6),z(),R(7,"p",6),ot(8),z(),z(),z(),R(9,"div",7),R(10,"div",8),R(11,"bt3-form-style-wrapper",9),R(12,"bt3-form",10),R(13,"div",11),Se(14,"bt3-text-input",12,13),z(),R(16,"div",14),R(17,"bt3-button-link",15),Ze("click",function(){return i.subscribeUser()}),z(),z(),z(),z(),Q(18,K9,3,1,"div",16),z(),z(),z(),z(),z()),2&e&&(F(6),vn(" ",i.categoryName," "),F(2),vn(" ",i.newsletterTeaserText," "),F(6),B("fieldName","email")("fieldId","email")("type","email")("fieldType","email")("label","E-Mail"),F(3),zi("label",i.buttonLabel),j("button-level",i.buttonLevels.SECONDARY),F(1),B("ngIf",i.statusMessage))},directives:[ri],styles:['@charset "UTF-8";@keyframes bt3-teaser-list__link-animation{0%{transform:scale(1.05)}to{transform:translate(.9rem)}}@keyframes bt3-teaser-list__link-animation--desktop{0%{transform:scale(1.05)}to{transform:translate(1.8rem)}}.bt3-blog-category-subscription-form{position:relative;height:100%;z-index:0;display:flex;flex-direction:column;background:var(--blue-900);color:var(--white);padding:3.8rem 3.8rem 4.5rem;transition:all .25s}.bt3-blog-category-subscription-form__title{font-size:2.1rem;margin-bottom:1.8rem}@media (min-width: 37.5em){.bt3-blog-category-subscription-form__title{margin-bottom:3rem}}@media (min-width: 60em){.bt3-blog-category-subscription-form__title{font-size:3rem}}.bt3-blog-category-subscription-form__text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin-bottom:.7rem}@media (min-width: 60em){.bt3-blog-category-subscription-form__text{font-size:2.1rem;line-height:1.5}}@media (min-width: 37.5em){.bt3-blog-category-subscription-form__text{margin-bottom:3.9rem}}.bt3-blog-category-subscription-form__email-wrapper{margin-bottom:3rem}.bt3-blog-category-subscription-form__message{margin-top:3.6rem;font-size:1.8rem}\n'],encapsulation:3}),t})();function Q9(t,n){if(1&t&&(R(0,"li",13),Dl(1,14),z()),2&t){Z(4);const e=Ft(5);F(1),B("ngTemplateOutlet",e)}}function eB(t,n){if(1&t&&(zt(0),Q(1,Q9,2,1,"li",10),R(2,"li",11),Se(3,"app-blog-teaser-item",12),z(),Nt()),2&t){const e=n.$implicit,i=n.index,a=Z(3);F(1),B("ngIf",a.newsletterTeaserShown&&i+1===4),F(2),B("blogTeaser",e)("layoutType",a.layoutType)("showCategory",!1)("commentsTeaserTextSingular",a.commentsTeaserTextSingular)("commentsTeaserTextPlural",a.commentsTeaserTextPlural)("themeVariant",a.themeVariant)}}function tB(t,n){if(1&t&&(R(0,"bt3-viewport-entry-notification",7),R(1,"ul",8),Q(2,eB,4,7,"ng-container",9),z(),z()),2&t){const e=Z().ngIf;F(2),B("ngForOf",e.items)}}function nB(t,n){if(1&t&&(R(0,"li",13),Dl(1,14),z()),2&t){Z(4);const e=Ft(5);F(1),B("ngTemplateOutlet",e)}}const iB=function(t,n){return{"bt3-blog-teaser-list__list-item--format-large":t,"bt3-blog-teaser-list__list-item--format-small":n}};function aB(t,n){if(1&t&&(zt(0),Q(1,nB,2,1,"li",10),R(2,"li",15),Se(3,"app-blog-teaser-item",16),z(),Nt()),2&t){const e=n.$implicit,i=n.index,a=Z(3);F(1),B("ngIf",a.newsletterTeaserShown&&i+1===3),F(1),B("ngClass",Cr(10,iB,i%4==0||i%4==3,i%4==1||i%4==2)),F(1),B("blogTeaser",e)("layoutType",a.layoutType)("isFormatSmall",i%4==1||i%4==2)("isRowReversedMobile",i%2==0&&i%4!=0)("isExtreme",(i+1)%4==0)("commentsTeaserTextSingular",a.commentsTeaserTextSingular)("commentsTeaserTextPlural",a.commentsTeaserTextPlural)("themeVariant",a.themeVariant)}}function rB(t,n){if(1&t&&(R(0,"bt3-viewport-entry-notification",7),R(1,"ul",8),Q(2,aB,4,13,"ng-container",9),z(),z()),2&t){const e=Z().ngIf;F(2),B("ngForOf",e.items)}}function oB(t,n){if(1&t){const e=Cn();R(0,"div"),R(1,"bt3-button-link",17),Ze("click",function(){return mt(e),Z(2).requestMorePosts()}),z(),z()}if(2&t){const e=Z(2);Fd("bt3-blog-teaser-list__button-wrapper bt3-theme bt3-theme--",e.themeVariant,""),F(1),zi("label",e.loadMoreLabel),zi("button-level",e.buttonLevels.PRIMARY)}}function sB(t,n){if(1&t&&(zt(0),R(1,"div",18),Dl(2,14),z(),Nt()),2&t){Z(2);const e=Ft(3);F(2),B("ngTemplateOutlet",e)}}const lB=function(t,n){return{"bt3-blog-teaser-list--default":t,"bt3-blog-teaser-list--mixed":n}};function cB(t,n){if(1&t&&(zt(0),R(1,"div",3),Q(2,tB,3,1,"bt3-viewport-entry-notification",4),Q(3,rB,3,1,"bt3-viewport-entry-notification",4),z(),Q(4,oB,2,5,"div",5),Q(5,sB,3,1,"ng-container",6),Nt()),2&t){const e=n.ngIf,i=Z();F(1),B("ngClass",Cr(5,lB,i.layoutType===i.layoutTypes.Default,i.layoutType===i.layoutTypes.Mixed)),F(1),B("ngIf",i.layoutType===i.layoutTypes.Default),F(1),B("ngIf",i.layoutType===i.layoutTypes.Mixed),F(1),B("ngIf",e.items&&e.items.length!==e.total&&!e.loading),F(1),B("ngIf",e.loading)}}function dB(t,n){1&t&&Se(0,"app-loader")}function uB(t,n){if(1&t&&Se(0,"app-blog-category-subscription-form",20),2&t){const e=Z(2);B("categoryId",e.categoryFilters[0])("categoryName",e.newsletterCategoryName)("newsletterTeaserText",e.newsletterTeaserText)("buttonLabel",e.newsletterButtonText)}}function hB(t,n){if(1&t&&Q(0,uB,1,4,"app-blog-category-subscription-form",19),2&t){const e=Z();B("ngIf",e.categoryFilters&&e.categoryFilters[0]&&e.newsletterCategoryName&&e.newsletterTeaserText&&e.newsletterButtonText)}}let mB=(()=>{class t{constructor(e){this.blogService=e,this.layoutType=Uu.Default,this.numOfTeasers=6,this.themeVariant="primary",this.layoutTypes=Uu,this.buttonLevels=tc,this.newsletterTeaserShown=!1,this.isLoaded=!1,this.isLoading=!0,this.initial=!0,this.categoryFilters=[],this.tagFilters=[]}set categoryFilterIds(e){this.categoryFilters="null"!==e?JSON.parse(e):[]}set tagFilterIds(e){this.tagFilters="null"!==e?JSON.parse(e):[]}set showNewsletterTeaser(e){this.newsletterTeaserShown="1"===e||"true"===e}ngOnInit(){const e=this.newsletterTeaserShown&&this.layoutType===this.layoutTypes.Default?this.numOfTeasers-1:this.numOfTeasers;this.blogService.endpoint=this.endpoint||"",this.blogService.loadBlogTeaser(e,this.categoryFilters,this.tagFilters),this.blogTeaserData$=this.blogService.data}requestMorePosts(){this.blogService.loadBlogTeaser(this.numOfTeasers,this.categoryFilters,this.tagFilters)}}return t.\u0275fac=function(e){return new(e||t)(he(gS))},t.\u0275cmp=Ct({type:t,selectors:[["app-blog-teaser-list"]],inputs:{endpoint:"endpoint",layoutType:"layoutType",numOfTeasers:"numOfTeasers",categoryFilterIds:"categoryFilterIds",tagFilterIds:"tagFilterIds",loadMoreLabel:"loadMoreLabel",commentsTeaserTextSingular:"commentsTeaserTextSingular",commentsTeaserTextPlural:"commentsTeaserTextPlural",showNewsletterTeaser:"showNewsletterTeaser",newsletterCategoryName:"newsletterCategoryName",newsletterTeaserText:"newsletterTeaserText",newsletterButtonText:"newsletterButtonText",themeVariant:"themeVariant"},decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["subscriptionForm",""],[1,"bt3-blog-teaser-list",3,"ngClass"],["selector",".bt3-blog-teaser-list__list-item","init-class","bt3-blog-teaser-list__list-item--initialized","entered-class","bt3-blog-teaser-list__list-item--entered","delay","100",4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngIf"],["selector",".bt3-blog-teaser-list__list-item","init-class","bt3-blog-teaser-list__list-item--initialized","entered-class","bt3-blog-teaser-list__list-item--entered","delay","100"],[1,"bt3-blog-teaser-list__list"],[4,"ngFor","ngForOf"],["class","bt3-blog-teaser-list__list-item bt3-blog-teaser-list__list-item--newsletter-teaser",4,"ngIf"],[1,"bt3-blog-teaser-list__list-item"],[3,"blogTeaser","layoutType","showCategory","commentsTeaserTextSingular","commentsTeaserTextPlural","themeVariant"],[1,"bt3-blog-teaser-list__list-item","bt3-blog-teaser-list__list-item--newsletter-teaser"],[3,"ngTemplateOutlet"],[1,"bt3-blog-teaser-list__list-item",3,"ngClass"],[3,"blogTeaser","layoutType","isFormatSmall","isRowReversedMobile","isExtreme","commentsTeaserTextSingular","commentsTeaserTextPlural","themeVariant"],["has-extra-padding","true",3,"label","button-level","click"],[1,"bt3-blog-teaser-list__loader-wrapper"],[3,"categoryId","categoryName","newsletterTeaserText","buttonLabel",4,"ngIf"],[3,"categoryId","categoryName","newsletterTeaserText","buttonLabel"]],template:function(e,i){if(1&e&&(Q(0,cB,6,8,"ng-container",0),Vu(1,"async"),Q(2,dB,1,0,"ng-template",null,1,Hs),Q(4,hB,1,1,"ng-template",null,2,Hs)),2&e){const a=Ft(3);B("ngIf",o0(1,2,i.blogTeaserData$))("ngIfElse",a)}},directives:[ri,Pr,ya,W9,ju,Qm,J9],pipes:[ED],styles:['@charset "UTF-8";.bt3-blog-teaser-list__list[_ngcontent-%COMP%]{list-style:none;margin-left:0}.bt3-blog-teaser-list--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{display:grid;grid-gap:1.8rem;gap:1.8rem;grid-row-gap:6rem;row-gap:6rem;grid-template-columns:repeat(1,1fr)}@media (min-width: 37.5em){.bt3-blog-teaser-list--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{grid-template-columns:repeat(12,1fr)}}@media (min-width: 60em){.bt3-blog-teaser-list--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{grid-gap:3.6rem;gap:3.6rem;grid-row-gap:9rem;row-gap:9rem}}@media (min-width: 37.5em){.bt3-blog-teaser-list--default[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{grid-column:span 6}}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]{overflow:hidden;margin:0 -1.8rem;padding:0 1.8rem}@media (min-width: 60em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]{margin:0 -7.2rem 0 0;padding:0 7.2rem 0 0}}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 37.5em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{left:1.8rem}}@media (min-width: 60em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{left:7.2rem}}@media (min-width: 37.5em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{right:1.8rem}}@media (min-width: 60em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{right:7.2rem}}@media (min-width: 37.5em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list[_ngcontent-%COMP%]{justify-content:space-between;flex-flow:row wrap;align-items:flex-end}}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{margin-top:6rem}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]:first-child{margin-top:0}@media (min-width: 37.5em){.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]{margin-top:9rem}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item[_ngcontent-%COMP%]:nth-child(-n+2){margin-top:0}}.bt3-blog-teaser-list--mixed[_ngcontent-%COMP%]   .bt3-blog-teaser-list__list-item--newsletter-teaser[_ngcontent-%COMP%]{width:100%}@media (min-width: 37.5em){.bt3-blog-teaser-list__list-item--format-large[_ngcontent-%COMP%]{width:calc((2 * 100% / 3) - 1.2rem)}}@media (min-width: 37.5em){.bt3-blog-teaser-list__list-item--format-small[_ngcontent-%COMP%]{width:calc((1 * 100% / 3) - 2.4rem)}}.bt3-blog-teaser-list__button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin:6rem auto 0}@media (min-width: 37.5em){.bt3-blog-teaser-list__button-wrapper[_ngcontent-%COMP%]{margin-top:9rem}}.bt3-blog-teaser-list__loader-wrapper[_ngcontent-%COMP%]{display:block;margin:6rem auto 0}@media (min-width: 37.5em){.bt3-blog-teaser-list__loader-wrapper[_ngcontent-%COMP%]{margin-top:9rem}}']}),t})();function bS(){return"undefined"!=typeof window&&void 0!==window.document}function J2(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ep(t){switch(t.length){case 0:return new a_;case 1:return t[0];default:return new XD(t)}}function yS(t,n,e,i,a={},c={}){const h=[],b=[];let w=-1,E=null;if(i.forEach(L=>{const $=L.offset,K=$==w,ie=K&&E||{};Object.keys(L).forEach(pe=>{let Pe=pe,Oe=L[pe];if("offset"!==pe)switch(Pe=n.normalizePropertyName(Pe,h),Oe){case"!":Oe=a[pe];break;case Jh:Oe=c[pe];break;default:Oe=n.normalizeStyleValue(pe,Pe,Oe,h)}ie[Pe]=Oe}),K||b.push(ie),E=ie,w=$}),h.length){const L="\n - ";throw new Error(`Unable to animate due to the following errors:${L}${h.join(L)}`)}return b}function Q2(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&eC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&eC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&eC(e,"destroy",t)))}}function eC(t,n,e){const i=e.totalTime,c=tC(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==i?t.totalTime:i,!!e.disabled),h=t._data;return null!=h&&(c._data=h),c}function tC(t,n,e,i,a="",c=0,h){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:a,totalTime:c,disabled:!!h}}function ic(t,n,e){let i;return t instanceof Map?(i=t.get(n),i||t.set(n,i=e)):(i=t[n],i||(i=t[n]=e)),i}function vS(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let nC=(t,n)=>!1,iC=(t,n)=>!1,xS=(t,n,e)=>[];const wS=J2();(wS||"undefined"!=typeof Element)&&(nC=bS()?(t,n)=>{for(;n&&n!==document.documentElement;){if(n===t)return!0;n=n.parentNode||n.host}return!1}:(t,n)=>t.contains(n),iC=(()=>{if(wS||Element.prototype.matches)return(t,n)=>t.matches(n);{const t=Element.prototype,n=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return n?(e,i)=>n.apply(e,[i]):iC}})(),xS=(t,n,e)=>{let i=[];if(e){const a=t.querySelectorAll(n);for(let c=0;c<a.length;c++)i.push(a[c])}else{const a=t.querySelector(n);a&&i.push(a)}return i});let Mf=null,CS=!1;function aC(t){Mf||(Mf=("undefined"!=typeof document?document.body:null)||{},CS=!!Mf.style&&"WebkitAppearance"in Mf.style);let n=!0;return Mf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Mf.style,!n&&CS&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Mf.style)),n}const rC=iC,oC=nC,sC=xS;function kS(t){const n={};return Object.keys(t).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");n[i]=t[e]}),n}let MS=(()=>{class t{validateStyleProperty(e){return aC(e)}matchesElement(e,i){return rC(e,i)}containsElement(e,i){return oC(e,i)}query(e,i,a){return sC(e,i,a)}computeStyle(e,i,a){return a||""}animate(e,i,a,c,h,b=[],w){return new a_(a,c)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),lC=(()=>{class t{}return t.NOOP=new MS,t})();const cC="ng-enter",Rv="ng-leave",zv="ng-trigger",Nv=".ng-trigger",ES="ng-animating",dC=".ng-animating";function Tf(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:uC(parseFloat(n[1]),n[2])}function uC(t,n){return"s"===n?1e3*t:t}function Bv(t,n,e){return t.hasOwnProperty("duration")?t:function(t,n,e){let a,c=0,h="";if("string"==typeof t){const b=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return n.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};a=uC(parseFloat(b[1]),b[2]);const w=b[3];null!=w&&(c=uC(parseFloat(w),b[4]));const E=b[5];E&&(h=E)}else a=t;if(!e){let b=!1,w=n.length;a<0&&(n.push("Duration values below 0 are not allowed for this animation step."),b=!0),c<0&&(n.push("Delay values below 0 are not allowed for this animation step."),b=!0),b&&n.splice(w,0,`The provided timing value "${t}" is invalid.`)}return{duration:a,delay:c,easing:h}}(t,n,e)}function r_(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function tp(t,n,e={}){if(n)for(let i in t)e[i]=t[i];else r_(t,e);return e}function SS(t,n,e){return e?n+":"+e+";":""}function IS(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=SS(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=SS(0,xB(e),t.style[e]));t.setAttribute("style",n)}function Gu(t,n,e){t.style&&(Object.keys(n).forEach(i=>{const a=mC(i);e&&!e.hasOwnProperty(i)&&(e[i]=t.style[a]),t.style[a]=n[i]}),J2()&&IS(t))}function Ef(t,n){t.style&&(Object.keys(n).forEach(e=>{const i=mC(e);t.style[i]=""}),J2()&&IS(t))}function M0(t){return Array.isArray(t)?1==t.length?t[0]:YD(t):t}const hC=new RegExp("{{\\s*(.+?)\\s*}}","g");function AS(t){let n=[];if("string"==typeof t){let e;for(;e=hC.exec(t);)n.push(e[1]);hC.lastIndex=0}return n}function Vv(t,n,e){const i=t.toString(),a=i.replace(hC,(c,h)=>{let b=n[h];return n.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),b=""),b.toString()});return a==i?t:a}function Hv(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const vB=/-+([a-z0-9])/g;function mC(t){return t.replace(vB,(...n)=>n[1].toUpperCase())}function xB(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function OS(t,n){return 0===t||0===n}function LS(t,n,e){const i=Object.keys(e);if(i.length&&n.length){let c=n[0],h=[];if(i.forEach(b=>{c.hasOwnProperty(b)||h.push(b),c[b]=e[b]}),h.length)for(var a=1;a<n.length;a++){let b=n[a];h.forEach(function(w){b[w]=pC(t,w)})}}return n}function ac(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function pC(t,n){return window.getComputedStyle(t)[n]}function wB(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function(t,n,e){if(":"==t[0]){const w=function(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof w)return void n.push(w);t=w}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${t}" is not supported`),n;const a=i[1],c=i[2],h=i[3];n.push(PS(a,h));"<"==c[0]&&!("*"==a&&"*"==h)&&n.push(PS(h,a))}(i,e,n)):e.push(t),e}const Uv=new Set(["true","1"]),Gv=new Set(["false","0"]);function PS(t,n){const e=Uv.has(t)||Gv.has(t),i=Uv.has(n)||Gv.has(n);return(a,c)=>{let h="*"==t||t==a,b="*"==n||n==c;return!h&&e&&"boolean"==typeof a&&(h=a?Uv.has(t):Gv.has(t)),!b&&i&&"boolean"==typeof c&&(b=c?Uv.has(n):Gv.has(n)),h&&b}}const MB=new RegExp("s*:selfs*,?","g");function fC(t,n,e){return new TB(t).build(n,e)}class TB{constructor(n){this._driver=n}build(n,e){const i=new SB(e);return this._resetContextStyleTimingState(i),ac(this,M0(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,a=e.depCount=0;const c=[],h=[];return"@"==n.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(b=>{if(this._resetContextStyleTimingState(e),0==b.type){const w=b,E=w.name;E.toString().split(/\s*,\s*/).forEach(L=>{w.name=L,c.push(this.visitState(w,e))}),w.name=E}else if(1==b.type){const w=this.visitTransition(b,e);i+=w.queryCount,a+=w.depCount,h.push(w)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:c,transitions:h,queryCount:i,depCount:a,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),a=n.options&&n.options.params||null;if(i.containsDynamicStyles){const c=new Set,h=a||{};if(i.styles.forEach(b=>{if($v(b)){const w=b;Object.keys(w).forEach(E=>{AS(w[E]).forEach(L=>{h.hasOwnProperty(L)||c.add(L)})})}}),c.size){const b=Hv(c.values());e.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${b.join(", ")}`)}}return{type:0,name:n.name,style:i,options:a?{params:a}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=ac(this,M0(n.animation),e);return{type:1,matchers:wB(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Df(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>ac(this,i,e)),options:Df(n.options)}}visitGroup(n,e){const i=e.currentTime;let a=0;const c=n.steps.map(h=>{e.currentTime=i;const b=ac(this,h,e);return a=Math.max(a,e.currentTime),b});return e.currentTime=a,{type:3,steps:c,options:Df(n.options)}}visitAnimate(n,e){const i=function(t,n){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return gC(Bv(t,n).duration,0,"");const i=t;if(i.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=gC(0,0,"");return c.dynamic=!0,c.strValue=i,c}return e=e||Bv(i,n),gC(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let a,c=n.styles?n.styles:Ln({});if(5==c.type)a=this.visitKeyframes(c,e);else{let h=n.styles,b=!1;if(!h){b=!0;const E={};i.easing&&(E.easing=i.easing),h=Ln(E)}e.currentTime+=i.duration+i.delay;const w=this.visitStyle(h,e);w.isEmptyStep=b,a=w}return e.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[];Array.isArray(n.styles)?n.styles.forEach(h=>{"string"==typeof h?h==Jh?i.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):i.push(h)}):i.push(n.styles);let a=!1,c=null;return i.forEach(h=>{if($v(h)){const b=h,w=b.easing;if(w&&(c=w,delete b.easing),!a)for(let E in b)if(b[E].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:c,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),n.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(b=>{if(!this._driver.validateStyleProperty(b))return void e.errors.push(`The provided animation property "${b}" is not a supported CSS property for animations`);const w=e.collectedStyles[e.currentQuerySelector],E=w[b];let L=!0;E&&(c!=a&&c>=E.startTime&&a<=E.endTime&&(e.errors.push(`The CSS property "${b}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),L=!1),c=E.startTime),L&&(w[b]={startTime:c,endTime:a}),e.options&&function(t,n,e){const i=n.params||{},a=AS(t);a.length&&a.forEach(c=>{i.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[b],e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let c=0;const h=[];let b=!1,w=!1,E=0;const L=n.steps.map(Qe=>{const We=this._makeStyleAst(Qe,e);let Dt=null!=We.offset?We.offset:function(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if($v(e)&&e.hasOwnProperty("offset")){const i=e;n=parseFloat(i.offset),delete i.offset}});else if($v(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(We.styles),Zt=0;return null!=Dt&&(c++,Zt=We.offset=Dt),w=w||Zt<0||Zt>1,b=b||Zt<E,E=Zt,h.push(Zt),We});w&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),b&&e.errors.push("Please ensure that all keyframe offsets are in order");const $=n.steps.length;let K=0;c>0&&c<$?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(K=1/($-1));const ie=$-1,pe=e.currentTime,Pe=e.currentAnimateTimings,Oe=Pe.duration;return L.forEach((Qe,We)=>{const Dt=K>0?We==ie?1:K*We:h[We],Zt=Dt*Oe;e.currentTime=pe+Pe.delay+Zt,Pe.duration=Zt,this._validateStyleAst(Qe,e),Qe.offset=Dt,i.styles.push(Qe)}),i}visitReference(n,e){return{type:8,animation:ac(this,M0(n.animation),e),options:Df(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Df(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Df(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,a=n.options||{};e.queryCount++,e.currentQuery=n;const[c,h]=function(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(MB,"")),t=t.replace(/@\*/g,Nv).replace(/@\w+/g,e=>Nv+"-"+e.substr(1)).replace(/:animating/g,dC),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+c:c,ic(e.collectedStyles,e.currentQuerySelector,{});const b=ac(this,M0(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:b,originalSelector:n.selector,options:Df(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Bv(n.timings,e.errors,!0);return{type:12,animation:ac(this,M0(n.animation),e),timings:i,options:null}}}class SB{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $v(t){return!Array.isArray(t)&&"object"==typeof t}function Df(t){return t?(t=r_(t)).params&&(t.params=function(t){return t?r_(t):null}(t.params)):t={},t}function gC(t,n,e){return{duration:t,delay:n,easing:e}}function _C(t,n,e,i,a,c,h=null,b=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:a,delay:c,totalTime:a+c,easing:h,subTimeline:b}}class Yv{constructor(){this._map=new Map}consume(n){let e=this._map.get(n);return e?this._map.delete(n):e=[],e}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const PB=new RegExp(":enter","g"),RB=new RegExp(":leave","g");function bC(t,n,e,i,a,c={},h={},b,w,E=[]){return(new zB).buildKeyframes(t,n,e,i,a,c,h,b,w,E)}class zB{buildKeyframes(n,e,i,a,c,h,b,w,E,L=[]){E=E||new Yv;const $=new yC(n,e,E,a,c,L,[]);$.options=w,$.currentTimeline.setStyles([h],null,$.errors,w),ac(this,i,$);const K=$.timelines.filter(ie=>ie.containsAnimation());if(K.length&&Object.keys(b).length){const ie=K[K.length-1];ie.allowOnlyTimelineStyles()||ie.setStyles([b],null,$.errors,w)}return K.length?K.map(ie=>ie.buildKeyframes()):[_C(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.consume(e.element);if(i){const a=e.createSubContext(n.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,a,a.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,i){let c=e.currentTimeline.currentTime;const h=null!=i.duration?Tf(i.duration):null,b=null!=i.delay?Tf(i.delay):null;return 0!==h&&n.forEach(w=>{const E=e.appendInstructionToTimeline(w,h,b);c=Math.max(c,E.duration+E.delay)}),c}visitReference(n,e){e.updateOptions(n.options,!0),ac(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let a=e;const c=n.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=qv);const h=Tf(c.delay);a.delayNextStep(h)}n.steps.length&&(n.steps.forEach(h=>ac(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let a=e.currentTimeline.currentTime;const c=n.options&&n.options.delay?Tf(n.options.delay):0;n.steps.forEach(h=>{const b=e.createSubContext(n.options);c&&b.delayNextStep(c),ac(this,h,b),a=Math.max(a,b.currentTimeline.currentTime),i.push(b.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Bv(e.params?Vv(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),a=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),a.snapshotCurrentStyles());const c=n.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,a=e.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();const c=a&&a.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(c):i.setStyles(n.styles,c,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,a=e.currentTimeline.duration,c=i.duration,b=e.createSubContext().currentTimeline;b.easing=i.easing,n.styles.forEach(w=>{b.forwardTime((w.offset||0)*c),b.setStyles(w.styles,w.easing,e.errors,e.options),b.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(b),e.transformIntoNewTimeline(a+c),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,a=n.options||{},c=a.delay?Tf(a.delay):0;c&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qv);let h=i;const b=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=b.length;let w=null;b.forEach((E,L)=>{e.currentQueryIndex=L;const $=e.createSubContext(n.options,E);c&&$.delayNextStep(c),E===e.element&&(w=$.currentTimeline),ac(this,n.animation,$),$.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,$.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,a=e.currentTimeline,c=n.timings,h=Math.abs(c.duration),b=h*(e.currentQueryTotal-1);let w=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":w=b-w;break;case"full":w=i.currentStaggerTime}const L=e.currentTimeline;w&&L.delayNextStep(w);const $=L.currentTime;ac(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=a.currentTime-$+(a.startTime-i.currentTimeline.startTime)}}const qv={};class yC{constructor(n,e,i,a,c,h,b,w){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=c,this.errors=h,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new Wv(this._driver,e,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let a=this.options;null!=i.duration&&(a.duration=Tf(i.duration)),null!=i.delay&&(a.delay=Tf(i.delay));const c=i.params;if(c){let h=a.params;h||(h=this.options.params={}),Object.keys(c).forEach(b=>{(!e||!h.hasOwnProperty(b))&&(h[b]=Vv(c[b],h,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(a=>{i[a]=e[a]})}}return n}createSubContext(n=null,e,i){const a=e||this.element,c=new yC(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(n),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(n){return this.previousNode=qv,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const a={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+n.delay,easing:""},c=new NB(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,a,c,h){let b=[];if(a&&b.push(this.element),n.length>0){n=(n=n.replace(PB,"."+this._enterClassName)).replace(RB,"."+this._leaveClassName);let E=this._driver.query(this.element,n,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),b.push(...E)}return!c&&0==b.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),b}}class Wv{constructor(n,e,i,a){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Wv(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Jh,this._currentKeyframe[e]=Jh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},h=function(t,n){const e={};let i;return t.forEach(a=>{"*"===a?(i=i||Object.keys(n),i.forEach(c=>{e[c]=Jh})):tp(a,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(h).forEach(b=>{const w=Vv(h[b],c,i);this._pendingStyles[b]=w,this._localTimelineStyles.hasOwnProperty(b)||(this._backFill[b]=this._globalTimelineStyles.hasOwnProperty(b)?this._globalTimelineStyles[b]:Jh),this._updateStyle(b,w)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=n[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const i=this._styleSummary[e],a=n._styleSummary[e];(!i||a.time>i.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((b,w)=>{const E=tp(b,!0);Object.keys(E).forEach(L=>{const $=E[L];"!"==$?n.add(L):$==Jh&&e.add(L)}),i||(E.offset=w/this.duration),a.push(E)});const c=n.size?Hv(n.values()):[],h=e.size?Hv(e.values()):[];if(i){const b=a[0],w=r_(b);b.offset=0,w.offset=1,a=[b,w]}return _C(this.element,a,c,h,this.duration,this.startTime,this.easing,!1)}}class NB extends Wv{constructor(n,e,i,a,c,h,b=!1){super(n,e,h.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=b,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=i+e,b=e/h,w=tp(n[0],!1);w.offset=0,c.push(w);const E=tp(n[0],!1);E.offset=zS(b),c.push(E);const L=n.length-1;for(let $=1;$<=L;$++){let K=tp(n[$],!1);K.offset=zS((e+K.offset*i)/h),c.push(K)}i=h,e=0,a="",n=c}return _C(this.element,n,this.preStyleProps,this.postStyleProps,i,e,a,!0)}}function zS(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class vC{}class VB extends vC{normalizePropertyName(n,e){return mC(n)}normalizeStyleValue(n,e,i,a){let c="";const h=i.toString().trim();if(HB[e]&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const b=i.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&a.push(`Please provide a CSS unit value for ${n}:${i}`)}return h+c}}const HB=(()=>function(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NS(t,n,e,i,a,c,h,b,w,E,L,$,K){return{type:0,element:t,triggerName:n,isRemovalTransition:a,fromState:e,fromStyles:c,toState:i,toStyles:h,timelines:b,queriedElements:w,preStyleProps:E,postStyleProps:L,totalTime:$,errors:K}}const xC={};class BS{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,a){return function(t,n,e,i,a){return t.some(c=>c(n,e,i,a))}(this.ast.matchers,n,e,i,a)}buildStyles(n,e,i){const a=this._stateStyles["*"],c=this._stateStyles[n],h=a?a.buildStyles(e,i):{};return c?c.buildStyles(e,i):h}build(n,e,i,a,c,h,b,w,E,L){const $=[],K=this.ast.options&&this.ast.options.params||xC,pe=this.buildStyles(i,b&&b.params||xC,$),Pe=w&&w.params||xC,Oe=this.buildStyles(a,Pe,$),Qe=new Set,We=new Map,Dt=new Map,Zt="void"===a,Ei={params:Object.assign(Object.assign({},K),Pe)},Ma=L?[]:bC(n,e,this.ast.animation,c,h,pe,Oe,Ei,E,$);let Va=0;if(Ma.forEach(pr=>{Va=Math.max(pr.duration+pr.delay,Va)}),$.length)return NS(e,this._triggerName,i,a,Zt,pe,Oe,[],[],We,Dt,Va,$);Ma.forEach(pr=>{const Er=pr.element,bo=ic(We,Er,{});pr.preStyleProps.forEach(sc=>bo[sc]=!0);const Ku=ic(Dt,Er,{});pr.postStyleProps.forEach(sc=>Ku[sc]=!0),Er!==e&&Qe.add(Er)});const Tr=Hv(Qe.values());return NS(e,this._triggerName,i,a,Zt,pe,Oe,Ma,Tr,We,Dt,Va)}}class GB{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i={},a=r_(this.defaultParams);return Object.keys(n).forEach(c=>{const h=n[c];null!=h&&(a[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(b=>{let w=h[b];w.length>1&&(w=Vv(w,a,e));const E=this.normalizer.normalizePropertyName(b,e);w=this.normalizer.normalizeStyleValue(b,E,w,e),i[E]=w})}}),i}}class YB{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new GB(a.style,a.options&&a.options.params||{},i)}),VS(this.states,"true","1"),VS(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new BS(n,a,this.states))}),this.fallbackTransition=function(t,n,e){return new BS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,b)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,a){return this.transitionFactories.find(h=>h.match(n,e,i,a))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function VS(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const WB=new Yv;class ZB{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(n,e){const i=[],a=fC(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[n]=a}_buildPlayer(n,e,i){const a=n.element,c=yS(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(a,c,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const a=[],c=this._animations[n];let h;const b=new Map;if(c?(h=bC(this._driver,e,c,cC,Rv,{},{},i,WB,a),h.forEach(L=>{const $=ic(b,L.element,{});L.postStyleProps.forEach(K=>$[K]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);b.forEach((L,$)=>{Object.keys(L).forEach(K=>{L[K]=this._driver.computeStyle($,K,Jh)})});const E=ep(h.map(L=>{const $=b.get(L.element);return this._buildPlayer(L,{},$)}));return this._playersById[n]=E,E.onDestroy(()=>this.destroy(n)),this.players.push(E),E}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw new Error(`Unable to find the timeline player referenced by ${n}`);return e}listen(n,e,i,a){const c=tC(e,"","","");return Q2(this._getPlayer(n),i,c,a),()=>{}}command(n,e,i,a){if("register"==i)return void this.register(n,a[0]);if("create"==i)return void this.create(n,e,a[0]||{});const c=this._getPlayer(n);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const HS="ng-animate-queued",jS="ng-animate-disabled",US=".ng-animate-disabled",QB=[],GS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hc="__ng_removed";class wC{constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(i?n.value:n),i){const c=r_(n);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(a=>{null==i[a]&&(i[a]=e[a])})}}}const T0="void",CC=new wC(T0);class tV{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,jc(e,this._hostClassName)}listen(n,e,i,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(t){return"start"==t||"done"==t}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const c=ic(this._elementListeners,n,[]),h={name:e,phase:i,callback:a};c.push(h);const b=ic(this._engine.statesByElement,n,{});return b.hasOwnProperty(e)||(jc(n,zv),jc(n,zv+"-"+e),b[e]=CC),()=>{this._engine.afterFlush(()=>{const w=c.indexOf(h);w>=0&&c.splice(w,1),this._triggers[e]||delete b[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return e}trigger(n,e,i,a=!0){const c=this._getTrigger(e),h=new kC(this.id,e,n);let b=this._engine.statesByElement.get(n);b||(jc(n,zv),jc(n,zv+"-"+e),this._engine.statesByElement.set(n,b={}));let w=b[e];const E=new wC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&E.absorbOptions(w.options),b[e]=E,w||(w=CC),E.value!==T0&&w.value===E.value){if(!function(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!n.hasOwnProperty(c)||t[c]!==n[c])return!1}return!0}(w.params,E.params)){const Pe=[],Oe=c.matchStyles(w.value,w.params,Pe),Qe=c.matchStyles(E.value,E.params,Pe);Pe.length?this._engine.reportError(Pe):this._engine.afterFlush(()=>{Ef(n,Oe),Gu(n,Qe)})}return}const K=ic(this._engine.playersByElement,n,[]);K.forEach(Pe=>{Pe.namespaceId==this.id&&Pe.triggerName==e&&Pe.queued&&Pe.destroy()});let ie=c.matchTransition(w.value,E.value,n,E.params),pe=!1;if(!ie){if(!a)return;ie=c.fallbackTransition,pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:ie,fromState:w,toState:E,player:h,isFallbackTransition:pe}),pe||(jc(n,HS),h.onStart(()=>{o_(n,HS)})),h.onDone(()=>{let Pe=this.players.indexOf(h);Pe>=0&&this.players.splice(Pe,1);const Oe=this._engine.playersByElement.get(n);if(Oe){let Qe=Oe.indexOf(h);Qe>=0&&Oe.splice(Qe,1)}}),this.players.push(h),K.push(h),h}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,i)=>{delete e[n]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Nv,!0);i.forEach(a=>{if(a[Hc])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(n,e,i,a){const c=this._engine.statesByElement.get(n);if(c){const h=[];if(Object.keys(c).forEach(b=>{if(this._triggers[b]){const w=this.trigger(n,b,T0,a);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,e),i&&ep(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const a=new Set;e.forEach(c=>{const h=c.name;if(a.has(h))return;a.add(h);const w=this._triggers[h].fallbackTransition,E=i[h]||CC,L=new wC(T0),$=new kC(this.id,h,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:h,transition:w,fromState:E,toState:L,player:$,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let a=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(n):[];if(c&&c.length)a=!0;else{let h=n;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(n),a)i.markElementAsRemoved(this.id,n,!1,e);else{const c=n[Hc];(!c||c===GS)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){jc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const c=i.element,h=this._elementListeners.get(c);h&&h.forEach(b=>{if(b.name==i.triggerName){const w=tC(c,i.triggerName,i.fromState.value,i.toState.value);w._data=n,Q2(i.player,b.phase,w,b.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(i)}),this._queue=[],e.sort((i,a)=>{const c=i.transition.ast.depCount,h=a.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class nV{constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new tV(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList.length-1;if(i>=0){let a=!1;for(let c=i;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,n),a=!0;break}a||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let a=this._namespaceLookup[n];a&&a.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i){const a=Object.keys(i);for(let c=0;c<a.length;c++){const h=i[a[c]].namespaceId;if(h){const b=this._fetchNamespace(h);b&&e.add(b)}}}return e}trigger(n,e,i,a){if(Zv(e)){const c=this._fetchNamespace(n);if(c)return c.trigger(e,i,a),!0}return!1}insertNode(n,e,i,a){if(!Zv(e))return;const c=e[Hc];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(n){const h=this._fetchNamespace(n);h&&h.insertNode(e,i)}a&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),jc(n,jS)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),o_(n,jS))}removeNode(n,e,i,a){if(Zv(e)){const c=n?this._fetchNamespace(n):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(n,e,!1,a),i){const h=this.namespacesByHostElement.get(e);h&&h.id!==n&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(n,e,i,a){this.collectedLeaveElements.push(e),e[Hc]={namespaceId:n,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}listen(n,e,i,a,c){return Zv(e)?this._fetchNamespace(n).listen(e,i,a,c):()=>{}}_buildInstruction(n,e,i,a,c){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,a,n.fromState.options,n.toState.options,e,c)}destroyInnerAnimations(n){let e=this.driver.query(n,Nv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,dC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ep(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Hc];if(e&&e.setForRemoval){if(n[Hc]=GS,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}this.driver.matchesElement(n,US)&&this.markElementAsDisabled(n,!1),this.driver.query(n,US,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ep(e).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,e){const i=new Yv,a=[],c=new Map,h=[],b=new Map,w=new Map,E=new Map,L=new Set;this.disabledNodes.forEach(Dn=>{L.add(Dn);const Jn=this.driver.query(Dn,".ng-animate-queued",!0);for(let vi=0;vi<Jn.length;vi++)L.add(Jn[vi])});const $=this.bodyNode,K=Array.from(this.statesByElement.keys()),ie=qS(K,this.collectedEnterElements),pe=new Map;let Pe=0;ie.forEach((Dn,Jn)=>{const vi=cC+Pe++;pe.set(Jn,vi),Dn.forEach(oa=>jc(oa,vi))});const Oe=[],Qe=new Set,We=new Set;for(let Dn=0;Dn<this.collectedLeaveElements.length;Dn++){const Jn=this.collectedLeaveElements[Dn],vi=Jn[Hc];vi&&vi.setForRemoval&&(Oe.push(Jn),Qe.add(Jn),vi.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(oa=>Qe.add(oa)):We.add(Jn))}const Dt=new Map,Zt=qS(K,Array.from(Qe));Zt.forEach((Dn,Jn)=>{const vi=Rv+Pe++;Dt.set(Jn,vi),Dn.forEach(oa=>jc(oa,vi))}),n.push(()=>{ie.forEach((Dn,Jn)=>{const vi=pe.get(Jn);Dn.forEach(oa=>o_(oa,vi))}),Zt.forEach((Dn,Jn)=>{const vi=Dt.get(Jn);Dn.forEach(oa=>o_(oa,vi))}),Oe.forEach(Dn=>{this.processLeaveNode(Dn)})});const Ei=[],Ma=[];for(let Dn=this._namespaceList.length-1;Dn>=0;Dn--)this._namespaceList[Dn].drainQueuedTransitions(e).forEach(vi=>{const oa=vi.player,es=vi.element;if(Ei.push(oa),this.collectedEnterElements.length){const Qu=es[Hc];if(Qu&&Qu.setForMove)return void oa.destroy()}const Ju=!$||!this.driver.containsElement($,es),lc=Dt.get(es),gp=pe.get(es),$r=this._buildInstruction(vi,i,gp,lc,Ju);if($r.errors&&$r.errors.length)Ma.push($r);else{if(Ju)return oa.onStart(()=>Ef(es,$r.fromStyles)),oa.onDestroy(()=>Gu(es,$r.toStyles)),void a.push(oa);if(vi.isFallbackTransition)return oa.onStart(()=>Ef(es,$r.fromStyles)),oa.onDestroy(()=>Gu(es,$r.toStyles)),void a.push(oa);$r.timelines.forEach(Qu=>Qu.stretchStartingKeyframe=!0),i.append(es,$r.timelines),h.push({instruction:$r,player:oa,element:es}),$r.queriedElements.forEach(Qu=>ic(b,Qu,[]).push(oa)),$r.preStyleProps.forEach((Qu,ey)=>{const Gx=Object.keys(Qu);if(Gx.length){let jf=w.get(ey);jf||w.set(ey,jf=new Set),Gx.forEach(Fk=>jf.add(Fk))}}),$r.postStyleProps.forEach((Qu,ey)=>{const Gx=Object.keys(Qu);let jf=E.get(ey);jf||E.set(ey,jf=new Set),Gx.forEach(Fk=>jf.add(Fk))})}});if(Ma.length){const Dn=[];Ma.forEach(Jn=>{Dn.push(`@${Jn.triggerName} has failed due to:\n`),Jn.errors.forEach(vi=>Dn.push(`- ${vi}\n`))}),Ei.forEach(Jn=>Jn.destroy()),this.reportError(Dn)}const Va=new Map,Tr=new Map;h.forEach(Dn=>{const Jn=Dn.element;i.has(Jn)&&(Tr.set(Jn,Jn),this._beforeAnimationBuild(Dn.player.namespaceId,Dn.instruction,Va))}),a.forEach(Dn=>{const Jn=Dn.element;this._getPreviousPlayers(Jn,!1,Dn.namespaceId,Dn.triggerName,null).forEach(oa=>{ic(Va,Jn,[]).push(oa),oa.destroy()})});const pr=Oe.filter(Dn=>ZS(Dn,w,E)),Er=new Map;YS(Er,this.driver,We,E,Jh).forEach(Dn=>{ZS(Dn,w,E)&&pr.push(Dn)});const Ku=new Map;ie.forEach((Dn,Jn)=>{YS(Ku,this.driver,new Set(Dn),w,"!")}),pr.forEach(Dn=>{const Jn=Er.get(Dn),vi=Ku.get(Dn);Er.set(Dn,Object.assign(Object.assign({},Jn),vi))});const sc=[],pp=[],fp={};h.forEach(Dn=>{const{element:Jn,player:vi,instruction:oa}=Dn;if(i.has(Jn)){if(L.has(Jn))return vi.onDestroy(()=>Gu(Jn,oa.toStyles)),vi.disabled=!0,vi.overrideTotalTime(oa.totalTime),void a.push(vi);let es=fp;if(Tr.size>1){let lc=Jn;const gp=[];for(;lc=lc.parentNode;){const $r=Tr.get(lc);if($r){es=$r;break}gp.push(lc)}gp.forEach($r=>Tr.set($r,es))}const Ju=this._buildAnimation(vi.namespaceId,oa,Va,c,Ku,Er);if(vi.setRealPlayer(Ju),es===fp)sc.push(vi);else{const lc=this.playersByElement.get(es);lc&&lc.length&&(vi.parentPlayer=ep(lc)),a.push(vi)}}else Ef(Jn,oa.fromStyles),vi.onDestroy(()=>Gu(Jn,oa.toStyles)),pp.push(vi),L.has(Jn)&&a.push(vi)}),pp.forEach(Dn=>{const Jn=c.get(Dn.element);if(Jn&&Jn.length){const vi=ep(Jn);Dn.setRealPlayer(vi)}}),a.forEach(Dn=>{Dn.parentPlayer?Dn.syncPlayerEvents(Dn.parentPlayer):Dn.destroy()});for(let Dn=0;Dn<Oe.length;Dn++){const Jn=Oe[Dn],vi=Jn[Hc];if(o_(Jn,Rv),vi&&vi.hasAnimation)continue;let oa=[];if(b.size){let Ju=b.get(Jn);Ju&&Ju.length&&oa.push(...Ju);let lc=this.driver.query(Jn,dC,!0);for(let gp=0;gp<lc.length;gp++){let $r=b.get(lc[gp]);$r&&$r.length&&oa.push(...$r)}}const es=oa.filter(Ju=>!Ju.destroyed);es.length?oV(this,Jn,es):this.processLeaveNode(Jn)}return Oe.length=0,sc.forEach(Dn=>{this.players.push(Dn),Dn.onDone(()=>{Dn.destroy();const Jn=this.players.indexOf(Dn);this.players.splice(Jn,1)}),Dn.play()}),sc}elementContainsData(n,e){let i=!1;const a=e[Hc];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,a,c){let h=[];if(e){const b=this.playersByQueriedElement.get(n);b&&(h=b)}else{const b=this.playersByElement.get(n);if(b){const w=!c||c==T0;b.forEach(E=>{E.queued||!w&&E.triggerName!=a||h.push(E)})}}return(i||a)&&(h=h.filter(b=>!(i&&i!=b.namespaceId||a&&a!=b.triggerName))),h}_beforeAnimationBuild(n,e,i){const c=e.element,h=e.isRemovalTransition?void 0:n,b=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const E=w.element,L=E!==c,$=ic(i,E,[]);this._getPreviousPlayers(E,L,h,b,e.toState).forEach(ie=>{const pe=ie.getRealPlayer();pe.beforeDestroy&&pe.beforeDestroy(),ie.destroy(),$.push(ie)})}Ef(c,e.fromStyles)}_buildAnimation(n,e,i,a,c,h){const b=e.triggerName,w=e.element,E=[],L=new Set,$=new Set,K=e.timelines.map(pe=>{const Pe=pe.element;L.add(Pe);const Oe=Pe[Hc];if(Oe&&Oe.removedBeforeQueried)return new a_(pe.duration,pe.delay);const Qe=Pe!==w,We=function(t){const n=[];return WS(t,n),n}((i.get(Pe)||QB).map(Va=>Va.getRealPlayer())).filter(Va=>!!Va.element&&Va.element===Pe),Dt=c.get(Pe),Zt=h.get(Pe),Ei=yS(0,this._normalizer,0,pe.keyframes,Dt,Zt),Ma=this._buildPlayer(pe,Ei,We);if(pe.subTimeline&&a&&$.add(Pe),Qe){const Va=new kC(n,b,Pe);Va.setRealPlayer(Ma),E.push(Va)}return Ma});E.forEach(pe=>{ic(this.playersByQueriedElement,pe.element,[]).push(pe),pe.onDone(()=>function(t,n,e){let i;if(t instanceof Map){if(i=t.get(n),i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&t.delete(n)}}else if(i=t[n],i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&delete t[n]}return i}(this.playersByQueriedElement,pe.element,pe))}),L.forEach(pe=>jc(pe,ES));const ie=ep(K);return ie.onDestroy(()=>{L.forEach(pe=>o_(pe,ES)),Gu(w,e.toStyles)}),$.forEach(pe=>{ic(a,pe,[]).push(ie)}),ie}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new a_(n.duration,n.delay)}}class kC{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new a_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Q2(n,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){ic(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Zv(t){return t&&1===t.nodeType}function $S(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function YS(t,n,e,i,a){const c=[];e.forEach(w=>c.push($S(w)));const h=[];i.forEach((w,E)=>{const L={};w.forEach($=>{const K=L[$]=n.computeStyle(E,$,a);(!K||0==K.length)&&(E[Hc]=eV,h.push(E))}),t.set(E,L)});let b=0;return e.forEach(w=>$S(w,c[b++])),h}function qS(t,n){const e=new Map;if(t.forEach(b=>e.set(b,[])),0==n.length)return e;const a=new Set(n),c=new Map;function h(b){if(!b)return 1;let w=c.get(b);if(w)return w;const E=b.parentNode;return w=e.has(E)?E:a.has(E)?1:h(E),c.set(b,w),w}return n.forEach(b=>{const w=h(b);1!==w&&e.get(w).push(b)}),e}const Xv="$$classes";function jc(t,n){if(t.classList)t.classList.add(n);else{let e=t[Xv];e||(e=t[Xv]={}),e[n]=!0}}function o_(t,n){if(t.classList)t.classList.remove(n);else{let e=t[Xv];e&&delete e[n]}}function oV(t,n,e){ep(e).onDone(()=>t.processLeaveNode(n))}function WS(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof XD?WS(i.players,n):n.push(i)}}function ZS(t,n,e){const i=e.get(t);if(!i)return!1;let a=n.get(t);return a?i.forEach(c=>a.add(c)):n.set(t,i),e.delete(t),!0}class Kv{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new nV(n,e,i),this._timelineEngine=new ZB(n,e,i),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(n,e,i,a,c){const h=n+"-"+a;let b=this._triggerCache[h];if(!b){const w=[],E=fC(this._driver,c,w);if(w.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);b=function(t,n,e){return new YB(t,n,e)}(a,E,this._normalizer),this._triggerCache[h]=b}this._transitionEngine.registerTrigger(e,a,b)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,a){this._transitionEngine.insertNode(n,e,i,a)}onRemove(n,e,i,a){this._transitionEngine.removeNode(n,e,a||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,a){if("@"==i.charAt(0)){const[c,h]=vS(i);this._timelineEngine.command(c,e,h,a)}else this._transitionEngine.trigger(n,e,i,a)}listen(n,e,i,a,c){if("@"==i.charAt(0)){const[h,b]=vS(i);return this._timelineEngine.listen(h,e,b,c)}return this._transitionEngine.listen(n,e,i,a,c)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function XS(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=MC(n[0]),n.length>1&&(i=MC(n[n.length-1]))):n&&(e=MC(n)),e||i?new cV(t,e,i):null}let cV=(()=>{class t{constructor(e,i,a){this._element=e,this._startStyles=i,this._endStyles=a,this._state=0;let c=t.initialStylesByElement.get(e);c||t.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gu(this._element,this._initialStyles),this._endStyles&&(Gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ef(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ef(this._element,this._endStyles),this._endStyles=null),Gu(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function MC(t){let n=null;const e=Object.keys(t);for(let i=0;i<e.length;i++){const a=e[i];dV(a)&&(n=n||{},n[a]=t[a])}return n}function dV(t){return"display"===t||"position"===t}const KS="animation",JS="animationend";class mV{constructor(n,e,i,a,c,h,b){this._element=n,this._name=e,this._duration=i,this._delay=a,this._easing=c,this._fillMode=h,this._onDoneFn=b,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(t,n){const e=EC(t,"").trim();let i=0;e.length&&(function(t,n){let e=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&e++;return e}(e)+1,n=`${e}, ${n}`),Jv(t,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),t4(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QS(this._element,this._name,"paused")}resume(){QS(this._element,this._name,"running")}setPosition(n){const e=e4(this._element,this._name);this._position=n*this._duration,Jv(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(n){const e=n._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),t4(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,n){const i=EC(t,"").split(","),a=TC(i,n);a>=0&&(i.splice(a,1),Jv(t,"",i.join(",")))}(this._element,this._name))}}function QS(t,n,e){Jv(t,"PlayState",e,e4(t,n))}function e4(t,n){const e=EC(t,"");return e.indexOf(",")>0?TC(e.split(","),n):TC([e],n)}function TC(t,n){for(let e=0;e<t.length;e++)if(t[e].indexOf(n)>=0)return e;return-1}function t4(t,n,e){e?t.removeEventListener(JS,n):t.addEventListener(JS,n)}function Jv(t,n,e,i){const a=KS+n;if(null!=i){const c=t.style[a];if(c.length){const h=c.split(",");h[i]=e,e=h.join(",")}}t.style[a]=e}function EC(t,n){return t.style[KS+n]||""}class n4{constructor(n,e,i,a,c,h,b,w){this.element=n,this.keyframes=e,this.animationName=i,this._duration=a,this._delay=c,this._finalStyles=b,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+c,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(n[i]=e?this._finalStyles[i]:pC(this.element,i))})}this.currentSnapshot=n}}class yV extends a_{constructor(n,e){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=kS(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const e=this._startingStyles[n];e?this.element.style.setProperty(n,e):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class a4{constructor(){this._count=0}validateStyleProperty(n){return aC(n)}matchesElement(n,e){return rC(n,e)}containsElement(n,e){return oC(n,e)}query(n,e,i){return sC(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}buildKeyframeElement(n,e,i){i=i.map(b=>kS(b));let a=`@keyframes ${e} {\n`,c="";i.forEach(b=>{c=" ";const w=parseFloat(b.offset);a+=`${c}${100*w}% {\n`,c+=" ",Object.keys(b).forEach(E=>{const L=b[E];switch(E){case"offset":return;case"easing":return void(L&&(a+=`${c}animation-timing-function: ${L};\n`));default:return void(a+=`${c}${E}: ${L};\n`)}}),a+=`${c}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(n,e,i,a,c,h=[],b){const w=h.filter(Oe=>Oe instanceof n4),E={};OS(i,a)&&w.forEach(Oe=>{let Qe=Oe.currentSnapshot;Object.keys(Qe).forEach(We=>E[We]=Qe[We])});const L=function(t){let n={};return t&&(Array.isArray(t)?t:[t]).forEach(i=>{Object.keys(i).forEach(a=>{"offset"==a||"easing"==a||(n[a]=i[a])})}),n}(e=LS(n,e,E));if(0==i)return new yV(n,L);const $="gen_css_kf_"+this._count++,K=this.buildKeyframeElement(n,$,e);(function(t){var n;const e=null===(n=t.getRootNode)||void 0===n?void 0:n.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(n).appendChild(K);const pe=XS(n,e),Pe=new n4(n,e,$,i,a,c,L,pe);return Pe.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(K)),Pe}}class o4{constructor(n,e,i,a){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,i){return n.animate(e,i)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(n[e]=this._finished?this._finalKeyframe[e]:pC(this.element,e))}),this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(s4().toString()),this._cssKeyframesDriver=new a4}validateStyleProperty(n){return aC(n)}matchesElement(n,e){return rC(n,e)}containsElement(n,e){return oC(n,e)}query(n,e,i){return sC(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,e,i,a,c,h=[],b){if(!b&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,e,i,a,c,h);const L={duration:i,delay:a,fill:0==a?"both":"forwards"};c&&(L.easing=c);const $={},K=h.filter(pe=>pe instanceof o4);OS(i,a)&&K.forEach(pe=>{let Pe=pe.currentSnapshot;Object.keys(Pe).forEach(Oe=>$[Oe]=Pe[Oe])});const ie=XS(n,e=LS(n,e=e.map(pe=>tp(pe,!1)),$));return new o4(n,e,L,ie)}}function s4(){return bS()&&Element.prototype.animate||{}}let TV=(()=>{class t extends GD{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:ea.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?YD(e):e;return l4(this._renderer,null,i,"register",[a]),new EV(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Ne(ff),Ne(di))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class EV extends class{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new DV(this._id,n,e||{},this._renderer)}}class DV{constructor(n,e,i,a){this.id=n,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return l4(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function l4(t,n,e,i,a){return t.setProperty(n,`@@${e}:${i}`,a)}const c4="@.disabled";let SV=(()=>{class t{constructor(e,i,a){this.delegate=e,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,h)=>{h&&h.parentNode(c)&&h.removeChild(c.parentNode,c)}}createRenderer(e,i){const c=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let L=this._rendererCache.get(c);return L||(L=new d4("",c,this.engine),this._rendererCache.set(c,L)),L}const h=i.id,b=i.id+"-"+this._currentId;this._currentId++,this.engine.register(b,e);const w=L=>{Array.isArray(L)?L.forEach(w):this.engine.registerTrigger(h,b,e,L.name,L)};return i.data.animation.forEach(w),new IV(this,b,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,a){e>=0&&e<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,b]=c;h(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Ne(ff),Ne(Kv),Ne(mi))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();class d4{constructor(n,e,i){this.namespaceId=n,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,a=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,a)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,a){this.delegate.setAttribute(n,e,i,a)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,a){this.delegate.setStyle(n,e,i,a)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==c4?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class IV extends d4{constructor(n,e,i,a){super(e,i,a),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==c4?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.substr(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let c=e.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(c)),this.engine.listen(this.namespaceId,a,c,h,b=>{this.factory.scheduleListenerCallback(b._data||-1,i,b)})}return this.delegate.listen(n,e,i)}}let LV=(()=>{class t extends Kv{constructor(e,i,a){super(e.body,i,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Ne(di),Ne(lC),Ne(vC))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const tm=new Ve("AnimationModuleType"),u4=[{provide:GD,useClass:TV},{provide:vC,useFactory:function(){return new VB}},{provide:Kv,useClass:LV},{provide:ff,useFactory:function(t,n,e){return new SV(t,n,e)},deps:[Dv,Kv,mi]}],h4=[{provide:lC,useFactory:function(){return"function"==typeof s4()?new kV:new a4}},{provide:tm,useValue:"BrowserAnimations"},...u4],m4=[{provide:lC,useClass:MS},{provide:tm,useValue:"NoopAnimations"},...u4];let Sf=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?m4:h4}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:h4,imports:[F2]}),t})();function ex(t,n){return new An(e=>{const i=t.length;if(0===i)return void e.complete();const a=new Array(i);let c=0,h=0;for(let b=0;b<i;b++){const w=gr(t[b]);let E=!1;e.add(w.subscribe({next:L=>{E||(E=!0,h++),a[b]=L},error:L=>e.error(L),complete:()=>{c++,(c===i||!E)&&(h===i&&e.next(n?n.reduce((L,$,K)=>(L[$]=a[K],L),{}):a),e.complete())}}))}})}let p4=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(he(gf),he(Hn))},t.\u0275dir=Tt({type:t}),t})(),If=(()=>{class t extends p4{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275dir=Tt({type:t,features:[yn]}),t})();const js=new Ve("NgValueAccessor"),BV={provide:js,useExisting:Un(()=>np),multi:!0},HV=new Ve("CompositionEventMode");let np=(()=>{class t extends p4{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Hu()?Hu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(he(gf),he(Hn),he(HV,8))},t.\u0275dir=Tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ze("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[gi([BV]),yn]}),t})();function ip(t){return null==t||0===t.length}function g4(t){return null!=t&&"number"==typeof t.length}const fo=new Ve("NgValidators"),ap=new Ve("NgAsyncValidators"),jV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $d{static min(n){return function(t){return n=>{if(ip(n.value)||ip(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function(t){return n=>{if(ip(n.value)||ip(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function(t){return ip(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function(t){return ip(t.value)||jV.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function(t){return n=>ip(n.value)||!g4(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(t){return n=>g4(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(t){if(!t)return rp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(ip(i.value))return null;const a=i.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return I4(n)}static composeAsync(n){return A4(n)}}function rp(t){return null}function M4(t){return null!=t}function T4(t){const n=F1(t)?gr(t):t;return i3(n),n}function E4(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function D4(t,n){return n.map(e=>e(t))}function S4(t){return t.map(n=>function(t){return!t.validate}(n)?n:e=>n.validate(e))}function I4(t){if(!t)return null;const n=t.filter(M4);return 0==n.length?null:function(e){return E4(D4(e,n))}}function DC(t){return null!=t?I4(S4(t)):null}function A4(t){if(!t)return null;const n=t.filter(M4);return 0==n.length?null:function(e){return function(...t){if(1===t.length){const n=t[0];if(Nn(n))return ex(n,null);if(p(n)&&Object.getPrototypeOf(n)===Object.prototype){const e=Object.keys(n);return ex(e.map(i=>n[i]),e)}}if("function"==typeof t[t.length-1]){const n=t.pop();return ex(t=1===t.length&&Nn(t[0])?t[0]:t,null).pipe(ji(e=>n(...e)))}return ex(t,null)}(D4(e,n).map(T4)).pipe(ji(E4))}}function SC(t){return null!=t?A4(S4(t)):null}function O4(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function L4(t){return t._rawValidators}function P4(t){return t._rawAsyncValidators}function IC(t){return t?Array.isArray(t)?t:[t]:[]}function tx(t,n){return Array.isArray(t)?t.includes(n):t===n}function F4(t,n){const e=IC(n);return IC(t).forEach(a=>{tx(e,a)||e.push(a)}),e}function R4(t,n){return IC(n).filter(e=>!tx(t,e))}let z4=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t}),t})(),Us=(()=>{class t extends z4{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275dir=Tt({type:t,features:[yn]}),t})();class Yd extends z4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class N4{constructor(n){this._cd=n}is(n){var e,i,a;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[n])}}let $u=(()=>{class t extends N4{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(he(Yd,2))},t.\u0275dir=Tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Rn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[yn]}),t})(),Yu=(()=>{class t extends N4{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(he(Us,10))},t.\u0275dir=Tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Rn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[yn]}),t})();function ix(t,n){return[...n.path,t]}function E0(t,n){LC(t,n),n.valueAccessor.writeValue(t.value),function(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&B4(t,n)})}(t,n),function(t,n){const e=(i,a)=>{n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&B4(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function ax(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),ox(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function rx(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function LC(t,n){const e=L4(t);null!==n.validator?t.setValidators(O4(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=P4(t);null!==n.asyncValidator?t.setAsyncValidators(O4(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const a=()=>t.updateValueAndValidity();rx(n._rawValidators,a),rx(n._rawAsyncValidators,a)}function ox(t,n){let e=!1;if(null!==t){if(null!==n.validator){const a=L4(t);if(Array.isArray(a)&&a.length>0){const c=a.filter(h=>h!==n.validator);c.length!==a.length&&(e=!0,t.setValidators(c))}}if(null!==n.asyncValidator){const a=P4(t);if(Array.isArray(a)&&a.length>0){const c=a.filter(h=>h!==n.asyncValidator);c.length!==a.length&&(e=!0,t.setAsyncValidators(c))}}}const i=()=>{};return rx(n._rawValidators,i),rx(n._rawAsyncValidators,i),e}function B4(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V4(t,n){LC(t,n)}function H4(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function sx(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const D0="VALID",lx="INVALID",s_="PENDING",S0="DISABLED";function RC(t){return(NC(t)?t.validators:t)||null}function j4(t){return Array.isArray(t)?DC(t):t||null}function zC(t,n){return(NC(n)?n.asyncValidators:t)||null}function U4(t){return Array.isArray(t)?SC(t):t||null}function NC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class BC{constructor(n,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=j4(this._rawValidators),this._composedAsyncValidatorFn=U4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===D0}get invalid(){return this.status===lx}get pending(){return this.status==s_}get disabled(){return this.status===S0}get enabled(){return this.status!==S0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=j4(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=U4(n)}addValidators(n){this.setValidators(F4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(F4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(R4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(R4(n,this._rawAsyncValidators))}hasValidator(n){return tx(this._rawValidators,n)}hasAsyncValidator(n){return tx(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=s_,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=S0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=D0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D0||this.status===s_)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?S0:D0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=s_,this._hasOwnPendingAsyncValidator=!0;const e=T4(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(a=>{i=i instanceof l_?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof cx&&i.at(a)||null}),i}(this,n)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?S0:this.errors?lx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s_)?s_:this._anyControlsHaveStatus(lx)?lx:D0}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){NC(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Af extends BC{constructor(n=null,e,i){super(RC(e),zC(i,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){sx(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){sx(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class l_ extends BC{constructor(n,e,i){super(RC(e),zC(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e instanceof Af?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((a,c)=>{i=e(i,a,c)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class cx extends BC{constructor(n,e,i){super(RC(e),zC(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof Af?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const t7={provide:Us,useExisting:Un(()=>op)},I0=(()=>Promise.resolve(null))();let op=(()=>{class t extends Us{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Et,this.form=new l_({},DC(e),SC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){I0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),E0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){I0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),sx(this._directives,e)})}addFormGroup(e){I0.then(()=>{const i=this._findContainer(e.path),a=new l_({});V4(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){I0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){I0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,H4(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(he(fo,10),he(ap,10))},t.\u0275dir=Tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Ze("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gi([t7]),yn]}),t})(),G4=(()=>{class t extends Us{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ix(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275dir=Tt({type:t,features:[yn]}),t})(),Z4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})();const VC=new Ve("NgModelWithFormControlWarning"),d7={provide:Us,useExisting:Un(()=>ws)};let ws=(()=>{class t extends Us{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Et,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ox(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return E0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ax(e.control||null,e,!1),sx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,H4(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(ax(i||null,e),a instanceof Af&&(E0(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);V4(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(t,n){return ox(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){LC(this.form,this),this._oldForm&&ox(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(he(fo,10),he(ap,10))},t.\u0275dir=Tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ze("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gi([d7]),yn,Yi]}),t})();const u7={provide:Us,useExisting:Un(()=>HC)};let HC=(()=>{class t extends G4{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}_checkParentType(){Q4(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(he(Us,13),he(fo,10),he(ap,10))},t.\u0275dir=Tt({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[gi([u7]),yn]}),t})();const h7={provide:Us,useExisting:Un(()=>dx)};let dx=(()=>{class t extends Us{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ix(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Q4(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(he(Us,13),he(fo,10),he(ap,10))},t.\u0275dir=Tt({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[gi([h7]),yn]}),t})();function Q4(t){return!(t instanceof HC||t instanceof ws||t instanceof dx)}const m7={provide:Yd,useExisting:Un(()=>qd)};let qd=(()=>{class t extends Yd{constructor(e,i,a,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new Et,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function(t,n){if(!n)return null;let e,i,a;return Array.isArray(n),n.forEach(c=>{c.constructor===np?e=c:function(t){return Object.getPrototypeOf(t.constructor)===If}(c)?i=c:a=c}),a||i||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ix(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(he(Us,13),he(fo,10),he(ap,10),he(js,10),he(VC,8))},t.\u0275dir=Tt({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gi([m7]),yn,Yi]}),t._ngModelWarningSentOnce=!1,t})(),dI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Z4]]}),t})(),D7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[dI]}),t})(),YC=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:VC,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[dI]}),t})(),uI=(()=>{class t{group(e,i=null){const a=this._reduceControls(e);let b,c=null,h=null;return null!=i&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(c=null!=i.validators?i.validators:null,h=null!=i.asyncValidators?i.asyncValidators:null,b=null!=i.updateOn?i.updateOn:void 0):(c=null!=i.validator?i.validator:null,h=null!=i.asyncValidator?i.asyncValidator:null)),new l_(a,{asyncValidators:h,updateOn:b,validators:c})}control(e,i,a){return new Af(e,i,a)}array(e,i,a){const c=e.map(h=>this._createControl(h));return new cx(c,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof Af||e instanceof l_||e instanceof cx?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return new t},token:t,providedIn:YC}),t})();class I7 extends on{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return e&&!e.closed&&n.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qi;return this._value}next(n){super.next(this._value=n)}}function Wd(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function lp(){}function pI(t,n,e){return function(a){return a.lift(new V7(t,n,e))}}class V7{constructor(n,e,i){this.nextOrObserver=n,this.error=e,this.complete=i}call(n,e){return e.subscribe(new H7(n,this.nextOrObserver,this.error,this.complete))}}class H7 extends Sn{constructor(n,e,i,a){super(n),this._tapNext=lp,this._tapError=lp,this._tapComplete=lp,this._tapError=i||lp,this._tapComplete=a||lp,Ut(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||lp,this._tapError=e.error||lp,this._tapComplete=e.complete||lp)}_next(n){try{this._tapNext.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()}}const P0=new Ud(Iv);function ZC(t,n=P0){return e=>e.lift(new j7(t,n))}class j7{constructor(n,e){this.dueTime=n,this.scheduler=e}call(n,e){return e.subscribe(new U7(n,this.dueTime,this.scheduler))}}class U7 extends Sn{constructor(n,e,i){super(n),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(G7,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function G7(t){t.debouncedNext()}class Y7{constructor(n){this.total=n}call(n,e){return e.subscribe(new q7(n,this.total))}}class q7 extends Sn{constructor(n,e){super(n),this.total=e,this.count=0}_next(n){++this.count>this.total&&this.destination.next(n)}}function XC(t,n){return e=>e.lift(new W7(t,n))}class W7{constructor(n,e){this.compare=n,this.keySelector=e}call(n,e){return e.subscribe(new Z7(n,this.compare,this.keySelector))}}class Z7 extends Sn{constructor(n,e,i){super(n),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(n,e){return n===e}_next(n){let e;try{const{keySelector:a}=this;e=a?a(n):n}catch(a){return this.destination.error(a)}let i=!1;if(this.hasKey)try{const{compare:a}=this;i=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=e,this.destination.next(n))}}function Cs(t){return n=>n.lift(new X7(t))}class X7{constructor(n){this.notifier=n}call(n,e){const i=new K7(n),a=yt(this.notifier,new Yr(i));return a&&!i.seenValue?(i.add(a),e.subscribe(i)):i}}class K7 extends pa{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Xi(t){return null!=t&&"false"!=`${t}`}function Wu(t,n=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function fI(t){return Array.isArray(t)?t:[t]}function go(t){return null==t?"":"string"==typeof t?t:`${t}px`}function am(t){return t instanceof Hn?t.nativeElement:t}function gI(t,n=/\s+/){const e=[];if(null!=t){const i=Array.isArray(t)?t:`${t}`.split(n);for(const a of i){const c=`${a}`.trim();c&&e.push(c)}}return e}let KC;try{KC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){KC=!1}let c_,cr=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(t){return t===SD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Ne(e_))},t.\u0275prov=$t({factory:function(){return new t(Ne(e_))},token:t,providedIn:"root"}),t})(),F0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})();const _I=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bI(){if(c_)return c_;if("object"!=typeof document||!document)return c_=new Set(_I),c_;let t=document.createElement("input");return c_=new Set(_I.filter(n=>(t.setAttribute("type",n),t.type===n))),c_}let R0,Of,JC;function mx(t){return function(){if(null==R0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R0=!0}))}finally{R0=R0||!1}return R0}()?t:!!t.capture}function yI(){if(null==Of){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Of=!1,Of;if("scrollBehavior"in document.documentElement.style)Of=!0;else{const t=Element.prototype.scrollTo;Of=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Of}function vI(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function cp(t){return t.composedPath?t.composedPath()[0]:t.target}function QC(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let ek=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return new t},token:t,providedIn:"root"}),t})(),xI=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=am(e);return new An(a=>{const h=this._observeElement(i).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new on,a=this._mutationObserverFactory.create(c=>i.next(c));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:a}=this._observedElements.get(e);i&&i.disconnect(),a.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Ne(ek))},t.\u0275prov=$t({factory:function(){return new t(Ne(ek))},token:t,providedIn:"root"}),t})(),wI=(()=>{class t{constructor(e,i,a){this._contentObserver=e,this._elementRef=i,this._ngZone=a,this.event=new Et,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Wu(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ZC(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(xI),he(Hn),he(mi))},t.\u0275dir=Tt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[ek]}),t})();class MI extends class{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new on,this._typeaheadSubscription=Bt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new on,this.change=new on,n instanceof Kg&&n.changes.subscribe(e=>{if(this._activeItem){const a=e.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(pI(e=>this._pressedLetters.push(e)),ZC(n),Qh(()=>this._pressedLetters.length>0),ji(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let a=1;a<i.length+1;a++){const c=(this._activeItemIndex+a)%i.length,h=i[c];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!n[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Wd(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n),a=e[i];this._activeItem=null==a?null:a,this._activeItemIndex=i}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const a=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Kg?this._items.toArray():this._items}}{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}let TI=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(t){try{return t.frameElement}catch(n){return null}}(function(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===DI(i)||!this.isVisible(i)))return!1;let a=e.nodeName.toLowerCase(),c=DI(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||EI(t))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(Ne(cr))},t.\u0275prov=$t({factory:function(){return new t(Ne(cr))},token:t,providedIn:"root"}),t})();function EI(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function DI(t){if(!EI(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class fH{constructor(n,e,i,a,c=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=0;i<e.length;i++){let a=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(a)return a}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=e.length-1;i>=0;i--){let a=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(a)return a}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(nc(1)).subscribe(n)}}let gH=(()=>{class t{constructor(e,i,a){this._checker=e,this._ngZone=i,this._document=a}create(e,i=!1){return new fH(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(Ne(TI),Ne(mi),Ne(di))},t.\u0275prov=$t({factory:function(){return new t(Ne(TI),Ne(mi),Ne(di))},token:t,providedIn:"root"}),t})(),SI=(()=>{class t{constructor(e,i,a){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Xi(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Xi(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=vI(),this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(gH),he(di))},t.\u0275dir=Tt({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Yi]}),t})();function II(t){return 0===t.offsetX&&0===t.offsetY}function AI(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}"undefined"!=typeof Element&&Element;const OI=new Ve("cdk-input-modality-detector-options"),xH={ignoreKeys:[18,17,224,91,16]},d_=mx({passive:!0,capture:!0});let PI=(()=>{class t{constructor(e,i,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new I7(null),this._lastTouchMs=0,this._onKeydown=h=>{var b,w;(null===(w=null===(b=this._options)||void 0===b?void 0:b.ignoreKeys)||void 0===w?void 0:w.some(E=>E===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=cp(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(II(h)?"keyboard":"mouse"),this._mostRecentTarget=cp(h))},this._onTouchstart=h=>{AI(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cp(h))},this._options=Object.assign(Object.assign({},xH),c),this.modalityDetected=this._modality.pipe(n=>n.lift(new Y7(1))),this.modalityChanged=this.modalityDetected.pipe(XC()),e.isBrowser&&i.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,d_),a.addEventListener("mousedown",this._onMousedown,d_),a.addEventListener("touchstart",this._onTouchstart,d_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,d_),document.removeEventListener("mousedown",this._onMousedown,d_),document.removeEventListener("touchstart",this._onTouchstart,d_))}}return t.\u0275fac=function(e){return new(e||t)(Ne(cr),Ne(mi),Ne(di),Ne(OI,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(cr),Ne(mi),Ne(di),Ne(OI,8))},token:t,providedIn:"root"}),t})();const FI=new Ve("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),RI=new Ve("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zI=(()=>{class t{constructor(e,i,a,c){this._ngZone=i,this._defaultOptions=c,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...i){const a=this._defaultOptions;let c,h;return 1===i.length&&"number"==typeof i[0]?h=i[0]:[c,h]=i,this.clear(),clearTimeout(this._previousTimeout),c||(c=a&&a.politeness?a.politeness:"polite"),null==h&&a&&(h=a.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(b=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,b(),"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let c=0;c<i.length;c++)i[c].parentNode.removeChild(i[c]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return t.\u0275fac=function(e){return new(e||t)(Ne(FI,8),Ne(mi),Ne(di),Ne(RI,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(FI,8),Ne(mi),Ne(di),Ne(RI,8))},token:t,providedIn:"root"}),t})(),CH=(()=>{class t{constructor(e,i,a,c){this._elementRef=e,this._liveAnnouncer=i,this._contentObserver=a,this._ngZone=c,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const i=this._elementRef.nativeElement.textContent;i!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(i,this._politeness),this._previousAnnouncedText=i)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(zI),he(xI),he(mi))},t.\u0275dir=Tt({type:t,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),t})();const NI=new Ve("cdk-focus-monitor-default-options"),fx=mx({passive:!0,capture:!0});let u_=(()=>{class t{constructor(e,i,a,c,h){this._ngZone=e,this._platform=i,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new on,this._rootNodeFocusAndBlurListener=b=>{const w=cp(b),E="focus"===b.type?this._onFocus:this._onBlur;for(let L=w;L;L=L.parentElement)E.call(this,b,L)},this._document=c,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,i=!1){const a=am(e);if(!this._platform.isBrowser||1!==a.nodeType)return Gd(null);const c=function(t){if(function(){if(null==JC){const t="undefined"!=typeof document?document.head:null;JC=!(!t||!t.createShadowRoot&&!t.attachShadow)}return JC}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return i&&(h.checkChildren=!0),h.subject;const b={checkChildren:i,subject:new on,rootNode:c};return this._elementInfo.set(a,b),this._registerGlobalListeners(b),b.subject}stopMonitoring(e){const i=am(e),a=this._elementInfo.get(i);a&&(a.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(a))}focusVia(e,i,a){const c=am(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([b,w])=>this._originChanged(b,i,w)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,a){a?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const a=this._elementInfo.get(i),c=cp(e);!a||!a.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),a)}_onBlur(e,i){const a=this._elementInfo.get(i);!a||a.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(a.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,a=this._rootNodeFocusListenerCount.get(i)||0;a||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,fx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,fx)}),this._rootNodeFocusListenerCount.set(i,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cs(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const a=this._rootNodeFocusListenerCount.get(i);a>1?this._rootNodeFocusListenerCount.set(i,a-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,a){this._setClasses(e,i),this._emitOrigin(a.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&i.push([c,a])}),i}}return t.\u0275fac=function(e){return new(e||t)(Ne(mi),Ne(cr),Ne(PI),Ne(di,8),Ne(NI,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(mi),Ne(cr),Ne(PI),Ne(di,8),Ne(NI,8))},token:t,providedIn:"root"}),t})(),BI=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new Et}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(u_))},t.\u0275dir=Tt({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const VI="cdk-high-contrast-black-on-white",HI="cdk-high-contrast-white-on-black",nk="cdk-high-contrast-active";let jI=(()=>{class t{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,a=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(nk),e.remove(VI),e.remove(HI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(nk),e.add(VI)):2===i&&(e.add(nk),e.add(HI))}}}return t.\u0275fac=function(e){return new(e||t)(Ne(cr),Ne(di))},t.\u0275prov=$t({factory:function(){return new t(Ne(cr),Ne(di))},token:t,providedIn:"root"}),t})(),UI=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Ne(jI))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[F0,tk]]}),t})();const GI=new Ve("cdk-dir-doc",{providedIn:"root",factory:function(){return oy(di)}});let Uc=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new Et,e){const a=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ne(GI,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(GI,8))},token:t,providedIn:"root"}),t})(),N0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})();const $I=new qm("12.2.13");function EH(t,n){if(1&t&&Se(0,"mat-pseudo-checkbox",4),2&t){const e=Z();B("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function DH(t,n){if(1&t&&(R(0,"span",5),ot(1),z()),2&t){const e=Z();F(1),vn("(",e.group.label,")")}}const SH=["*"],YI=new qm("12.2.13"),AH=new Ve("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _o=(()=>{class t{constructor(e,i,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!J3()||QC())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&YI.full!==$I.full&&console.warn("The Angular Material version ("+YI.full+") does not match the Angular CDK version ("+$I.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(Ne(jI),Ne(AH,8),Ne(di))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[N0],N0]}),t})();function gx(t){return class extends t{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Xi(n)}}}function _x(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function B0(t){return class extends t{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Xi(n)}}}function ik(t,n=0){return class extends t{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Wu(e):this.defaultTabIndex}}}function ak(t){return class extends t{constructor(...n){super(...n),this.stateChanges=new on,this.errorState=!1}updateErrorState(){const n=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==n&&(this.errorState=c,this.stateChanges.next())}}}const bx=new Ve("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return oy(Zh)}});class mr{constructor(){this._localeChanges=new on,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,e){return this.getYear(n)-this.getYear(e)||this.getMonth(n)-this.getMonth(e)||this.getDate(n)-this.getDate(e)}sameDate(n,e){if(n&&e){let i=this.isValid(n),a=this.isValid(e);return i&&a?!this.compareDate(n,e):i==a}return n==e}clampDate(n,e,i){return e&&this.compareDate(n,e)<0?e:i&&this.compareDate(n,i)>0?i:n}}const Gc=new Ve("mat-date-formats");let Lf;try{Lf="undefined"!=typeof Intl}catch(t){Lf=!1}const LH={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},PH=yx(31,t=>String(t+1)),FH={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},RH=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function yx(t,n){const e=Array(t);for(let i=0;i<t;i++)e[i]=n(i);return e}let zH=(()=>{class t extends mr{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Lf){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return yx(12,a=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,a,1))))}return LH[e]}getDateNames(){if(Lf){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return yx(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return PH}getDayOfWeekNames(e){if(Lf){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return yx(7,a=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,a+1))))}return FH[e]}getYearName(e){if(Lf){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,a){let c=this._createDateWithOverflow(e,i,a);return c.getMonth(),c}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Lf){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const a=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(a,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let a=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(a)!=((this.getMonth(e)+i)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(RH.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,a){const c=new Date;return c.setFullYear(e,i,a),c.setHours(0,0,0,0),c}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const a=new Date;return a.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),a.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(a)}}return t.\u0275fac=function(e){return new(e||t)(Ne(bx,8),Ne(cr))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),BH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[{provide:mr,useClass:zH}],imports:[[F0]]}),t})();const VH={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let HH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[{provide:Gc,useValue:VH}],imports:[[BH]]}),t})(),h_=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return new t},token:t,providedIn:"root"}),t})();class jH{constructor(n,e,i){this._renderer=n,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qI={enterDuration:225,exitDuration:150},rk=mx({passive:!0}),WI=["mousedown","touchstart"],ZI=["mouseup","mouseleave","touchend","touchcancel"];class GH{constructor(n,e,i,a){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=am(i))}fadeInRipple(n,e,i={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},qI),i.animation);i.centered&&(n=a.left+a.width/2,e=a.top+a.height/2);const h=i.radius||function(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),a=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+a*a)}(n,e,a),b=n-a.left,w=e-a.top,E=c.enterDuration,L=document.createElement("div");L.classList.add("mat-ripple-element"),L.style.left=b-h+"px",L.style.top=w-h+"px",L.style.height=2*h+"px",L.style.width=2*h+"px",null!=i.color&&(L.style.backgroundColor=i.color),L.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(L),function(t){window.getComputedStyle(t).getPropertyValue("opacity")}(L),L.style.transform="scale(1)";const $=new jH(this,L,i);return $.state=0,this._activeRipples.add($),i.persistent||(this._mostRecentTransientRipple=$),this._runTimeoutOutsideZone(()=>{const K=$===this._mostRecentTransientRipple;$.state=1,!i.persistent&&(!K||!this._isPointerDown)&&$.fadeOut()},E),$}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=n.element,a=Object.assign(Object.assign({},qI),n.config.animation);i.style.transitionDuration=`${a.exitDuration}ms`,i.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,i.parentNode.removeChild(i)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=am(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(WI))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ZI),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=II(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!AI(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,rk)})})}_removeTriggerEvents(){this._triggerElement&&(WI.forEach(n=>{this._triggerElement.removeEventListener(n,this,rk)}),this._pointerUpEventsRegistered&&ZI.forEach(n=>{this._triggerElement.removeEventListener(n,this,rk)}))}}const qH=new Ve("mat-ripple-global-options");let Pf=(()=>{class t{constructor(e,i,a,c,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new GH(this,i,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(mi),he(cr),he(qH,8),he(tm,8))},t.\u0275dir=Tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Rn("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),vx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[_o,F0],_o]}),t})(),WH=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(he(tm,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&Rn("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),ZH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[_o]]}),t})();const xx=new Ve("MAT_OPTION_PARENT_COMPONENT"),XH=gx(class{});let KH=0,XI=(()=>{class t extends XH{constructor(e){var i;super(),this._labelId="mat-optgroup-label-"+KH++,this._inert=null!==(i=null==e?void 0:e.inertGroups)&&void 0!==i&&i}}return t.\u0275fac=function(e){return new(e||t)(he(xx,8))},t.\u0275dir=Tt({type:t,inputs:{label:"label"},features:[yn]}),t})();const wx=new Ve("MatOptgroup");let JH=0;class KI{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let QH=(()=>{class t{constructor(e,i,a,c){this._element=e,this._changeDetectorRef=i,this._parent=a,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+JH++,this.onSelectionChange=new Et,this._stateChanges=new on}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Xi(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Wd(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new KI(this,e))}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(wr),he(void 0),he(XI))},t.\u0275dir=Tt({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),H0=(()=>{class t extends QH{constructor(e,i,a,c){super(e,i,a,c)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(wr),he(xx,8),he(wx,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&Ze("click",function(){return i._selectViaInteraction()})("keydown",function(c){return i._handleKeydown(c)}),2&e&&(qh("id",i.id),j("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Rn("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[yn],ngContentSelectors:SH,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(hr(),Q(0,EH,1,2,"mat-pseudo-checkbox",0),R(1,"span",1),aa(2),z(),Q(3,DH,2,1,"span",2),Se(4,"div",3)),2&e&&(B("ngIf",i.multiple),F(3),B("ngIf",i.group&&i.group._inert),F(1),B("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[ri,Pf,WH],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function ok(t,n,e){if(e.length){let i=n.toArray(),a=e.toArray(),c=0;for(let h=0;h<t+1;h++)i[h].group&&i[h].group===a[c]&&c++;return c}return 0}function JI(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}let Cx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[vx,Ba,_o,ZH]]}),t})();function $c(t,n,e,i){return Ut(e)&&(i=e,e=void 0),i?$c(t,n,e).pipe(ji(a=>Nn(a)?i(...a):i(a))):new An(a=>{QI(t,n,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function QI(t,n,e,i,a){let c;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const h=t;t.addEventListener(n,e,a),c=()=>h.removeEventListener(n,e,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const h=t;t.on(n,e),c=()=>h.off(n,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const h=t;t.addListener(n,e),c=()=>h.removeListener(n,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let h=0,b=t.length;h<b;h++)QI(t[h],n,e,i,a)}i.add(c)}function eA(...t){return qa(1)(Gd(...t))}function Zu(...t){const n=t[t.length-1];return Fr(n)?(t.pop(),e=>eA(t,e,n)):e=>eA(t,e)}const aj=["underline"],rj=["connectionContainer"],oj=["inputContainer"],sj=["label"];function lj(t,n){1&t&&(zt(0),R(1,"div",14),Se(2,"div",15),Se(3,"div",16),Se(4,"div",17),z(),R(5,"div",18),Se(6,"div",15),Se(7,"div",16),Se(8,"div",17),z(),Nt())}function cj(t,n){1&t&&(R(0,"div",19),aa(1,1),z())}function dj(t,n){if(1&t&&(zt(0),aa(1,2),R(2,"span"),ot(3),z(),Nt()),2&t){const e=Z(2);F(3),Kn(e._control.placeholder)}}function uj(t,n){1&t&&aa(0,3,["*ngSwitchCase","true"])}function hj(t,n){1&t&&(R(0,"span",23),ot(1," *"),z())}function mj(t,n){if(1&t){const e=Cn();R(0,"label",20,21),Ze("cdkObserveContent",function(){return mt(e),Z().updateOutlineGap()}),Q(2,dj,4,1,"ng-container",12),Q(3,uj,1,0,"ng-content",12),Q(4,hj,2,0,"span",22),z()}if(2&t){const e=Z();Rn("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),B("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),j("for",e._control.id)("aria-owns",e._control.id),F(2),B("ngSwitchCase",!1),F(1),B("ngSwitchCase",!0),F(1),B("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function pj(t,n){1&t&&(R(0,"div",24),aa(1,4),z())}function fj(t,n){if(1&t&&(R(0,"div",25,26),Se(2,"span",27),z()),2&t){const e=Z();F(2),Rn("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function gj(t,n){1&t&&(R(0,"div"),aa(1,5),z()),2&t&&B("@transitionMessages",Z()._subscriptAnimationState)}function _j(t,n){if(1&t&&(R(0,"div",31),ot(1),z()),2&t){const e=Z(2);B("id",e._hintLabelId),F(1),Kn(e.hintLabel)}}function bj(t,n){if(1&t&&(R(0,"div",28),Q(1,_j,2,2,"div",29),aa(2,6),Se(3,"div",30),aa(4,7),z()),2&t){const e=Z();B("@transitionMessages",e._subscriptAnimationState),F(1),B("ngIf",e.hintLabel)}}const yj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],vj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],tA=new Ve("MatError"),wj={transitionMessages:kr("transitionMessages",[ma("enter",Ln({opacity:1,transform:"translateY(0%)"})),ra("void => enter",[Ln({opacity:0,transform:"translateY(-5px)"}),va("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let j0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t}),t})(),Cj=0;const nA=new Ve("MatHint");let Ff=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+Cj++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(j("id",i.id)("align",null),Rn("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[gi([{provide:nA,useExisting:t}])]}),t})(),rm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["mat-label"]]}),t})(),kj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["mat-placeholder"]]}),t})();const iA=new Ve("MatPrefix"),aA=new Ve("MatSuffix");let sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["","matSuffix",""]],features:[gi([{provide:aA,useExisting:t}])]}),t})(),rA=0;const Tj=_x(class{constructor(t){this._elementRef=t}},"primary"),Ej=new Ve("MAT_FORM_FIELD_DEFAULT_OPTIONS"),m_=new Ve("MatFormField");let p_=(()=>{class t extends Tj{constructor(e,i,a,c,h,b,w,E){super(e),this._changeDetectorRef=i,this._dir=c,this._defaults=h,this._platform=b,this._ngZone=w,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new on,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rA++,this._labelId="mat-form-field-label-"+rA++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==E,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Xi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Zu(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Cs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cs(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),On(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zu(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zu(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cs(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,$c(this._label.nativeElement,"transitionend").pipe(nc(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,a=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,a=0;const c=this._connectionContainerRef.nativeElement,h=c.querySelectorAll(".mat-form-field-outline-start"),b=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const w=c.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(w),L=e.children,$=this._getStartEnd(L[0].getBoundingClientRect());let K=0;for(let ie=0;ie<L.length;ie++)K+=L[ie].offsetWidth;i=Math.abs($-E)-5,a=K>0?.75*K+10:0}for(let w=0;w<h.length;w++)h[w].style.width=`${i}px`;for(let w=0;w<b.length;w++)b[w].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(wr),he(Hn),he(Uc,8),he(Ej,8),he(cr),he(mi),he(tm,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,i,a){if(1&e&&(No(a,j0,5),No(a,j0,7),No(a,rm,5),No(a,rm,7),No(a,kj,5),No(a,tA,5),No(a,nA,5),No(a,iA,5),No(a,aA,5)),2&e){let c;Xt(c=Kt())&&(i._controlNonStatic=c.first),Xt(c=Kt())&&(i._controlStatic=c.first),Xt(c=Kt())&&(i._labelChildNonStatic=c.first),Xt(c=Kt())&&(i._labelChildStatic=c.first),Xt(c=Kt())&&(i._placeholderChild=c.first),Xt(c=Kt())&&(i._errorChildren=c),Xt(c=Kt())&&(i._hintChildren=c),Xt(c=Kt())&&(i._prefixChildren=c),Xt(c=Kt())&&(i._suffixChildren=c)}},viewQuery:function(e,i){if(1&e&&(En(aj,5),En(rj,7),En(oj,5),En(sj,5)),2&e){let a;Xt(a=Kt())&&(i.underlineRef=a.first),Xt(a=Kt())&&(i._connectionContainerRef=a.first),Xt(a=Kt())&&(i._inputContainerRef=a.first),Xt(a=Kt())&&(i._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&Rn("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[gi([{provide:m_,useExisting:t}]),yn],ngContentSelectors:vj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(hr(yj),R(0,"div",0),R(1,"div",1,2),Ze("click",function(c){return i._control.onContainerClick&&i._control.onContainerClick(c)}),Q(3,lj,9,0,"ng-container",3),Q(4,cj,2,0,"div",4),R(5,"div",5,6),aa(7),R(8,"span",7),Q(9,mj,5,16,"label",8),z(),z(),Q(10,pj,2,0,"div",9),z(),Q(11,fj,3,4,"div",10),R(12,"div",11),Q(13,gj,2,1,"div",12),Q(14,bj,5,2,"div",13),z(),z()),2&e&&(F(3),B("ngIf","outline"==i.appearance),F(1),B("ngIf",i._prefixChildren.length),F(5),B("ngIf",i._hasFloatingLabel()),F(1),B("ngIf",i._suffixChildren.length),F(1),B("ngIf","outline"!=i.appearance),F(1),B("ngSwitch",i._getDisplayedMessages()),F(1),B("ngSwitchCase","error"),F(1),B("ngSwitchCase","hint"))},directives:[ri,i_,Cv,wI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[wj.transitionMessages]},changeDetection:0}),t})(),kx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,_o,tk],_o]}),t})();const Mx=new class extends Ud{flush(n){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,a=-1,c=e.length;n=n||e.shift();do{if(i=n.execute(n.state,n.delay))break}while(++a<c&&(n=e.shift()));if(this.active=!1,i){for(;++a<c&&(n=e.shift());)n.unsubscribe();throw i}}}(class extends Iv{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(cancelAnimationFrame(e),n.scheduled=void 0)}});let Ij=1;const Aj=Promise.resolve(),Tx={};function sA(t){return t in Tx&&(delete Tx[t],!0)}const lA={setImmediate(t){const n=Ij++;return Tx[n]=!0,Aj.then(()=>sA(n)&&t()),n},clearImmediate(t){sA(t)}};new class extends Ud{flush(n){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,a=-1,c=e.length;n=n||e.shift();do{if(i=n.execute(n.state,n.delay))break}while(++a<c&&(n=e.shift()));if(this.active=!1,i){for(;++a<c&&(n=e.shift());)n.unsubscribe();throw i}}}(class extends Iv{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n.scheduled||(n.scheduled=lA.setImmediate(n.flush.bind(n,null))))}recycleAsyncId(n,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(lA.clearImmediate(e),n.scheduled=void 0)}});class Rj{constructor(n){this.durationSelector=n}call(n,e){return e.subscribe(new zj(n,this.durationSelector))}}class zj extends pa{constructor(n,e){super(n),this.durationSelector=e,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(n)}catch(a){return this.destination.error(a)}const i=yt(e,new Yr(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:n,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function dA(t){return!Nn(t)&&t-parseFloat(t)+1>=0}function Bj(t){const{index:n,period:e,subscriber:i}=t;if(i.next(n),!i.closed){if(-1===e)return i.complete();t.index=n+1,this.schedule(t,e)}}function Ex(t,n=P0){return function(t){return function(e){return e.lift(new Rj(t))}}(()=>function(t=0,n,e){let i=-1;return dA(n)?i=Number(n)<1?1:Number(n):Fr(n)&&(e=n),Fr(e)||(e=P0),new An(a=>{const c=dA(t)?t:+t-e.now();return e.schedule(Bj,c,{index:0,period:i,subscriber:a})})}(t,n))}class Zj{constructor(n=!1,e,i=!0){this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new on,e&&e.length&&(n?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let uA=(()=>{class t{constructor(){this._listeners=[]}notify(e,i){for(let a of this._listeners)a(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Dx=(()=>{class t{constructor(e,i,a){this._ngZone=e,this._platform=i,this._scrolled=new on,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new An(i=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(Ex(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Gd()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const a=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Qh(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let a=am(i),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$c(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Ne(mi),Ne(cr),Ne(di,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(mi),Ne(cr),Ne(di,8))},token:t,providedIn:"root"}),t})(),Rf=(()=>{class t{constructor(e,i,a){this._platform=e,this._change=new on,this._changeListener=c=>{this._change.next(c)},this._document=a,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ex(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Ne(cr),Ne(mi),Ne(di,8))},t.\u0275prov=$t({factory:function(){return new t(Ne(cr),Ne(mi),Ne(di,8))},token:t,providedIn:"root"}),t})(),U0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})(),gA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[N0,F0,U0],N0,U0]}),t})();class lk{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class ck extends lk{constructor(n,e,i,a){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=a}}class G0 extends lk{constructor(n,e,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class rU extends lk{constructor(n){super(),this.element=n instanceof Hn?n.nativeElement:n}}class _A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof ck?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof G0?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof rU?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oU extends _A{constructor(n,e,i,a,c){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=h=>{const b=h.element,w=this._document.createComment("dom-portal");b.parentNode.insertBefore(w,b),this.outletElement.appendChild(b),this._attachedPortal=h,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(b,w)})},this._document=c}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let a;return n.viewContainerRef?(a=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=i.create(n.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=n,a}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context);return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(i);-1!==a&&e.remove(a)}),this._attachedPortal=n,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Sx=(()=>{class t extends _A{constructor(e,i,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Et,this.attachDomPortal=c=>{const h=c.element,b=this._document.createComment("dom-portal");c.setAttachedHost(this),h.parentNode.insertBefore(b,h),this._getRootNode().appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(h,b)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=i.createComponent(c,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(he(Nu),he(xs),he(di))},t.\u0275dir=Tt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[yn]}),t})(),yA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})();class lU{constructor(n,e){this.predicate=n,this.inclusive=e}call(n,e){return e.subscribe(new cU(n,this.predicate,this.inclusive))}}class cU extends Sn{constructor(n,e,i){super(n),this.predicate=e,this.inclusive=i,this.index=0}_next(n){const e=this.destination;let i;try{i=this.predicate(n,this.index++)}catch(a){return void e.error(a)}this.nextOrComplete(n,i)}nextOrComplete(n,e){const i=this.destination;Boolean(e)?i.next(n):(this.inclusive&&i.next(n),i.complete())}}const vA=yI();class dU{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=go(-this._previousScrollPosition.left),n.style.top=go(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,a=this._document.body.style,c=i.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),vA&&(i.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vA&&(i.scrollBehavior=c,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class uU{constructor(n,e,i,a){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xA{enable(){}disable(){}attach(){}}function dk(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function wA(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class hU{constructor(n,e,i,a){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=a,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:a}=this._viewportRuler.getViewportSize();dk(e,[{width:i,height:a,bottom:a,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mU=(()=>{class t{constructor(e,i,a,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=a,this.noop=()=>new xA,this.close=h=>new uU(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new dU(this._viewportRuler,this._document),this.reposition=h=>new hU(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=c}}return t.\u0275fac=function(e){return new(e||t)(Ne(Dx),Ne(Rf),Ne(mi),Ne(di))},t.\u0275prov=$t({factory:function(){return new t(Ne(Dx),Ne(Rf),Ne(mi),Ne(di))},token:t,providedIn:"root"}),t})();class Ix{constructor(n){if(this.scrollStrategy=new xA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class pU{constructor(n,e,i,a,c){this.offsetX=i,this.offsetY=a,this.panelClass=c,this.originX=n.originX,this.originY=n.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class fU{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let CA=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({factory:function(){return new t(Ne(di))},token:t,providedIn:"root"}),t})(),gU=(()=>{class t extends CA{constructor(e){super(e),this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Ne(di))},t.\u0275prov=$t({factory:function(){return new t(Ne(di))},token:t,providedIn:"root"}),t})(),_U=(()=>{class t extends CA{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=cp(a)},this._clickListener=a=>{const c=cp(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let w=b.length-1;w>-1;w--){const E=b[w];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(c)||E.overlayElement.contains(h))break;E._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(Ne(di),Ne(cr))},t.\u0275prov=$t({factory:function(){return new t(Ne(di),Ne(cr))},token:t,providedIn:"root"}),t})(),uk=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||QC()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const i=this._document.createElement("div");i.classList.add(e),QC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return t.\u0275fac=function(e){return new(e||t)(Ne(di),Ne(cr))},t.\u0275prov=$t({factory:function(){return new t(Ne(di),Ne(cr))},token:t,providedIn:"root"}),t})();class bU{constructor(n,e,i,a,c,h,b,w,E){this._portalOutlet=n,this._host=e,this._pane=i,this._config=a,this._ngZone=c,this._keyboardDispatcher=h,this._document=b,this._location=w,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new on,this._attachments=new on,this._detachments=new on,this._locationChanges=Bt.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._keydownEvents=new on,this._outsidePointerEvents=new on,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let e=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nc(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Object.assign(Object.assign({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Object.assign(Object.assign({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=go(this._config.width),n.height=go(this._config.height),n.minWidth=go(this._config.minWidth),n.minHeight=go(this._config.minHeight),n.maxWidth=go(this._config.maxWidth),n.maxHeight=go(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let e;const i=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",i),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(n,e,i){const a=n.classList;fI(e).forEach(c=>{c&&(i?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Cs(On(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.parentNode&&n.parentNode.removeChild(n),this._backdropElement===n&&(this._backdropElement=null))}}const kA="cdk-overlay-connected-position-bounding-box",yU=/([A-Za-z%]+)$/;class hk{constructor(n,e,i,a,c){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new on,this._resizeSubscription=Bt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(kA),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,a=[];let c;for(let h of this._preferredPositions){let b=this._getOriginPoint(n,h),w=this._getOverlayPoint(b,e,h),E=this._getOverlayFit(w,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,b);this._canFitWithFlexibleDimensions(E,w,i)?a.push({position:h,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,h)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:w,originPoint:b,position:h,overlayRect:e})}if(a.length){let h=null,b=-1;for(const w of a){const E=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);E>b&&(b=E,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,n);this._applyPosition(n,e)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e){let i,a;if("center"==e.originX)i=n.left+n.width/2;else{const c=this._isRtl()?n.right:n.left,h=this._isRtl()?n.left:n.right;i="start"==e.originX?c:h}return a="center"==e.originY?n.top+n.height/2:"top"==e.originY?n.top:n.bottom,{x:i,y:a}}_getOverlayPoint(n,e,i){let a,c;return a="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+a,y:n.y+c}}_getOverlayFit(n,e,i,a){const c=TA(e);let{x:h,y:b}=n,w=this._getOffset(a,"x"),E=this._getOffset(a,"y");w&&(h+=w),E&&(b+=E);let K=0-b,ie=b+c.height-i.height,pe=this._subtractOverflows(c.width,0-h,h+c.width-i.width),Pe=this._subtractOverflows(c.height,K,ie),Oe=pe*Pe;return{visibleArea:Oe,isCompletelyWithinViewport:c.width*c.height===Oe,fitsInViewportVertically:Pe===c.height,fitsInViewportHorizontally:pe==c.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const a=i.bottom-e.y,c=i.right-e.x,h=MA(this._overlayRef.getConfig().minHeight),b=MA(this._overlayRef.getConfig().minWidth),E=n.fitsInViewportHorizontally||null!=b&&b<=c;return(n.fitsInViewportVertically||null!=h&&h<=a)&&E}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const a=TA(e),c=this._viewportRect,h=Math.max(n.x+a.width-c.width,0),b=Math.max(n.y+a.height-c.height,0),w=Math.max(c.top-i.top-n.y,0),E=Math.max(c.left-i.left-n.x,0);let L=0,$=0;return L=a.width<=c.width?E||-h:n.x<this._viewportMargin?c.left-i.left-n.x:0,$=a.height<=c.height?w||-b:n.y<this._viewportMargin?c.top-i.top-n.y:0,this._previousPushAmount={x:L,y:$},{x:n.x+L,y:n.y+$}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),a=new fU(n,i);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,a=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${a}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,a=this._isRtl();let c,h,b,L,$,K;if("top"===e.overlayY)h=n.y,c=i.height-h+this._viewportMargin;else if("bottom"===e.overlayY)b=i.height-n.y+2*this._viewportMargin,c=i.height-b+this._viewportMargin;else{const ie=Math.min(i.bottom-n.y+i.top,n.y),pe=this._lastBoundingBoxSize.height;c=2*ie,h=n.y-ie,c>pe&&!this._isInitialRender&&!this._growAfterOpen&&(h=n.y-pe/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)K=i.width-n.x+this._viewportMargin,L=n.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)$=n.x,L=i.right-n.x;else{const ie=Math.min(i.right-n.x+i.left,n.x),pe=this._lastBoundingBoxSize.width;L=2*ie,$=n.x-ie,L>pe&&!this._isInitialRender&&!this._growAfterOpen&&($=n.x-pe/2)}return{top:h,left:$,bottom:b,right:K,width:L,height:c}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=go(i.height),a.top=go(i.top),a.bottom=go(i.bottom),a.width=go(i.width),a.left=go(i.left),a.right=go(i.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=go(c)),h&&(a.maxWidth=go(h))}this._lastBoundingBoxSize=i,zf(this._boundingBox.style,a)}_resetBoundingBoxStyles(){zf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const L=this._viewportRuler.getViewportScrollPosition();zf(i,this._getExactOverlayY(e,n,L)),zf(i,this._getExactOverlayX(e,n,L))}else i.position="static";let b="",w=this._getOffset(e,"x"),E=this._getOffset(e,"y");w&&(b+=`translateX(${w}px) `),E&&(b+=`translateY(${E}px)`),i.transform=b.trim(),h.maxHeight&&(a?i.maxHeight=go(h.maxHeight):c&&(i.maxHeight="")),h.maxWidth&&(a?i.maxWidth=go(h.maxWidth):c&&(i.maxWidth="")),zf(this._pane.style,i)}_getExactOverlayY(n,e,i){let a={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=h,"bottom"===n.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=go(c.y),a}_getExactOverlayX(n,e,i){let h,a={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),h=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=go(c.x),a}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wA(n,i),isOriginOutsideView:dk(n,i),isOverlayClipped:wA(e,i),isOverlayOutsideView:dk(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,a)=>i-Math.max(a,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&fI(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Hn)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function zf(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function MA(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(yU);return e&&"px"!==e?null:parseFloat(n)}return t||null}function TA(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class vU{constructor(n,e,i,a,c,h,b){this._preferredPositions=[],this._positionStrategy=new hk(i,a,c,h,b).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(n,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(n){this._overlayRef=n,this._positionStrategy.attach(n),this._direction&&(n.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(n){this._positionStrategy.withScrollableContainers(n)}withFallbackPosition(n,e,i,a){const c=new pU(n,e,i,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(n){return this._overlayRef?this._overlayRef.setDirection(n):this._direction=n,this}withOffsetX(n){return this._positionStrategy.withDefaultOffsetX(n),this}withOffsetY(n){return this._positionStrategy.withDefaultOffsetY(n),this}withLockedPosition(n){return this._positionStrategy.withLockedPosition(n),this}withPositions(n){return this._preferredPositions=n.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(n){return this._positionStrategy.setOrigin(n),this}}const EA="cdk-global-overlay-wrapper";class xU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(EA),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:h,maxHeight:b}=i,w=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),E=!("100%"!==c&&"100vh"!==c||b&&"100%"!==b&&"100vh"!==b);n.position=this._cssPosition,n.marginLeft=w?"0":this._leftOffset,n.marginTop=E?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,w?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(EA),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let wU=(()=>{class t{constructor(e,i,a,c){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=c}global(){return new xU}connectedTo(e,i,a){return new vU(i,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new hk(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Ne(Rf),Ne(di),Ne(cr),Ne(uk))},t.\u0275prov=$t({factory:function(){return new t(Ne(Rf),Ne(di),Ne(cr),Ne(uk))},token:t,providedIn:"root"}),t})(),CU=0,dp=(()=>{class t{constructor(e,i,a,c,h,b,w,E,L,$,K){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=h,this._injector=b,this._ngZone=w,this._document=E,this._directionality=L,this._location=$,this._outsideClickDispatcher=K}create(e){const i=this._createHostElement(),a=this._createPaneElement(i),c=this._createPortalOutlet(a),h=new Ix(e);return h.direction=h.direction||this._directionality.value,new bU(c,i,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+CU++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(vf)),new oU(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Ne(mU),Ne(uk),Ne(Nu),Ne(wU),Ne(gU),Ne(Xn),Ne(mi),Ne(di),Ne(Uc),Ne(hD),Ne(_U))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const kU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],DA=new Ve("cdk-connected-overlay-scroll-strategy");let MU=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275dir=Tt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),SA=(()=>{class t{constructor(e,i,a,c,h){this._overlay=e,this._dir=h,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Bt.EMPTY,this._attachSubscription=Bt.EMPTY,this._detachSubscription=Bt.EMPTY,this._positionSubscription=Bt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Et,this.positionChange=new Et,this.attach=new Et,this.detach=new Et,this.overlayKeydown=new Et,this.overlayOutsideClick=new Et,this._templatePortal=new G0(i,a),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Xi(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Xi(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Xi(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Xi(e)}get push(){return this._push}set push(e){this._push=Xi(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=kU);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Wd(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ix({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,n=!1){return e=>e.lift(new lU(t,n))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(dp),he(Sl),he(xs),he(DA),he(Uc,8))},t.\u0275dir=Tt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Yi]}),t})();const EU={provide:DA,deps:[dp],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ax=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[dp,EU],imports:[[N0,yA,gA],gA]}),t})();const IA=["mat-button",""],AA=["*"],SU=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],IU=_x(gx(B0(class{constructor(t){this._elementRef=t}})));let Ox=(()=>{class t extends IU{constructor(e,i,a){super(e),this._focusMonitor=i,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of SU)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(u_),he(tm,8))},t.\u0275cmp=Ct({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&En(Pf,5),2&e){let a;Xt(a=Kt())&&(i.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(j("disabled",i.disabled||null),Rn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yn],attrs:IA,ngContentSelectors:AA,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(hr(),R(0,"span",0),aa(1),z(),Se(2,"span",1),Se(3,"span",2)),2&e&&(F(2),Rn("mat-button-ripple-round",i.isRoundButton||i.isIconButton),B("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Pf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),AU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[vx,_o],_o]}),t})();const LA=mx({passive:!0});let PA=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return JD;const i=am(e),a=this._monitoredElements.get(i);if(a)return a.subject;const c=new on,h="cdk-text-field-autofilled",b=w=>{"cdk-text-field-autofill-start"!==w.animationName||i.classList.contains(h)?"cdk-text-field-autofill-end"===w.animationName&&i.classList.contains(h)&&(i.classList.remove(h),this._ngZone.run(()=>c.next({target:w.target,isAutofilled:!1}))):(i.classList.add(h),this._ngZone.run(()=>c.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",b,LA),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:c,unlisten:()=>{i.removeEventListener("animationstart",b,LA)}}),c}stopMonitoring(e){const i=am(e),a=this._monitoredElements.get(i);a&&(a.unlisten(),a.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return t.\u0275fac=function(e){return new(e||t)(Ne(cr),Ne(mi))},t.\u0275prov=$t({factory:function(){return new t(Ne(cr),Ne(mi))},token:t,providedIn:"root"}),t})(),FA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[F0]]}),t})();const RA=new Ve("MAT_INPUT_VALUE_ACCESSOR"),LU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let PU=0;const FU=ak(class{constructor(t,n,e,i){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=i}});let Lx=(()=>{class t extends FU{constructor(e,i,a,c,h,b,w,E,L,$){super(b,c,h,a),this._elementRef=e,this._platform=i,this._autofillMonitor=E,this._formField=$,this._uid="mat-input-"+PU++,this.focused=!1,this.stateChanges=new on,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pe=>bI().has(pe));const K=this._elementRef.nativeElement,ie=K.nodeName.toLowerCase();this._inputValueAccessor=w||K,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&L.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",pe=>{const Pe=pe.target;!Pe.value&&0===Pe.selectionStart&&0===Pe.selectionEnd&&(Pe.setSelectionRange(1,1),Pe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ie,this._isTextarea="textarea"===ie,this._isInFormField=!!$,this._isNativeSelect&&(this.controlType=K.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Xi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Xi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&bI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Xi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const a=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(a!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=a,a?c.setAttribute("placeholder",a):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){LU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(cr),he(Yd,10),he(op,8),he(ws,8),he(h_),he(RA,10),he(PA),he(mi),he(m_,8))},t.\u0275dir=Tt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&Ze("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(qh("disabled",i.disabled)("required",i.required),j("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Rn("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[gi([{provide:j0,useExisting:t}]),yn,Yi]}),t})(),RU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[h_],imports:[[FA,kx,_o],FA,kx]}),t})();const zU=["mat-calendar-body",""];function NU(t,n){if(1&t&&(R(0,"tr",2),R(1,"td",3),ot(2),z(),z()),2&t){const e=Z();F(1),Ru("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),j("colspan",e.numCols),F(1),vn(" ",e.label," ")}}function BU(t,n){if(1&t&&(R(0,"td",3),ot(1),z()),2&t){const e=Z(2);Ru("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),j("colspan",e._firstRowOffset),F(1),vn(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function VU(t,n){if(1&t){const e=Cn();R(0,"td",7),Ze("click",function(a){const h=mt(e).$implicit;return Z(2)._cellClicked(h,a)}),R(1,"div",8),ot(2),z(),Se(3,"div",9),z()}if(2&t){const e=n.$implicit,i=n.index,a=Z().index,c=Z();Ru("width",c._cellWidth)("padding-top",c._cellPadding)("padding-bottom",c._cellPadding),Rn("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",c._isActiveCell(a,i))("mat-calendar-body-range-start",c._isRangeStart(e.compareValue))("mat-calendar-body-range-end",c._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",c._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",c._isComparisonBridgeStart(e.compareValue,a,i))("mat-calendar-body-comparison-bridge-end",c._isComparisonBridgeEnd(e.compareValue,a,i))("mat-calendar-body-comparison-start",c._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",c._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",c._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",c._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",c._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",c._isInPreview(e.compareValue)),B("ngClass",e.cssClasses)("tabindex",c._isActiveCell(a,i)?0:-1),j("data-mat-row",a)("data-mat-col",i)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",c._isSelected(e.compareValue)),F(1),Rn("mat-calendar-body-selected",c._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",c._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",c.todayValue===e.compareValue),F(1),vn(" ",e.displayValue," ")}}function HU(t,n){if(1&t&&(R(0,"tr",4),Q(1,BU,2,6,"td",5),Q(2,VU,4,46,"td",6),z()),2&t){const e=n.$implicit,i=n.index,a=Z();F(1),B("ngIf",0===i&&a._firstRowOffset),F(1),B("ngForOf",e)}}function jU(t,n){if(1&t&&(R(0,"th",5),R(1,"abbr",6),ot(2),z(),z()),2&t){const e=n.$implicit;j("aria-label",e.long),F(1),j("title",e.long),F(1),Kn(e.narrow)}}const zA=["*"];function UU(t,n){}function GU(t,n){if(1&t){const e=Cn();R(0,"mat-month-view",5),Ze("activeDateChange",function(a){return mt(e),Z().activeDate=a})("_userSelection",function(a){return mt(e),Z()._dateSelected(a)}),z()}if(2&t){const e=Z();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function $U(t,n){if(1&t){const e=Cn();R(0,"mat-year-view",6),Ze("activeDateChange",function(a){return mt(e),Z().activeDate=a})("monthSelected",function(a){return mt(e),Z()._monthSelectedInYearView(a)})("selectedChange",function(a){return mt(e),Z()._goToDateInView(a,"month")}),z()}if(2&t){const e=Z();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function YU(t,n){if(1&t){const e=Cn();R(0,"mat-multi-year-view",7),Ze("activeDateChange",function(a){return mt(e),Z().activeDate=a})("yearSelected",function(a){return mt(e),Z()._yearSelectedInMultiYearView(a)})("selectedChange",function(a){return mt(e),Z()._goToDateInView(a,"year")}),z()}if(2&t){const e=Z();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function qU(t,n){}const WU=["button"];function ZU(t,n){1&t&&(kc(),R(0,"svg",3),Se(1,"path",4),z())}const XU=[[["","matDatepickerToggleIcon",""]]],KU=["[matDatepickerToggleIcon]"];let $0=(()=>{class t{constructor(){this.changes=new on,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({factory:function(){return new t},token:t,providedIn:"root"}),t})();class mk{constructor(n,e,i,a,c={},h=n,b){this.value=n,this.displayValue=e,this.ariaLabel=i,this.enabled=a,this.cssClasses=c,this.compareValue=h,this.rawValue=b}}let f_=(()=>{class t{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Et,this.previewChange=new Et,this._enterHandler=a=>{if(this._skipNextFocus&&"focus"===a.type)this._skipNextFocus=!1;else if(a.target&&this.isRange){const c=this._getCellFromElement(a.target);c&&this._ngZone.run(()=>this.previewChange.emit({value:c.enabled?c:null,event:a}))}},this._leaveHandler=a=>{null!==this.previewEnd&&this.isRange&&a.target&&pk(a.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a}))},i.runOutsideAngular(()=>{const a=e.nativeElement;a.addEventListener("mouseenter",this._enterHandler,!0),a.addEventListener("focus",this._enterHandler,!0),a.addEventListener("mouseleave",this._leaveHandler,!0),a.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:a,numCols:c}=this;(e.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?c-a[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/c+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/c+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let a=e*this.numCols+i;return e&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nc(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})}_isRangeStart(e){return fk(e,this.startValue,this.endValue)}_isRangeEnd(e){return gk(e,this.startValue,this.endValue)}_isInRange(e){return _k(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return fk(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,a){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let c=this.rows[i][a-1];if(!c){const h=this.rows[i-1];c=h&&h[h.length-1]}return c&&!this._isRangeEnd(c.compareValue)}_isComparisonBridgeEnd(e,i,a){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let c=this.rows[i][a+1];if(!c){const h=this.rows[i+1];c=h&&h[0]}return c&&!this._isRangeStart(c.compareValue)}_isComparisonEnd(e){return gk(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return _k(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return fk(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return gk(e,this.previewStart,this.previewEnd)}_isInPreview(e){return _k(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(pk(e)?i=e:pk(e.parentNode)&&(i=e.parentNode),i){const a=i.getAttribute("data-mat-row"),c=i.getAttribute("data-mat-col");if(a&&c)return this.rows[parseInt(a)][parseInt(c)]}return null}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(mi))},t.\u0275cmp=Ct({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Yi],attrs:zU,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(Q(0,NU,3,6,"tr",0),Q(1,HU,3,2,"tr",1)),2&e&&(B("ngIf",i._firstRowOffset<i.labelMinRequiredCells),F(1),B("ngForOf",i.rows))},directives:[ri,ya,Pr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),t})();function pk(t){return"TD"===t.nodeName}function fk(t,n,e){return null!==e&&n!==e&&t<e&&t===n}function gk(t,n,e){return null!==n&&n!==e&&t>=n&&t===e}function _k(t,n,e,i){return i&&null!==n&&null!==e&&n!==e&&t>=n&&t<=e}class Gs{constructor(n,e){this.start=n,this.end=e}}let up=(()=>{class t{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new on,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const a=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return t.\u0275fac=function(e){return new(e||t)(Ne(void 0),Ne(mr))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),tG=(()=>{class t extends up{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new t(this._adapter);return e.updateSelection(this.selection,this),e}}return t.\u0275fac=function(e){return new(e||t)(Ne(mr))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();const NA={provide:up,deps:[[new Hr,new qo,up],mr],useFactory:function(t,n){return t||new tG(n)}},Px=new Ve("MAT_DATE_RANGE_SELECTION_STRATEGY");let BA=(()=>{class t{constructor(e,i,a,c,h){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=a,this._dir=c,this._rangeStrategy=h,this._rerenderSubscription=Bt.EMPTY,this.selectedChange=new Et,this._userSelection=new Et,this.activeDateChange=new Et,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Gs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zu(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,a=this._dateAdapter.getYear(this.activeDate),c=this._dateAdapter.getMonth(this.activeDate),h=this._dateAdapter.createDate(a,c,i);let b,w;this._selected instanceof Gs?(b=this._getDateInCurrentMonth(this._selected.start),w=this._getDateInCurrentMonth(this._selected.end)):b=w=this._getDateInCurrentMonth(this._selected),(b!==i||w!==i)&&this.selectedChange.emit(h),this._userSelection.emit({value:h,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Wd(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const c=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let c=this._dateAdapter.getDayOfWeekNames("long").map((h,b)=>({long:h,narrow:i[b]}));this._weekdays=c.slice(e).concat(c.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,c=this._firstWeekOffset;a<e;a++,c++){7==c&&(this._weeks.push([]),c=0);const h=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),b=this._shouldEnableDate(h),w=this._dateAdapter.format(h,this._dateFormats.display.dateA11yLabel),E=this.dateClass?this.dateClass(h,"month"):void 0;this._weeks[this._weeks.length-1].push(new mk(a+1,i[a],w,b,E,this._getCellCompareValue(h),h))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),a=this._dateAdapter.getMonth(e),c=this._dateAdapter.getDate(e);return new Date(i,a,c).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Gs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return t.\u0275fac=function(e){return new(e||t)(he(wr),he(Gc,8),he(mr,8),he(Uc,8),he(Px,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&En(f_,5),2&e){let a;Xt(a=Kt())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Yi],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(e,i){1&e&&(R(0,"table",0),R(1,"thead",1),R(2,"tr"),Q(3,jU,3,3,"th",2),z(),R(4,"tr"),Se(5,"th",3),z(),z(),R(6,"tbody",4),Ze("selectedValueChange",function(c){return i._dateSelected(c)})("previewChange",function(c){return i._previewChanged(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),z(),z()),2&e&&(F(3),B("ngForOf",i._weekdays),F(3),B("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[ya,f_],encapsulation:2,changeDetection:0}),t})(),VA=(()=>{class t{constructor(e,i,a){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=Bt.EMPTY,this.selectedChange=new Et,this.yearSelected=new Et,this.activeDateChange=new Et,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),HA(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Gs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zu(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Y0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,c=[];a<24;a++)c.push(i+a),4==c.length&&(this._years.push(c.map(h=>this._createCellForYear(h))),c=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let a=this._dateAdapter.getMonth(this.activeDate),c=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,a,1));this.selectedChange.emit(this._dateAdapter.createDate(i,a,Math.min(this._dateAdapter.getDate(this.activeDate),c)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Y0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Y0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Y0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),a=this._dateAdapter.getYearName(i),c=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new mk(e,a,a,this._shouldEnableYear(e),c)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Gs){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return t.\u0275fac=function(e){return new(e||t)(he(wr),he(mr,8),he(Uc,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&En(f_,5),2&e){let a;Xt(a=Kt())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(R(0,"table",0),R(1,"thead",1),R(2,"tr"),Se(3,"th",2),z(),z(),R(4,"tbody",3),Ze("selectedValueChange",function(c){return i._yearSelected(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),z(),z()),2&e&&(F(4),B("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[f_],encapsulation:2,changeDetection:0}),t})();function HA(t,n,e,i,a){const c=t.getYear(n),h=t.getYear(e),b=jA(t,i,a);return Math.floor((c-b)/24)===Math.floor((h-b)/24)}function Y0(t,n,e,i){return function(t,n){return(t%24+24)%24}(t.getYear(n)-jA(t,e,i))}function jA(t,n,e){let i=0;return e?i=t.getYear(e)-24+1:n&&(i=t.getYear(n)),i}let UA=(()=>{class t{constructor(e,i,a,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=a,this._dir=c,this._rerenderSubscription=Bt.EMPTY,this.selectedChange=new Et,this.monthSelected=new Et,this.activeDateChange=new Et,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Gs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zu(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);const c=this._dateAdapter.getNumDaysInMonth(a);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),c)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(a=>this._createCellForMonth(a,e[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),c=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),h=this.dateClass?this.dateClass(a,"year"):void 0;return new mk(e,i.toLocaleUpperCase(),c,this._shouldEnableMonth(e),h)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let c=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(c)==e;c=this._dateAdapter.addCalendarDays(c,1))if(this.dateFilter(c))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),c=this._dateAdapter.getMonth(this.maxDate);return e>a||e===a&&i>c}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),c=this._dateAdapter.getMonth(this.minDate);return e<a||e===a&&i<c}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Gs?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return t.\u0275fac=function(e){return new(e||t)(he(wr),he(Gc,8),he(mr,8),he(Uc,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&En(f_,5),2&e){let a;Xt(a=Kt())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(R(0,"table",0),R(1,"thead",1),R(2,"tr"),Se(3,"th",2),z(),z(),R(4,"tbody",3),Ze("selectedValueChange",function(c){return i._monthSelected(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),z(),z()),2&e&&(F(4),B("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[f_],encapsulation:2,changeDetection:0}),t})(),dG=0,uG=(()=>{class t{constructor(e,i,a,c,h){this._intl=e,this.calendar=i,this._dateAdapter=a,this._dateFormats=c,this._buttonDescriptionId="mat-calendar-button-"+dG++,this.calendar.stateChanges.subscribe(()=>h.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Y0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+24-1,c=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),h=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return this._intl.formatYearRange(c,h)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):HA(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return t.\u0275fac=function(e){return new(e||t)(he($0),he(Un(()=>vk)),he(mr,8),he(Gc,8),he(wr))},t.\u0275cmp=Ct({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:zA,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(hr(),R(0,"div",0),R(1,"div",1),R(2,"button",2),Ze("click",function(){return i.currentPeriodClicked()}),R(3,"span"),ot(4),z(),Se(5,"div",3),z(),Se(6,"div",4),aa(7),R(8,"button",5),Ze("click",function(){return i.previousClicked()}),z(),R(9,"button",6),Ze("click",function(){return i.nextClicked()}),z(),z(),z()),2&e&&(F(2),j("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),F(1),j("id",i._buttonDescriptionId),F(1),Kn(i.periodButtonText),F(1),Rn("mat-calendar-invert","month"!==i.calendar.currentView),F(3),B("disabled",!i.previousEnabled()),j("aria-label",i.prevButtonLabel),F(1),B("disabled",!i.nextEnabled()),j("aria-label",i.nextButtonLabel))},directives:[Ox,CH],encapsulation:2,changeDetection:0}),t})(),vk=(()=>{class t{constructor(e,i,a,c){this._dateAdapter=i,this._dateFormats=a,this._changeDetectorRef=c,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Et,this.yearSelected=new Et,this.monthSelected=new Et,this.viewChanged=new Et(!0),this._userSelection=new Et,this.stateChanges=new on,this._intlChanges=e.changes.subscribe(()=>{c.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Gs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new ck(this.headerComponent||uG),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Gs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return t.\u0275fac=function(e){return new(e||t)(he($0),he(mr,8),he(Gc,8),he(wr))},t.\u0275cmp=Ct({type:t,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(En(BA,5),En(UA,5),En(VA,5)),2&e){let a;Xt(a=Kt())&&(i.monthView=a.first),Xt(a=Kt())&&(i.yearView=a.first),Xt(a=Kt())&&(i.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[gi([NA]),Yi],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(Q(0,UU,0,0,"ng-template",0),R(1,"div",1),Q(2,GU,1,8,"mat-month-view",2),Q(3,$U,1,6,"mat-year-view",3),Q(4,YU,1,6,"mat-multi-year-view",4),z()),2&e&&(B("cdkPortalOutlet",i._calendarHeaderPortal),F(1),B("ngSwitch",i.currentView),F(1),B("ngSwitchCase","month"),F(1),B("ngSwitchCase","year"),F(1),B("ngSwitchCase","multi-year"))},directives:[Sx,BI,i_,Cv,BA,UA,VA],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),t})();const GA={transformPanel:kr("transformPanel",[ra("void => enter-dropdown",va("120ms cubic-bezier(0, 0, 0.2, 1)",z2([Ln({opacity:0,transform:"scale(1, 0.8)"}),Ln({opacity:1,transform:"scale(1, 1)"})]))),ra("void => enter-dialog",va("150ms cubic-bezier(0, 0, 0.2, 1)",z2([Ln({opacity:0,transform:"scale(0.7)"}),Ln({transform:"none",opacity:1})]))),ra("* => void",va("100ms linear",Ln({opacity:0})))]),fadeInCalendar:kr("fadeInCalendar",[ma("void",Ln({opacity:0})),ma("enter",Ln({opacity:1})),ra("void => *",va("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let hG=0;const $A=new Ve("mat-datepicker-scroll-strategy"),pG={provide:$A,deps:[dp],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},fG=_x(class{constructor(t){this._elementRef=t}});let gG=(()=>{class t extends fG{constructor(e,i,a,c,h,b){super(e),this._changeDetectorRef=i,this._globalModel=a,this._dateAdapter=c,this._rangeSelectionStrategy=h,this._subscriptions=new Bt,this._animationDone=new on,this._actionsPortal=null,this._closeButtonText=b.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,a=e.value,c=i instanceof Gs;if(c&&this._rangeSelectionStrategy){const h=this._rangeSelectionStrategy.selectionFinished(a,i,e.event);this._model.updateSelection(h,this)}else a&&(c||!this._dateAdapter.sameDate(a,i))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(wr),he(up),he(mr),he(Px,8),he($0))},t.\u0275cmp=Ct({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&En(vk,5),2&e){let a;Xt(a=Kt())&&(i._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&a3("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(l3("@transformPanel",i._animationState),Rn("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[yn],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"mat-calendar",1),Ze("yearSelected",function(c){return i.datepicker._selectYear(c)})("monthSelected",function(c){return i.datepicker._selectMonth(c)})("viewChanged",function(c){return i.datepicker._viewChanged(c)})("_userSelection",function(c){return i._handleUserSelection(c)}),z(),Q(2,qU,0,0,"ng-template",2),R(3,"button",3),Ze("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),ot(4),z(),z()),2&e&&(Rn("mat-datepicker-content-container-with-actions",i._actionsPortal),F(1),B("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),F(1),B("cdkPortalOutlet",i._actionsPortal),F(1),Rn("cdk-visually-hidden",!i._closeButtonFocused),B("color",i.color||"primary"),F(1),Kn(i._closeButtonText))},directives:[SI,vk,Pr,Sx,Ox],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[GA.transformPanel,GA.fadeInCalendar]},changeDetection:0}),t})(),Nf=(()=>{class t{constructor(e,i,a,c,h,b,w,E,L){this._overlay=i,this._ngZone=a,this._viewContainerRef=c,this._dateAdapter=b,this._dir=w,this._model=L,this._inputStateChanges=Bt.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Et,this.monthSelected=new Et,this.viewChanged=new Et(!0),this.openedStream=new Et,this.closedStream=new Et,this._opened=!1,this.id="mat-datepicker-"+hG++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new on,this._scrollStrategy=h}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Xi(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Xi(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Xi(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=gI(e)}get opened(){return this._opened}set opened(e){Xi(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;a instanceof hk&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=vI(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(nc(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=this.datepickerInput.getOverlayLabelId(),a=new ck(gG,this._viewContainerRef),c=this._overlayRef=this._overlay.create(new Ix({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")})),h=c.overlayElement;h.setAttribute("role","dialog"),i&&h.setAttribute("aria-labelledby",i),e&&h.setAttribute("aria-modal","true"),this._getCloseStream(c).subscribe(b=>{b&&b.preventDefault(),this.close()}),this._componentRef=c.attach(a),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(nc(1)).subscribe(()=>c.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",a="start"===i?"end":"start",c="above"===this.yPosition?"bottom":"top",h="top"===c?"bottom":"top";return e.withPositions([{originX:i,originY:h,overlayX:i,overlayY:c},{originX:i,originY:c,overlayX:i,overlayY:h},{originX:a,originY:h,overlayX:a,overlayY:c},{originX:a,originY:c,overlayX:a,overlayY:h}])}_getCloseStream(e){return On(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Qh(i=>27===i.keyCode&&!Wd(i)||this.datepickerInput&&Wd(i,"altKey")&&38===i.keyCode)))}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(dp),he(mi),he(xs),he($A),he(mr,8),he(Uc,8),he(di,8),he(up))},t.\u0275dir=Tt({type:t,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Yi]}),t})(),_G=(()=>{class t extends Nf{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[gi([NA,{provide:Nf,useExisting:t}]),yn],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),t})();class Fx{constructor(n,e){this.target=n,this.targetElement=e,this.value=this.target.value}}let YA=(()=>{class t{constructor(e,i,a){this._elementRef=e,this._dateAdapter=i,this._dateFormats=a,this.dateChange=new Et,this.dateInput=new Et,this.stateChanges=new on,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Bt.EMPTY,this._localeSubscription=Bt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=c=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(c.value));return!h||this._matchesFilter(h)?null:{matDatepickerFilter:!0}},this._minValidator=c=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(c.value)),b=this._getMinDate();return!b||!h||this._dateAdapter.compareDate(b,h)<=0?null:{matDatepickerMin:{min:b,actual:h}}},this._maxValidator=c=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(c.value)),b=this._getMaxDate();return!b||!h||this._dateAdapter.compareDate(b,h)>=0?null:{matDatepickerMax:{max:b,actual:h}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Xi(e),a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const a=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new Fx(this,this._elementRef.nativeElement)),this.dateChange.emit(new Fx(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(t,n){const e=Object.keys(t);for(let i of e){const{previousValue:a,currentValue:c}=t[i];if(!n.isDateInstance(a)||!n.isDateInstance(c))return!0;if(!n.sameDate(a,c))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let a=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a),this._dateAdapter.sameDate(a,this.value)?(e&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(a),this._cvaOnChange(a),this.dateInput.emit(new Fx(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Fx(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(mr,8),he(Gc,8))},t.\u0275dir=Tt({type:t,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Yi]}),t})();const bG={provide:js,useExisting:Un(()=>xk),multi:!0},yG={provide:fo,useExisting:Un(()=>xk),multi:!0};let xk=(()=>{class t extends YA{constructor(e,i,a,c){super(e,i,a),this._formField=c,this._closedSubscription=Bt.EMPTY,this._validator=$d.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(mr,8),he(Gc,8),he(m_,8))},t.\u0275dir=Tt({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&Ze("input",function(c){return i._onInput(c.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(c){return i._onKeydown(c)}),2&e&&(qh("disabled",i.disabled),j("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[gi([bG,yG,{provide:RA,useExisting:t}]),yn]}),t})(),WA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t})(),vG=(()=>{class t{constructor(e,i,a){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Bt.EMPTY;const c=Number(a);this.tabIndex=c||0===c?c:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Xi(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Gd(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Gd(),a=this.datepicker?On(this.datepicker.openedStream,this.datepicker.closedStream):Gd();this._stateChanges.unsubscribe(),this._stateChanges=On(this._intl.changes,e,i,a).subscribe(()=>this._changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(he($0),he(wr),De("tabindex"))},t.\u0275cmp=Ct({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,a){if(1&e&&No(a,WA,5),2&e){let c;Xt(c=Kt())&&(i._customIcon=c.first)}},viewQuery:function(e,i){if(1&e&&En(WU,5),2&e){let a;Xt(a=Kt())&&(i._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&Ze("click",function(c){return i._open(c)}),2&e&&(j("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),Rn("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Yi],ngContentSelectors:KU,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(hr(XU),R(0,"button",0,1),Q(2,ZU,2,0,"svg",2),aa(3),z()),2&e&&(B("disabled",i.disabled)("disableRipple",i.disableRipple),j("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),F(2),B("ngIf",!i._customIcon))},directives:[Ox,ri],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),t})(),kG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[$0,pG],imports:[[Ba,AU,Ax,UI,yA,_o],U0]}),t})();const MG=["input"],TG=function(t){return{enterDuration:t}},EG=["*"],DG=new Ve("mat-checkbox-default-options",{providedIn:"root",factory:XA});function XA(){return{color:"accent",clickAction:"check-indeterminate"}}let SG=0;const KA=XA(),IG={provide:js,useExisting:Un(()=>JA),multi:!0};class AG{}const OG=ik(_x(B0(gx(class{constructor(t){this._elementRef=t}}))));let JA=(()=>{class t extends OG{constructor(e,i,a,c,h,b,w){super(e),this._changeDetectorRef=i,this._focusMonitor=a,this._ngZone=c,this._animationMode=b,this._options=w,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++SG,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new Et,this.indeterminateChange=new Et,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||KA,this.color=this.defaultColor=this._options.color||KA.color,this.tabIndex=parseInt(h)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Xi(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Xi(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Xi(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,a=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);const c=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(c)},1e3)})}}_emitChangeEvent(){const e=new AG;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const a=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===a?!this.disabled&&"noop"===a&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==a&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let a="";switch(e){case 0:if(1===i)a="unchecked-checked";else{if(3!=i)return"";a="unchecked-indeterminate"}break;case 2:a=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:a=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:a=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${a}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(wr),he(u_),he(mi),De("tabindex"),he(tm,8),he(DG,8))},t.\u0275cmp=Ct({type:t,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(En(MG,5),En(Pf,5)),2&e){let a;Xt(a=Kt())&&(i._inputElement=a.first),Xt(a=Kt())&&(i.ripple=a.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(qh("id",i.id),j("tabindex",null),Rn("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[gi([IG]),yn],ngContentSelectors:EG,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(hr(),R(0,"label",0,1),R(2,"span",2),R(3,"input",3,4),Ze("change",function(c){return i._onInteractionEvent(c)})("click",function(c){return i._onInputClick(c)}),z(),R(5,"span",5),Se(6,"span",6),z(),Se(7,"span",7),R(8,"span",8),kc(),R(9,"svg",9),Se(10,"path",10),z(),ei.lFrame.currentNamespace=null,Se(11,"span",11),z(),z(),R(12,"span",12,13),Ze("cdkObserveContent",function(){return i._onLabelTextChange()}),R(14,"span",14),ot(15,"\xa0"),z(),aa(16),z(),z()),2&e){const a=Ft(1),c=Ft(13);j("for",i.inputId),F(2),Rn("mat-checkbox-inner-container-no-side-margin",!c.textContent||!c.textContent.trim()),F(1),B("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),j("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),F(2),B("matRippleTrigger",a)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Ga(19,TG,"NoopAnimations"===i._animationMode?0:150))}},directives:[Pf,wI],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),t})(),QA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({}),t})(),FG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[vx,_o,tk,QA],_o,QA]}),t})();const RG=["input"],zG=function(t){return{enterDuration:t}},NG=["*"],BG=new Ve("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let e5=0;const HG={provide:js,useExisting:Un(()=>a5),multi:!0};class t5{constructor(n,e){this.source=n,this.value=e}}const n5=new Ve("MatRadioGroup");let i5=(()=>{class t{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+e5++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Et}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Xi(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new t5(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(he(wr))},t.\u0275dir=Tt({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),a5=(()=>{class t extends i5{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275dir=Tt({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,i,a){if(1&e&&No(a,r5,5),2&e){let c;Xt(c=Kt())&&(i._radios=c)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[gi([HG,{provide:n5,useExisting:t}]),yn]}),t})();class jG{constructor(n){this._elementRef=n}}const UG=B0(ik(jG));let GG=(()=>{class t extends UG{constructor(e,i,a,c,h,b,w,E){super(i),this._changeDetector=a,this._focusMonitor=c,this._radioDispatcher=h,this._providerOverride=w,this._uniqueId="mat-radio-"+ ++e5,this.id=this._uniqueId,this.change=new Et,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===b,E&&(this.tabIndex=Wu(E,0)),this._removeUniqueSelectionListener=h.listen((L,$)=>{L!==this.id&&$===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=Xi(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Xi(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Xi(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new t5(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(he(i5),he(Hn),he(wr),he(u_),he(uA),he(String),he(void 0),he(String))},t.\u0275dir=Tt({type:t,viewQuery:function(e,i){if(1&e&&En(RG,5),2&e){let a;Xt(a=Kt())&&(i._inputElement=a.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[yn]}),t})(),r5=(()=>{class t extends GG{constructor(e,i,a,c,h,b,w,E){super(e,i,a,c,h,b,w,E)}}return t.\u0275fac=function(e){return new(e||t)(he(n5,8),he(Hn),he(wr),he(u_),he(uA),he(tm,8),he(BG,8),De("tabindex"))},t.\u0275cmp=Ct({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&Ze("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(j("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Rn("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[yn],ngContentSelectors:NG,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(hr(),R(0,"label",0,1),R(2,"span",2),Se(3,"span",3),Se(4,"span",4),R(5,"input",5,6),Ze("change",function(c){return i._onInputInteraction(c)})("click",function(c){return i._onInputClick(c)}),z(),R(7,"span",7),Se(8,"span",8),z(),z(),R(9,"span",9),R(10,"span",10),ot(11,"\xa0"),z(),aa(12),z(),z()),2&e){const a=Ft(1);j("for",i.inputId),F(5),B("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex)("required",i.required),j("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),F(2),B("matRippleTrigger",a)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Ga(18,zG,i._noopAnimations?0:150)),F(2),Rn("mat-radio-label-before","before"==i.labelPosition)}},directives:[Pf],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),$G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[vx,_o],_o]}),t})();const Bf=P9()||K2,o5=new Ve("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function qG(t,n){const e=Array(t);for(let i=0;i<t;i++)e[i]=n(i);return e}let s5=(()=>{class t extends mr{constructor(e,i){super(),this._options=i,this.setLocale(e||Bf.locale())}setLocale(e){super.setLocale(e);let i=Bf.localeData(e);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:qG(31,a=>this.createDate(2017,0,a+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,i,a){const c=this._createMoment({year:e,month:i,date:a}).locale(this.locale);return c.isValid(),c}today(){return this._createMoment().locale(this.locale)}parse(e,i){return e&&"string"==typeof e?this._createMoment(e,i,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,i){return e=this.clone(e),this.isValid(e),e.format(i)}addCalendarYears(e,i){return this.clone(e).add({years:i})}addCalendarMonths(e,i){return this.clone(e).add({months:i})}addCalendarDays(e,i){return this.clone(e).add({days:i})}toIso8601(e){return this.clone(e).format()}deserialize(e){let i;if(e instanceof Date)i=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;i=this._createMoment(e,Bf.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(e)}isDateInstance(e){return Bf.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return Bf.invalid()}_createMoment(e,i,a){const{strict:c,useUtc:h}=this._options||{};return h?Bf.utc(e,i,a,c):Bf(e,i,a,c)}}return t.\u0275fac=function(e){return new(e||t)(Ne(bx,8),Ne(o5,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),l5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[{provide:mr,useClass:s5,deps:[bx,o5]}]}),t})();const KG=["required","min","max","email","minlength","maxlength","pattern","maxFileSize"];class q0{constructor(){this.forms={}}composeValidators(n,e){return n.filter(a=>-1!==KG.indexOf(a.attrName)||(console.warn(`The validation ${a.attrName} was not found and removed without affecting the validation`),!1)).map(a=>{switch(a.attrName){case"required":return $d.required;case"min":if(a.options&&"string"==typeof a.options)return $d.min(parseInt(a.options,10));break;case"max":if(a.options&&"string"==typeof a.options)return $d.max(parseInt(a.options,10));break;case"email":return $d.email;case"minlength":if(a.options&&"string"==typeof a.options)return $d.minLength(parseInt(a.options,10));break;case"maxlength":if(a.options&&"string"==typeof a.options)return $d.maxLength(parseInt(a.options,10));break;case"maxFileSize":if(a.options&&"string"==typeof a.options&&e)return function(t,n){return()=>{const e=null==n?void 0:n.nativeElement.files;let i=!0;if(e){const a=e.item(0);a&&(i=a.size<=1e3*t)}return i?null:{maxFileSize:!0}}}(parseInt(a.options,10),e);break;default:if(a.options&&a.options.regularExpression)return $d.pattern(new RegExp(a.options.regularExpression.replace(/[/](.*)[/]/,"$1")))}return null})}addFormGroup(n,e,i){this.forms[n]?this.forms[n].addControl(i,e):this.forms[n]=new l_({[i]:e})}getFormGroup(n){return this.forms[n]}}let c5=(()=>{class t{constructor(e,i,a){this.fb=e,this.formService=i,this.elementRef=a,this.fieldName="",this.fieldId="",this.validations=[],this.isDisabled=!1,this.isRequired=!1,this.isAutofocus=!1,this.formGroup=this.fb.group({fieldValue:[""]})}set dataValidations(e){this.validations=JSON.parse(e).flat(1)}set disabled(e){this.isDisabled="disabled"===e}set required(e){(""===e||"required"===e)&&(this.isRequired=!0)}set autofocus(e){""===e&&(this.isAutofocus=!0)}ngAfterViewInit(){const e=this.elementRef.nativeElement.closest("bt3-form");if(e){const i=e.getAttribute("id");this.formService.addFormGroup(i,this.formGroup,this.fieldName)}}get control(){return this.formGroup.controls.fieldValue}get validationString(){return JSON.stringify(this.validations)}}return t.\u0275fac=function(e){return new(e||t)(he(uI),he(q0),he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-form-element"]],inputs:{label:"label",fieldName:"fieldName",fieldId:"fieldId",dataValidations:"dataValidations",disabled:"disabled",required:"required",optionalLabel:"optionalLabel",autofocus:"autofocus"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})(),W0=(()=>{class t extends c5{constructor(){super(...arguments),this.value=""}ngOnInit(){var e,i,a;this.validations.length>0&&(null===(e=this.formGroup.get("fieldValue"))||void 0===e||e.setValidators(this.formService.composeValidators(this.validations))),""!==this.value&&(null===(i=this.formGroup.get("fieldValue"))||void 0===i||i.setValue(this.value)),this.isDisabled&&(null===(a=this.formGroup.get("fieldValue"))||void 0===a||a.disable())}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-form-input"]],inputs:{value:"value"},features:[yn],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();function JG(t,n){if(1&t&&(R(0,"span"),ot(1),z()),2&t){const e=Z();F(1),vn(" (",e.optionalLabel,") ")}}let om=(()=>{class t{constructor(){this.isRequired=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-form-element-label"]],inputs:{label:"label",optionalLabel:"optionalLabel",isRequired:"isRequired"},decls:2,vars:2,consts:[[3,"innerHTML"],[4,"ngIf"]],template:function(e,i){1&e&&(Se(0,"span",0),Q(1,JG,2,1,"span",1)),2&e&&(B("innerHTML",i.label,Zi),F(1),B("ngIf",!i.isRequired&&i.optionalLabel))},directives:[ri],encapsulation:2}),t})();function QG(t,n){if(1&t&&(R(0,"p",4),R(1,"span",5),ot(2),z(),z()),2&t){const e=Z().$implicit,i=Z(2);F(2),vn(" ",i.warnMessages[e.attrName]," ")}}function e$(t,n){if(1&t&&(R(0,"div"),Q(1,QG,3,1,"p",3),z()),2&t){const e=n.$implicit,i=Z(2);F(1),B("ngIf",i.control.errors[e.attrName]&&i.warnMessages[e.attrName])}}function t$(t,n){if(1&t&&(R(0,"div",1),Q(1,e$,2,1,"div",2),z()),2&t){const e=Z();F(1),B("ngForOf",e.validations)}}let sm=(()=>{class t{constructor(){this.warnMessages={}}ngAfterViewInit(){this.validations.forEach(e=>{if(e.warnMessage)if("string"==typeof e.warnMessage)this.warnMessages[e.attrName]=e.warnMessage;else{const i=Object.keys(e.warnMessage)[0];this.warnMessages[e.attrName]=e.warnMessage[i]}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-error-messages"]],inputs:{control:"control",validations:"validations"},decls:1,vars:1,consts:[["class","bt3-input__alert-wrapper","aria-live","assertive",4,"ngIf"],["aria-live","assertive",1,"bt3-input__alert-wrapper"],[4,"ngFor","ngForOf"],["class","bt3-input__alert",4,"ngIf"],[1,"bt3-input__alert"],["role","alert"]],template:function(e,i){1&e&&Q(0,t$,2,1,"div",0),2&e&&B("ngIf",i.control.touched&&i.control.invalid&&i.control.errors)},directives:[ri,ya],encapsulation:2}),t})();function n$(t,n){if(1&t){const e=Cn();R(0,"button",7),Ze("click",function(){return mt(e),Z().resetValue()}),Se(1,"bt3-icon",8),z()}2&t&&j("aria-label",Z().clearButtonAriaLabel)}function i$(t,n){if(1&t&&(R(0,"mat-hint"),R(1,"p"),ot(2),z(),z()),2&t){const e=Z();F(2),Kn(e.hint)}}let g_=(()=>{class t extends W0{constructor(){super(...arguments),this.type="text",this.clearButtonAriaLabel="Reset",this.onInputChanged=new Et,this.lastEmittedValue=""}ngOnInit(){var e;super.ngOnInit(),null===(e=this.removeItemObs)||void 0===e||e.subscribe(i=>{if(i&&("all"===i.value||i.id===this.fieldId)){const a=this.formGroup.get("fieldValue");null==a||a.setValue([])}})}resetValue(){document.activeElement&&"BUTTON"===document.activeElement.tagName&&this.control.setValue(""),this.onInputChanged.emit("")}onInputChange(e=!1){var i;(!e||!this.control.value||e&&this.control.value!==this.lastEmittedValue)&&(null===(i=this.onInputChanged)||void 0===i||i.emit(this.control.value),this.lastEmittedValue=this.control.value)}resetLastEmittedValue(){this.lastEmittedValue=""}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-text-input"]],inputs:{type:"type",hint:"hint",clearButtonAriaLabel:"clearButtonAriaLabel",removeItemObs:"removeItemObs"},outputs:{onInputChanged:"onInputChanged"},features:[yn],decls:8,vars:14,consts:[[3,"formGroup"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["matInput","","formControlName","fieldValue",3,"type","id","name","focus","blur","keydown.enter"],["mat-button","","matSuffix","","mat-icon-button","","class","bt3-search-reset__button",3,"click",4,"ngIf"],[4,"ngIf"],[3,"validations","control"],["mat-button","","matSuffix","","mat-icon-button","",1,"bt3-search-reset__button",3,"click"],["name","close","has-transitions","",1,"bt3-search-reset__icon"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"mat-form-field",1),R(2,"mat-label"),Se(3,"app-form-element-label",2),z(),R(4,"input",3),Ze("focus",function(){return i.resetLastEmittedValue()})("blur",function(){return i.onInputChange(!0)})("keydown.enter",function(){return i.onInputChange()}),z(),Q(5,n$,2,1,"button",4),Q(6,i$,3,1,"mat-hint",5),z(),Se(7,"app-error-messages",6),z()),2&e&&(B("formGroup",i.formGroup),F(1),Rn("bt3-input--has-hint",i.hint),F(2),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("type",i.type)("id",i.fieldId)("name",i.fieldName),j("autofocus",i.isAutofocus||null),F(1),B("ngIf",i.control.value&&"search"===i.type),F(1),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,p_,rm,om,Lx,np,$u,qd,ri,sm,sk,Ff],encapsulation:2}),t})();function a$(t,n){if(1&t&&(R(0,"mat-hint"),R(1,"p"),ot(2),z(),z()),2&t){const e=Z();F(2),Kn(e.hint)}}let r$=(()=>{class t extends W0{constructor(){super(...arguments),this.type="text"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-date-picker"]],inputs:{type:"type",hint:"hint"},features:[yn],decls:11,vars:11,consts:[[3,"formGroup"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["matInput","","formControlName","fieldValue",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon","","name","calendar"],["picker",""],[4,"ngIf"],[3,"validations","control"]],template:function(e,i){if(1&e&&(R(0,"div",0),R(1,"mat-form-field",1),R(2,"mat-label"),Se(3,"app-form-element-label",2),z(),Se(4,"input",3),R(5,"mat-datepicker-toggle",4),Se(6,"bt3-icon",5),z(),Se(7,"mat-datepicker",null,6),Q(9,a$,3,1,"mat-hint",7),z(),Se(10,"app-error-messages",8),z()),2&e){const a=Ft(8);B("formGroup",i.formGroup),F(1),Rn("bt3-input--has-hint",i.hint),F(2),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("matDatepicker",a),F(1),B("for",a),F(4),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control)}},directives:[Yu,ws,p_,rm,om,Lx,np,xk,$u,qd,vG,sk,WA,_G,ri,sm,Ff],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px / 28px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 calc(14px * .83) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 calc(14px * .67) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption{font:400 12px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px / 112px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px / 56px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px / 48px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px / 40px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px}.mat-radio-button{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:normal}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-option{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator{position:relative}.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:white;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:white}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#121212;background:#949494}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#949494;color:#121212}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:white;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary{color:#949494}.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#949494}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:black}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{color:#121212}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{color:#121212}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{background-color:#949494}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#949494}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone,.mat-button-toggle-group{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:white}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px rgba(0,0,0,.12)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:white}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:white;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#0000008a}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:black}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-table{background:white}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{border-top-color:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active{color:#949494}.mat-datepicker-toggle-active.mat-accent{color:#949494}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:white;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:white;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:white}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label{color:#0009}.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#949494}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label{color:#0000008a}.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary{color:#949494}.mat-icon.mat-accent{color:#949494}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#949494}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#949494}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item{color:#000000de}.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-item-disabled{background-color:#eee}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:white}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:white}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#949494}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#949494}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:white}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-warn .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-primary .mat-slider-track-fill,.mat-primary .mat-slider-thumb,.mat-primary .mat-slider-thumb-label{background-color:#949494}.mat-primary .mat-slider-thumb-label-text{color:#121212}.mat-primary .mat-slider-focus-ring{background-color:#94949433}.mat-accent .mat-slider-track-fill,.mat-accent .mat-slider-thumb,.mat-accent .mat-slider-thumb-label{background-color:#949494}.mat-accent .mat-slider-thumb-label-text{color:#121212}.mat-accent .mat-slider-focus-ring{background-color:#94949433}.mat-warn .mat-slider-track-fill,.mat-warn .mat-slider-thumb,.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider-disabled .mat-slider-track-background,.mat-slider-disabled .mat-slider-track-fill,.mat-slider-disabled .mat-slider-thumb{background-color:#00000042}.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#121212}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-accent .mat-step-icon{color:#121212}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:whitesmoke;color:#000000de}.mat-toolbar.mat-primary{background:#949494;color:#121212}.mat-toolbar.mat-accent{background:#949494;color:#121212}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:white}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#949494}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix{margin-right:-.75em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle .mat-icon-button{--themeBase: var(--black-500);display:flex;align-items:center;justify-content:center}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle .mat-icon-button .mat-button-wrapper{display:flex;justify-content:center;align-items:center;width:2.4rem;height:2.4rem;position:relative;transform:translateY(-2px)}.mat-datepicker-content{letter-spacing:.03em}.mat-datepicker-content .mat-calendar,.mat-datepicker-content .mat-button{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style)}.mat-datepicker-content .mat-button-wrapper{letter-spacing:.03em}.mat-datepicker-content .mat-calendar-body-cell-content{border-radius:0}.mat-datepicker-content .mat-calendar-body-selected{background-color:var(--black-900);color:var(--white)}\n'],encapsulation:2}),t})();const o$=["*"];let Vf=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-form-style-wrapper"]],ngContentSelectors:o$,decls:2,vars:0,consts:[[1,"bt3-form-style-wrapper"]],template:function(e,i){1&e&&(hr(),R(0,"div",0),aa(1),z())},styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h3,p,ul,fieldset,legend{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}fieldset{min-width:0;border:0;margin:0;padding:0}h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-form-style-wrapper .bt3-boolean-inputs__list{list-style:none;margin-left:0}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px / 28px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 calc(14px * .83) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 calc(14px * .67) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption{font:400 12px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px / 112px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px / 56px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px / 48px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px / 40px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px}.mat-radio-button{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:normal}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-option{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator{position:relative}.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:white;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:white}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#121212;background:#949494}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#949494;color:#121212}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:white;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary{color:#949494}.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#949494}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:black}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{color:#121212}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{color:#121212}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{background-color:#949494}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#949494}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone,.mat-button-toggle-group{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:white}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px rgba(0,0,0,.12)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:white}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:white;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#0000008a}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:black}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-table{background:white}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{border-top-color:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active{color:#949494}.mat-datepicker-toggle-active.mat-accent{color:#949494}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:white;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:white;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:white}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label{color:#0009}.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#949494}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label{color:#0000008a}.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary{color:#949494}.mat-icon.mat-accent{color:#949494}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#949494}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#949494}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item{color:#000000de}.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-item-disabled{background-color:#eee}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:white}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:white}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#949494}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#949494}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:white}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-warn .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-primary .mat-slider-track-fill,.mat-primary .mat-slider-thumb,.mat-primary .mat-slider-thumb-label{background-color:#949494}.mat-primary .mat-slider-thumb-label-text{color:#121212}.mat-primary .mat-slider-focus-ring{background-color:#94949433}.mat-accent .mat-slider-track-fill,.mat-accent .mat-slider-thumb,.mat-accent .mat-slider-thumb-label{background-color:#949494}.mat-accent .mat-slider-thumb-label-text{color:#121212}.mat-accent .mat-slider-focus-ring{background-color:#94949433}.mat-warn .mat-slider-track-fill,.mat-warn .mat-slider-thumb,.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider-disabled .mat-slider-track-background,.mat-slider-disabled .mat-slider-track-fill,.mat-slider-disabled .mat-slider-thumb{background-color:#00000042}.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#121212}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-accent .mat-step-icon{color:#121212}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:whitesmoke;color:#000000de}.mat-toolbar.mat-primary{background:#949494;color:#121212}.mat-toolbar.mat-accent{background:#949494;color:#121212}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:white}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#949494}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline{width:100%}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-flex{align-items:flex-end;margin-top:-.6rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline:not(.bt3-input--has-hint) .mat-form-field-wrapper{padding-bottom:0}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-wrapper{margin-bottom:0;margin-top:2.1rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:.5rem;transition:color .2s ease-in-out}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{color:var(--black-400);opacity:1!important}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline-thick{display:none}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline-start,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0}@media (hover: hover){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline:hover .mat-form-field-outline:not(.mat-form-field-outline-thick){color:var(--black-900);opacity:1}}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-suffix{top:0}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-infix{padding:0 0 1.8rem;border-top-width:2.2rem;width:auto;min-height:6.9rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label-wrapper{top:-2.2rem;padding-top:2.2rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-input-element,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-input-element,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label{font-size:1.8rem}}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-hint{color:var(--black-500)}@media (min-width: 60em){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label{margin-top:-.55em}}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-hint-wrapper{margin-top:.7rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-hint{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.2rem;line-height:1.2}@media (min-width: 60em){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-hint{font-size:1.5rem}}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translate(-.3rem,-2.6rem) scale(.75);background-color:var(--white);display:inline-block;width:auto;padding:0 .3rem}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline:not(.mat-form-field-outline-thick){color:var(--black-900);opacity:1}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick){color:var(--red-500);opacity:1}@media (hover: hover){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick):hover{color:var(--red-700)}}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-label{color:var(--black-400)}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:var(--black-300)}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-icon-button{opacity:.33}.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled.mat-form-field .mat-form-field-invalid .mat-form-field-outline,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline-start,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline-gap,.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline-end{border-color:var(--black-300)}@media (hover: hover){.bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-disabled:hover .mat-form-field-outline:not(.mat-form-field-outline-thick){color:var(--black-400)}}.bt3-form-style-wrapper .bt3-input__alert-wrapper{padding-left:.75em;margin-top:.7rem}.bt3-form-style-wrapper .bt3-input__alert{display:block;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.2rem;line-height:1.2;color:var(--red-500);margin:0}@media (min-width: 60em){.bt3-form-style-wrapper .bt3-input__alert{font-size:1.5rem}}.bt3-form-style-wrapper .bt3-input--has-hint .mat-form-field-wrapper{padding-bottom:2.2rem}.bt3-form-style-wrapper .bt3-form,.bt3-form .bt3-form-style-wrapper{display:flex;flex-direction:column}.bt3-theme--primary .bt3-form-style-wrapper .bt3-form,.bt3-form-style-wrapper .bt3-form.bt3-theme--primary,.bt3-theme--primary .bt3-form .bt3-form-style-wrapper,.bt3-form .bt3-form-style-wrapper.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-form-style-wrapper .bt3-form,.bt3-form-style-wrapper .bt3-form.bt3-theme--secondary,.bt3-theme--secondary .bt3-form .bt3-form-style-wrapper,.bt3-form .bt3-form-style-wrapper.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}.bt3-form-style-wrapper .bt3-form h3,.bt3-form-style-wrapper .bt3-form legend,.bt3-form .bt3-form-style-wrapper h3,.bt3-form .bt3-form-style-wrapper legend{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.7rem;line-height:1.5}@media (min-width: 60em){.bt3-form-style-wrapper .bt3-form h3,.bt3-form-style-wrapper .bt3-form legend,.bt3-form .bt3-form-style-wrapper h3,.bt3-form .bt3-form-style-wrapper legend{font-size:3.6rem;line-height:1.2}}.bt3-form-style-wrapper .bt3-form h3,.bt3-form .bt3-form-style-wrapper h3{margin-top:4.5rem}.bt3-form-style-wrapper .bt3-form>fieldset,.bt3-form .bt3-form-style-wrapper>fieldset{margin-top:4.5rem}.bt3-form-style-wrapper .bt3-form p,.bt3-form .bt3-form-style-wrapper p{margin-top:3rem;margin-bottom:.9rem}.bt3-form-style-wrapper .bt3-form .mat-hint p,.bt3-form-style-wrapper .bt3-form .bt3-input__alert,.bt3-form .bt3-form-style-wrapper .mat-hint p,.bt3-form .bt3-form-style-wrapper .bt3-input__alert{margin:0}.bt3-form-style-wrapper .bt3-form__row{display:grid;grid-template-columns:repeat(12,1fr);grid-column-gap:1.8rem;column-gap:1.8rem}@media (min-width: 60em){.bt3-form-style-wrapper .bt3-form__row{grid-column-gap:3.6rem;column-gap:3.6rem}}.bt3-form-style-wrapper [class^=bt3-form__col]{grid-column:auto/span 12;min-width:0}.bt3-form-style-wrapper .bt3-form__col--25{grid-column:auto/span 12}@media (min-width: 37.5em){.bt3-form-style-wrapper .bt3-form__col--25{grid-column:auto/span 3}}.bt3-form-style-wrapper .bt3-form__col--33{grid-column:auto/span 9}@media (min-width: 37.5em){.bt3-form-style-wrapper .bt3-form__col--33{grid-column:auto/span 4}}.bt3-form-style-wrapper .bt3-form__col--50{grid-column:auto/span 6}@media (min-width: 37.5em){.bt3-form-style-wrapper .bt3-form__col--66{grid-column:auto/span 8}}@media (min-width: 37.5em){.bt3-form-style-wrapper .bt3-form__col--75{grid-column:auto/span 9}}.bt3-form-style-wrapper .bt3-boolean-inputs{margin-top:3rem;border:0;padding:0 0 .9rem}.bt3-form-style-wrapper .bt3-boolean-inputs .bt3-input__alert-wrapper{padding-left:0;margin-top:1.5rem}.bt3-form-style-wrapper .bt3-boolean-inputs--legendless{margin-top:2.1rem}.bt3-form-style-wrapper .bt3-boolean-inputs__list{padding:0}.bt3-form-style-wrapper .bt3-boolean-inputs__item{line-height:1;margin-top:2.1rem}.bt3-form-style-wrapper .bt3-boolean-inputs__legendless-item{margin-top:0}.bt3-form-style-wrapper .bt3-boolean-inputs__legend{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.5;padding:0}@media (min-width: 60em){.bt3-form-style-wrapper .bt3-boolean-inputs__legend{font-size:2.4rem}}.bt3-form-style-wrapper .bt3-boolean-inputs__legend a{color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out}@media (hover: hover){.bt3-form-style-wrapper .bt3-boolean-inputs__legend a:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-form-style-wrapper .bt3-form__button{display:block;margin-top:4.5rem}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{color:var(--black-300)}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{background-color:transparent}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-label{color:var(--white)}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline{color:var(--white)}@media (hover: hover){.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline:hover .mat-form-field-outline,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline:hover .mat-form-field-outline{color:var(--white)}}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .mat-select-value,.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .mat-select-value-text,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-select-value,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-select-value-text{color:var(--white)}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .mat-select-arrow,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-select-arrow{color:var(--white)}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick),.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick){color:var(--white);opacity:1}@media (hover: hover){.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick):hover,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline:not(.mat-form-field-outline-thick):hover{color:var(--white)}}.bt3-form-style-wrapper .bt3-form--inverted .mat-form-field.mat-form-field-appearance-outline .bt3-input__alert,.bt3-form--inverted .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .bt3-input__alert{color:var(--white)}.bt3-form-style-wrapper .bt3-form--single-line .mat-form-field.mat-form-field-appearance-outline .mat-form-field-wrapper,.bt3-form--single-line .bt3-form-style-wrapper .mat-form-field.mat-form-field-appearance-outline .mat-form-field-wrapper{margin-top:0}.bt3-form-style-wrapper .bt3-search-reset__button{height:5.8rem;padding-right:1.2rem}.bt3-form-style-wrapper .bt3-search-reset__button:focus{outline:none}.bt3-form-style-wrapper .bt3-search-results__input-col .bt3-search-reset__button{padding-right:0}.bt3-form-style-wrapper .bt3-search-reset__icon{width:1.2rem;height:1.2rem}.bt3-form-style-wrapper .bt3-search-reset__icon svg{--themeBase: currentColor}.bt3-form-style-wrapper .h-captcha{display:flex;flex-direction:column;margin-top:2.1rem}.bt3-form__summary{grid-column:1/span 12}.bt3-form__summary-title{margin-bottom:3rem}.bt3-form__summary-table{min-width:100%}.bt3-form__summary-table tr td:first-child{width:50%}@media (min-width: 37.5em){.bt3-form__summary-table tr td:first-child{width:33%}}.bt3-form__summary-table ul{list-style:none;margin:0;padding:0}\n'],encapsulation:2}),t})();function s$(t,n){if(1&t&&(R(0,"mat-hint",6),R(1,"p"),ot(2),z(),z()),2&t){const e=Z();F(2),Kn(e.hint)}}let l$=(()=>{class t extends W0{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-textarea"]],inputs:{hint:"hint"},features:[yn],decls:7,vars:13,consts:[[3,"formGroup"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["matInput","","formControlName","fieldValue","rows","5",3,"id","name"],["class","bt3-input__hint",4,"ngIf"],[3,"validations","control"],[1,"bt3-input__hint"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"mat-form-field",1),R(2,"mat-label"),Se(3,"app-form-element-label",2),z(),Se(4,"textarea",3),Q(5,s$,3,1,"mat-hint",4),z(),Se(6,"app-error-messages",5),z()),2&e&&(B("formGroup",i.formGroup),F(1),Rn("bt3-input--has-hint",i.hint)("mat-form-field-valid",i.control.dirty&&i.control.valid),F(2),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("id",i.fieldId)("name",i.fieldName),F(1),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,p_,rm,om,Lx,np,$u,qd,ri,sm,Ff],encapsulation:2}),t})(),zx=(()=>{class t extends c5{set dataOptions(e){const i=JSON.parse(e);i.options=i.options.map(a=>{const c=Object.assign({},a);return c.value=a.value.toString(),c}),this.options=i}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-form-boolean-input"]],inputs:{dataOptions:"dataOptions"},features:[yn],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();function c$(t,n){if(1&t&&(R(0,"div",7),R(1,"mat-checkbox",8),Se(2,"span",9),z(),z()),2&t){const e=n.option,i=n.index,a=Z();F(1),B("name",a.options.id+"[]")("formControlName",i)("id",a.options.id+"_"+i)("value",e.value)("checked",e.checked)("disabled",e.disabled),F(1),B("innerHTML",e.label,Zi)}}function d$(t,n){}function u$(t,n){if(1&t&&(R(0,"legend",10),Se(1,"app-form-element-label",11),z()),2&t){const e=Z();F(1),B("label",e.label)("optionalLabel",e.optionalLabel)("isRequired",e.isRequired)}}function h$(t,n){1&t&&Se(0,"div")}const m$=function(t,n){return{option:t,index:n}};function p$(t,n){if(1&t&&(R(0,"li",14),Q(1,h$,1,0,"div",15),z()),2&t){const e=n.index,i=Z(2),a=Ft(2);F(1),B("ngTemplateOutlet",a)("ngTemplateOutletContext",Cr(2,m$,i.options.options[e],e))}}function f$(t,n){if(1&t&&(R(0,"ul",12),Q(1,p$,2,5,"li",13),z()),2&t){const e=Z();F(1),B("ngForOf",e.checkboxControls)}}function g$(t,n){1&t&&Se(0,"div")}const _$=function(t){return{option:t,index:0}};function b$(t,n){if(1&t&&(R(0,"div",14),Q(1,g$,1,0,"div",15),z()),2&t){const e=Z(),i=Ft(2);Rn("bt3-boolean-inputs__legendless-item",!e.label),F(1),B("ngTemplateOutlet",i)("ngTemplateOutletContext",Ga(4,_$,e.options.options[0]))}}let y$=(()=>{class t extends zx{ngOnInit(){var e;const i=new cx(this.options.options.map(a=>new Af(a.checked)));this.formGroup=this.fb.group({checkboxArray:i}),this.validations.length>0&&(null===(e=this.formGroup.get("checkboxArray"))||void 0===e||e.setValidators(this.checkboxValidator()))}get control(){return this.formGroup.controls.checkboxArray}get checkboxControls(){return this.formGroup.get("checkboxArray").controls}checkboxValidator(){return e=>e.controls.map(a=>a.value).indexOf(!0)>-1?null:{required:"No value selected"}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-checkboxes"]],features:[yn],decls:9,vars:8,consts:[[1,"bt3-boolean-inputs",3,"formGroup"],["input",""],["inputWrapper",""],["class","bt3-boolean-inputs__legend",4,"ngIf"],["class","bt3-boolean-inputs__list",4,"ngIf"],["class","bt3-boolean-inputs__item",3,"bt3-boolean-inputs__legendless-item",4,"ngIf"],[3,"validations","control"],["formArrayName","checkboxArray"],[3,"name","formControlName","id","value","checked","disabled"],[3,"innerHTML"],[1,"bt3-boolean-inputs__legend"],[3,"label","optionalLabel","isRequired"],[1,"bt3-boolean-inputs__list"],["class","bt3-boolean-inputs__item",4,"ngFor","ngForOf"],[1,"bt3-boolean-inputs__item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(R(0,"fieldset",0),Q(1,c$,3,7,"ng-template",null,1,Hs),Q(3,d$,0,0,"ng-template",null,2,Hs),Q(5,u$,2,3,"legend",3),Q(6,f$,2,1,"ul",4),Q(7,b$,2,6,"div",5),Se(8,"app-error-messages",6),z()),2&e&&(Rn("bt3-boolean-inputs--legendless",!i.label),B("formGroup",i.formGroup),F(5),B("ngIf",i.label),F(1),B("ngIf",i.options.options.length>1),F(1),B("ngIf",1===i.options.options.length),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,ri,sm,dx,JA,$u,qd,om,ya,ju],styles:['@charset "UTF-8";.bt3-boolean-inputs .mat-checkbox-inner-container{width:2.1rem;height:2.1rem;margin:0 1.2rem 0 0}.bt3-boolean-inputs .mat-checkbox-background,.bt3-boolean-inputs .mat-checkbox-frame{border-radius:0}.bt3-boolean-inputs .mat-checkbox-frame{border-width:1px;border-color:var(--black-400)}.bt3-boolean-inputs .mat-checkbox-label{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500)}@media (min-width: 60em){.bt3-boolean-inputs .mat-checkbox-label{font-size:1.8rem}}.bt3-boolean-inputs .mat-checkbox-label a{color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out}@media (hover: hover){.bt3-boolean-inputs .mat-checkbox-label a:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-boolean-inputs .mat-checkbox-layout{align-items:start;max-width:100%;white-space:normal}.bt3-boolean-inputs .mat-checkbox-layout .mat-checkbox-label{line-height:1.5}.bt3-boolean-inputs .mat-checkbox-checked .mat-checkbox-label{color:var(--black-900)}.bt3-boolean-inputs .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:var(--black-900)}.bt3-boolean-inputs .mat-checkbox{line-height:1;width:100%}.bt3-boolean-inputs .mat-checkbox.mat-checkbox-disabled .mat-checkbox-label{color:var(--black-300)}.bt3-boolean-inputs .mat-checkbox.mat-checkbox-disabled .mat-checkbox-frame{border-color:var(--black-300)}.bt3-boolean-inputs .mat-checkbox.mat-checkbox-disabled .mat-checkbox-background{background-color:var(--black-300)}@media (hover: hover){.bt3-boolean-inputs .mat-checkbox:hover:not(.mat-checkbox-disabled) .mat-checkbox-frame{border-color:var(--black-900)}.bt3-boolean-inputs .mat-checkbox:hover:not(.mat-checkbox-disabled) .mat-checkbox-label{color:var(--black-900)}}.bt3-boolean-inputs .mat-checkbox.cdk-focused:not(.mat-checkbox-disabled) .mat-checkbox-frame{border-color:var(--black-900)}.bt3-boolean-inputs .mat-checkbox.cdk-focused:not(.mat-checkbox-disabled) .mat-checkbox-label{color:var(--black-900)}\n'],encapsulation:2}),t})();function v$(t,n){if(1&t&&(R(0,"legend",6),Se(1,"app-form-element-label",7),z()),2&t){const e=Z();F(1),B("label",e.label)("optionalLabel",e.optionalLabel)("isRequired",e.isRequired)}}function x$(t,n){if(1&t&&(R(0,"li",10),R(1,"mat-radio-button",11),ot(2),z(),z()),2&t){const e=n.$implicit,i=n.index,a=Z(2);F(1),B("id",a.options.id+"_"+i)("checked",e.checked)("value",e.value)("disabled",e.disabled),F(1),vn(" ",e.label," ")}}function w$(t,n){if(1&t&&(R(0,"ul",8),Q(1,x$,3,5,"li",9),z()),2&t){const e=Z();F(1),B("ngForOf",e.options.options)}}function C$(t,n){if(1&t&&(R(0,"div",10),R(1,"mat-radio-button",11),ot(2),z(),z()),2&t){const e=Z();F(1),B("id",e.options.id)("checked",e.options.options[0].checked)("value",e.options.options[0].value)("disabled",e.options.options[0].disabled),F(1),vn(" ",e.options.options[0].label," ")}}let k$=(()=>{class t extends zx{ngOnInit(){var e;this.validations.length>0&&(null===(e=this.formGroup.get("fieldValue"))||void 0===e||e.setValidators([$d.required]))}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-radiobuttons"]],features:[yn],decls:6,vars:7,consts:[[1,"bt3-boolean-inputs",3,"formGroup"],["class","bt3-boolean-inputs__legend",4,"ngIf"],["formControlName","fieldValue",3,"name"],["class","bt3-boolean-inputs__list",4,"ngIf"],["class","bt3-boolean-inputs__item",4,"ngIf"],[3,"validations","control"],[1,"bt3-boolean-inputs__legend"],[3,"label","optionalLabel","isRequired"],[1,"bt3-boolean-inputs__list"],["class","bt3-boolean-inputs__item",4,"ngFor","ngForOf"],[1,"bt3-boolean-inputs__item"],[3,"id","checked","value","disabled"]],template:function(e,i){1&e&&(R(0,"fieldset",0),Q(1,v$,2,3,"legend",1),R(2,"mat-radio-group",2),Q(3,w$,2,1,"ul",3),Q(4,C$,3,5,"div",4),z(),Se(5,"app-error-messages",5),z()),2&e&&(B("formGroup",i.formGroup),F(1),B("ngIf",i.label),F(1),B("name",i.fieldName),F(1),B("ngIf",i.options.options.length>1),F(1),B("ngIf",1===i.options.options.length),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,ri,a5,$u,qd,sm,om,ya,r5],styles:['@charset "UTF-8";.bt3-boolean-inputs .mat-radio-label-content{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);padding-left:1.2rem}@media (min-width: 60em){.bt3-boolean-inputs .mat-radio-label-content{font-size:1.8rem}}.bt3-boolean-inputs .mat-radio-label-content a{color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out}@media (hover: hover){.bt3-boolean-inputs .mat-radio-label-content a:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-boolean-inputs .mat-radio-container,.bt3-boolean-inputs .mat-radio-inner-circle{width:2.1rem;height:2.1rem}.bt3-boolean-inputs .mat-radio-outer-circle{width:2.1rem;height:2.1rem;border-width:1px;border-color:var(--black-400)}.bt3-boolean-inputs .mat-radio-label{align-items:start;max-width:100%;white-space:normal}.bt3-boolean-inputs .mat-radio-button.mat-radio-checked .mat-radio-inner-circle{transform:scale(.6);background-color:var(--black-900)}.bt3-boolean-inputs .mat-radio-button.mat-radio-checked .mat-radio-label-content{color:var(--black-900)}.bt3-boolean-inputs .mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:var(--black-300)}.bt3-boolean-inputs .mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background:var(--black-300)}.bt3-boolean-inputs .mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:var(--black-300)}@media (hover: hover){.bt3-boolean-inputs .mat-radio-button:hover:not(.mat-radio-disabled) .mat-radio-label-content{color:var(--black-900)}.bt3-boolean-inputs .mat-radio-button:hover:not(.mat-radio-disabled) .mat-radio-outer-circle{border-color:var(--black-900)}}.bt3-boolean-inputs .mat-radio-button.cdk-focused:not(.mat-radio-disabled) .mat-radio-label-content{color:var(--black-900)}.bt3-boolean-inputs .mat-radio-button.cdk-focused:not(.mat-radio-disabled) .mat-radio-outer-circle{border-color:var(--black-900)}@media screen and (-ms-high-contrast: active){.bt3-boolean-inputs .mat-radio-checked .mat-radio-label-content,.bt3-boolean-inputs .mat-checkbox-label{color:#000;background-color:#fff}.bt3-boolean-inputs .mat-radio-checked .mat-radio-inner-circle{background-color:red}.bt3-select .mat-select-value-text{color:#fff;background-color:#000}}\n'],encapsulation:2}),t})();const M$=["*"];let T$=(()=>{class t{constructor(e,i){this.formService=e,this.el=i,this.method="POST",this.action="",this.id="",this.enctype="multipart/form-data",this.formWrapperEl=null,this.hCaptchaEl=null,this.hCaptchaFrameEl=null,this.errorRequiredLabel="",this.submitted=!1,this.submitButtons=[],this.inputCurrentPage=null}ngAfterViewInit(){this.formWrapperEl=this.el.nativeElement.closest("bt3-form-style-wrapper"),this.hCaptchaEl=this.el.nativeElement.querySelector(".h-captcha"),this.hCaptchaFrameEl=this.el.nativeElement.querySelector("iframe"),this.formWrapperEl&&(this.errorRequiredLabel=this.formWrapperEl.getAttribute("error-required-label")||""),setTimeout(()=>{if(this.submitButtons=Array.from(this.el.nativeElement.querySelectorAll('button[type="submit"]')),this.inputCurrentPage=this.el.nativeElement.querySelector("#inputCurrentPage"),this.inputCurrentPage){const e=parseInt(this.inputCurrentPage.value);this.submitButtons.forEach(i=>{const a=parseInt(i.value);"navigation"===i.name&&(a===e-1?i.addEventListener("click",this.onPrevClick.bind(this)):a===e+1&&i.addEventListener("click",this.onNextClick.bind(this)))})}})}scrollTo(e){e&&e.scrollIntoView({behavior:"smooth"})}onNextClick(){if(this.inputCurrentPage){const e=parseInt(this.inputCurrentPage.value);this.inputCurrentPage.value=(e+1).toString()}}onPrevClick(){if(this.inputCurrentPage){const e=parseInt(this.inputCurrentPage.value);this.inputCurrentPage.value=e>0?(e-1).toString():"0"}}onSubmit(){const e=this.formService.getFormGroup(this.id);if(this.submitted)return!1;if(!e)return this.submitted=!0,!0;let i=!0;if(this.hCaptchaEl){const a=this.hCaptchaEl.querySelector(".bt3-input__alert-wrapper");a&&a.remove()}if(!e.valid){e.markAllAsTouched();for(const a of Object.keys(e.controls))if(e.controls[a].invalid){const c=this.el.nativeElement.querySelector(".ng-invalid");this.scrollTo(c),c.focus();break}}if(this.hCaptchaEl&&this.hCaptchaFrameEl&&!this.hCaptchaFrameEl.getAttribute("data-hcaptcha-response")){const c=document.createElement("div"),h=document.createElement("p");c.classList.add("bt3-input__alert-wrapper"),h.setAttribute("role","alert"),h.classList.add("bt3-input__alert"),h.innerText=this.errorRequiredLabel,c.append(h),this.hCaptchaEl.append(c),i=!1}return!(!e.valid||!i||(this.submitted=!0,this.submitButtons.forEach(a=>{a.disabled=!0}),0))}}return t.\u0275fac=function(e){return new(e||t)(he(q0),he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-form"]],inputs:{method:"method",action:"action",id:"id",enctype:"enctype"},ngContentSelectors:M$,decls:2,vars:3,consts:[["novalidate","","ngNoForm","","enctype","multipart/form-data",1,"bt3-form",3,"method","action","enctype","submit"]],template:function(e,i){1&e&&(hr(),R(0,"form",0),Ze("submit",function(){return i.onSubmit()}),aa(1),z()),2&e&&B("method",i.method)("action",i.action,en)("enctype",i.enctype)},styles:[""]}),t})();function d5(t){return new An(n=>{let e;try{e=t()}catch(a){return void n.error(a)}return(e?gr(e):B2()).subscribe(n)})}const E$=["trigger"],D$=["panel"];function S$(t,n){if(1&t&&(R(0,"span",8),ot(1),z()),2&t){const e=Z();F(1),Kn(e.placeholder)}}function I$(t,n){if(1&t&&(R(0,"span",12),ot(1),z()),2&t){const e=Z(2);F(1),Kn(e.triggerValue)}}function A$(t,n){1&t&&aa(0,0,["*ngSwitchCase","true"])}function O$(t,n){1&t&&(R(0,"span",9),Q(1,I$,2,1,"span",10),Q(2,A$,1,0,"ng-content",11),z()),2&t&&(B("ngSwitch",!!Z().customTrigger),F(2),B("ngSwitchCase",!0))}function L$(t,n){if(1&t){const e=Cn();R(0,"div",13),R(1,"div",14,15),Ze("@transformPanel.done",function(a){return mt(e),Z()._panelDoneAnimatingStream.next(a.toState)})("keydown",function(a){return mt(e),Z()._handleKeydown(a)}),aa(3,1),z(),z()}if(2&t){const e=Z();B("@transformPanelWrap",void 0),F(1),Fd("mat-select-panel ",e._getPanelTheme(),""),Ru("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),B("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),j("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const P$=[[["mat-select-trigger"]],"*"],F$=["mat-select-trigger","*"],u5={transformPanelWrap:kr("transformPanelWrap",[ra("* => void",WD("@transformPanel",[qD()],{optional:!0}))]),transformPanel:kr("transformPanel",[ma("void",Ln({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ma("showing",Ln({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ma("showing-multiple",Ln({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ra("void => *",va("120ms cubic-bezier(0, 0, 0.2, 1)")),ra("* => void",va("100ms 25ms linear",Ln({opacity:0})))])};let h5=0;const p5=new Ve("mat-select-scroll-strategy"),B$=new Ve("MAT_SELECT_CONFIG"),V$={provide:p5,deps:[dp],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class H${constructor(n,e){this.source=n,this.value=e}}const j$=B0(ik(gx(ak(class{constructor(t,n,e,i,a){this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=i,this.ngControl=a}})))),f5=new Ve("MatSelectTrigger");let U$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Tt({type:t,selectors:[["mat-select-trigger"]],features:[gi([{provide:f5,useExisting:t}])]}),t})(),G$=(()=>{class t extends j${constructor(e,i,a,c,h,b,w,E,L,$,K,ie,pe,Pe){var Oe,Qe,We;super(h,c,w,E,$),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=a,this._dir=b,this._parentFormField=L,this._liveAnnouncer=pe,this._defaultOptions=Pe,this._panelOpen=!1,this._compareWith=(Dt,Zt)=>Dt===Zt,this._uid="mat-select-"+h5++,this._triggerAriaLabelledBy=null,this._destroy=new on,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+h5++,this._panelDoneAnimatingStream=new on,this._overlayPanelClass=(null===(Oe=this._defaultOptions)||void 0===Oe?void 0:Oe.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(We=null===(Qe=this._defaultOptions)||void 0===Qe?void 0:Qe.disableOptionCentering)&&void 0!==We&&We,this.ariaLabel="",this.optionSelectionChanges=d5(()=>{const Dt=this.options;return Dt?Dt.changes.pipe(Zu(Dt),kf(()=>On(...Dt.map(Zt=>Zt.onSelectionChange)))):this._ngZone.onStable.pipe(nc(1),kf(()=>this.optionSelectionChanges))}),this.openedChange=new Et,this._openedStream=this.openedChange.pipe(Qh(Dt=>Dt),ji(()=>{})),this._closedStream=this.openedChange.pipe(Qh(Dt=>!Dt),ji(()=>{})),this.selectionChange=new Et,this.valueChange=new Et,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Pe?void 0:Pe.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Pe.typeaheadDebounceInterval),this._scrollStrategyFactory=ie,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(K)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Xi(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Xi(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Xi(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Wu(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Zj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(XC(),Cs(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Cs(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Zu(null),Cs(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,a=40===i||38===i||37===i||39===i,c=13===i||32===i,h=this._keyManager;if(!h.isTyping()&&c&&!Wd(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){const b=this.selected;h.onKeydown(e);const w=this.selected;w&&b!==w&&this._liveAnnouncer.announce(w.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,a=e.keyCode,c=40===a||38===a,h=i.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(h||13!==a&&32!==a||!i.activeItem||Wd(e))if(!h&&this._multiple&&65===a&&e.ctrlKey){e.preventDefault();const b=this.options.some(w=>!w.disabled&&!w.selected);this.options.forEach(w=>{w.disabled||(b?w.select():w.deselect())})}else{const b=i.activeItemIndex;i.onKeydown(e),this._multiple&&c&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==b&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(nc(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,e)}catch(c){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new MI(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Cs(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Cs(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=On(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Cs(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),On(...this.options.map(i=>i._stateChanges)).pipe(Cs(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const a=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,a)=>this.sortComparator?this.sortComparator(i,a,e):e.indexOf(i)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let a=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(a+=" "+this.ariaLabelledby),a}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(he(Rf),he(wr),he(mi),he(h_),he(Hn),he(Uc,8),he(op,8),he(ws,8),he(m_,8),he(Yd,10),De("tabindex"),he(p5),he(zI),he(B$,8))},t.\u0275dir=Tt({type:t,viewQuery:function(e,i){if(1&e&&(En(E$,5),En(D$,5),En(SA,5)),2&e){let a;Xt(a=Kt())&&(i.trigger=a.first),Xt(a=Kt())&&(i.panel=a.first),Xt(a=Kt())&&(i._overlayDir=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[yn,Yi]}),t})(),g5=(()=>{class t extends G${constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,a){const c=this._getItemHeight();return Math.min(Math.max(0,c*e-i+c/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Cs(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(nc(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=ok(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:JI((e+i)*a,a,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new H$(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),a=this._isRtl(),c=this.multiple?56:32;let h;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{let E=this._selectionModel.selected[0]||this.options.first;h=E&&E.group?32:16}a||(h*=-1);const b=0-(e.left+h-(a?c:0)),w=e.right+h-i.width+(a?0:c);b>0?h+=b+8:w>0&&(h-=w+8),this._overlayDir.offsetX=Math.round(h),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,a){const c=this._getItemHeight(),h=(c-this._triggerRect.height)/2,b=Math.floor(256/c);let w;return this.disableOptionCentering?0:(w=0===this._scrollTop?e*c:this._scrollTop===a?(e-(this._getItemCount()-b))*c+(c-(this._getItemCount()*c-256)%c):i-c/2,Math.round(-1*w-h))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,h=a.height-this._triggerRect.bottom-8,b=Math.abs(this._offsetY),E=Math.min(this._getItemCount()*i,256)-b-this._triggerRect.height;E>h?this._adjustPanelUp(E,h):b>c?this._adjustPanelDown(b,c,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const a=Math.round(e-i);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,a){const c=Math.round(e-i);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),a=Math.min(i*e,256),h=i*e-a;let b;b=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),b+=ok(b,this.options,this.optionGroups);const w=a/2;this._scrollTop=this._calculateOverlayScroll(b,w,h),this._offsetY=this._calculateOverlayOffsetY(b,w,h),this._checkOverlayWithinViewport(h)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["mat-select"]],contentQueries:function(e,i,a){if(1&e&&(No(a,f5,5),No(a,H0,5),No(a,wx,5)),2&e){let c;Xt(c=Kt())&&(i.customTrigger=c.first),Xt(c=Kt())&&(i.options=c),Xt(c=Kt())&&(i.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&Ze("keydown",function(c){return i._handleKeydown(c)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(j("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),Rn("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[gi([{provide:j0,useExisting:t},{provide:xx,useExisting:t}]),yn],ngContentSelectors:F$,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(hr(P$),R(0,"div",0,1),Ze("click",function(){return i.toggle()}),R(3,"div",2),Q(4,S$,2,1,"span",3),Q(5,O$,3,2,"span",4),z(),R(6,"div",5),Se(7,"div",6),z(),z(),Q(8,L$,4,14,"ng-template",7),Ze("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const a=Ft(1);j("aria-owns",i.panelOpen?i.id+"-panel":null),F(3),B("ngSwitch",i.empty),j("id",i._valueId),F(1),B("ngSwitchCase",!0),F(1),B("ngSwitchCase",!1),F(3),B("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[MU,i_,Cv,SA,MD,Pr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[u5.transformPanelWrap,u5.transformPanel]},changeDetection:0}),t})(),$$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[V$],imports:[[Ba,Ax,Cx,_o],U0,kx,Cx,_o]}),t})();function Y$(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z().$implicit;F(1),vn("(",e.count,")")}}function q$(t,n){if(1&t&&(R(0,"mat-option",9),ot(1),Q(2,Y$,2,1,"ng-container",7),z()),2&t){const e=n.$implicit;zi("value",e.value),zi("aria-label",e.value),B("checked",e.checked)("disabled",e.disabled),F(1),vn("",e.label," "),F(1),B("ngIf",e.count||0===e.count)}}function W$(t,n){if(1&t&&(R(0,"mat-hint"),R(1,"p"),ot(2),z(),z()),2&t){const e=Z(2);F(2),Kn(e.hint)}}function Z$(t,n){if(1&t){const e=Cn();R(0,"div",1),Se(1,"input",2),R(2,"mat-form-field",3),R(3,"mat-label"),Se(4,"app-form-element-label",4),z(),R(5,"mat-select",5),Ze("selectionChange",function(){return mt(e),Z().emitChangeEvent()}),Q(6,q$,3,6,"mat-option",6),z(),Q(7,W$,3,1,"mat-hint",7),z(),Se(8,"app-error-messages",8),z()}if(2&t){const e=Z();B("formGroup",e.formGroup),F(1),B("name",e.fieldName)("id",e.fieldId)("value",e.control.value),F(1),Rn("bt3-input--has-hint",e.hint),F(2),B("label",e.label)("optionalLabel",e.optionalLabel)("isRequired",e.isRequired),F(1),B("id",e.fieldId)("name",e.fieldName),F(1),B("ngForOf",e.options.options),F(1),B("ngIf",e.hint),F(1),B("validations",e.validations)("control",e.control)}}let hp=(()=>{class t extends zx{constructor(){super(...arguments),this.selectionChange=new Et}set jsonOptions(e){const i=JSON.parse(e).map(a=>({value:a.id.toString(),label:a.title,checked:a.checked,disabled:a.disabled,count:"number"==typeof a.count?a.count:null}));this.options={id:this.fieldId,options:i}}ngOnInit(){var e,i,a;null===(e=this.removeItemObs)||void 0===e||e.subscribe(c=>{if(c&&("all"===c.value||c.id===this.fieldId)){const h=this.formGroup.get("fieldValue");null==h||h.setValue([])}}),this.validations.length>0&&(null===(i=this.formGroup.get("fieldValue"))||void 0===i||i.setValidators(this.formService.composeValidators(this.validations))),this.setPreSelectedOption(),this.isDisabled&&(null===(a=this.formGroup.get("fieldValue"))||void 0===a||a.disable())}emitChangeEvent(){var e;const i=null===(e=this.formGroup.get("fieldValue"))||void 0===e?void 0:e.value;let a={id:"",title:""};this.options.options.forEach(c=>{c.value===i&&(a={id:c.value,title:c.label,checked:!0})}),this.selectionChange.emit({id:this.fieldId,value:a,label:this.label})}setPreSelectedOption(){var e,i;const a=null===(e=this.options)||void 0===e?void 0:e.options;if(!a||!a.length)return;const c=a.find(h=>h.checked);c&&(null===(i=this.formGroup.get("fieldValue"))||void 0===i||i.setValue(c.value))}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-select"]],inputs:{hint:"hint",removeItemObs:"removeItemObs",jsonOptions:"jsonOptions"},outputs:{selectionChange:"selectionChange"},features:[yn],decls:1,vars:1,consts:[["class","bt3-select",3,"formGroup",4,"ngIf"],[1,"bt3-select",3,"formGroup"],["type","hidden",3,"name","id","value"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["formControlName","fieldValue",3,"id","name","selectionChange"],[3,"value","aria-label","checked","disabled",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"validations","control"],[3,"value","aria-label","checked","disabled"]],template:function(e,i){1&e&&Q(0,Z$,9,15,"div",0),2&e&&B("ngIf",i.options)},directives:[ri,Yu,ws,p_,rm,om,g5,$u,qd,ya,sm,H0,Ff],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px / 28px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 calc(14px * .83) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 calc(14px * .67) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption{font:400 12px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px / 112px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px / 56px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px / 48px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px / 40px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px}.mat-radio-button{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:normal}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-option{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator{position:relative}.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:white;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:white}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#121212;background:#949494}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#949494;color:#121212}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:white;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary{color:#949494}.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#949494}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:black}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{color:#121212}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{color:#121212}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{background-color:#949494}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#949494}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone,.mat-button-toggle-group{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:white}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px rgba(0,0,0,.12)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:white}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:white;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#0000008a}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:black}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-table{background:white}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{border-top-color:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active{color:#949494}.mat-datepicker-toggle-active.mat-accent{color:#949494}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:white;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:white;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:white}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label{color:#0009}.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#949494}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label{color:#0000008a}.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary{color:#949494}.mat-icon.mat-accent{color:#949494}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#949494}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#949494}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item{color:#000000de}.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-item-disabled{background-color:#eee}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:white}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:white}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#949494}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#949494}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:white}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-warn .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-primary .mat-slider-track-fill,.mat-primary .mat-slider-thumb,.mat-primary .mat-slider-thumb-label{background-color:#949494}.mat-primary .mat-slider-thumb-label-text{color:#121212}.mat-primary .mat-slider-focus-ring{background-color:#94949433}.mat-accent .mat-slider-track-fill,.mat-accent .mat-slider-thumb,.mat-accent .mat-slider-thumb-label{background-color:#949494}.mat-accent .mat-slider-thumb-label-text{color:#121212}.mat-accent .mat-slider-focus-ring{background-color:#94949433}.mat-warn .mat-slider-track-fill,.mat-warn .mat-slider-thumb,.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider-disabled .mat-slider-track-background,.mat-slider-disabled .mat-slider-track-fill,.mat-slider-disabled .mat-slider-thumb{background-color:#00000042}.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#121212}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-accent .mat-step-icon{color:#121212}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:whitesmoke;color:#000000de}.mat-toolbar.mat-primary{background:#949494;color:#121212}.mat-toolbar.mat-accent{background:#949494;color:#121212}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:white}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#949494}.bt3-select .mat-select-value-text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-select .mat-select-value-text{font-size:1.8rem}}.bt3-select .mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(0)}.bt3-select .mat-select-empty .mat-select-value{line-height:1.2}.bt3-select--inverted .mat-select-value-text{color:var(--white)}.mat-option-text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.mat-option-text{font-size:1.8rem}}\n'],encapsulation:2}),t})();function X$(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z();F(1),Kn(e.selectTriggerSingularLabel)}}function K$(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z();F(1),Kn(e.selectTriggerPluralLabel)}}function J$(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z().$implicit;F(1),vn("(",e.count,")")}}function Q$(t,n){if(1&t&&(R(0,"mat-option",9),ot(1),Q(2,J$,2,1,"ng-container",6),z()),2&t){const e=n.$implicit;zi("value",e.value),B("checked",e.checked)("disabled",e.disabled),F(1),vn("",e.label," "),F(1),B("ngIf",e.count||0===e.count)}}function eY(t,n){if(1&t&&(R(0,"mat-hint"),R(1,"p"),ot(2),z(),z()),2&t){const e=Z();F(2),Kn(e.hint)}}let X0=(()=>{class t extends zx{constructor(){super(...arguments),this.selectionChange=new Et,this.selectTriggerSingularLabel="",this.selectTriggerPluralLabel="",this.selectedValuesCount=0}set jsonOptions(e){const i=JSON.parse(e).map(b=>({value:b.id.toString(),label:b.title,checked:b.checked,disabled:b.disabled,count:"number"==typeof b.count?b.count:null})),h=[...i.filter(b=>!b.disabled)||[],...i.filter(b=>b.disabled)||[]];this.options={id:this.fieldId,options:h},this.selectedValuesCount=h.filter(b=>b.checked).length}ngOnInit(){var e,i,a;null===(e=this.removeItemObs)||void 0===e||e.subscribe(c=>{const h=c.value,b=this.formGroup.get("fieldValue");if("all"===h)return null==b||b.setValue([]),void(this.selectedValuesCount=0);const w=null==b?void 0:b.value.filter(E=>h.toString()!==E);null==b||b.setValue(w),this.selectedValuesCount=w.length}),this.setPreSelectedOption(this.options.options),this.validations.length>0&&(null===(i=this.formGroup.get("fieldValue"))||void 0===i||i.setValidators(this.formService.composeValidators(this.validations))),this.isDisabled&&(null===(a=this.formGroup.get("fieldValue"))||void 0===a||a.disable())}emitChangeEvent(){var e;const i=null===(e=this.formGroup.get("fieldValue"))||void 0===e?void 0:e.value,a=[];Array.isArray(i)&&i.forEach(c=>{this.options.options.forEach(h=>{h.value===c&&a.push({id:h.value,title:h.label,checked:!0})})}),this.selectionChange.emit({optionalLabel:this.optionalLabel,id:this.fieldId,value:a,label:this.label}),this.selectedValuesCount=i.length}setPreSelectedOption(e){var i;if(e.length){const a=e.map(c=>c.checked?c.value:null).filter(c=>!!c);this.selectedValuesCount=a.length,null===(i=this.formGroup.get("fieldValue"))||void 0===i||i.setValue(a)}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-multiselect"]],inputs:{hint:"hint",selectTriggerSingularLabel:"selectTriggerSingularLabel",selectTriggerPluralLabel:"selectTriggerPluralLabel",removeItemObs:"removeItemObs",jsonOptions:"jsonOptions"},outputs:{selectionChange:"selectionChange"},features:[yn],decls:14,vars:18,consts:[[1,"bt3-multiselect",3,"formGroup"],["type","hidden",3,"name","id","value"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["formControlName","fieldValue","multiple","",3,"id","name","selectionChange"],[1,"mat-multiselect-trigger"],[4,"ngIf"],[3,"value","checked","disabled",4,"ngFor","ngForOf"],[3,"validations","control"],[3,"value","checked","disabled"]],template:function(e,i){1&e&&(R(0,"div",0),Se(1,"input",1),R(2,"mat-form-field",2),R(3,"mat-label"),Se(4,"app-form-element-label",3),z(),R(5,"mat-select",4),Ze("selectionChange",function(){return i.emitChangeEvent()}),R(6,"mat-select-trigger"),R(7,"span",5),ot(8),Q(9,X$,2,1,"ng-container",6),Q(10,K$,2,1,"ng-container",6),z(),z(),Q(11,Q$,3,5,"mat-option",7),z(),Q(12,eY,3,1,"mat-hint",6),z(),Se(13,"app-error-messages",8),z()),2&e&&(B("formGroup",i.formGroup),F(1),B("name",i.fieldName)("id",i.fieldId)("value",i.control.value),F(1),Rn("bt3-input--has-hint",i.hint),F(2),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("id",i.fieldId)("name",i.fieldName),F(3),vn(" ",i.selectedValuesCount," "),F(1),B("ngIf",1===i.selectedValuesCount),F(1),B("ngIf",i.selectedValuesCount>1),F(1),B("ngForOf",i.options.options),F(1),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,p_,rm,om,g5,$u,qd,U$,ri,ya,sm,H0,Ff],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px / 28px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 calc(14px * .83) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 calc(14px * .67) / 20px Roboto,"Helvetica Neue",sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption{font:400 12px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px / 112px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px / 56px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px / 48px Roboto,"Helvetica Neue",sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px / 40px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px / 20px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px}.mat-radio-button{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:normal}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px / 32px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-option{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px / 24px Roboto,"Helvetica Neue",sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,"Helvetica Neue",sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator{position:relative}.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#949494}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#949494}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:white;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:white}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#121212;background:#949494}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#949494;color:#121212}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:white;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary{color:#949494}.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#949494}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#949494}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:black}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{color:#121212}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{color:#121212}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{background-color:#949494}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#949494}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone,.mat-button-toggle-group{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:white}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px rgba(0,0,0,.12)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:white}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:white;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#949494}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#0000008a}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#949494}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:black}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#1212121a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#949494;color:#121212}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#121212;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#1212121a}.mat-table{background:white}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{border-top-color:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(148,148,148,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(148,148,148,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#949494;color:#121212}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#94949466}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #121212}.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#9494944d}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active{color:#949494}.mat-datepicker-toggle-active.mat-accent{color:#949494}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:white;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:white;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:white}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label{color:#0009}.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#949494}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#949494}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#949494}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#949494}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label{color:#0000008a}.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#949494}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary{color:#949494}.mat-icon.mat-accent{color:#949494}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#949494}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#949494}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item{color:#000000de}.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-item-disabled{background-color:#eee}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:white}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:white}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#e1e1e1}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#949494}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#949494}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#949494}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#949494}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#949494}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:white}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#949494}.mat-form-field.mat-focused.mat-warn .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#949494}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#9494948a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#949494}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-primary .mat-slider-track-fill,.mat-primary .mat-slider-thumb,.mat-primary .mat-slider-thumb-label{background-color:#949494}.mat-primary .mat-slider-thumb-label-text{color:#121212}.mat-primary .mat-slider-focus-ring{background-color:#94949433}.mat-accent .mat-slider-track-fill,.mat-accent .mat-slider-thumb,.mat-accent .mat-slider-thumb-label{background-color:#949494}.mat-accent .mat-slider-thumb-label-text{color:#121212}.mat-accent .mat-slider-focus-ring{background-color:#94949433}.mat-warn .mat-slider-track-fill,.mat-warn .mat-slider-thumb,.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider-disabled .mat-slider-track-background,.mat-slider-disabled .mat-slider-track-fill,.mat-slider-disabled .mat-slider-thumb{background-color:#00000042}.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#121212}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-accent .mat-step-icon{color:#121212}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#949494;color:#121212}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#949494}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#121212}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#dfdfdf4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#949494}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#12121266}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#121212}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#121212;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#121212;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:whitesmoke;color:#000000de}.mat-toolbar.mat-primary{background:#949494;color:#121212}.mat-toolbar.mat-accent{background:#949494;color:#121212}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:white}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#949494}.bt3-multiselect .mat-multiselect-trigger{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-multiselect .mat-multiselect-trigger{font-size:1.8rem}}.bt3-multiselect .mat-select-value-text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-multiselect .mat-select-value-text{font-size:1.8rem}}.bt3-multiselect .mat-form-field-subscript-wrapper{cursor:pointer;pointer-events:none}.bt3-multiselect .mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(0)}.bt3-multiselect .mat-select-empty .mat-select-value{line-height:1.2}.bt3-select--inverted .mat-select-value-text{color:var(--white)}.mat-option-text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.mat-option-text{font-size:1.8rem}}\n'],encapsulation:2}),t})();const tY=["fileInputElement"];function nY(t,n){if(1&t&&(R(0,"span",19),ot(1),z()),2&t){const e=Z(2);F(1),Kn(e.fileName)}}function iY(t,n){if(1&t){const e=Cn();R(0,"div",9),R(1,"div",10),R(2,"span",11),Se(3,"bt3-icon",12),z(),Q(4,nY,2,1,"span",13),R(5,"span",14),ot(6),z(),z(),Se(7,"div",15),R(8,"button",16),Ze("click",function(){return mt(e),Z().resetFileInputField()}),R(9,"span",17),ot(10),z(),R(11,"span",11),Se(12,"bt3-icon",18),z(),z(),z()}if(2&t){const e=Z();F(4),B("ngIf",e.uploadedFile.name),F(2),Kn(e.fileExtension),F(4),vn("",e.deleteFile," ")}}function aY(t,n){if(1&t&&(R(0,"div",20),R(1,"mat-hint"),R(2,"p"),ot(3),z(),z(),z()),2&t){const e=Z();F(3),Kn(e.hint)}}const rY=function(t){return{"bt3-file-upload--hidden":t}};let oY=(()=>{class t extends W0{constructor(){super(...arguments),this.triggerIsVisible=!0,this.uploadedFile=null,this.fileSizeState={maxExceeded:!1,message:null},this.accept=".pdf,.svg,.doc,.docx,.xls,.xlsx,.csv,image/*,video/*,audio/*"}ngOnInit(){}ngAfterViewInit(){var e;this.validations.length>0&&(null===(e=this.formGroup.get("fieldValue"))||void 0===e||e.setValidators(this.formService.composeValidators(this.validations,this.fileInputElem)))}extractAndStoreUploadedFileInfo(){var e,i,a;const c=null===(e=this.fileInputElem)||void 0===e?void 0:e.nativeElement.files;c&&(this.uploadedFile=c.item(0),this.fileExtension=null===(i=this.uploadedFile)||void 0===i?void 0:i.name.replace(/.*(\.[a-z0-9]{2,5})$/,"$1"),this.fileName=null===(a=this.uploadedFile)||void 0===a?void 0:a.name.replace(/(.*)(\.[a-z0-9]{2,5})$/,"$1"),this.triggerIsVisible=!1)}resetFileInputField(){this.control.setValue(null),this.triggerIsVisible=!0,this.uploadedFile=null,this.fileName="",this.fileExtension=""}resetFileSizeState(){this.fileSizeState.message=null,this.fileSizeState.maxExceeded=!1}formatBytes(e,i=2){if(0===e)return"0 Bytes";const a=0>i?0:i,c=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,c)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][c]}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["app-fileupload"]],viewQuery:function(e,i){if(1&e&&En(tY,5),2&e){let a;Xt(a=Kt())&&(i.fileInputElem=a.first)}},inputs:{hint:"hint",btnText:"btnText",deleteFile:"deleteFile",accept:"accept"},features:[yn],decls:11,vars:16,consts:[[1,"bt3-file-upload",3,"formGroup"],[1,"bt3-file-upload__label"],[3,"label","optionalLabel","isRequired"],["class","bt3-file-upload__file-list",4,"ngIf"],["id","bt3-file-upload-btn",1,"bt3-atom-button","bt3-atom-button--secondary","bt3-atom-button--extra-padding",3,"ngClass"],["formControlName","fieldValue",1,"bt3-file-upload__upload_element",3,"id","name","accept","change"],["fileInputElement",""],["class","bt3-file-upload__hint-box",4,"ngIf"],[3,"validations","control"],[1,"bt3-file-upload__file-list"],[1,"bt3-file-upload__file-info"],[1,"bt3-file-upload__icon-box"],["name","document",1,"bt3-file-upload__document-icon"],["class","bt3-file-upload__file-name",4,"ngIf"],[1,"bt3-file-upload__file-type"],[1,"bt3-file-upload__spacer"],[1,"bt3-file-upload__file-delete-button",3,"click"],[1,"bt3-file-upload__icon-text"],["name","delete",1,"bt3-file-upload__delete-icon"],[1,"bt3-file-upload__file-name"],[1,"bt3-file-upload__hint-box"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"mat-label"),Se(3,"app-form-element-label",2),z(),z(),Q(4,iY,13,3,"div",3),R(5,"label",4),R(6,"input",5,6),Ze("change",function(){return i.extractAndStoreUploadedFileInfo()}),z(),ot(8),z(),Q(9,aY,4,1,"div",7),Se(10,"app-error-messages",8),z()),2&e&&(B("formGroup",i.formGroup),F(3),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("ngIf",i.uploadedFile),F(1),B("ngClass",Ga(14,rY,!i.triggerIsVisible)),F(1),B("id",i.fieldId)("name",i.fieldName)("accept",i.accept),j("type","file"),F(2),vn(" ",i.btnText," "),F(1),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control))},directives:[Yu,ws,rm,om,ri,Pr,np,$u,qd,sm,Ff],styles:['@charset "UTF-8";.bt3-file-upload--hidden,.bt3-file-upload__upload_element{border:0!important;clip:rect(0 0 0 0)!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.bt3-file-upload__file-delete-button{display:inline-flex;text-align:right;align-items:center;cursor:pointer;padding:0;color:var(--red-500);font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);font-size:1.5rem;line-height:1.5;outline:none}@media (min-width: 60em){.bt3-file-upload__file-delete-button{font-size:1.8rem}}.bt3-file-upload__file-delete-button:focus{outline:none}.bt3-file-upload{margin-top:2.1rem}.bt3-file-upload__label{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);margin-bottom:1.2rem}@media (min-width: 60em){.bt3-file-upload__label{font-size:1.8rem}}.bt3-file-upload__document-icon{--themeBase: var(--black-900)}.bt3-file-upload__delete-icon{color:var(--red-500);--themeBase: var(--red-500)}.bt3-file-upload__file-type{padding-right:3rem}.bt3-file-upload__file-name{display:inline-block;padding-left:.3rem;text-overflow:ellipsis;overflow:hidden;max-width:75%}.bt3-file-upload__file-info{display:inline-flex;align-items:center;white-space:nowrap;min-width:0}.bt3-file-upload__file-list{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);font-size:1.5rem;line-height:1.5;display:flex;align-items:center}@media (min-width: 60em){.bt3-file-upload__file-list{font-size:1.8rem}}.bt3-file-upload__spacer{margin-left:auto}.bt3-file-upload__icon-text{display:none}@media (min-width: 37.5em){.bt3-file-upload__icon-text{display:inline-flex;padding-right:.3rem}}.bt3-file-upload__icon-box{line-height:2.4rem;display:inline-flex}.bt3-atom-button--no-outline{outline:none}.bt3-atom-button--no-outline:focus{outline:none}.bt3-file-upload__hint-box{opacity:1;transform:translateY(0);margin-top:.6rem;padding:0 1.8rem}.bt3-file-upload__hint-box .mat-hint{font-size:1.2rem;line-height:1.2}@media (min-width: 60em){.bt3-file-upload__hint-box .mat-hint{font-size:1.5rem}}\n'],encapsulation:2}),t})();var Xu=Yn(811);function sY(t,n){if(1&t&&(R(0,"span",7),ot(1),z()),2&t){const e=Z();F(1),vn(" ",e.distance," km ")}}let lY=(()=>{class t{constructor(){this.title="",this.street="",this.postCode="",this.distance=0,this.city="",this.isLast=!1,this.index=0,this.group=0,this.showDistance=!1,this.activate=new Et}emitActivate(){this.activate.emit({index:this.index,group:this.group})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-location-item"]],inputs:{title:"title",street:"street",postCode:"postCode",distance:"distance",city:"city",isLast:"isLast",index:"index",group:"group",showDistance:"showDistance"},outputs:{activate:"activate"},decls:10,vars:7,consts:[[1,"bt3-location-item",3,"click"],[1,"bt3-location-item__title"],[1,"bt3-location-item__address"],[1,"bt3-location-item__street"],[1,"bt3-location-item__mobile-break"],[1,"bt3-location-item__zip-city"],["class","bt3-location-item__distance",4,"ngIf"],[1,"bt3-location-item__distance"]],template:function(e,i){1&e&&(R(0,"button",0),Ze("click",function(){return i.emitActivate()}),R(1,"h3",1),ot(2),z(),R(3,"div",2),R(4,"span",3),ot(5),z(),Se(6,"br",4),R(7,"span",5),ot(8),z(),Q(9,sY,2,1,"span",6),z(),z()),2&e&&(Rn("bt3-location-item--last",i.isLast),F(2),Kn(i.title),F(3),vn("",i.street,", "),F(3),Yh("",i.postCode," ",i.city,""),F(1),B("ngIf",i.showDistance&&i.distance>=0))},directives:[ri],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h3{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-location-item{background:none;border:none;padding:0 1.8rem 0 0;text-align:left;color:var(--black-900);width:80vw}@media (min-width: 37.5em){.bt3-location-item{width:40vw}}@media (min-width: 60em){.bt3-location-item{border-top:1px solid var(--black-300);color:var(--black-500);padding:2.4rem 0;width:100%;max-width:none}}@media (hover: hover){.bt3-location-item:hover .bt3-location-item__title{color:var(--black-900)}.bt3-location-item:hover .bt3-location-item__address{color:var(--black-900)}}.bt3-location-item--last{padding-right:0}@media (min-width: 60em){.bt3-location-item--last{border-bottom:1px solid var(--black-300)}}.bt3-location-item__title{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.4rem;line-height:1.5}.bt3-location-item__address{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.8rem;line-height:1.5}@media (min-width: 60em){.bt3-location-item__address{font-size:2.1rem}}@media (min-width: 60em){.bt3-location-item__mobile-break{display:none}}.bt3-location-item__distance{display:block;margin-top:1.5rem}@media (min-width: 60em){.bt3-accordion__panel .bt3-location-item{border-top:none;border-bottom:1px solid var(--black-300)}.bt3-accordion__panel .bt3-location-item--last{border-bottom:none}}.bt3-accordion__panel .bt3-locations__group-item:first-child .bt3-location-item{padding-top:0}\n'],encapsulation:2}),t})();var Bx,cY=new Uint8Array(16);function dY(){if(!Bx&&!(Bx="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bx(cY)}const uY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,mY=function(t){return"string"==typeof t&&uY.test(t)};for(var ks=[],wk=0;wk<256;++wk)ks.push((wk+256).toString(16).substr(1));const Ck=function(t,n,e){var i=(t=t||{}).random||(t.rng||dY)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var a=0;a<16;++a)n[e+a]=i[a];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(ks[t[n+0]]+ks[t[n+1]]+ks[t[n+2]]+ks[t[n+3]]+"-"+ks[t[n+4]]+ks[t[n+5]]+"-"+ks[t[n+6]]+ks[t[n+7]]+"-"+ks[t[n+8]]+ks[t[n+9]]+"-"+ks[t[n+10]]+ks[t[n+11]]+ks[t[n+12]]+ks[t[n+13]]+ks[t[n+14]]+ks[t[n+15]]).toLowerCase();if(!mY(e))throw TypeError("Stringified UUID is invalid");return e}(i)};class kk{constructor(){this.accordions=[]}addComponent(n,e){let i=this.accordions.findIndex(c=>c.node.isSameNode(n)),a=0;return i>=0?a=this.accordions[i].components.push(e)-1:i=this.accordions.push({node:n,components:[e]})-1,{componentIndex:a,parentIndex:i}}focusNext(n){const e=this.accordions[n.parentIndex].components;e[(n.componentIndex+1)%e.length].focusThis()}focusBefore(n){let e=n.componentIndex-1;const i=this.accordions[n.parentIndex].components;0===n.componentIndex&&(e=i.length-1),i[e].focusThis()}focusFirst(n){this.accordions[n.parentIndex].components[0].focusThis()}focusLast(n){const e=this.accordions[n.parentIndex].components;e[e.length-1].focusThis()}}const _Y=["panel"],bY=["panelContent"],yY=["trigger"];function vY(t,n){if(1&t&&(R(0,"div"),R(1,"div"),R(2,"div"),Se(3,"div",10),z(),z(),z()),2&t){const e=Z();ec(e.hasGrid?"bt3-grid__container":""),F(1),ec(e.hasGrid?"bt3-grid__row":""),F(1),ec(e.hasGrid?"bt3-grid__col-content":""),F(1),Rn("bt3-accordion__border--opened",e.open)}}const xY=["*"];let _5=(()=>{class t{constructor(e,i){this.accordionService=e,this.elementRef=i,this.accordionAnchorLinkClass="bt3-accordion-anchor-link",this.open=!1,this.buttonId=Ck(),this.hasGrid=!0,this.isLastItem=!1,this.hasNoVerticalSpacing=!1,this.scrollOffset=100,this.animationDuration=400,this.accordionServiceData={componentIndex:0,parentIndex:0},this.id=Ck(),this.title="",this.headingLevel="2",this.toggled=new Et}get listitem(){return!0}get listItemClass(){return!0}get getOpen(){return this.open}set isOpen(e){this.open="true"===e||"1"===e}set isLast(e){this.isLastItem="true"===e||"1"===e}set gridOriented(e){this.hasGrid="true"===e}set noVerticalSpacings(e){this.hasNoVerticalSpacing="true"===e}toggle(){this.panel&&this.panelContent&&(this.open=!this.open,this.panel.nativeElement.style.maxHeight=`${this.panelContent.nativeElement.offsetHeight}px`,this.open||requestAnimationFrame(()=>{this.panel&&(this.panel.nativeElement.style.maxHeight="0"),this.toggled.emit()}))}onTransitionEnd(e){"max-height"===e.propertyName&&(this.open&&this.panel&&(this.panel.nativeElement.style.maxHeight="none"),this.toggled.emit())}focusBefore(e){e.preventDefault(),this.accordionService.focusBefore(this.accordionServiceData)}focusNext(e){e.preventDefault(),this.accordionService.focusNext(this.accordionServiceData)}focusFirst(e){e.preventDefault(),this.accordionService.focusFirst(this.accordionServiceData)}focusLast(e){e.preventDefault(),this.accordionService.focusLast(this.accordionServiceData)}focusThis(){var e;null===(e=this.trigger)||void 0===e||e.nativeElement.focus()}getTriggerHeadingLevel(){return parseInt(this.headingLevel,10)+1}adaptStateBasedOnUrl(){this.handleScrollToAccordion(window.location.hash.split("#")[1])}setAccordionAnchorHandlers(){const e=this;document.querySelectorAll(`.${e.accordionAnchorLinkClass}`).forEach(a=>{const c=a.href.split("#")[1];e.id===c&&a.addEventListener("click",h=>{h.preventDefault(),this.handleScrollToAccordion(c)})})}handleScrollToAccordion(e){this.id===e&&setTimeout(()=>{this.open||this.toggle(),this.scrollToAccordion()})}scrollToAccordion(){var e;let i=this.elementRef.nativeElement.offsetTop+(null!==(e=this.elementRef.nativeElement.offsetParent.offsetTop)&&void 0!==e?e:0);window.scrollTo({top:i-this.scrollOffset,behavior:"smooth"})}ngAfterViewInit(){this.accordionServiceData=this.accordionService.addComponent(this.elementRef.nativeElement.parentElement,this),this.setAccordionAnchorHandlers(),this.adaptStateBasedOnUrl()}}return t.\u0275fac=function(e){return new(e||t)(he(kk),he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-accordion"]],viewQuery:function(e,i){if(1&e&&(En(_Y,5),En(bY,5),En(yY,5)),2&e){let a;Xt(a=Kt())&&(i.panel=a.first),Xt(a=Kt())&&(i.panelContent=a.first),Xt(a=Kt())&&(i.trigger=a.first)}},hostVars:5,hostBindings:function(e,i){2&e&&(qh("role.listitem",i.listitem),Rn("bt3-accordion__list-item",i.listItemClass)("bt3-accordion__list-item--opened",i.getOpen))},inputs:{id:"id",isOpen:"isOpen",title:"title",isLast:"isLast",headingLevel:"headingLevel",gridOriented:"gridOriented",noVerticalSpacings:"noVerticalSpacings"},outputs:{toggled:"toggled"},ngContentSelectors:xY,decls:15,vars:23,consts:[["role","heading"],[1,"bt3-accordion__trigger",3,"id","click","keyup.arrowdown","keyup.arrowup","keyup.home","keyup.end"],["trigger",""],[1,"bt3-accordion__label"],["name","caret-down","has-transitions","",1,"bt3-accordion__caret"],[1,"bt3-accordion__panel",3,"id","transitionend"],["panel",""],[1,"bt3-accordion__panel-content"],["panelContent",""],[3,"class",4,"ngIf"],[1,"bt3-accordion__border"]],template:function(e,i){1&e&&(hr(),R(0,"div"),R(1,"div"),R(2,"div"),R(3,"span",0),R(4,"button",1,2),Ze("click",function(){return i.toggle()})("keyup.arrowdown",function(c){return i.focusNext(c)})("keyup.arrowup",function(c){return i.focusBefore(c)})("keyup.home",function(c){return i.focusFirst(c)})("keyup.end",function(c){return i.focusLast(c)}),R(6,"span",3),ot(7),z(),Se(8,"bt3-icon",4),z(),z(),z(),z(),z(),R(9,"div",5,6),Ze("transitionend",function(c){return i.onTransitionEnd(c)}),R(11,"div",7,8),aa(13),z(),z(),Q(14,vY,4,8,"div",9)),2&e&&(ec(i.hasGrid?"bt3-grid__container":""),F(1),ec(i.hasGrid?"bt3-grid__row":""),F(1),ec(i.hasGrid?"bt3-grid__col-content":""),F(1),j("aria-level",i.getTriggerHeadingLevel()),F(1),Rn("bt3-accordion__trigger--opened",i.open),B("id",i.buttonId),j("aria-controls",i.id)("aria-expanded",i.open),F(3),Kn(i.title),F(2),Rn("bt3-accordion__panel--opened",i.open),B("id",i.id),j("aria-labelledby",i.buttonId),F(2),Rn("bt3-accordion__panel-content--opened",i.open)("bt3-accordion__panel-content--no-spacing",i.hasNoVerticalSpacing),j("aria-hidden",!i.open),F(3),B("ngIf",i.isLastItem))},directives:[ri],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}.bt3-grid__row{display:flex;flex:0 1 auto;flex-flow:row wrap}.bt3-grid__container{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}.bt3-grid__row{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}.bt3-grid__col-content{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}.bt3-grid__col-content{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}@media (min-width: 37.5em){.bt3-grid__container{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__row{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}}@media (min-width: 37.5em){.bt3-grid__col-content{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}}@media (min-width: 37.5em){.bt3-grid__col-content{margin-left:0;margin-right:0;flex-basis:66.6666666667%;max-width:66.6666666667%}}@media (min-width: 37.5em){.bt3-grid__col-content{margin-left:16.6666666667%}}@media (min-width: 60em){.bt3-grid__col-content{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}}@media (min-width: 60em){.bt3-grid__col-content{margin-left:0;margin-right:0;flex-basis:66.6666666667%;max-width:66.6666666667%}}@media (min-width: 60em){.bt3-grid__col-content{margin-left:16.6666666667%}}@media (min-width: 60em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 60em){.bt3-grid__col-content{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__col-content{margin-left:0;margin-right:0;flex-basis:58.3333333333%;max-width:58.3333333333%}}@media (min-width: 60em){.bt3-grid__col-content{margin-left:25%}}@media (min-width: 100em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 120.0625em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 150.0625em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}.bt3-accordion__list-item{display:block;--borderColor: var(--black-300);--themeBase: var(--black-500);--horizontalMargin: var(--accordionTriggerHorizontalMargin, 0rem)}.bt3-accordion__list-item--opened{--borderColor: var(--black-900);--borderColorActive: var(--black-900);--themeBase: var(--black-900)}.bt3-accordion__list-item--opened+.bt3-accordion__list-item{--borderColor: var(--black-900)}.bt3-accordion__panel{max-height:0;overflow:hidden;transition:all .4s ease-in-out}.bt3-accordion__panel--opened{max-height:none}.bt3-accordion__panel-content{padding-top:1.2rem;padding-bottom:4.5rem;opacity:0;transform:translate(-1.8rem);transition:all .4s ease-in-out;transition-delay:0s}.bt3-accordion__panel-content--opened{opacity:1;transform:translate(0);transition-delay:.3s}.bt3-accordion__panel-content--no-spacing{padding:0}.bt3-accordion__trigger{border-top:1px solid var(--borderColor);padding:1.8rem 1.8rem 1.8rem 0;width:calc(100% - 2 * var(--horizontalMargin));margin:0 var(--horizontalMargin);color:var(--themeBase);text-align:left;word-break:break-word;display:flex;justify-content:space-between;align-items:center;position:relative;transition:all .3s ease-in-out;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.5}@media (min-width: 60em){.bt3-accordion__trigger{font-size:2.4rem}}@media (hover: hover){.bt3-accordion__trigger:hover{--textColor: var(--black-900);--themeBase: var(--black-900)}.bt3-accordion__trigger:hover .bt3-accordion__label{transform:translate(1.8rem)}}.bt3-accordion__trigger:focus{outline:none}.bt3-accordion__label{padding-right:3rem;transform:translate(0);transition:all .3s ease-in-out;word-break:break-word;flex-grow:1}.bt3-accordion__caret{flex-grow:0;flex-shrink:0;margin-left:.9rem;transform:rotate(0);transition:all .3s ease-in-out}.bt3-accordion__caret svg{transition:all .3s ease-in-out}.bt3-accordion__trigger--opened .bt3-accordion__caret{transform:rotate(180deg)}.bt3-accordion__border{border-top:1px solid var(--black-300);margin:0 var(--horizontalMargin);transition:all .3s ease-in-out}.bt3-accordion__border--opened{border-top-color:var(--black-900)}@media (max-width: 59.99em){.bt3-locations__accordion:first-child .bt3-accordion__trigger{border-top:0}}\n'],encapsulation:2}),t})();function wY(t,n){if(1&t&&(R(0,"a",13),ot(1),z()),2&t){const e=Z();B("href",e.location.routeUrl,en),F(1),vn(" ",e.showRouteLabel," ")}}function CY(t,n){if(1&t&&(R(0,"a",14),ot(1),z()),2&t){const e=Z();B("href","tel:"+e.location.phone,en),F(1),vn(" ",e.location.phone," ")}}function kY(t,n){if(1&t&&(R(0,"a",15),ot(1),z()),2&t){const e=Z();B("href","tel:"+e.location.phone,en),F(1),vn(" ",e.location.phone," ")}}function MY(t,n){if(1&t&&(R(0,"p",16),ot(1),z()),2&t){const e=Z();F(1),vn(" ",e.location.availability," ")}}function TY(t,n){if(1&t&&(R(0,"a",17),ot(1),z()),2&t){const e=Z();B("href","mailto:"+e.location.email,en),F(1),vn(" ",e.location.email," ")}}function EY(t,n){1&t&&Se(0,"p",18),2&t&&B("innerHTML",Z().location.richtext,Zi)}function DY(t,n){if(1&t&&(R(0,"div",19),Se(1,"app-button-link",20),z()),2&t){const e=Z();F(1),B("label",e.showMoreLabel)("url",e.location.moreUrl)("openInNewTab",e.location.moreUrlOpensInNewTab||!1)}}function SY(t,n){if(1&t&&(R(0,"div",19),Se(1,"app-button-link",20),z()),2&t){const e=Z();F(1),B("label",e.location.callToAction.label)("url",e.location.callToAction.url)("openInNewTab",!1)}}let IY=(()=>{class t{constructor(){this.showRouteLabel="",this.showMoreLabel="",this.isSingleLocation=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-location-active-item"]],inputs:{location:"location",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",isSingleLocation:"isSingleLocation"},decls:18,vars:15,consts:[[1,"bt3-location-active-item"],[1,"bt3-location-active-item__title"],[1,"bt3-location-active-item__address"],[1,"bt3-location-active-item__name"],[1,"bt3-location-active-item__street"],[1,"bt3-location-active-item__zip-city"],["class","bt3-location-active-item__route-link","target","_blank",3,"href",4,"ngIf"],["class","bt3-location-active-item__phone-mobile",3,"href",4,"ngIf"],["class","bt3-location-active-item__phone-tablet",3,"href",4,"ngIf"],["class","bt3-location-active-item__availability",4,"ngIf"],["class","bt3-location-active-item__email",3,"href",4,"ngIf"],["class","bt3-location-active-item__richtext",3,"innerHTML",4,"ngIf"],["class","bt3-location-active-item__show-more",4,"ngIf"],["target","_blank",1,"bt3-location-active-item__route-link",3,"href"],[1,"bt3-location-active-item__phone-mobile",3,"href"],[1,"bt3-location-active-item__phone-tablet",3,"href"],[1,"bt3-location-active-item__availability"],[1,"bt3-location-active-item__email",3,"href"],[1,"bt3-location-active-item__richtext",3,"innerHTML"],[1,"bt3-location-active-item__show-more"],[3,"label","url","openInNewTab"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"h3",1),ot(2),z(),R(3,"p",2),R(4,"span",3),ot(5),z(),R(6,"span",4),ot(7),z(),R(8,"span",5),ot(9),z(),z(),Q(10,wY,2,2,"a",6),Q(11,CY,2,2,"a",7),Q(12,kY,2,2,"a",8),Q(13,MY,2,1,"p",9),Q(14,TY,2,2,"a",10),Q(15,EY,1,1,"p",11),Q(16,DY,2,3,"div",12),Q(17,SY,2,3,"div",12),z()),2&e&&(Rn("bt3-location-active-item--single",i.isSingleLocation),F(2),Kn(i.location.title),F(3),Kn(i.location.address.name),F(2),Kn(i.location.address.street),F(2),Yh(" ",i.location.address.postCode," ",i.location.address.city," "),F(1),B("ngIf",i.location.routeUrl&&!(i.location.callToAction&&i.location.callToAction.url)),F(1),B("ngIf",i.location.phone&&!(i.location.callToAction&&i.location.callToAction.url)),F(1),B("ngIf",i.location.phone&&!(i.location.callToAction&&i.location.callToAction.url)),F(1),B("ngIf",i.location.availability&&!(i.location.callToAction&&i.location.callToAction.url)),F(1),B("ngIf",i.location.email&&!(i.location.callToAction&&i.location.callToAction.url)),F(1),B("ngIf",i.location.richtext),F(1),B("ngIf",i.showMoreLabel&&i.location.moreUrl),F(1),B("ngIf",i.location.callToAction&&i.location.callToAction.url))},directives:[ri,C0],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h3,p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-location-active-item{padding:3rem 0;margin:0 1.8rem;border-top:1px solid var(--black-900)}@media (min-width: 60em){.bt3-location-active-item{margin:0;border-bottom:1px solid var(--black-900)}}.bt3-location-active-item--single{border-top:none;padding-top:0}@media (min-width: 60em){.bt3-location-active-item--single{padding-top:3rem;border-top:1px solid var(--black-900)}}.bt3-location-active-item__title{margin:0;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.4rem;line-height:1.5}@media (min-width: 60em){.bt3-location-active-item__availability{margin-top:0!important}}.bt3-location-active-item__address,.bt3-location-active-item__route-link,.bt3-location-active-item__phone-tablet,.bt3-location-active-item__email,.bt3-location-active-item__richtext,.bt3-location-active-item__availability,.bt3-location-active-item__show-more{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.8rem;line-height:1.5;margin-top:2.4rem}@media (min-width: 60em){.bt3-location-active-item__address,.bt3-location-active-item__route-link,.bt3-location-active-item__phone-tablet,.bt3-location-active-item__email,.bt3-location-active-item__richtext,.bt3-location-active-item__availability,.bt3-location-active-item__show-more{font-size:2.1rem}}.bt3-location-active-item__phone-mobile{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);color:var(--themeBase, var(--blue-500));display:block;border:1.5px solid var(--themeBase, var(--blue-500));text-decoration:none;padding:1.2rem 0;text-align:center;margin-top:2.4rem}@media (min-width: 60em){.bt3-location-active-item__phone-mobile{font-size:2.1rem;line-height:1.5}}@media (min-width: 37.5em){.bt3-location-active-item__phone-mobile{display:none}}.bt3-location-active-item__phone-tablet{color:var(--black-900);display:inline-block;text-decoration:none;margin-top:2.4rem}@media (max-width: 37.49em){.bt3-location-active-item__phone-tablet{display:none}}.bt3-location-active-item__address span{display:block}.bt3-location-active-item__route-link,.bt3-location-active-item__email{display:block;color:var(--themeBase, var(--blue-500));text-decoration:none}.bt3-location-active-item__route-link:hover,.bt3-location-active-item__email:hover{color:var(--themeHover, var(--blue-700))}\n'],encapsulation:3}),t})();const AY=["map"],OY=["bt3MapLegendCanvas"],LY=["pane"],PY=["paneContent"],FY=["groupItemList"],RY=["locationInfoPositionSelect"],zY=["locationInfoContentMultiSelect"],NY=function(t){return{"bt3-locations__location-info-heading--first":t}};function BY(t,n){if(1&t&&Se(0,"h2",43),2&t){const e=Z(),a=e.index;zi("innerHTML",e.$implicit.id,Zi),B("ngClass",Ga(2,NY,0===a))}}function VY(t,n){if(1&t){const e=Cn();R(0,"li",44),R(1,"div",15),R(2,"div",16),R(3,"div",45),Se(4,"p",46),z(),R(5,"div",17),R(6,"app-select",47,48),Ze("selectionChange",function(a){const h=mt(e).$implicit,b=Z().$implicit;return Z(3).onLocationSingleInfoPositionChange(a,b.id,h.id)}),z(),z(),R(8,"div",17),R(9,"app-multiselect",49,50),Ze("selectionChange",function(a){const h=mt(e).$implicit,b=Z().$implicit;return Z(3).onLocationSingleInfoContentChange(a,b.id,h.id)}),z(),z(),z(),z(),z()}if(2&t){const e=n.$implicit,i=n.index,a=Z().index,c=Z(3);F(4),B("innerHTML",e.title,Zi),F(2),Bg("fieldId","locationInfoPosition",a,"-",i,""),Bg("fieldName","locationInfoPosition",a,"-",i,""),B("jsonOptions",c.locationInfoPositionOptionsJson),F(3),Bg("fieldId","locationInfoContent",a,"-",i,""),Bg("fieldName","locationInfoContent",a,"-",i,""),B("jsonOptions",c.locationInfoContentOptionsJson)}}function HY(t,n){if(1&t&&(zt(0),Q(1,BY,1,4,"h2",40),R(2,"ul",41),Q(3,VY,11,11,"li",42),z(),Nt()),2&t){const e=n.$implicit;F(1),B("ngIf","all"!==e.id),F(2),B("ngForOf",e.data)}}const jY=function(t){return{"bt3-locations__location-info-configurator--visible":t}};function UY(t,n){if(1&t){const e=Cn();R(0,"div",35),R(1,"div",36),Q(2,HY,4,2,"ng-container",37),z(),R(3,"div",38),R(4,"app-button-link",39),Ze("click",function(){return mt(e),Z(2).onLocationInfoConfiguratorToggle()}),z(),z(),z()}if(2&t){const e=Z(2);F(1),B("ngClass",Ga(4,jY,e.locationInfoConfiguratorVisible)),F(1),B("ngForOf",e.mapBuilderSourceLayerArray),F(2),B("label",e.locationInfoConfiguratorVisible?"Konfigurator f\xfcr Standort-Infos ausblenden":"Konfigurator f\xfcr Standort-Infos einblenden")("buttonLevel",e.buttonLevels.TERTIARY)}}function GY(t,n){if(1&t){const e=Cn();R(0,"div",13),R(1,"app-form-style-wrapper",14),R(2,"div",15),R(3,"div",16),R(4,"div",17),R(5,"app-multiselect",18),Ze("selectionChange",function(a){return mt(e),Z().onCountrySelectionChange(a)}),z(),z(),R(6,"div",17),R(7,"app-multiselect",19),Ze("selectionChange",function(a){return mt(e),Z().onPowerPlantSelectionChange(a)}),z(),z(),R(8,"div",17),R(9,"app-select",20),Ze("selectionChange",function(a){return mt(e),Z().onMapStyleChange(a)}),z(),z(),R(10,"div",17),R(11,"app-select",21),Ze("selectionChange",function(a){return mt(e),Z().onCountryColorChange(a)}),z(),z(),R(12,"div",17),R(13,"app-select",22),Ze("selectionChange",function(a){return mt(e),Z().onLegendPositionChange(a)}),z(),z(),R(14,"div",17),R(15,"app-select",23),Ze("selectionChange",function(a){return mt(e),Z().onLocationInfoPositionChange(a)}),z(),z(),R(16,"div",17),R(17,"app-text-input",24),Ze("onInputChanged",function(a){return mt(e),Z().onLocationInfoFontSizeScaleFactorChange(a)}),z(),z(),R(18,"div",17),R(19,"app-multiselect",25),Ze("selectionChange",function(a){return mt(e),Z().onLocationInfoContentChange(a)}),z(),z(),R(20,"div",17),R(21,"app-text-input",26),Ze("onInputChanged",function(a){return mt(e),Z().onMarkerRadiusChange(a)}),z(),z(),z(),z(),Q(22,UY,5,6,"div",27),z(),R(23,"div",28),R(24,"div",29),R(25,"div",30),R(26,"div",31),R(27,"app-button-link",32),Ze("click",function(){return mt(e),Z().goToSwitzerland()}),z(),z(),R(28,"div",31),R(29,"app-button-link",33),Ze("click",function(){return mt(e),Z().goToEurope()}),z(),z(),R(30,"div",31),R(31,"app-button-link",34),Ze("click",function(){return mt(e),Z().onDownloadMap()}),z(),z(),z(),z(),z(),z()}if(2&t){const e=Z();F(5),B("jsonOptions",e.countryOptionsJson),F(2),B("jsonOptions",e.powerPlantTypeOptionsJson),F(2),B("jsonOptions",e.mapStyleOptionsJson),F(2),B("jsonOptions",e.countryColorOptionsJson),F(2),B("jsonOptions",e.legendPositionOptionsJson),F(2),B("jsonOptions",e.locationInfoPositionOptionsJson),F(2),B("value",e.locationInfoFontSizeScaleFactor),F(2),B("jsonOptions",e.locationInfoContentOptionsJson),F(2),B("value",e.markerRadius),F(1),B("ngIf",e.locationInfoData.length),F(5),B("buttonLevel",e.buttonLevels.TERTIARY),F(2),B("buttonLevel",e.buttonLevels.TERTIARY),F(2),B("buttonLevel",e.buttonLevels.TERTIARY)}}function $Y(t,n){if(1&t){const e=Cn();R(0,"app-location-item",52),Ze("activate",function(a){return mt(e),Z(2).activateItem(a)}),z()}if(2&t){const e=Z(),i=e.location,a=e.isLast,c=e.index,h=e.group,b=Z();B("title",i.title)("street",i.address.street)("postCode",i.address.postCode)("city",i.address.city)("distance",i.distance)("isLast",a)("index",c)("group",h)("showDistance",b.showDistance)}}function YY(t,n){1&t&&Q(0,$Y,1,9,"app-location-item",51),2&t&&B("ngIf",!Z().isMapBuilderMode)}function qY(t,n){1&t&&Se(0,"div")}const WY=function(t,n,e,i){return{location:t,isLast:n,index:e,group:i}};function ZY(t,n){if(1&t&&(R(0,"li",57),Q(1,qY,1,0,"div",58),z()),2&t){const e=n.$implicit,i=n.last,a=n.index,c=Z(2).group;Z();const h=Ft(3);F(1),B("ngTemplateOutlet",h)("ngTemplateOutletContext",Z1(2,WY,e,i,a,c))}}function XY(t,n){if(1&t){const e=Cn();R(0,"ul",54,55),Ze("scroll",function(a){return mt(e),Z(2).checkHorizontalGroupScroll(a)}),Q(2,ZY,2,7,"li",56),z()}if(2&t){const e=Z().data;F(2),B("ngForOf",e.locations)}}function KY(t,n){1&t&&Q(0,XY,3,1,"ul",53),2&t&&B("ngIf",!Z().isMapBuilderMode)}function JY(t,n){1&t&&Dl(0)}const QY=function(t,n){return{data:t,group:n}};function eq(t,n){if(1&t){const e=Cn();R(0,"app-accordion",60),Ze("toggled",function(){return mt(e),Z(3).checkVerticalScrollBehaviour()})("toggled",function(){mt(e);const a=Z().index;return Z(2).checkHorizontalGroupScroll({target:null},a)}),Q(1,JY,1,0,"ng-container",58),z()}if(2&t){const e=Z(),i=e.$implicit,a=e.last,c=e.index;Z(2);const h=Ft(5);B("title",i.title)("isLast",a.toString()),F(1),B("ngTemplateOutlet",h)("ngTemplateOutletContext",Cr(4,QY,i,c))}}function tq(t,n){if(1&t&&(zt(0),Q(1,eq,2,7,"app-accordion",59),Nt()),2&t){const e=n.$implicit,i=Z(2);F(1),B("ngIf",e&&!i.isMapBuilderMode)}}function nq(t,n){1&t&&Q(0,tq,2,1,"ng-container",37),2&t&&B("ngForOf",n.data)}function iq(t,n){if(1&t){const e=Cn();R(0,"button",64),Ze("click",function(){return mt(e),Z(2).resetItem()}),Se(1,"bt3-icon",65),R(2,"span"),ot(3),z(),z()}if(2&t){const e=Z(2);F(3),Kn(e.backLabel)}}function aq(t,n){if(1&t){const e=Cn();R(0,"div",61),Ze("@inOutActiveItemAnimation.start",function(a){return mt(e),Z().onActiveItemAnimation(a)})("@inOutActiveItemAnimation.done",function(a){return mt(e),Z().onActiveItemAnimation(a)}),Q(1,iq,4,1,"button",62),Se(2,"app-location-active-item",63),z()}if(2&t){const e=Z();B("@inOutActiveItemAnimation",void 0),F(1),B("ngIf",!e.isSingleLocation),F(1),B("isSingleLocation",e.isSingleLocation)("location",e.activeItem)("showRouteLabel",e.showRouteLabel)("showMoreLabel",e.showMoreLabel)}}function rq(t,n){1&t&&Se(0,"div")}const oq=function(t){return{data:t,group:0}};function sq(t,n){if(1&t&&(R(0,"div",null,66),Q(2,rq,1,0,"div",58),z()),2&t){const e=Z(),i=Ft(7),a=Ft(5);B("@inOutPaneAnimation",void 0),F(2),B("ngTemplateOutlet",e.locations.data.length>1?i:a)("ngTemplateOutletContext",Ga(3,oq,e.getGroups()))}}function lq(t,n){if(1&t&&Se(0,"canvas",67,68),2&t){const e=Z();zi("width",e.legendCanvasWidth),zi("height",e.legendCanvasHeight)}}const cq=function(t,n,e){return{"bt3-locations--hidden":t,"bt3-locations--single-location":n,"bt3-locations--is-map-builder":e}},b5="pk.eyJ1IjoiYmt3ZW5lcmdpZWFnIiwiYSI6IlpLeVEzbmsifQ.rqQhifbPqgiKdo4rmVKBcA",y5="mapbox://styles/bkwenergieag/ckn8nmlig1mc617rw6yw2zkbn",Mk="mapbox://styles/bkwenergieag/cktsl4cxw0rwd18n5alju2prm",Tk=["rgba(133, 207, 232, 0.5)","rgba(214, 215, 0, 0.5)","rgba(255, 204, 0, 0.5)"],v5="#007fa7";let Ek=(()=>{class t{constructor(e){this._cdRef=e,this.userLocated=new Et,this.themeVariant="primary",this.showRouteLabel="",this.showMoreLabel="",this.showDistance=!1,this.backLabel="",this.mapLoaded=!1,this.markers=[],this._userLocation=null,this.geoJson={type:"FeatureCollection",features:[]},this.sourceId="locations",this.layers={unclustered:"location-unclustered",clusteredCircles:"location-cluster-circles",clusterCount:"location-cluster-count"},this.isMapBuilderMode=!1,this.mapBuilderSourceLayerArray=[],this.mapActiveCountryCodes=[],this.layerMapBuilderBaseName="map-builder-layer-",this.layersMapBuilder=[],this.activeItem=null,this.activeGroup=0,this.isSingleLocation=!1,this.isInitial=!0,this.paneScrollable=!1,this.paneScrollShadowTop=!1,this.paneScrollShadowBottom=!1,this.paneMinHeight="0",this.mapStyleOptions=[{id:"reduced",title:"Reduzierte Karte",checked:!0},{id:"default",title:"Standard"}],this.mapStyle=y5,this.mapStyleOptionsJson=JSON.stringify(this.mapStyleOptions),this.selectedCountries=[],this.countryOptions=[],this.countryOptionsJson=JSON.stringify(this.countryOptions),this.selectedPowerPlantTypes=[],this.powerPlantTypeOptions=[],this.powerPlantTypeOptionsJson=JSON.stringify(this.powerPlantTypeOptions),this.markerRadius="8",this.countryColorOptions=[{id:"",title:"keine",checked:!0},{id:Tk[0],title:"blau"},{id:Tk[1],title:"gr\xfcn"},{id:Tk[2],title:"gelb-rot"}],this.countryHighlightColor="",this.countryColorOptionsJson=JSON.stringify(this.countryColorOptions),this.countryLayer=null,this.legendCanvasWidth=2e3,this.legendCanvasHeight=.625*this.legendCanvasWidth,this.legendBackgroundColor="white",this.legendFont="26px bkw-regular-font",this.legendTextColor="#121212",this.legendBorderColor=this.legendTextColor,this.legendOffset=20,this.legendPadding=20,this.legendBorderWidth=1,this.legendMarkerRadius=6,this.legendMarkerTextOffsetHorizontal=this.legendPadding/2,this.legendItemOffsetVertical=this.legendPadding,this.legendPositionOptions=[{id:"none",title:"keine Legende",checked:!0},{id:"top-left",title:"oben links"},{id:"top-right",title:"oben rechts"},{id:"bottom-left",title:"unten links"},{id:"bottom-right",title:"unten rechts"}],this.legendPosition=this.legendPositionOptions[0].id,this.legendPositionOptionsJson=JSON.stringify(this.legendPositionOptions),this.locationInfoConfiguratorVisible=!1,this.locationInfoDummyCanvas=document.createElement("canvas"),this.locationInfoDummyContext=this.locationInfoDummyCanvas.getContext("2d"),this.locationInfoFontSize=40,this.fontZoomLevelScaleFactor=.55,this.locationInfoPaddingFontSizeFactor=.25,this.locationInfoBackgroundColor="white",this.locationInfoFontFamily="bkw-regular-font",this.locationInfoFontFamilyBold="bkw-bold-font",this.locationInfoTextColor="#121212",this.locationInfoPositionOptions=[{id:"none",title:"keine Standort-Infos",checked:!0},{id:"top-left",title:"oben links"},{id:"top-centered",title:"oben zentriert"},{id:"top-right",title:"oben rechts"},{id:"centered-left",title:"zentriert links"},{id:"centered-right",title:"zentriert rechts"},{id:"bottom-left",title:"unten links"},{id:"bottom-centered",title:"unten zentriert"},{id:"bottom-right",title:"unten rechts"}],this.locationInfoPosition=this.locationInfoPositionOptions[0].id,this.locationInfoPositionOptionsJson=JSON.stringify(this.locationInfoPositionOptions),this.locationInfoData=[],this.locationInfoFontSizeScaleFactor="1",this.locationInfoContentOptions=[{id:"title",title:"Titel",checked:!0}],this.locationInfoContent=this.locationInfoContentOptions,this.locationInfoContentOptionsJson=JSON.stringify(this.locationInfoContentOptions),this.bounds={switzerland:new Xu.LngLatBounds(new Xu.LngLat(5.269691261416142,45.521563586258566),new Xu.LngLat(11.122605114569183,48.0270390026065)),europe:new Xu.LngLatBounds(new Xu.LngLat(-25.99992872773018,34.7950233787827),new Xu.LngLat(44.9789060925923,62.89701092268754))},this.buttonLevels=tc,this.mapBoxPromise=Promise.resolve().then(Yn.t.bind(Yn,811,23))}set isMapBuilder(e){this.isMapBuilderMode=!0===e||"true"===e||"1"===e,this.isMapBuilderMode&&(this.mapStyle=Mk)}set locationsJson(e){const i=JSON.parse(e),a=this.ensureIdentifierOnLocationItems(i);this.locationsInitial=a,this.locations=JSON.parse(e),this.setSingleLocation(),this.isMapBuilderMode&&this.generateMapBuilderFiltersFromLocations(),this.map&&(this.isMapBuilderMode?this.addMapBuilderMarkersToMap():this.addMarkersToMap())}set userLocation(e){this._userLocation=e,this.userLocationMarker&&this.userLocationMarker.remove(),this.isInitial||this.flyToUserLocation()}ngAfterViewInit(){this.mapBoxPromise.then(e=>{if(this.map=new e.Map({container:this.mapDomElement.nativeElement,style:this.mapStyle,scrollZoom:this.isMapBuilderMode,doubleClickZoom:!0,touchZoomRotate:!0,accessToken:b5,preserveDrawingBuffer:this.isMapBuilderMode}),this.isMapBuilderMode)this.map.on("moveend",()=>{this.addLegendToMap(),this.addLocationInfoToMap()}),this.map.on("style.load",()=>{this.addMapBuilderMarkersToMap(),this.setLocationInfoData()});else{const i=new e.GeolocateControl;this.map.addControl(new e.NavigationControl({showCompass:!1}),"bottom-right").addControl(i,"bottom-right"),this.checkVerticalScrollBehaviour(),this.checkHorizontalGroupScroll({target:this.groupItemList.first.nativeElement}),i.on("geolocate",a=>{const c=a;a&&c.coords&&(this.getDistanceToCurrentLocation(c,e),this.userLocated.emit({longitude:c.coords.longitude,latitude:c.coords.latitude}))}),this.map.scrollZoom.disable()}this.map.on("load",()=>{this.mapLoaded=!0,this.isMapBuilderMode?this.addMapBuilderMarkersToMap():(this.addMarkersToMap(),this.flyToUserLocation())}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&this.handlingMobileTouchEvents()})}handlingMobileTouchEvents(){this.map.dragPan.disable(),this.map.touchPitch.disable(),this.map.on("touchstart",e=>{const i=e.originalEvent;i&&"touches"in i&&(i.touches.length>1?(i.stopImmediatePropagation(),this.map.dragPan.enable()):this.map.dragPan.disable())})}checkVerticalScrollBehaviour(){var e,i;if(!(null===(e=this.paneContent)||void 0===e?void 0:e.nativeElement)||!(null===(i=this.pane)||void 0===i?void 0:i.nativeElement))return;const a=this.paneContent.nativeElement.offsetHeight-this.pane.nativeElement.offsetHeight,c=this.pane.nativeElement.scrollTop;this.paneScrollable=a>0,this.paneScrollable&&(this.paneScrollShadowTop=c>12,this.paneScrollShadowBottom=c<a-12)}activateItem(e){this.activeItem=this.locations.data[e.group].locations[e.index],this.activeGroup=e.group,this.flyToActive()}setSingleLocation(){this.isSingleLocation=1===this.locations.data.length&&1===this.locations.data[0].locations.length}resetItem(){this.activeItem=null,this._userLocation?this.flyToUserLocation():this.fitInitialBounds()}addMarkersToMap(){this.resetMap(),this.setSingleLocation(),this.createGeoJson(),this.addUnclusteredPoints(),this.isSingleLocation?this.activateItem({index:0,group:0}):(this.addClusterCircles(),this.fitInitialBounds())}generateMapBuilderFiltersFromLocations(){const e=[],i=[];this.locationsInitial.data.forEach(a=>{a.title&&i.push({id:a.title,title:a.title}),a.locations.forEach(c=>{!e.find(b=>b.id===c.address.country)&&c.address.country&&e.push({id:c.address.country,title:c.address.country})})}),this.countryOptions=e,this.countryOptionsJson=JSON.stringify(e),this.powerPlantTypeOptions=i,this.powerPlantTypeOptionsJson=JSON.stringify(i)}addMapBuilderMarkersToMap(){this.resetMap(),this.filterData(),this.createGeoJson(),this.createMapBuilderGeoJson(),this.setMapActiveCountryCodes(),this.addCountriesToMap(),this.addMapBuilderPoints(),this.addLegendToMap(),this.addLocationInfoToMap(),this.fitInitialBounds()}addSource(e=this.geoJson,i=this.sourceId){this.map&&(this.map.getSource(i)&&this.resetMap(),this.map.addSource(i,this.isMapBuilderMode?{type:"geojson",data:e}:{type:"geojson",data:e,cluster:!0,clusterMaxZoom:14,clusterRadius:50}))}resetMap(){this.activeItem=null,this.activeGroup=0,this.isSingleLocation=!1;const e=a=>{this.map.getLayer(a)&&this.map.removeLayer(a)},i=a=>{this.map.getSource(a)&&this.map.removeSource(a)};if(this.map){const a=this.map.getSource(this.sourceId);Object.values(this.layers).forEach(c=>{e(c)}),a&&i(this.sourceId),this.isMapBuilderMode&&this.mapBuilderSourceLayerArray.forEach(c=>{e(c.layerId),i(c.sourceId)})}this.removeCountriesFromMap(),this.removeLegendFromMap(),this.removeLocationInfoFromMap()}addCountriesToMap(){this.removeCountriesFromMap(),this.countryHighlightColor&&(this.countryLayer=this.map.addLayer({id:"countries",source:{type:"vector",url:"mapbox://mapbox.country-boundaries-v1"},"source-layer":"country_boundaries",type:"fill",paint:{"fill-color":this.countryHighlightColor,"fill-outline-color":"#a3a3a3"}}),this.map.setFilter("countries",["in","iso_3166_1_alpha_3"].concat(this.mapActiveCountryCodes)))}removeCountriesFromMap(){this.map.getLayer("countries")&&this.map.removeLayer("countries"),this.map.getSource("countries")&&this.map.removeSource("countries")}addLegendToMap(){if(this.removeLegendFromMap(),this.bt3MapLegendCanvas){const e=this.bt3MapLegendCanvas.nativeElement.getContext("2d");if(e&&this.legendPosition!==this.legendPositionOptions[0].id){e.clearRect(0,0,this.legendCanvasWidth,this.legendCanvasHeight);const i=this.map.getBounds();let a="";e.font=this.legendFont,this.mapBuilderSourceLayerArray.forEach($=>{e.measureText($.label).width>e.measureText(a).width&&(a=$.label)});const c=e.measureText(a).width,h=2*this.legendPadding+2*this.legendMarkerRadius+this.legendMarkerTextOffsetHorizontal+c+2,b=2*this.legendPadding+this.legendMarkerRadius+2*this.legendMarkerRadius*this.mapBuilderSourceLayerArray.length+(this.mapBuilderSourceLayerArray.length-1)*this.legendItemOffsetVertical-2;let w=this.legendOffset,E=this.legendOffset;switch(this.legendPosition){case this.legendPositionOptions[2].id:w=this.legendCanvasWidth-h-this.legendOffset;break;case this.legendPositionOptions[3].id:E=this.legendCanvasHeight-b-this.legendOffset;break;case this.legendPositionOptions[4].id:w=this.legendCanvasWidth-h-this.legendOffset,E=this.legendCanvasHeight-b-this.legendOffset}e.fillStyle=this.legendBackgroundColor,e.fillRect(w,E,h,b),e.beginPath(),e.strokeStyle=this.legendBorderColor,e.lineWidth=this.legendBorderWidth,e.strokeRect(w,E,h,b),this.mapBuilderSourceLayerArray.forEach(($,K)=>{if($.colorHex){const ie=w+this.legendPadding+this.legendMarkerRadius,pe=E+this.legendPadding+this.legendMarkerRadius+K*(2*this.legendMarkerRadius+this.legendItemOffsetVertical),Pe=ie+2*this.legendMarkerRadius+this.legendMarkerTextOffsetHorizontal,Oe=pe;e.beginPath(),e.arc(ie,pe,this.legendMarkerRadius,0,360,!1),e.fillStyle=$.colorHex,e.textBaseline="middle",e.fill(),e.font=this.legendFont,e.fillStyle=this.legendTextColor,e.fillText($.label,Pe,Oe)}});const L=[[i.getWest(),i.getNorth()],[i.getEast(),i.getNorth()],[i.getEast(),i.getSouth()],[i.getWest(),i.getSouth()]];this.map.addSource("map-legend-canvas",{type:"canvas",canvas:"bt3MapLegendCanvas",coordinates:L,animate:!1}),this.map.addLayer({id:"map-legend-canvas",type:"raster",source:"map-legend-canvas"})}}}removeLegendFromMap(){this.map.getLayer("map-legend-canvas")&&this.map.removeLayer("map-legend-canvas"),this.map.getSource("map-legend-canvas")&&this.map.removeSource("map-legend-canvas")}addLocationInfoToMap(){this.removeLocationInfoFromMap(),this.mapBuilderSourceLayerArray.forEach((e,i)=>{e.data.forEach((a,c)=>{const h=this.locationInfoData.find(oa=>oa.data.location.id===a.id),b=parseFloat(this.locationInfoFontSizeScaleFactor)||1,E=6800/((this.map.getZoom()>=3?Math.pow(this.fontZoomLevelScaleFactor,this.map.getZoom()-2):1)*b);this.locationInfoDummyContext.font=`${this.locationInfoFontSize}px ${this.locationInfoFontFamily}`;const L=Xu.MercatorCoordinate.fromLngLat({lng:a.geo.longitude,lat:a.geo.latitude}),$=L.x*E,K=L.y*E,Pe=this.locationInfoFontSize/2,Oe=this.locationInfoFontSize/2,Qe=this.locationInfoPaddingFontSizeFactor*this.locationInfoFontSize,We=a.title||"";let Dt=0,Zt=0;const Tr=this.locationInfoDummyContext.measureText(We).width+2*Qe,pr=this.locationInfoFontSize+2*Qe,Er=document.createElement("canvas");Er.id=`bt3MapLocationInfoCanvas${i}-${c}`,Er.width=Tr,Er.height=pr,Er.style.display="none",Er.classList.add("bt3-locations__canvas","bt3-locations__canvas--info"),document.body.append(Er);const bo=Er.getContext("2d");switch(bo.font=`${this.locationInfoFontSize}px ${this.locationInfoFontFamily}`,bo.fillStyle=this.legendTextColor,bo.textBaseline="top",bo.textAlign="left",h&&h.positionId?h.positionId:"bottom-centered"){case"top-left":Dt=$-Pe-Tr,Zt=K-Oe-pr;break;case"top-centered":Dt=$-Tr/2,Zt=K-Oe-pr;break;case"top-right":Dt=$+Pe,Zt=K-Oe-pr;break;case"centered-left":Dt=$-Pe-Tr,Zt=K-pr/2;break;case"centered-right":Dt=$+Pe,Zt=K-pr/2;break;case"bottom-left":Dt=$-Pe-Tr,Zt=K+Oe;break;case"bottom-centered":Dt=$-Tr/2,Zt=K+Oe;break;case"bottom-right":Dt=$+Pe,Zt=K+Oe}(null==h?void 0:h.positionId)!==this.locationInfoPositionOptions[0].id&&(null==h?void 0:h.displayedContent.title)&&this.map.getZoom()>2.5&&(bo.beginPath(),bo.fillStyle=this.locationInfoBackgroundColor,bo.fillRect(0,0,Tr,pr),bo.beginPath(),bo.fillStyle=this.locationInfoTextColor,bo.fillText(We,Qe,Qe));const pp=(Dt+Tr)/E,Dn=(Zt+pr)/E,Jn=new Xu.MercatorCoordinate(Dt/E,Zt/E).toLngLat(),vi=new Xu.MercatorCoordinate(pp,Dn).toLngLat();this.map.addSource(`map-location-info-canvas-${i}-${c}`,{type:"canvas",canvas:`bt3MapLocationInfoCanvas${i}-${c}`,coordinates:[[Jn.lng,Jn.lat],[vi.lng,Jn.lat],[vi.lng,vi.lat],[Jn.lng,vi.lat]],animate:!1}),this.map.addLayer({id:`map-location-info-canvas-${i}-${c}`,type:"raster",source:`map-location-info-canvas-${i}-${c}`})})})}removeLocationInfoFromMap(){this.mapBuilderSourceLayerArray.forEach((i,a)=>{i.data.forEach((c,h)=>{this.map.getLayer(`map-location-info-canvas-${a}-${h}`)&&this.map.removeLayer(`map-location-info-canvas-${a}-${h}`),this.map.getSource(`map-location-info-canvas-${a}-${h}`)&&this.map.removeSource(`map-location-info-canvas-${a}-${h}`)})}),document.querySelectorAll(".bt3-locations__canvas--info").forEach(i=>i.remove())}setLocationInfoData(){const e=[];this.locations.data.forEach(i=>{i.locations.forEach(a=>{const c=i.title||"",h=this.getPowerPlantIdByTitle(c)||"";let b={};this.locationInfoContentOptions.forEach(E=>{b.title=E.id===this.locationInfoContentOptions[0].id&&!!this.locationInfoContent.find(L=>L.id===this.locationInfoContentOptions[0].id)}),e.push({positionId:this.locationInfoPosition,displayedContent:b,data:{powerPlantType:{id:h,title:c},location:a}})})}),this._cdRef.detectChanges(),this.updateLocationInfoPositionSelects(),this.updateLocationInfoContentMultiSelects(),this.locationInfoData=e}updateSingleLocationInfoPosition(e,i,a){const c=this.getLocationInfoDataByGroupAndId(i,a);c&&(c.positionId=e)}updateSingleLocationInfoContent(e,i,a){const c=this.getLocationInfoDataByGroupAndId(i,a);c&&(e.length?e.forEach(h=>{c.displayedContent.title=h.id===this.locationInfoContentOptions[0].id}):c.displayedContent.title=!1)}getLocationInfoDataByGroupAndId(e,i){return this.locationInfoData.find(a=>{var c;return("all"===e||(null===(c=a.data.powerPlantType)||void 0===c?void 0:c.id)===e)&&a.data.location.id===i})}getPowerPlantIdByTitle(e){let i="";const a=this.powerPlantTypeOptions.find(c=>c.title===e);return a&&(i=a.id),i}updateLocationInfoPositionSelects(){this.locationInfoPositionSelect.forEach(e=>{e.control.setValue(this.locationInfoPosition)})}updateLocationInfoContentMultiSelects(){this.locationInfoContentMultiSelect.forEach(e=>{const i=this.locationInfoContent.map(c=>c.id),a=this.locationInfoContentOptions.map(c=>{const h=this.locationInfoContent.find(b=>b.id===c.id);return c.checked=!!h,c});e.jsonOptions=JSON.stringify(a),e.control.setValue(i)})}filterData(){this.locations=Object.assign({},this.locationsInitial),this.locations.data=0===this.selectedPowerPlantTypes.length?[]:this.locations.data.filter(i=>{var a;return!!(null===(a=this.selectedPowerPlantTypes)||void 0===a?void 0:a.find(h=>h.id===i.title))});const e=[];this.locations.data.forEach(i=>{let a=[];this.selectedCountries.length>0&&(a=i.locations.filter(c=>{var h;return!!(null===(h=this.selectedCountries)||void 0===h?void 0:h.find(w=>w.id===c.address.country))})),e.push({title:i.title,locations:a,color:i.color})}),this.locations.data=e}ensureIdentifierOnLocationItems(e){return e.data.forEach((i,a)=>{i.locations.forEach((c,h)=>{c.id||(c.id=`${c.title}-${a}-${h}`)})}),e}createGeoJson(){const e=[];this.locations.data.forEach((i,a)=>{const c=i.locations.map((h,b)=>({type:"Feature",properties:Object.assign(Object.assign({},h),{index:b,group:a}),geometry:{type:"Point",coordinates:[h.geo.longitude,h.geo.latitude]}}));e.push(...c)}),this.geoJson.features=e,this.addSource()}createMapBuilderGeoJson(){const e=[];this.locations.data.forEach(i=>{e.push({title:i.title,locations:i.locations,color:i.color})}),this.mapBuilderSourceLayerArray=e.map(i=>({id:i.title||"",sourceId:`${this.sourceId}${i.title}`,layerId:`${this.layers.unclustered}${i.title}`,data:i.locations,label:i.title||"",colorHex:i.color})),this.mapBuilderSourceLayerArray.forEach(i=>{const a=i.data.map((h,b)=>({type:"Feature",properties:Object.assign(Object.assign({},h),{index:b}),geometry:{type:"Point",coordinates:[h.geo.longitude,h.geo.latitude]}}));this.addSource({type:"FeatureCollection",features:a},i.sourceId)})}addUnclusteredPoints(){this.map.addLayer({id:this.layers.unclustered,type:"symbol",source:this.sourceId,filter:["!",["has","point_count"]],layout:{"icon-image":"location-blue","icon-anchor":"bottom"}}),this.isSingleLocation||this.map.on("click",this.layers.unclustered,e=>{if(e&&e.features){const i=e.features[0].properties;i&&this.activateItem({index:i.index,group:i.group})}})}addMapBuilderPoints(){this.mapBuilderSourceLayerArray.length?this.mapBuilderSourceLayerArray.forEach(e=>{this.addMapBuilderPointsToLayer(e.id,e.sourceId,e.layerId,e.colorHex||v5)}):this.addMapBuilderPointsToLayer("",this.sourceId,this.layers.unclustered,v5)}addMapBuilderPointsToLayer(e,i,a,c){this.map.addLayer({id:`${this.layers.unclustered}${e}`,type:"circle",source:i,filter:["!",["has","point_count"]],paint:{"circle-radius":["interpolate",["linear"],["zoom"],2,parseInt(this.markerRadius)/4,10,parseInt(this.markerRadius)],"circle-color":c}});const h=new Xu.Popup({closeButton:!1,closeOnClick:!1});this.map.on("mouseenter",a,b=>{if(b&&b.features&&b.features[0].properties){this.map.getCanvas().style.cursor="pointer";const w=b.features[0].geometry.coordinates.slice(),E=b.features[0].properties.title;if(w&&w[0]&&b.target.getZoom()>7){for(;Math.abs(b.lngLat.lng-w[0])>180;)w[0]+=b.lngLat.lng>w[0]?360:-360;h.setLngLat(w).setHTML(E).addTo(this.map)}}}),this.map.on("mouseleave",a,()=>{this.map.getCanvas().style.cursor="",h.remove()})}addClusterCircles(){this.map.addLayer({id:this.layers.clusteredCircles,type:"circle",source:this.sourceId,filter:["has","point_count"],paint:{"circle-color":"rgba(0, 45, 105, 1)","circle-radius":18}}),this.map.addLayer({id:this.layers.clusterCount,type:"symbol",source:this.sourceId,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":16},paint:{"text-color":"#ffffff"}}),this.map.on("click",this.layers.clusteredCircles,i=>{var a;const c=this.map.queryRenderedFeatures(i.point,{layers:[this.layers.clusteredCircles]}),h=null===(a=c[0].properties)||void 0===a?void 0:a.cluster_id;this.map.getSource(this.sourceId).getClusterExpansionZoom(h,(b,w)=>{b||this.map.easeTo({center:c[0].geometry.coordinates,zoom:w})})})}fitInitialBounds(){this.isMapBuilderMode&&!this.isInitial||this.mapBoxPromise.then(e=>{const i=this.geoJson.features.length?new e.LngLatBounds:this.bounds.europe;this.geoJson.features.forEach(a=>{i.extend(a.geometry.coordinates)}),this.map&&this.map.fitBounds(i,{padding:.05*window.innerWidth/2>80?.05*window.innerWidth/2:80,animate:!this.isInitial}),this.isInitial=!1})}flyToActive(){this.activeItem&&(this.map.flyTo({center:[this.activeItem.geo.longitude,this.activeItem.geo.latitude],zoom:15,animate:!this.isInitial}),this.isInitial=!1)}getGroups(){return this.locations.data.length>1?this.locations.data:this.locations.data[0]}injectCustomMarkerAtGeoCoordinates(e){if(this.userLocationMarker&&this.userLocationMarker.remove(),!e)return;const i={type:"Feature",properties:{title:e.place_name},geometry:{type:"Point",coordinates:e.geometry.coordinates}},a=document.createElement("div");a.className="bt3-locations__marker-plus",this.mapBoxPromise.then(c=>{this.userLocationMarker=new c.Marker(a).setLngLat({lng:i.geometry.coordinates[0],lat:i.geometry.coordinates[1]}).setPopup(new c.Popup({offset:25}).setHTML("<h3>"+i.properties.title+"</h3>")).addTo(this.map)})}flyToUserLocation(){if(this._userLocation){const e=this._userLocation?{place_name:this._userLocation.label,geometry:{coordinates:[this._userLocation.location.longitude,this._userLocation.location.latitude]}}:null;e&&(this.injectCustomMarkerAtGeoCoordinates(e),(null==e?void 0:e.geometry.coordinates[0])&&(null==e?void 0:e.geometry.coordinates[1])&&setTimeout(()=>{this.map.flyTo({center:[e.geometry.coordinates[0],e.geometry.coordinates[1]],zoom:10})}))}}checkHorizontalGroupScroll({target:e},i=0){let a=[],c=-1;if(e)a=Array.from(e.querySelectorAll("li"));else{const h=this.pane.nativeElement.querySelectorAll(".bt3-locations__group")[i];a=Array.from(h.querySelectorAll("li")),c=-25}a.forEach(h=>{const b=h.getBoundingClientRect();b.left>=c&&b.left+b.width<window.innerWidth+1?h.classList.add("bt3-locations__group-item--visible"):h.classList.remove("bt3-locations__group-item--visible")})}getDistanceToCurrentLocation(e,i){const a=new i.LngLat(e.coords.longitude,e.coords.latitude);this.locations.data.forEach(c=>{c.locations.forEach(h=>{const b=a.distanceTo(new i.LngLat(h.geo.longitude,h.geo.latitude));h.distance=Math.round(b/100)/10})})}setMapActiveCountryCodes(){const e=[];this.locationsInitial.data.forEach(i=>{i.locations.forEach(a=>{const c=this.selectedCountries.find(b=>b.id===a.address.country);(!(this.selectedCountries.length>0)||c)&&a.countryCode&&-1===e.indexOf(a.countryCode)&&e.push(a.countryCode)})}),this.mapActiveCountryCodes=e}onActiveItemAnimation(e){var i;if(e.toState||"start"!==e.phaseName){if(!e.fromState&&"done"===e.phaseName){const a=this.groupItemList.toArray();this.paneMinHeight="0",this.checkVerticalScrollBehaviour(),(null===(i=a[this.activeGroup])||void 0===i?void 0:i.nativeElement)&&this.checkHorizontalGroupScroll({target:a[this.activeGroup].nativeElement})}}else{const a=e.element.getBoundingClientRect().height;this.paneMinHeight=`${a}px`}}onCountrySelectionChange(e){this.selectedCountries=e.value,this.addMapBuilderMarkersToMap(),this.setLocationInfoData(),this.addLocationInfoToMap()}onPowerPlantSelectionChange(e){this.selectedPowerPlantTypes=e.value,this.addMapBuilderMarkersToMap(),this.setLocationInfoData(),this.addLocationInfoToMap()}onMapStyleChange(e){this.mapStyle=this.mapStyle===Mk?y5:Mk,this.map.setStyle(this.mapStyle)}onCountryColorChange(e){this.countryHighlightColor=e.value.id,this.addMapBuilderMarkersToMap()}onLegendPositionChange(e){this.legendPosition=e.value.id,this.addLegendToMap()}onLocationInfoPositionChange(e){this.locationInfoPosition=e.value.id,this.setLocationInfoData(),this.addLocationInfoToMap()}onLocationInfoFontSizeScaleFactorChange(e){this.locationInfoFontSizeScaleFactor=e,this.addLocationInfoToMap()}onLocationInfoContentChange(e){this.locationInfoContent=e.value,this.setLocationInfoData(),this.addLocationInfoToMap()}onMarkerRadiusChange(e){this.markerRadius=e,this.addMapBuilderMarkersToMap()}onLocationInfoConfiguratorToggle(){this.locationInfoConfiguratorVisible=!this.locationInfoConfiguratorVisible}onLocationSingleInfoPositionChange(e,i,a){this.updateSingleLocationInfoPosition(e.value.id,i,a),this.addLocationInfoToMap()}onLocationSingleInfoContentChange(e,i,a){this.updateSingleLocationInfoContent(e.value,i,a),this.addLocationInfoToMap()}goToSwitzerland(){this.map.fitBounds(this.bounds.switzerland),this.addLegendToMap(),this.addLocationInfoToMap()}goToEurope(){this.map.fitBounds(this.bounds.europe),this.addLegendToMap(),this.addLocationInfoToMap()}onDownloadMap(){if(this.mapLoaded){const e=this.map.getCanvas().toDataURL("image/png"),i=document.createElement("a");i.download="map",i.style.display="none",i.setAttribute("href",e),document.body.appendChild(i),i.click(),i.remove()}}}return t.\u0275fac=function(e){return new(e||t)(he(wr))},t.\u0275cmp=Ct({type:t,selectors:[["app-locations"]],viewQuery:function(e,i){if(1&e&&(En(AY,5),En(OY,5),En(LY,5),En(PY,5),En(FY,5),En(RY,5,hp),En(zY,5,X0)),2&e){let a;Xt(a=Kt())&&(i.mapDomElement=a.first),Xt(a=Kt())&&(i.bt3MapLegendCanvas=a.first),Xt(a=Kt())&&(i.pane=a.first),Xt(a=Kt())&&(i.paneContent=a.first),Xt(a=Kt())&&(i.groupItemList=a),Xt(a=Kt())&&(i.locationInfoPositionSelect=a),Xt(a=Kt())&&(i.locationInfoContentMultiSelect=a)}},inputs:{themeVariant:"themeVariant",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",showDistance:"showDistance",isMapBuilder:"isMapBuilder",backLabel:"backLabel",locationsJson:"locationsJson",userLocation:"userLocation"},outputs:{userLocated:"userLocated"},decls:16,vars:18,consts:[[3,"ngClass"],["class","bt3-locations__map-options",4,"ngIf"],["locationItem",""],["group",""],["multipleGroups",""],[1,"bt3-locations__pane",3,"scroll"],["pane",""],["class","bt3-locations__active-item",4,"ngIf"],[4,"ngIf"],[1,"bt3-locations__map-container"],[1,"bt3-locations__map"],["map",""],["id","bt3MapLegendCanvas","class","bt3-locations__canvas",3,"width","height",4,"ngIf"],[1,"bt3-locations__map-options"],[1,"bt3-form"],[1,"bt3-form__row"],[1,"bt3-locations__map-options-outer-col"],[1,"bt3-locations__map-options-col"],["label","L\xe4nder","fieldId","countries","fieldName","countries",3,"jsonOptions","selectionChange"],["label","Kraftswerks-Typ","fieldId","powerPlantTypes","fieldName","powerPlantTypes",3,"jsonOptions","selectionChange"],["label","Karten-Stil","fieldId","mapStyle","fieldName","mapStyle",3,"jsonOptions","selectionChange"],["label","Farbe L\xe4nder","fieldId","mapRegion","fieldName","mapRegion",3,"jsonOptions","selectionChange"],["label","Position Legende","fieldId","legendPosition","fieldName","legendPosition",3,"jsonOptions","selectionChange"],["label","Position Standort-Info","fieldId","locationInfoPosition","fieldName","locationInfoPosition",3,"jsonOptions","selectionChange"],["fieldName","locationInfoFontSizeScaleFactor","fieldId","locationInfoFontSizeScaleFactor","label","Skalierfaktor Standort-Info","type","number","required","required","dataValidations",'[[{"attrName":"min","options":"0","warnMessage":"Wert muss gr\xf6sser als 0 sein."},{"attrName":"max","options":"3","warnMessage":"Wert darf nicht gr\xf6sser als 3 sein."}]]',3,"value","onInputChanged"],["label","Inhalt Standort-Info","fieldId","locationInfoContent","fieldName","locationInfoContent",3,"jsonOptions","selectionChange"],["fieldName","markerRadius","fieldId","markerRadius","label","Marker-Radius","type","number","required","required","dataValidations",'[[{"attrName":"min","options":"0","warnMessage":"Wert muss gr\xf6sser als 0 sein."},{"attrName":"max","options":"100","warnMessage":"Wert darf nicht gr\xf6sser als 100 sein."}]]',3,"value","onInputChanged"],["class","bt3-locations__location-info-section",4,"ngIf"],[1,"bt3-locations__map-actions"],[1,"bt3-locations__map-actions-col"],[1,"bt3-locations__map-actions-items"],[1,"bt3-locations__map-actions-item"],["label","zur Schweiz","type","button","hasNoPadding","true",3,"buttonLevel","click"],["label","zu Europa","type","button","hasNoPadding","true",3,"buttonLevel","click"],["label","Download PNG","type","button","hasNoPadding","true",3,"buttonLevel","click"],[1,"bt3-locations__location-info-section"],[1,"bt3-locations__location-info-configurator",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"bt3-locations__location-info-actions"],["type","button","hasNoPadding","true",3,"label","buttonLevel","click"],["class","bt3-locations__location-info-heading",3,"ngClass","innerHTML",4,"ngIf"],[1,"bt3-locations__location-info-list"],["class","bt3-locations__location-info-list-item",4,"ngFor","ngForOf"],[1,"bt3-locations__location-info-heading",3,"ngClass","innerHTML"],[1,"bt3-locations__location-info-list-item"],[1,"bt3-locations__map-options-col","bt3-locations__map-options-col--label"],[1,"bt3-locations__location-info-item-label",3,"innerHTML"],["label","Position Standort-Info",3,"fieldId","fieldName","jsonOptions","selectionChange"],["locationInfoPositionSelect",""],["label","Inhalt Standort-Info",3,"fieldId","fieldName","jsonOptions","selectionChange"],["locationInfoContentMultiSelect",""],[3,"title","street","postCode","city","distance","isLast","index","group","showDistance","activate",4,"ngIf"],[3,"title","street","postCode","city","distance","isLast","index","group","showDistance","activate"],["class","bt3-locations__group",3,"scroll",4,"ngIf"],[1,"bt3-locations__group",3,"scroll"],["groupItemList",""],["class","bt3-locations__group-item",4,"ngFor","ngForOf"],[1,"bt3-locations__group-item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["headingLevel","2","gridOriented","false","noVerticalSpacings","true","class","bt3-locations__accordion",3,"title","isLast","toggled",4,"ngIf"],["headingLevel","2","gridOriented","false","noVerticalSpacings","true",1,"bt3-locations__accordion",3,"title","isLast","toggled"],[1,"bt3-locations__active-item"],["class","bt3-locations__back",3,"click",4,"ngIf"],[3,"isSingleLocation","location","showRouteLabel","showMoreLabel"],[1,"bt3-locations__back",3,"click"],["name","arrow-left"],["paneContent",""],["id","bt3MapLegendCanvas",1,"bt3-locations__canvas",3,"width","height"],["bt3MapLegendCanvas",""]],template:function(e,i){1&e&&(R(0,"div",0),Q(1,GY,32,13,"div",1),Q(2,YY,1,1,"ng-template",null,2,Hs),Q(4,KY,1,1,"ng-template",null,3,Hs),Q(6,nq,1,1,"ng-template",null,4,Hs),R(8,"div",5,6),Ze("scroll",function(){return i.checkVerticalScrollBehaviour()}),Q(10,aq,3,6,"div",7),Q(11,sq,3,5,"div",8),z(),R(12,"div",9),Se(13,"div",10,11),Q(15,lq,2,2,"canvas",12),z(),z()),2&e&&(Fd("bt3-locations bt3-theme bt3-theme--",i.themeVariant,""),B("ngClass",Wh(14,cq,!i.mapLoaded,i.isSingleLocation,i.isMapBuilderMode)),F(1),B("ngIf",i.isMapBuilderMode),F(7),Ru("min-height",i.paneMinHeight),Rn("bt3-locations__pane--scroll-shadow-top",i.paneScrollShadowTop)("bt3-locations__pane--scroll-shadow-bottom",i.paneScrollShadowBottom),F(2),B("ngIf",i.activeItem),F(1),B("ngIf",!i.activeItem),F(4),B("ngIf",i.isMapBuilderMode))},directives:[Pr,ri,Vf,X0,hp,g_,C0,ya,lY,ju,_5,IY],styles:["@charset \"UTF-8\";.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:#0000000d}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23000'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:#ffffff7f;margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\");background-color:#ffffff7f;width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:#0000000d}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:#000000bf;text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:#ffffffbf;font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box;white-space:nowrap}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:#0000000d}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px #00000059}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:\"\";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgb(0 0 0/70%);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body,h2,h3,p,ul,legend{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p,li{word-break:break-word}li>ul{margin-bottom:0}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}h2,h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--primary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--primary,.bt3-locations--is-map-builder .bt3-theme--primary.bt3-locations__map-options{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-locations--is-map-builder .bt3-locations__map-options,.bt3-locations--is-map-builder .bt3-theme--secondary .bt3-locations__map-options,.bt3-grid__container.bt3-theme--secondary,.bt3-locations--is-map-builder .bt3-theme--secondary.bt3-locations__map-options{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container,.bt3-locations--is-map-builder .bt3-locations__map-options{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}.bt3-locations{display:grid;grid-template-areas:\"map\" \"pane\";grid-template-columns:1fr;grid-column-gap:1.8rem;column-gap:1.8rem;position:relative;overflow:hidden}.bt3-theme--primary .bt3-locations,.bt3-locations.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-locations,.bt3-locations.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (max-width: 59.99em){.bt3-locations{--accordionTriggerHorizontalMargin: 1.8rem}}@media (min-width: 60em){.bt3-locations{grid-template-areas:\"pane map\";grid-template-columns:3fr 7fr;grid-column-gap:3.6rem;column-gap:3.6rem}}.bt3-locations__pane{grid-area:pane;overflow-y:auto;max-width:100%;overflow-x:visible}@media (min-width: 60em){.bt3-locations__pane{height:62.5rem;margin-right:-3.6rem;padding-right:3.6rem;max-width:none}}.bt3-locations__pane:before,.bt3-locations__pane:after{display:none;position:absolute;left:0;width:30%;content:\" \";height:6rem;opacity:0;z-index:1;pointer-events:none}@media (min-width: 60em){.bt3-locations__pane:before,.bt3-locations__pane:after{display:block}}.bt3-locations__pane:before{top:0;background:linear-gradient(to bottom,rgb(255,255,255) 0%,rgba(255,255,255,0) 50%)}.bt3-locations__pane:after{bottom:0;background:linear-gradient(to top,rgb(255,255,255) 0%,rgba(255,255,255,0) 50%)}.bt3-locations__pane--scroll-shadow-top:before{opacity:1}.bt3-locations__pane--scroll-shadow-bottom:after{opacity:1}.bt3-locations__map-container{position:relative;grid-area:map;height:50.8rem}@media (min-width: 37.5em){.bt3-locations__map-container{height:62.5rem}}.bt3-locations__map{position:absolute;top:0;right:0;bottom:0;left:0}.bt3-locations__group{list-style-type:none;display:flex;overflow:auto;scroll-snap-type:x mandatory;padding:1.8rem 0}@media (min-width: 60em){.bt3-locations__group{flex-direction:column;padding:0}}.bt3-locations__group-item{display:inline-block;scroll-snap-align:start;transition:opacity .3s ease-in-out}@media (max-width: 59.99em){.bt3-locations__group-item{opacity:.5;padding-left:1.8rem}}.bt3-locations__group-item--visible{opacity:1}.bt3-locations__active-item{padding-top:3rem;left:0;position:absolute;width:100%}@media (min-width: 60em){.bt3-locations__active-item{padding-top:0;width:30%}}.bt3-locations__back{color:var(--themeBase, var(--blue-500));padding:0;display:flex;margin:0 1.8rem 3rem;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.8rem;line-height:1.5}@media (min-width: 60em){.bt3-locations__back{font-size:2.1rem}}.bt3-locations__back span{margin-left:.6rem}@media (hover: hover){.bt3-locations__back:hover{--themeBase: var(--themeHover, var(--blue-700))}}@media (min-width: 60em){.bt3-locations__back{margin-left:0;margin-right:0}}.bt3-locations__marker{--themeBase: var(--themeLight, var(--blue-900));line-height:0;cursor:pointer}.bt3-locations__marker-icon{width:3.2rem;height:3.2rem}.mapboxgl-ctrl button:not(.mapboxgl-ctrl-attrib-button){border:none;background:var(--white);margin-top:1px;width:4.8rem;height:4.8rem}.mapboxgl-ctrl button:not(.mapboxgl-ctrl-attrib-button) .mapboxgl-ctrl-icon{background-size:2.4rem 2.4rem}.mapboxgl-ctrl button:not(.mapboxgl-ctrl-attrib-button).mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath id='locate' d='M24,11.25H21.712A9.75314,9.75314,0,0,0,12.75,2.288V0h-1.5V2.288A9.75314,9.75314,0,0,0,2.288,11.25H0v1.5H2.288a9.75314,9.75314,0,0,0,8.962,8.962V24h1.5V21.712a9.75314,9.75314,0,0,0,8.962-8.962H24Zm-12,9A8.25,8.25,0,1,1,20.25,12,8.25965,8.25965,0,0,1,12,20.25ZM14,12a2,2,0,1,1-2-2A2,2,0,0,1,14,12Z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button:not(.mapboxgl-ctrl-attrib-button).mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpolygon id='plus-small' points='12.75 11.25 12.75 3 11.25 3 11.25 11.25 3 11.25 3 12.75 11.25 12.75 11.25 21 12.75 21 12.75 12.75 21 12.75 21 11.25 12.75 11.25'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button:not(.mapboxgl-ctrl-attrib-button).mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Crect id='minus' x='3' y='11.25' width='18' height='1.5'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-group{border-radius:0;box-shadow:none;background:none}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-group:first-child{margin-bottom:0}.bt3-locations__accordion .bt3-locations__group{padding-bottom:3.8rem;padding-top:0}@media (min-width: 60em){.bt3-locations__accordion .bt3-locations__group{padding-bottom:0}}.bt3-locations__marker-plus{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path id='standort' fill='rgb(0, 72, 64)' d='M12.1,11.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5c0,1-0.6,1.9-1.5,2.3 C12.7,11.4,12.4,11.5,12.1,11.5z M12.1,2c-3.9,0-7,3.1-7,7c0,5.2,7,13,7,13s7-7.8,7-13C19.1,5.1,15.9,2,12.1,2z'/%3E%3C/svg%3E\");background-size:cover;width:3.2rem;height:3.2rem;cursor:pointer}.bt3-locations--hidden{visibility:hidden}.bt3-locations--single-location .bt3-locations__group{opacity:0}.bt3-locations--is-map-builder{grid-template-areas:\"filter\" \"map\";grid-template-columns:12fr}.bt3-locations--is-map-builder .bt3-locations__map-options{margin-bottom:3.8rem}@media (min-width: 60em){.bt3-locations--is-map-builder .bt3-locations__map-options{padding:0}}.bt3-locations--is-map-builder .bt3-locations__map-options-outer-col,.bt3-locations--is-map-builder .bt3-locations__map-actions-col{display:grid;grid-template-columns:repeat(12,1fr);grid-column:1/span 12;grid-row-gap:1.5rem;row-gap:1.5rem}@media (min-width: 37.5em){.bt3-locations--is-map-builder .bt3-locations__map-options-outer-col,.bt3-locations--is-map-builder .bt3-locations__map-actions-col{grid-column-gap:3.6rem;column-gap:3.6rem}}.bt3-locations--is-map-builder .bt3-locations__map-options-col{grid-column:auto/span 12;min-width:0}@media (min-width: 60em){.bt3-locations--is-map-builder .bt3-locations__map-options-col{grid-column:auto/span 4}}.bt3-locations--is-map-builder .bt3-locations__map-options-col--label{display:grid;align-items:center}.bt3-locations--is-map-builder .bt3-locations__map-actions{overflow:hidden;margin-top:3.8rem}.bt3-locations--is-map-builder .bt3-locations__map-actions-items{display:flex;flex-wrap:wrap;margin:-1.8rem;grid-column:1/span 12}.bt3-locations--is-map-builder .bt3-locations__map-actions-item{margin:1.8rem}.bt3-locations--is-map-builder .bt3-locations__pane{display:none}.bt3-locations--is-map-builder .bt3-locations__map-container{height:0;padding-bottom:62.5%}.bt3-locations--is-map-builder .bt3-locations__canvas{display:none}.bt3-locations--is-map-builder .bt3-locations__location-info-section{border-top:1px solid var(--black-400);border-bottom:1px solid var(--black-400);margin-top:3.8rem;padding:3.8rem 0}.bt3-locations--is-map-builder .bt3-locations__location-info-configurator{display:none;margin-bottom:3.8rem}.bt3-locations--is-map-builder .bt3-locations__location-info-configurator--visible{display:block}.bt3-locations--is-map-builder .bt3-locations__location-info-heading{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.7rem;line-height:1.5;margin:3.8rem 0 .9rem}@media (min-width: 60em){.bt3-locations--is-map-builder .bt3-locations__location-info-heading{font-size:3.6rem;line-height:1.2}}.bt3-locations--is-map-builder .bt3-locations__location-info-heading--first{margin-top:0}.bt3-locations--is-map-builder .bt3-locations__location-info-list{display:grid;grid-row-gap:1.5rem;row-gap:1.5rem;list-style:none}.bt3-locations--is-map-builder .bt3-locations__location-info-item-label{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-locations--is-map-builder .bt3-locations__location-info-item-label{font-size:1.8rem}}\n"],encapsulation:2,data:{animation:[kr("inOutPaneAnimation",[ra(":enter",[Ln({opacity:0,transform:"translateX(-100%)"}),va("500ms ease-in-out",Ln({opacity:1,transform:"translateX(0)"}))]),ra(":leave",[Ln({opacity:1,transform:"translateX(0)"}),va("400ms ease-in-out",Ln({opacity:0,transform:"translateX(-100%)"}))])]),kr("inOutActiveItemAnimation",[ra(":enter",[Ln({opacity:0,transform:"translateX(100%)"}),va("400ms ease-in-out",Ln({opacity:1,transform:"translateX(0)"}))]),ra(":leave",[Ln({opacity:1,transform:"translateX(0)"}),va("500ms ease-in-out",Ln({opacity:0,transform:"translateX(100%)"}))])])]}}),t})();class pq{constructor(n,e){this.delay=n,this.scheduler=e}call(n,e){return e.subscribe(new Dk(n,this.delay,this.scheduler))}}class Dk extends Sn{constructor(n,e,i){super(n),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const e=n.source,i=e.queue,a=n.scheduler,c=n.destination;for(;i.length>0&&i[0].time-a.now()<=0;)i.shift().notification.observe(c);if(i.length>0){const h=Math.max(0,i[0].time-a.now());this.schedule(n,h)}else this.unsubscribe(),e.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(Dk.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const e=this.scheduler,i=new fq(e.now()+this.delay,n);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(n){this.scheduleNotification(Al.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(Al.createComplete()),this.unsubscribe()}}class fq{constructor(n,e){this.time=n,this.notification=e}}const gq=["panel"];function _q(t,n){if(1&t&&(R(0,"div",0,1),aa(2),z()),2&t){const e=n.id,i=Z();B("id",i.id)("ngClass",i._classList),j("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const bq=["*"];let yq=0;class vq{constructor(n,e){this.source=n,this.option=e}}const xq=B0(class{}),x5=new Ve("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let Cq=(()=>{class t extends xq{constructor(e,i,a,c){super(),this._changeDetectorRef=e,this._elementRef=i,this._activeOptionChanges=Bt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Et,this.opened=new Et,this.closed=new Et,this.optionActivated=new Et,this._classList={},this.id="mat-autocomplete-"+yq++,this.inertGroups=(null==c?void 0:c.SAFARI)||!1,this._autoActiveFirstOption=!!a.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Xi(e)}set classList(e){this._classList=e&&e.length?gI(e).reduce((i,a)=>(i[a]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new MI(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new vq(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(he(wr),he(Hn),he(x5),he(cr))},t.\u0275dir=Tt({type:t,viewQuery:function(e,i){if(1&e&&(En(Sl,7),En(gq,5)),2&e){let a;Xt(a=Kt())&&(i.template=a.first),Xt(a=Kt())&&(i.panel=a.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[yn]}),t})(),kq=(()=>{class t extends Cq{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275cmp=Ct({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(e,i,a){if(1&e&&(No(a,wx,5),No(a,H0,5)),2&e){let c;Xt(c=Kt())&&(i.optionGroups=c),Xt(c=Kt())&&(i.options=c)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[gi([{provide:xx,useExisting:t}]),yn],ngContentSelectors:bq,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,i){1&e&&(hr(),Q(0,_q,3,4,"ng-template"))},directives:[Pr],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),t})();const w5=new Ve("mat-autocomplete-scroll-strategy"),Eq={provide:w5,deps:[dp],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Dq={provide:js,useExisting:Un(()=>C5),multi:!0};let Sq=(()=>{class t{constructor(e,i,a,c,h,b,w,E,L,$,K){this._element=e,this._overlay=i,this._viewContainerRef=a,this._zone=c,this._changeDetectorRef=h,this._dir=w,this._formField=E,this._document=L,this._viewportRuler=$,this._defaults=K,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Bt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new on,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=d5(()=>this.autocomplete&&this.autocomplete.options?On(...this.autocomplete.options.map(ie=>ie.onSelectionChange)):this._zone.onStable.pipe(nc(1),kf(()=>this.optionSelections))),this._scrollStrategy=b}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Xi(e)}ngAfterViewInit(){const e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return On(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Qh(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Qh(()=>this._overlayAttached)):Gd()).pipe(ji(e=>e instanceof KI?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return On($c(this._document,"click"),$c(this._document,"auxclick"),$c(this._document,"touchend")).pipe(Qh(e=>{const i=cp(e),a=this._formField?this._formField._elementRef.nativeElement:null,c=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&(!a||!a.contains(i))&&(!c||!c.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e.keyCode;if(27===i&&!Wd(e)&&e.preventDefault(),this.activeOption&&13===i&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const a=this.autocomplete._keyManager.activeItem,c=38===i||40===i;this.panelOpen||9===i?this.autocomplete._keyManager.onKeydown(e):c&&this._canOpen()&&this.openPanel(),(c||this.autocomplete._keyManager.activeItem!==a)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(e){let i=e.target,a=i.value;"number"===i.type&&(a=""==a?null:parseFloat(a)),this._previousValue!==a&&(this._previousValue=a,this._onChange(a),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return On(this._zone.onStable.pipe(nc(1)),this.autocomplete.options.changes.pipe(pI(()=>this._positionStrategy.reapplyLastPosition()),function(t,n=P0){const i=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-n.now():Math.abs(t);return a=>a.lift(new pq(i,n))}(0))).pipe(kf(()=>{const a=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),a!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),nc(1)).subscribe(a=>this._setValueAndClose(a))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,a=null!=i?i:"";this._formField?this._formField._control.value=a:this._element.nativeElement.value=a,this._previousValue=a}_setValueAndClose(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(i=>{i!==e&&i.selected&&i.deselect()})}_attachOverlay(){var e;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new G0(this.autocomplete.template,this._viewContainerRef,{id:null===(e=this._formField)||void 0===e?void 0:e.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(c=>{(27===c.keyCode&&!Wd(c)||38===c.keyCode&&Wd(c,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),c.stopPropagation(),c.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const a=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&a!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var e;return new Ix({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(e=this._defaults)||void 0===e?void 0:e.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],a=this._aboveClass,c=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:a},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:a}];let h;h="above"===this.position?c:"below"===this.position?i:[...i,...c],e.withPositions(h)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}_scrollToOption(e){const i=this.autocomplete,a=ok(e,i.options,i.optionGroups);if(0===e&&1===a)i._setScrollTop(0);else if(i.panel){const c=i.options.toArray()[e];if(c){const h=c._getHostElement(),b=JI(h.offsetTop,h.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(b)}}}}return t.\u0275fac=function(e){return new(e||t)(he(Hn),he(dp),he(xs),he(mi),he(wr),he(w5),he(Uc,8),he(m_,9),he(di,8),he(Rf),he(x5,8))},t.\u0275dir=Tt({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[Yi]}),t})(),C5=(()=>{class t extends Sq{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=oe(t)))(i||t)}}(),t.\u0275dir=Tt({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,i){1&e&&Ze("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(c){return i._handleInput(c)})("keydown",function(c){return i._handleKeydown(c)}),2&e&&j("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",!i.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[gi([Dq]),yn]}),t})(),Iq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[Eq],imports:[[Ax,Cx,_o,Ba],U0,Cx,_o]}),t})();function Aq(t,n){if(1&t){const e=Cn();R(0,"button",10),Ze("click",function(){return mt(e),Z().resetValue()}),Se(1,"bt3-icon",11),z()}2&t&&j("aria-label",Z().clearButtonAriaLabel)}function Oq(t,n){if(1&t&&(R(0,"mat-option",12),ot(1),z()),2&t){const e=n.$implicit;B("value",e.place_name),F(1),vn(" ",e.place_name," ")}}function Lq(t,n){if(1&t&&(R(0,"mat-hint"),R(1,"p"),ot(2),z(),z()),2&t){const e=Z();F(2),Kn(e.hint)}}const lm=["ch","de","fr","it","at"];let K0=(()=>{class t extends W0{constructor(e,i,a){super(e,i,a),this.fb=e,this.formService=i,this.elementRef=a,this.type="text",this.clearButtonAriaLabel="Reset",this.countryCodes=lm,this.locationSelected=new Et,this.autocompleteOptions=[],this.mapboxAccessToken=b5}set myLocationLabel(e){this.control.setValue(e)}ngOnInit(){var e;this.control.valueChanges.pipe(ZC(350)).subscribe({next:()=>{this.control.value.length>=2&&this.getAutoselectOptions(this.control.value)}}),null===(e=this.removeItemObs)||void 0===e||e.subscribe(i=>{if(i&&("all"===i.value||i.id===this.fieldId)){const a=this.formGroup.get("fieldValue");null==a||a.setValue("")}})}resetValue(){document.activeElement&&"BUTTON"===document.activeElement.tagName&&this.control.setValue(""),this.locationSelected.emit(null)}onOptionSelect(e){const i=this.autocompleteOptions.find(a=>a.place_name===e.option.value);i&&(i.place_name=i.place_name.replace(/\d{1,}(, )/g,"")),this.locationSelected.emit(i)}getAssumedZipCodeBounds(e){return{min:e.toString().padEnd(4,"0"),max:e.toString().padEnd(4,"9")}}getAutoselectOptions(e){var i;const a=(null===(i=document.documentElement.getAttribute("lang"))||void 0===i?void 0:i.slice(0,2))||"de",c=this.countryCodes.join(",");fetch(encodeURI(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?access_token=${this.mapboxAccessToken}&country=${c}&types=postcode,place&limit=10&language=${a}`)).then(h=>{200===h.status&&h.json().then(b=>{if(b.features){const w=b.features.map(E=>{let L=E.place_name;return E.context&&E.context.forEach($=>{-1!==$.id.indexOf("region")&&(L=L.replace(`, ${$.text}`,""))}),{place_name:L,geometry:{coordinates:E.geometry.coordinates}}});this.autocompleteOptions=w}})})}}return t.\u0275fac=function(e){return new(e||t)(he(uI),he(q0),he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-location-input"]],inputs:{type:"type",hint:"hint",clearButtonAriaLabel:"clearButtonAriaLabel",myLocationLabel:"myLocationLabel",removeItemObs:"removeItemObs",countryCodes:"countryCodes"},outputs:{locationSelected:"locationSelected"},features:[yn],decls:11,vars:16,consts:[[3,"formGroup"],["appearance","outline"],[3,"label","optionalLabel","isRequired"],["matInput","","formControlName","fieldValue",3,"type","id","name","matAutocomplete"],["mat-button","","matSuffix","","mat-icon-button","","class","bt3-search-reset__button",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"validations","control"],["mat-button","","matSuffix","","mat-icon-button","",1,"bt3-search-reset__button",3,"click"],["name","close","has-transitions","",1,"bt3-search-reset__icon"],[3,"value"]],template:function(e,i){if(1&e&&(R(0,"div",0),R(1,"mat-form-field",1),R(2,"mat-label"),Se(3,"app-form-element-label",2),z(),Se(4,"input",3),Q(5,Aq,2,1,"button",4),R(6,"mat-autocomplete",5,6),Ze("optionSelected",function(c){return i.onOptionSelect(c)}),Q(8,Oq,2,2,"mat-option",7),z(),Q(9,Lq,3,1,"mat-hint",8),z(),Se(10,"app-error-messages",9),z()),2&e){const a=Ft(7);B("formGroup",i.formGroup),F(1),Rn("bt3-input--has-hint",i.hint),F(2),B("label",i.label)("optionalLabel",i.optionalLabel)("isRequired",i.isRequired),F(1),B("type",i.type)("id",i.fieldId)("name",i.fieldName)("matAutocomplete",a),j("autofocus",i.isAutofocus||null),F(1),B("ngIf",i.control.value),F(3),B("ngForOf",i.autocompleteOptions),F(1),B("ngIf",i.hint),F(1),B("validations",i.validations)("control",i.control)}},directives:[Yu,ws,p_,rm,om,Lx,np,C5,$u,qd,ri,kq,ya,sm,sk,H0,Ff],encapsulation:2}),t})();const Pq={parse:{dateInput:"DD.MM.YYYY"},display:{dateInput:"DD.MM.YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"DD.MM.YYYY",monthYearA11yLabel:"MMMM YYYY"}};let b_=(()=>{class t{constructor(e,i){this.injector=e,this.formService=i,[["bt3-text-input",g_],["bt3-date-picker",r$],["bt3-form-style-wrapper",Vf],["bt3-textarea",l$],["bt3-checkboxes",y$],["bt3-radiobuttons",k$],["bt3-form",T$],["bt3-select",hp],["bt3-multiselect",X0],["bt3-file-upload",oY],["bt3-location-input",K0]].forEach(([c,h])=>customElements.define(c,Mr(h,{injector:e})))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn),Ne(q0))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[q0,{provide:bx,useValue:"de-CH"},{provide:Gc,useValue:Pq},{provide:mr,useClass:s5}],imports:[[Ba,Sf,D7,YC,HH,RU,kx,kG,FG,Ax,l5,$G,$$,Iq]]}),t})(),J0=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-loader",Mr(Qm,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sf]]}),t})(),Q0=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-button-link",Mr(C0,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sf]]}),t})(),Fq=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-blog",Mr(mB,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,b_,Sf,L9,YC,Q0,J0]]}),t})();var k5=Yn(217);const Rq=["scroll"];function zq(t,n){if(1&t){const e=Cn();R(0,"li",4),R(1,"a",5),Ze("click",function(a){const h=mt(e).$implicit;return Z().onClick(a,h.flyoutId)}),Se(2,"bt3-icon",6),R(3,"div"),ot(4),z(),z(),z()}if(2&t){const e=n.$implicit;F(1),Rn("bt3-molecule-breadcrumb__link--active",e.isActive),B("href",e.url,en),j("aria-current",e.isActive?"page":null),F(3),Kn(e.label)}}let Nq=(()=>{class t{constructor(){this.links=[],this.isInitialized=!1,this.hasScrolled=!1,this.removeEventListener=()=>{}}set i18nAriaLabel(e){this.ariaLabel=e.trim()}get i18nAriaLabel(){return this.ariaLabel||""}onResize(){this.isInitialized&&(this.isInitialized=!1),this.resizeTimeoutId&&clearTimeout(this.resizeTimeoutId),this.resizeTimeoutId=window.setTimeout(()=>{this.ngAfterViewInit()},300)}onClick(e,i){!i||(function(t){const n=new CustomEvent("bt3:open-flyout",{detail:{flyoutId:t}});document.dispatchEvent(n)}(i),e.preventDefault())}ngOnInit(){this.i18nAriaLabel||console.error("Missing `i18n-aria-label` attribute on bt3-breadcrumb."),this.links=JSON.parse(this.dataLinks||"[]")}ngAfterViewInit(){var e;const i=null===(e=this.scroll)||void 0===e?void 0:e.nativeElement;i&&requestAnimationFrame(()=>{this.inlineStyle=`--scrollbar-size: ${(0,k5.Z)()}px;`,i.scrollTo(1e3,0),requestAnimationFrame(()=>{0===i.scrollLeft&&(this.hasScrolled=!0);const a=i.addEventListener("scroll",()=>{this.removeEventListener()});this.removeEventListener=()=>{this.hasScrolled=!0,i.removeEventListener("scroll",a),this.removeEventListener=()=>{}}})}),this.isInitialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-breadcrumb"]],viewQuery:function(e,i){if(1&e&&En(Rq,5),2&e){let a;Xt(a=Kt())&&(i.scroll=a.first)}},inputs:{dataLinks:"dataLinks",i18nAriaLabel:"i18nAriaLabel"},decls:4,vars:8,consts:[[1,"bt3-molecule-breadcrumb__wrapper",3,"resize"],[1,"bt3-molecule-breadcrumb"],["scroll",""],["class","bt3-molecule-breadcrumb__item",4,"ngFor","ngForOf"],[1,"bt3-molecule-breadcrumb__item"],[1,"bt3-molecule-breadcrumb__link",3,"href","click"],["name","caret-right",1,"bt3-molecule-breadcrumb__link-icon"]],template:function(e,i){1&e&&(R(0,"nav",0),Ze("resize",function(){return i.onResize()},!1,lg),R(1,"ol",1,2),Q(3,zq,5,5,"li",3),z(),z()),2&e&&(il(i.inlineStyle),Rn("bt3-molecule-breadcrumb__wrapper--initialized",i.isInitialized)("bt3-molecule-breadcrumb__wrapper--has-scrolled",i.hasScrolled),j("aria-label",i.ariaLabel),F(3),B("ngForOf",i.links))},directives:[ya],styles:['@charset "UTF-8";.bt3-grid__mobile-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}.bt3-grid__mobile-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__tablet-clear-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:0}}@media (min-width: 37.5em){.bt3-grid__tablet-clear-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:0}}@media (min-width: 60em){.bt3-grid__mobile-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__tablet-clear-breakout-right,.bt3-molecule-breadcrumb__wrapper{margin-right:0}}@media (min-width: 60em){.bt3-grid__tablet-clear-breakout-left,.bt3-molecule-breadcrumb__wrapper{margin-left:0}}.bt3-molecule-breadcrumb__wrapper{transition:all .3s ease-in-out}@media (max-width: 37.49em){.bt3-molecule-breadcrumb__wrapper{z-index:0;transition:all .3s ease-in-out;position:relative;opacity:0}.bt3-molecule-breadcrumb__wrapper.bt3-molecule-breadcrumb__wrapper--initialized{opacity:1}.bt3-molecule-breadcrumb__wrapper:before,.bt3-molecule-breadcrumb__wrapper:after{content:" ";position:absolute;width:1.8rem;top:0;bottom:var(--scrollbar-size);z-index:1;background:linear-gradient(90deg,var(--white) 0%,rgba(255,255,255,.8) 50%,rgba(255,255,255,0) 100%)}.bt3-molecule-breadcrumb__wrapper:before{left:0;transition:all .3s ease-in-out;width:5.4rem}.bt3-molecule-breadcrumb__wrapper.bt3-molecule-breadcrumb__wrapper--has-scrolled:before{width:1.8rem}.bt3-molecule-breadcrumb__wrapper:after{right:0;transform:rotate(180deg)}}.bt3-molecule-breadcrumb{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;display:flex;white-space:nowrap;overflow-x:auto;overflow-y:hidden;padding:0;margin:0}@media (min-width: 60em){.bt3-molecule-breadcrumb{font-size:1.8rem}}@media (min-width: 37.5em){.bt3-molecule-breadcrumb{overflow:visible;flex-wrap:wrap}}.bt3-molecule-breadcrumb__item{display:block;margin-bottom:.9rem;margin-right:1.5rem;flex-shrink:0;position:relative}.bt3-molecule-breadcrumb__item:not(:first-of-type){padding-left:2.1rem}@media (max-width: 37.49em){.bt3-molecule-breadcrumb__item:first-of-type{margin-left:1.8rem}.bt3-molecule-breadcrumb__item:last-of-type{padding-right:1.8rem}}.bt3-molecule-breadcrumb__link{text-decoration:none;color:var(--black-500);--themeBase: var(--black-300);display:flex;align-items:center}@media (hover: hover){.bt3-molecule-breadcrumb__link:hover{color:var(--black-900)}}.bt3-molecule-breadcrumb__link--active{color:var(--black-900);--themeBase: var(--black-900)}.bt3-molecule-breadcrumb__link-icon{transform:translate(-.9rem,-.05rem);position:absolute;left:0}.bt3-molecule-breadcrumb__item:first-of-type .bt3-molecule-breadcrumb__link-icon{display:none}\n'],encapsulation:3}),t})(),M5=(()=>{class t{constructor(e,i){this.injector=e,this.accordionService=i,customElements.define("bt3-accordion",Mr(_5,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn),Ne(kk))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[kk],imports:[[Ba]]}),t})(),Sk=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-locations",Mr(Ek,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[],imports:[[Ba,M5,b_,Q0]]}),t})();function Vq(t,n){if(1&t){const e=Cn();R(0,"div",4),Se(1,"img",5),R(2,"button",6),Ze("click",function(){return mt(e),Z().playVideo()}),Se(3,"bt3-icon",7),z(),z()}if(2&t){const e=Z();Rn("bt3-video__placeholder-wrapper--is-video-played",e.isVideoPlayed),F(1),zi("src",e.videoPlaceholderImage,en),B("alt",e.videoPlaceholderImageAltText),F(1),j("aria-label",e.videoPlayButtonAriaLabel)}}function Hq(t,n){if(1&t&&(zt(0),Se(1,"iframe",8),Nt()),2&t){const e=Z();F(1),Ge("allow","accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",e.isVideoAutoPlay?" autoplay;":"",""),B("src",e.youTubeUrl,Cu)}}let jq=(()=>{class t{constructor(e){this.sanitizationService=e,this.videoPlaceholderImage="",this.videoPlaceholderImageAltText="",this.videoPlayButtonAriaLabel="",this.videoId="",this.isVideoAutoPlay=!0,this.isVideoPlayed=!1,this.youTubeUrl="",this.youtubeBaseUrl="youtube-nocookie.com"}set videoAutoPlay(e){this.isVideoAutoPlay="true"===e||"1"===e}ngOnInit(){var e,i;(null===(i=null===(e=window.Cookiebot)||void 0===e?void 0:e.consent)||void 0===i?void 0:i.marketing)&&(this.youtubeBaseUrl="youtube.com"),this.videoId&&(this.youTubeUrl=this.sanitizationService.bypassSecurityTrustResourceUrl(`https://www.${this.youtubeBaseUrl}/embed/${this.videoId}?autoplay=${this.isVideoAutoPlay?1:0}&rel=0&modestbranding=1&enablejsapi=1`))}playVideo(){this.isVideoPlayed=!0}}return t.\u0275fac=function(e){return new(e||t)(he(Xm))},t.\u0275cmp=Ct({type:t,selectors:[["app-video"]],inputs:{videoPlaceholderImage:"videoPlaceholderImage",videoPlaceholderImageAltText:"videoPlaceholderImageAltText",videoPlayButtonAriaLabel:"videoPlayButtonAriaLabel",videoId:"videoId",videoAutoPlay:"videoAutoPlay"},decls:5,vars:2,consts:[[1,"bt3-video"],[1,"bt3-video__content"],["class","bt3-video__placeholder-wrapper",3,"bt3-video__placeholder-wrapper--is-video-played",4,"ngIf"],[4,"ngIf"],[1,"bt3-video__placeholder-wrapper"],["loading","lazy",1,"bt3-video__placeholder-img",3,"src","alt"],["type","button",1,"bt3-video__play",3,"click"],["name","play",1,"bt3-video__play-icon"],["frameborder","0","allowfullscreen","",1,"bt3-video__iframe",3,"src"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),zt(2),Q(3,Vq,4,5,"div",2),Nt(),Q(4,Hq,2,2,"ng-container",3),z(),z()),2&e&&(F(3),B("ngIf",null==i.videoPlaceholderImage?null:i.videoPlaceholderImage.length),F(1),B("ngIf",i.isVideoPlayed||!i.videoPlaceholderImage))},directives:[ri],styles:['@charset "UTF-8";.bt3-grid__mobile-breakout-right,.bt3-video{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-right,.bt3-video{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}.bt3-grid__mobile-breakout-left,.bt3-video{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-left,.bt3-video{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-right,.bt3-video{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-right,.bt3-video{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-left,.bt3-video{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-left,.bt3-video{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media print{*,*:before,*:after{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}img{page-break-inside:avoid}img{max-width:100%!important}}@media (min-width: 37.5em){.bt3-video{margin:0}}.bt3-video__content{position:relative;padding-bottom:56.25%;height:0}.bt3-video__placeholder-wrapper{position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden}@media (hover: hover){.bt3-video__placeholder-wrapper:hover .bt3-video__placeholder-img{transform:scale(1.02)}}.bt3-video__placeholder-wrapper--is-video-played{position:absolute}.bt3-video__placeholder-img{object-fit:cover;display:block;height:100%;width:100%;transition:all .4s ease-in-out}.bt3-video__play{position:absolute;background:transparent;border:none;cursor:pointer;top:0;left:0;width:100%;height:100%;outline:none}.bt3-video__play-icon{width:6rem;height:4.2rem}@media (min-width: 60em){.bt3-video__play-icon{width:9.4rem;height:6.6rem}}.bt3-video__iframe{position:absolute;top:0;left:0;width:100%;height:100%}\n'],encapsulation:2}),t})();const Uq={alert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.742 19.654L13.667 2.449a1.912 1.912 0 00-.705-.695 1.949 1.949 0 00-1.924 0 1.912 1.912 0 00-.705.695L.258 19.654a1.875 1.875 0 000 1.897 1.912 1.912 0 00.705.695 1.946 1.946 0 00.962.254h20.148a1.946 1.946 0 00.963-.254 1.911 1.911 0 00.705-.694 1.875 1.875 0 00.001-1.898zm-11.742 0c-1.925 0-1.925 0-1.925-1.424s0-1.424 1.925-1.424 1.925 0 1.925 1.424c0 1.423 0 1.424-1.925 1.424zM13.925 9.53a27.523 27.523 0 01-.641 5.379h-2.566a30.743 30.743 0 01-.641-5.379V8.266h3.848z"/></svg>',"arrow-bold":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.677 22l9.386-10-9.386-10-.623.658 3.92 7.883-.26.145-2.344-3.358H2.063v9.342h12.311l-2.322 4.67z"/></svg>',"arrow-down":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18.925l-.788-1.041-3.574 2.914V1h-1.275v19.798l-3.575-2.914L7 18.925l4.606 3.753L12 23l.394-.322z"/></svg>',"arrow-left":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.321 11.606L1 12l.321.394L5.074 17l1.041-.788-2.914-3.575H23v-1.275H3.201l2.914-3.575L5.074 7z"/></svg>',"arrow-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.925 17l3.753-4.606L23 12l-.322-.394L18.925 7l-1.041.788 2.914 3.574H1v1.275h19.798l-2.914 3.575z"/></svg>',back:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 0H0v24h24zM8.092 14.77l-1.687-2.148h11.467v-.766H6.405l1.688-2.148-.603-.473-2.174 2.767-.186.237.186.236 2.174 2.768z" style="isolation:isolate"/></svg>',battery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.051 3.538C14.051 2 14.051 2 12 2 9.977 2 9.949 2 9.949 3.538H5.846V22h12.308V3.538zm2.051 6.154h-7.18l-.684 9.231h-.34V6.615c0-1.538 0-1.538 2.05-1.538h4.103c2.051 0 2.051 0 2.051 1.538v3.077z"/></svg>',"bkw-logo-nocolor":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 43"><path d="M42.734 0h-42.9v43h42.9z" fill="#ff6418"/><path d="M87.475 21.493l.005-.272a10.674 10.674 0 004.58-9.059C92.06 3.68 85.771 0 77.113 0H56.593v43H78c8.658 0 15.064-3.83 15.064-12.166a10.113 10.113 0 00-5.589-9.34zM67.8 8.29h8.033c3.316 0 5.553 1.158 5.553 4.426 0 3.139-2.058 4.741-5.553 4.741H67.8zm8.43 26.458H67.8v-9.33h8.43c3.378 0 5.584 1.157 5.584 4.614 0 3.008-2.025 4.716-5.584 4.716zM124.516 0l-12.565 16.94h-.582V0h-11.205v42.998h11.205v-17.43h.582l14.823 17.43h14.145l-19.794-22.24L137.57 0zm66.324 42.998L199.833.002h-11.365l-5.251 30.103h-.452L176.192.002h-11.52l-6.573 30.103h-.455L152.387.002 140.96 0l8.888 42.998h13.886l6.458-28.853h.456l6.365 28.853z"/></svg>',"bkw-logo":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 43"><path d="M42.734 0h-42.9v43h42.9z" fill="#ff6418"/><path d="M87.475 21.493l.005-.272a10.674 10.674 0 004.58-9.059C92.06 3.68 85.771 0 77.113 0H56.593v43H78c8.658 0 15.064-3.83 15.064-12.166a10.113 10.113 0 00-5.589-9.34zM67.8 8.29h8.033c3.316 0 5.553 1.158 5.553 4.426 0 3.139-2.058 4.741-5.553 4.741H67.8zm8.43 26.458H67.8v-9.33h8.43c3.378 0 5.584 1.157 5.584 4.614 0 3.008-2.025 4.716-5.584 4.716zM124.516 0l-12.565 16.94h-.582V0h-11.205v42.998h11.205v-17.43h.582l14.823 17.43h14.145l-19.794-22.24L137.57 0zm66.324 42.998L199.833.002h-11.365l-5.251 30.103h-.452L176.192.002h-11.52l-6.573 30.103h-.455L152.387.002 140.96 0l8.888 42.998h13.886l6.458-28.853h.456l6.365 28.853z" fill="#121212"/></svg>',"bkw-star":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path d="M15 5.94l-.105-.323h-5.52L7.67.367h-.34L5.624 5.616H.105L0 5.94l4.465 3.244-1.706 5.249.275.2 4.465-3.244 4.465 3.244.275-.2-1.706-5.249 4.465-3.244z"/></svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.857 5V3.584c0-1.584 0-1.584-1.08-1.584-1.063 0-1.063 0-1.063 1.584V5H9.286V3.584C9.286 2 9.286 2 8.206 2 7.143 2 7.143 2 7.143 3.584v4.75h-.268L6.339 5H5v17h15V5zM7 20v-9h11v9zm3.357-1.928c0 .803 0 .803-1.071.803s-1.072 0-1.072-.803c0-.804 0-.804 1.072-.804s1.071 0 1.071.804zm0-2.411c0 .803 0 .803-1.071.803s-1.072 0-1.072-.803c0-.804 0-.804 1.072-.804s1.071 0 1.071.804zm3.22 2.41c0 .804 0 .804-1.072.804-1.071 0-1.071 0-1.071-.803 0-.804 0-.804 1.071-.804 1.072 0 1.072 0 1.072.804zm0-2.41c0 .803 0 .803-1.072.803-1.071 0-1.071 0-1.071-.803 0-.804 0-.804 1.071-.804 1.072 0 1.072 0 1.072.804zm0-2.41c0 .803 0 .803-1.072.803-1.071 0-1.071 0-1.071-.804s0-.804 1.071-.804c1.072 0 1.072 0 1.072.804zm3.209 2.41c0 .803 0 .803-1.072.803-1.071 0-1.071 0-1.071-.803 0-.804 0-.804 1.071-.804 1.072 0 1.072 0 1.072.804zm0-2.41c0 .803 0 .803-1.072.803-1.071 0-1.071 0-1.071-.804s0-.804 1.071-.804c1.072 0 1.072 0 1.072.804z"/></svg>',"caret-double":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11.207L11.733 5l7.734 6.207" fill="none" stroke-width="3"/><path d="M4 20l8-6.207L20 20"/></svg>',"caret-down":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 10.387l.944-1.22L12 13.193l5.056-4.026.944 1.22-6 4.78-6-4.78z"/></svg>',"caret-large-left":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><path d="M27.427 41.221l2.385-1.821L15.773 21 29.812 2.6 27.427.779 12 21l15.427 20.221z"/></svg>',"caret-large-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><path d="M14.573 41.221L12.188 39.4 26.227 21 12.188 2.6 14.573.779 30 21 14.573 41.221z"/></svg>',"caret-left":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.78 6l1.22.944L10.973 12 15 17.056 13.78 18 9 12l4.78-6z"/></svg>',"caret-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.22 18L9 17.056 13.027 12 9 6.944 10.22 6 15 12l-4.78 6z"/></svg>',"caret-up":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 13.947l-.944 1.22L12 11.14l-5.056 4.027L6 13.947l6-4.78 6 4.78z"/></svg>',"check-mark":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M5.904 16.072L17.25 2.985l-1.058-1.057L5.904 11.31l-3.902-2.9L.75 9.714z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.164 1.484l-1.09 1.032 18.887 20 1.09-1.032zm17.797 0l-18.887 20 1.09 1.032 18.887-20z"/></svg>',continue:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24.063 0h-24v24h24zm-8.604 9.198l1.688 2.147H5.68v.766h11.467l-1.688 2.148.603.473 2.174-2.767.186-.237-.186-.236-2.174-2.768z"/></svg>',"curve-chart-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.666 2H5.333c-2.005 0-2.667.495-2.667 2v16c0 1.495.656 2 2.667 2h13.333c1.995 0 2.667-.505 2.667-2V4c0-1.505-.672-2-2.667-2zm-.402 8.58h-.203l-.34-1.083-.269.294-2.31 2.621-2.216-.42-.032.163 2.373.528 2.066-2.06V17H6.666v-5l2.667.502 2.666-3.013 2.594.497 1.695-1.951-1.084-.333V7.5h3.06v3.08z"/></svg>',"curve-chart":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9.119v-5.31h-5.277l.001.348 1.87.574-2.923 3.365-4.474-.858L6.6 12.434 2 11.57v8.622h18.394V9.194l-3.562 3.552-4.092-.91.055-.281 3.823.725L20.6 7.758l.462-.505.588 1.866z"/></svg>',delete:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.357 5.75h-1.343l-.002-.8c0-2.41.006-2.41-3.298-2.41h-1.428c-3.3 0-3.3 0-3.3 2.406v.804H6.642C4.5 5.75 4.5 5.75 4.5 7.355v.804h1.071v.002H12v.267l-6.362.53L6.643 21h10.714L18.43 8.16H19.5v-.838c0-1.572 0-1.572-2.143-1.572zM9.066 18.58c-.462.033-.462.033-.505-.582l-.475-6.775c-.043-.616-.043-.616.42-.648.462-.033.462-.033.505.583l.474 6.775c.043.616.043.616-.419.648zm3.397-.605c0 .617 0 .617-.463.617s-.463 0-.463-.617v-6.792c0-.617 0-.617.463-.617s.463 0 .463.617zM14.411 5.75H9.589V4.146h4.822zm1.503 5.473l-.475 6.775c-.043.615-.043.615-.505.583-.462-.032-.462-.032-.42-.648l.475-6.775c.043-.615.043-.615.506-.583s.462.032.419.648z"/></svg>',document:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.888 10.353a1.025 1.025 0 00-.135-.212 1.35 1.35 0 00-.392-.305 2.578 2.578 0 00-.457-.19 5.981 5.981 0 00-.967-.207 12.948 12.948 0 00-.984-.096 30.458 30.458 0 00-1.976-.043H12V4.8h.292l.103 2.25.052 1.125.007.14.003.07.002.025.001.016.013.129.026.231.223-.024.101-.012.048-.006.118-.006.988-.048.496-.024c.168-.007.335-.015.504-.02.337-.01.676-.012 1.018-.008.343.005.689.02 1.042.053a6.497 6.497 0 011.098.188 3.247 3.247 0 01.555.203A5.657 5.657 0 0018 8.4l-5-4.5C12 3 12 3 9.667 3H5v18h14V10.978a2.124 2.124 0 00-.034-.384 1.156 1.156 0 00-.078-.24z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.06 18.63l-10-9.24.66-.62 7.88 3.86.15-.25-3.36-2.31V2h9.34v9.06l4.67-2.29.66.62z"/></svg>',employee:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><path d="M12.996 39l1.505-7.495h.5V39h15.992L31 20.99c0-2.999-2.015-4.483-6.013-4.483H16.99c-3.999 0-5.983 1.484-5.983 4.483L11 39zM15 39zM26.038 9.02c.012 4.46-1.668 5.975-5 5.975s-4.984-1.515-4.997-5.975C16.03 4.483 17.692 3 21.04 3c3.332 0 4.986 1.483 4.999 6.02z"/></svg>',"employees-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.666 2H5.333c-2.005 0-2.667.495-2.667 2v16c0 1.495.656 2 2.667 2h13.333c1.995 0 2.667-.505 2.667-2V4c0-1.505-.672-2-2.667-2zm-4.595 6.79c0-.126 0-.247.143-.261h1.119v-.167l-.888-.307c.16-.373.434-.574.823-.655v-.048c0-.352 0-.352.47-.352.469 0 .469 0 .469.352V7.4c.53.11.846.442.954 1.13h.095c.143.014.143.135.143.26v.329h-.425c-.033.36.033.51.317.774 0 0-.135.16-.554.237-.16.559-.485.74-.994.74s-.83-.18-.99-.738c-.431-.076-.57-.24-.57-.24.285-.262.351-.412.318-.773h-.43v-.329zm-2.088-1.346c.695 0 1.04.31 1.042 1.255.003.93-.347 1.245-1.042 1.245-.694 0-1.039-.315-1.041-1.245-.003-.945.344-1.255 1.041-1.255zm-3.675.636c.774 0 1.159.345 1.162 1.4.003 1.036-.388 1.388-1.162 1.388-.775 0-1.159-.352-1.162-1.388-.003-1.055.384-1.4 1.162-1.4zm9.653 8.365h-4.647v-4.008h-.222l-.444 2.507h-2.001v1.5H5.998l.002-4.185c0-.697.461-1.042 1.39-1.042h.022c.001 1.282.001 1.783.56 3.058h.167s-.268-1.018-.268-1.697c0-.34.21-.68.21-.68s.033-.182-.21-.424l.15-.257h.598l.151.257c-.243.242-.21.425-.21.425s.21.34.21.679c0 .679-.268 1.697-.268 1.697h.166C9.23 13 9.23 12.5 9.23 11.217h.02c.28 0 .518.031.714.094.014-.58.414-.867 1.207-.867h1.615c.793 0 1.2.287 1.214.865.194-.061.43-.092.707-.092h1.858c.93 0 1.398.345 1.398 1.042z"/></svg>',employees:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.917 8.25c-.004-1.762.642-2.339 1.942-2.339 1.295 0 1.938.577 1.943 2.34.004 1.732-.649 2.321-1.943 2.321-1.295 0-1.937-.589-1.942-2.321zm15.747 2.905h-3.108c-.464 0-.857.052-1.182.155-.024-.967-.703-1.446-2.028-1.446h-2.7c-1.326 0-1.996.48-2.018 1.449-.328-.105-.725-.158-1.193-.158H7.4c0 2.144 0 2.98-.937 5.113h-.279s.449-1.703.449-2.838c0-.568-.353-1.135-.353-1.135s-.054-.305.353-.71l-.252-.43h-1l-.252.43c.407.405.353.71.353.71s-.353.567-.353 1.135c0 1.135.45 2.838.45 2.838H5.3c-.934-2.132-.934-2.97-.937-5.113h-.036c-1.553 0-2.324.577-2.324 1.742L2 19.894h7.768l.001-2.508h3.345l.743-4.192h.372v6.7h7.768L22 12.897c0-1.165-.783-1.742-2.336-1.742zm-7.66-2.127c1.16 0 1.746-.528 1.742-2.082-.005-1.58-.581-2.098-1.742-2.098-1.166 0-1.746.517-1.741 2.098.004 1.554.58 2.082 1.74 2.082zm3.678-.088s.23.272.95.4c.269.931.806 1.232 1.656 1.232.851 0 1.395-.301 1.662-1.236.701-.13.927-.396.927-.396-.476-.44-.586-.69-.53-1.295h.71v-.548c0-.21 0-.412-.239-.436h-.159c-.18-1.149-.71-1.705-1.595-1.888v-.079c0-.589 0-.589-.785-.589s-.785 0-.785.59v.079c-.65.135-1.108.471-1.375 1.094l1.484.514v.28h-1.87c-.239.023-.239.225-.239.435v.548h.718c.056.604-.054.855-.53 1.295z"/></svg>',"energy-time":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.436 10.54l3.451-6.471h-6.053a4.138 4.138 0 10-4.414 6.123c.3.06.606.09.912.082a4.18 4.18 0 00.908-.117 4.129 4.129 0 001.628-.812c.474-.387.86-.88 1.124-1.432a4.164 4.164 0 00.4-1.775h.23a4.443 4.443 0 01-.319 1.924 4.573 4.573 0 01-1.144 1.64 4.638 4.638 0 01-1.783 1.013 4.779 4.779 0 01-1.033.191 4.7 4.7 0 01-1.045-.036l-.445 2.176 1.992-.012L7.853 22l11.034-11.034h-3.202c-.27 0-.333-.261-.249-.427zM11.14 4.871l-1.898.302v.967L7.568 4.449l.163-.164 1.511.889V3.37a2.759 2.759 0 011.946 4.714L9.611 6.508l1.647-1.456z"/></svg>',energy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.684 8.938L19.063 1H7.396L5.063 12.015h7.05v.273l-4.717.558L5.063 23l14-13.538H15a.345.345 0 01-.316-.524z"/></svg>',"eye-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.333 2c-1.995 0-2.667.495-2.667 2v16c0 1.495.672 2 2.667 2h13.333c2.01 0 2.667-.505 2.667-2V4c0-1.505-.662-2-2.667-2zm6.666 5.516c2.8 0 5.26 1.788 6.667 4.487a8.711 8.711 0 01-.483.737c-1.45 1.985-3.68 3.257-6.184 3.257-2.503 0-4.734-1.272-6.183-3.257a8.696 8.696 0 01-.483-.737C6.74 9.304 9.2 7.516 11.999 7.516zm-1.333 2.575a8.587 8.587 0 00-1.487.365 7.748 7.748 0 00-2.66 1.55 7.226 7.226 0 002.146 2.042 6.39 6.39 0 003.334.949 6.39 6.39 0 003.335-.95 7.226 7.226 0 002.145-2.042 7.748 7.748 0 00-2.66-1.549 2.996 2.996 0 01.185 1.04A3.005 3.005 0 119.036 11a5.74 5.74 0 011.63-.747zm1.333.4a1.005 1.005 0 00-1.005 1.004A1.005 1.005 0 0012 12.5a1.005 1.005 0 001.005-1.005 1.005 1.005 0 00-1.005-1.005z"/></svg>',eye:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.36c3.755 0 7.102-1.908 9.276-4.885A13.061 13.061 0 0022 12.369c-2.112-4.047-5.801-6.73-10-6.73S4.112 8.322 2 12.37a13.073 13.073 0 00.724 1.106C4.898 16.452 8.245 18.36 12 18.36zm0-5.245a1.507 1.507 0 110-3.015 1.507 1.507 0 010 3.015zm-4.23-3.066A12.88 12.88 0 0110 9.502v.242a8.607 8.607 0 00-2.445 1.12 4.53 4.53 0 00-.062.744 4.507 4.507 0 009.014 0 4.498 4.498 0 00-.277-1.559 11.621 11.621 0 013.989 2.324 10.84 10.84 0 01-3.217 3.063A9.586 9.586 0 0112 16.86c-1.75 0-3.48-.492-5.002-1.424a10.839 10.839 0 01-3.217-3.063c1.112-1.001 2.469-1.8 3.989-2.324z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.193 20v-7.298h2.358l.353-2.845h-2.711V8.041c0-.823.22-1.384 1.357-1.384L15 6.656V4.112A18.69 18.69 0 0012.887 4c-2.09 0-3.522 1.325-3.522 3.76v2.097H7v2.845h2.365V20h2.828z"/></svg>',hand:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 84 102"><path d="M79.349 37.557c-3.428-.694-5.995 3.297-8.096 9.52-.992 2.937-1.979 5.837-2.77 8.152l-9.08 9.314-1.104-.91 8.033-12.802-8.65-17.68L43.737 4.598a4.519 4.519 0 00-6.035-2.102 4.952 4.952 0 00-2.316 6.188c2.864 7.474 12.257 31.435 12.257 31.435l-1.266.626S29.342 5.993 27.58 2.393C26.434.052 23.29-.6 20.905.565a5.134 5.134 0 00-2.702 6.416c4.04 9.367 17.315 39.074 17.315 39.074l-1.275.624s-13.477-25.05-17.716-32.98a5.508 5.508 0 00-7.212-2.37 5.272 5.272 0 00-2.384 7.064L25.26 55.86l-1.274.624s-11.709-18.753-15.24-24.68a4.855 4.855 0 00-6.236-1.981 4.519 4.519 0 00-2.044 6.054l19.292 39.431c2.043 4.176 9.818 15.195 11.327 17.467 4.798 7.22 13.361 11.125 21.176 7.302l19.26-9.406c5.106-2.498 6.249-6.105 6.99-10.33 1.775-10.119 3.885-21.334 4.605-27.99.968-8.942-.02-14.035-3.768-14.794z"/></svg>',"home-energy":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 10.889l-9.992-7.222L2 10.889v.277l5.564-.008v.278l-3.341.556-.01 8.341H19.77l.009-9.166H22zM9.45 17.81l1.558-4.145-1.557-.005.852-4.161h4.262l-1.599 2.999c-.04.077-.01.198.115.198h2.19z"/></svg>',house:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.953 11.459l-6.668.533L4.276 20h7.79l.008-3.995c0-1.592-.003-1.598 1.663-1.598s1.677 0 1.676 1.593l-.009 4h4.427l.01-8.8h2.221v-.267L12.07 4 2.063 10.933v.267l8.89-.008z"/></svg>',"info-big":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 54"><path d="M42.857 0H7.143C1.8 0 0 1.336 0 5.4v43.2C0 52.636 1.8 54 7.143 54h35.714C48.242 54 50 52.636 50 48.6V5.4C50 1.336 48.228 0 42.857 0zM25 11c5.357 0 5.5-.05 5.5 4s-.143 4-5.5 4-5.5.05-5.5-4 .143-4 5.5-4zm-5 16c-3.571 0-4.026-.3-4-3v-2h14v16c3.565 0 3.987.302 4 3v2H16v-2c-.013-2.7.415-3 4-3 .006 0 0-9.5 0-9.5l7-1V27z"/></svg>',"info-inverted":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.895 3c0-3 0-3 4.111-3 4.112 0 4.112 0 4.112 3s0 3-4.112 3C7.895 6 7.895 6 7.895 3zm10.953 19c-.009-1.999.004-2-2.73-2V8H5.16s.005 1.5 0 2c-.017 2-.008 2 2.735 2h5.485v.333L7.895 13v7H7.88c-2.751 0-2.742 0-2.73 2 .005 1 0 2 0 2h13.697s.004-1.5 0-2z"/></svg>',info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.205 1H4.92c-2.138 0-2.857.544-2.857 2.2v17.6c0 1.644.72 2.2 2.857 2.2h14.285c2.154 0 2.858-.556 2.858-2.2V3.2c0-1.656-.71-2.2-2.858-2.2zm-7.142 4.4c2.142 0 2.142 0 2.142 1.65s0 1.65-2.142 1.65-2.143 0-2.143-1.65 0-1.65 2.143-1.65zm3.566 13.2h-7.14s.003-.55 0-1.1c-.005-1.1-.01-1.1 1.423-1.1h.008v-3.85l2.858-.367V12H9.919c-1.43 0-1.434 0-1.424-1.1.003-.275 0-1.1 0-1.1h5.71v6.6c1.426 0 1.419 0 1.424 1.1v1.1z"/></svg>',infrastructure:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.833 17.928l1.98-.12L21.064 23h-3.858zm-5.703.345l-2.315.14L3.063 23H6.92zM7.456 17.5c-3.096-.012-3.097-.18-3.097-2.567V3.75C4.35 1.916 5.633 1 8.194 1h7.72c2.58 0 3.863.916 3.863 2.749l-.011 11c0 2.562 0 2.738-3.113 2.75H7.456zm11.04-3.613c0-.926 0-.926-1.29-.926s-1.29 0-1.29.926c0 .944 0 .944 1.29.927 1.29-.018 1.29 0 1.29-.927zM10.762 2.833c0 .462 0 .462 1.286.454 1.285-.009 1.286 0 1.286-.454 0-.455 0-.455-1.286-.455s-1.286 0-1.286.455zM5.634 6.5v4.583H18.49v-.305l-9.659-.61 3.859-5.501H8.205c-2.573 0-2.572 0-2.571 1.833zm1.27 8.313c1.29-.018 1.291 0 1.291-.927 0-.926 0-.926-1.29-.926s-1.29 0-1.29.926c0 .944 0 .944 1.29.927z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.976 7.372a4.607 4.607 0 104.607 4.606 4.6 4.6 0 00-4.607-4.606zm0 7.6a2.994 2.994 0 112.994-2.994 3 3 0 01-2.994 2.994zm4.795-8.863a1.074 1.074 0 10.412.082 1.075 1.075 0 00-.412-.082zm4.185 5.87c0-1.24.011-2.47-.058-3.707a5.34 5.34 0 00-1.45-3.764 5.333 5.333 0 00-3.764-1.449c-1.24-.07-2.468-.058-3.706-.058-1.24 0-2.468-.012-3.706.058a5.34 5.34 0 00-3.764 1.449 5.333 5.333 0 00-1.449 3.764c-.07 1.24-.058 2.469-.058 3.706s-.012 2.469.058 3.706a5.34 5.34 0 001.449 3.765 5.333 5.333 0 003.764 1.449c1.24.07 2.469.058 3.706.058 1.24 0 2.469.011 3.706-.058a5.339 5.339 0 003.765-1.45 5.334 5.334 0 001.449-3.764c.071-1.237.058-2.466.058-3.706zm-1.977 5.296a3.064 3.064 0 01-1.707 1.707c-1.181.47-3.987.364-5.296.364-1.31 0-4.117.105-5.298-.362a3.065 3.065 0 01-1.707-1.707c-.468-1.184-.362-3.99-.362-5.299s-.106-4.117.362-5.298a2.854 2.854 0 01.678-1.029 2.903 2.903 0 011.029-.678c1.181-.467 3.989-.362 5.298-.362 1.31 0 4.117-.105 5.299.362a3.064 3.064 0 011.707 1.707c.467 1.181.361 3.989.361 5.298s.106 4.115-.364 5.297z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.73 3H4.39a1.313 1.313 0 00-1.327 1.298V19.7A1.314 1.314 0 004.39 21h15.34a1.317 1.317 0 001.333-1.299V4.298A1.316 1.316 0 0019.73 3zM8.402 18.338H5.73v-8.59h2.672zM7.066 8.574a1.548 1.548 0 111.547-1.548 1.548 1.548 0 01-1.547 1.548zm11.335 9.764h-2.67v-4.177c0-.996-.017-2.278-1.387-2.278-1.39 0-1.601 1.086-1.601 2.206v4.249h-2.666v-8.59h2.559v1.174h.037a2.803 2.803 0 012.526-1.387c2.703 0 3.202 1.778 3.202 4.092v4.711z"/></svg>',listview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.5 1.5v9h21v-9zM3 3h18v6H3zM1.5 13.5v9h21v-9zM3 15h18v6H3z"/></svg>',loader:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><path d="M21.029 4.718a16.187 16.187 0 00-13.188 6.81v-.014L.25 22.018l.502.505 4.002-1.543h.053v.019A16.222 16.222 0 1021.03 4.718zm-7.24 11.612a8.66 8.66 0 11-1.367 4.672l3.358 1.358.498-.499-7.101-9.525.238-.329z"/></svg>',locate:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M12.316 3c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9zM21.316 12h3M12.316 3V0M.316 12h3" stroke-width="1.5"/><circle cx="12.32" cy="12" r="2" fill="var(--themeBase, black)"/><path d="M12.316 24v-3" stroke-width="1.5"/></g><defs><clipPath id="clip0"><path fill="#fff" transform="translate(.316)" d="M0 0h24v24H0z"/></clipPath></defs></svg>',"location-square":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.063 2.167h12v10.181l-5.993 9.819-6.007-9.819zm8.143 3.272H9.92v3.637h4.286z"/></svg>',location:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.063 11.5a2.5 2.5 0 11.956-.19 2.5 2.5 0 01-.957.19zm0-9.5a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7z"/></svg>',mail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.812 2.23a1.34 1.34 0 00-1.5 0l-9.25 6.836V22h20V9.066zm7.998 6.827l-6.543 5.558-1.472-1.25a1.134 1.134 0 00-1.42 0l-6.812 5.783-.205-.233 4.832-4.91-5.827-4.948H20.81z"/></svg>',mapview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">@<path d="M14.304 3.286L9.222 1.722 3 3.5v19l6.222-1.778 5.082 1.564L21 20.5v-19zM8.5 19.368l-4 1.143V4.631l4-1.142zm5 1.101L10 19.392V3.531l3.5 1.077zm6-1.121l-4.5 1.2V4.652l4.5-1.2z"/></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.06 5h18v3h-18zM3.06 10h18v3h-18zM3.06 15h18v3h-18z"/></svg>',minus:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 12.857h24" stroke-width="1.5"/></svg>',"money-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.332 2c-1.995 0-2.666.495-2.666 2v16c0 1.495.671 2 2.666 2h13.334c2.01 0 2.666-.505 2.666-2V4c0-1.505-.66-2-2.666-2H5.332zM6 8.006h11.332v.969l-8.182.414v.113h8.182v.006h1.334V16H7.332v-1.5H6V8.006zm10.879 4.973a.983.983 0 00-.344.05.408.408 0 00-.207.17.803.803 0 00-.101.313 3.54 3.54 0 00-.028.484c0 .197.01.36.028.49.018.13.052.234.101.31.05.078.118.133.207.165.09.032.205.049.344.049.14 0 .253-.017.342-.05a.41.41 0 00.209-.163.752.752 0 00.105-.31c.019-.13.027-.294.027-.49 0-.194-.009-.356-.027-.485a.772.772 0 00-.105-.313.42.42 0 00-.21-.17.973.973 0 00-.341-.05zm-2.213.029v1.07h.479c.085 0 .151.014.199.043.047.03.07.085.07.168v.147c0 .094-.025.155-.076.185a.526.526 0 01-.252.045h-.172a5.277 5.277 0 01-.146-.004 2.87 2.87 0 01-.143-.01l-.008.323.145.017a5.12 5.12 0 00.357.018c.12 0 .226-.008.317-.024a.564.564 0 00.226-.086c.061-.041.108-.099.139-.173a.766.766 0 00.047-.291v-.145a.707.707 0 00-.04-.248.367.367 0 00-.113-.162.495.495 0 00-.197-.088 1.258 1.258 0 00-.281-.027h-.174v-.428h.723v-.33h-1.1zm2.213.293c.054 0 .096.008.129.025s.059.049.076.098c.017.05.03.12.035.21.006.092.008.211.008.362 0 .149-.002.27-.008.361a.802.802 0 01-.035.21c-.017.049-.043.082-.076.097a.3.3 0 01-.13.024.297.297 0 01-.126-.024c-.032-.015-.056-.048-.072-.098a.816.816 0 01-.034-.209 7.346 7.346 0 01-.005-.36c0-.152 0-.271.005-.362a.834.834 0 01.034-.211c.016-.05.039-.081.07-.098a.28.28 0 01.129-.025z"/></svg>',money:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 5.69v10.253h2.105v2.368H22V8.06h-2.105v-.008H6.975v-.18l12.92-.654v-1.53H2zm17.178 7.851c.22 0 .398.027.539.08.14.053.25.143.332.268.08.125.137.291.166.496.029.204.043.458.043.763 0 .312-.014.57-.043.774-.03.204-.085.368-.166.49a.654.654 0 01-.332.26c-.14.05-.32.076-.54.076-.22 0-.4-.026-.54-.076a.63.63 0 01-.328-.26 1.232 1.232 0 01-.16-.49 5.665 5.665 0 01-.044-.774c0-.305.014-.559.043-.763.03-.205.083-.371.16-.496a.646.646 0 01.329-.268c.14-.053.321-.08.54-.08zm-3.492.047h1.734v.521h-1.14v.674h.275c.17 0 .318.014.443.043.125.03.23.075.31.139.081.064.14.15.18.256.04.105.06.235.06.39v.229c0 .19-.025.343-.073.46a.604.604 0 01-.217.276.896.896 0 01-.36.135c-.143.024-.31.037-.5.037-.11 0-.212-.004-.31-.01a10.472 10.472 0 01-.252-.017 11.627 11.627 0 01-.229-.03l.014-.507a10.541 10.541 0 00.455.021c.087.002.177.002.272.002.183 0 .315-.023.396-.07.081-.048.121-.147.121-.297v-.229c0-.13-.036-.22-.111-.265a.606.606 0 00-.315-.069h-.753v-1.69zm3.492.46a.441.441 0 00-.203.04c-.05.026-.086.078-.112.156a1.318 1.318 0 00-.05.332c-.008.144-.012.334-.012.572 0 .236.004.425.012.569.008.143.024.254.05.332.026.078.065.128.116.152.05.025.116.037.199.037a.482.482 0 00.205-.037c.052-.024.091-.074.119-.152.027-.078.045-.189.055-.332.009-.144.013-.333.013-.569 0-.238-.005-.428-.013-.572a1.286 1.286 0 00-.055-.332c-.027-.078-.067-.13-.12-.156a.46.46 0 00-.204-.04z"/></svg>',"open-link":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.78 20.28l-1.06-1.06L17.439 5.5H10.25V4H20v9.75h-1.5V6.561L4.78 20.28z"/></svg>',phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.283 15.844c-1.431-1.154-2.847-2.359-3.779-2.215-1.297.2-3.25 3.5-3.25 3.5l-3.674-3.646-6.225-6.27.266-.265L8.01 9.336c.991-.68 2.429-1.8 2.559-2.642.144-.932-1.196-2.483-2.35-3.914A3.992 3.992 0 005.589 1C4.652 1 3.455 2.326 2.58 3.696.598 6.802.472 9.51 2.707 12.616a38.526 38.526 0 004.104 4.636 38.506 38.506 0 004.635 4.104c3.107 2.234 5.815 2.108 8.92.125 1.37-.875 2.697-2.072 2.697-3.007a3.992 3.992 0 00-1.78-2.63z"/></svg>',"piggy-bank":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.239 6.757a3.32 3.32 0 00.316-1.419 3.333 3.333 0 10-6.666 0 3.32 3.32 0 00.317 1.42 7.793 7.793 0 00-2.859 2c-.64-.47-1.4-.88-2.042-.92a.4.4 0 00-.416.407v2.44a4.173 4.173 0 00-2.418 2.992c-1.47.03-1.471.24-1.471 1.661 0 1.63 0 1.667 2.222 1.667a4.16 4.16 0 003.334 1.666 4.158 4.158 0 003.279-1.597l.054-.065.212.194s-.685 1.193-2.415 1.837c.002 2.955.073 2.956 1.667 2.956 1.162 0 1.514 0 1.62-1.145a8.015 8.015 0 002.25.32c.79 0 1.553-.114 2.272-.327.111 1.152.47 1.152 1.616 1.152 1.591 0 1.664 0 1.667-3.077C21.152 17.566 22 15.715 22 13.67c0-3.11-1.964-5.778-4.761-6.914zm-.795 1.935l-.149-.057a5.78 5.78 0 00-2.073-.38c-.71 0-1.4.125-2.055.373l-.182.07v-.889a6.615 6.615 0 012.237-.388 6.613 6.613 0 012.222.383v.888z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 93 66"><path d="M91.054 10.305A11.794 11.794 0 0088.05 5.03a11.668 11.668 0 00-5.217-3.06C75.58 0 46.5 0 46.5 0S17.42 0 10.167 1.97A11.669 11.669 0 004.95 5.03a11.794 11.794 0 00-3.005 5.276A124.36 124.36 0 00.002 33a124.352 124.352 0 001.944 22.694 11.794 11.794 0 003.004 5.275 11.668 11.668 0 005.217 3.06C17.42 66 46.501 66 46.501 66s29.08 0 36.331-1.97a11.667 11.667 0 005.218-3.06 11.793 11.793 0 003.004-5.276A124.347 124.347 0 0092.998 33a124.362 124.362 0 00-1.944-22.695zM36.99 46.928V19.071l24.305 13.93z"/></svg>',"plug-quadratic":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.1 7.382V2.769c0-.512-.513-.769-1.025-.769-.512 0-1.025.257-1.025.769v4.613h-4.1V2.769C9.95 2.257 9.434 2 8.923 2c-.512 0-1.025.257-1.025.769v4.613H5.848v2.315c0 1.538 0 1.538 1.018 1.538H12v.256L6.994 12l.905 5.386c.253 1.538.245 1.538 2.05 1.538V22h4.101v-3.076c1.796 0 1.804 0 2.05-1.538.248-1.538 1.018-6.151 1.018-6.151 1.033 0 1.033 0 1.033-1.538V7.382z"/></svg>',plug:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 2880"><path d="M58 30V5c0-2.852-3.15-5-6-5-2.853 0-6 2.148-6 5v25H24V5c0-2.852-3.15-5-6-5-2.851 0-6 2.148-6 5v25H0v13c0 8.572.786 8.97 6.459 8.97h28.613v1.428L7.175 56.235l5.04 30.022C13.627 94.827 16.94 95 27 95v2785h16V95c10.01 0 13.553-.172 14.93-8.743 1.375-8.572 5.672-34.286 5.672-34.286C69.358 51.97 70 51.57 70 43V30z"/></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.06 11.998h22m-11 11v-22" stroke-width="1.5"/></svg>',"scroll-down":'<svg viewBox="0 0 43 77" xmlns="http://www.w3.org/2000/svg"><path d="M21.5 76.75A21.33 21.33 0 01.25 55.388V21.612a21.25 21.25 0 1142.5 0v33.776A21.33 21.33 0 0121.5 76.75zm0-75A19.829 19.829 0 001.75 21.612v33.776a19.75 19.75 0 1039.5 0V21.612A19.829 19.829 0 0021.5 1.75z"/><path d="M16.178 46.251l.929-1.178 4.14 3.271V26.051h1.5v22.292l4.139-3.27.929 1.178-5.818 4.592z"/></svg>',searchy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.28 17.074l-3.218-3.202a6.426 6.426 0 00.963-3.393 6.5 6.5 0 10-3.2 5.58l3.238 3.22c.986.981.966.962 1.997-.064 1.03-1.025-.875.871.156-.154 1.03-1.026 1.039-1.018.064-1.987zM10.512 5.966a4.568 4.568 0 011.13.141L7.326 12.57a4.607 4.607 0 003.185 2.175l.001.249a4.536 4.536 0 01-3.615-1.788 4.478 4.478 0 01-.92-2.726 4.525 4.525 0 014.535-4.513z"/></svg>',"solar-panel-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.333 2c-2.005 0-2.667.495-2.667 2v16c0 1.495.656 2 2.667 2h13.333c1.995 0 2.667-.505 2.667-2V4c0-1.505-.672-2-2.667-2zm5.333 4c.653 0 .653 0 .653 1.154s0 1.154-.653 1.154-.653 0-.653-1.154 0-1.154.653-1.154zM7.578 7.154c.17.006.37.206.83.665.816.816.816.816.354 1.277-.461.462-.461.462-1.277-.354-.816-.816-.816-.816-.355-1.277.202-.202.316-.316.448-.311zm6.176 0c.132-.004.246.109.447.31.462.462.462.462-.354 1.278-.816.816-.816.816-1.277.354-.462-.461-.462-.461.354-1.277.459-.46.66-.66.83-.665zm-3.092 1.538h.004c1.108 0 2.034.782 2.256 1.824l-2.26.317V11h8.004l-2.667 6H8l1.729-3.89a2.318 2.318 0 01-1.118-1.056h.003a2.296 2.296 0 01-.169-.43h-.003A2.31 2.31 0 018.355 11a2.308 2.308 0 012.307-2.308zM6.82 10.347c1.154 0 1.154 0 1.154.653s0 .653-1.154.653-1.154 0-1.154-.653 0-.653 1.154-.653zm5.98 1.234l-2.15 1.21h1.612zm2.414 0l-2.15 1.21h1.612zm2.419 0l-2.15 1.21h1.612zm-9.319 1.012c.133-.004.246.109.448.31.462.462.462.462-.354 1.278-.816.816-.816.816-1.278.355-.461-.462-.461-.462.355-1.278.459-.459.66-.66.83-.665zm3.675.802l-2.15 1.21h1.613zm2.417 0l-2.15 1.21h1.612zm2.42 0l-2.15 1.21h1.613zm-5.64 1.814l-2.15 1.21h1.612zm2.413 0l-2.15 1.21h1.613zm2.419 0l-2.15 1.21h1.612z"/></svg>',"solar-panel":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.692 3.538c-1.004 0-1.004 0-1.004 1.776 0 1.775 0 1.775 1.004 1.775 1.005 0 1.005 0 1.005-1.775 0-1.776 0-1.776-1.005-1.776zm-4.75 1.775c-.204-.007-.378.168-.689.479-.71.71-.71.71.545 1.965 1.255 1.255 1.255 1.255 1.965.545.71-.71.71-.71-.545-1.965-.706-.706-1.015-1.015-1.276-1.024zm9.5 0c-.26.01-.57.318-1.276 1.024-1.255 1.255-1.255 1.255-.545 1.965.71.71.71.71 1.966-.545 1.255-1.255 1.255-1.255.545-1.966-.311-.31-.486-.485-.69-.478zM9.688 7.68a3.55 3.55 0 00-3.418 4.51h.005a3.524 3.524 0 00.26.661h-.005a3.566 3.566 0 001.72 1.626L5.59 20.461h12.308L22 11.231H9.687v-.257l3.477-.488A3.551 3.551 0 009.692 7.68zm-5.912 2.547C2 10.227 2 10.227 2 11.23s0 1.004 1.775 1.004 1.775 0 1.775-1.004 0-1.004-1.775-1.004zm9.2 1.898l-.827 1.86h-2.48zm3.714 0l-.827 1.86h-2.48zm3.721 0l-.827 1.86h-2.48zM6.075 13.681c-.262.01-.57.318-1.277 1.024-1.255 1.255-1.255 1.255-.545 1.965.71.71.71.71 1.965-.545 1.256-1.255 1.256-1.255.546-1.965-.311-.31-.486-.486-.69-.479zm5.653 1.235l-.827 1.86h-2.48zm3.718 0l-.827 1.86h-2.481zm3.724 0l-.827 1.86h-2.48zm-8.679 2.79l-.827 1.861h-2.48zm3.714 0l-.827 1.861h-2.48zm3.721 0l-.827 1.861h-2.48z"/></svg>',suche:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 19.002l-4.685-4.685a6.371 6.371 0 10-.998.998L19.002 20zM5.412 10.355a4.943 4.943 0 114.943 4.942 4.949 4.949 0 01-4.943-4.942z"/></svg>',sun:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.385c-1.305 0-1.305 0-1.305 2.307C10.695 22 10.695 22 12 22s1.305 0 1.305-2.308c0-2.307 0-2.307-1.305-2.307zm3.808-1.578c-.924.923-.924.923.708 2.555 1.632 1.632 1.632 1.632 2.555.709.923-.923.923-.923-.709-2.555-1.631-1.632-1.631-1.632-2.554-.709zM17.385 12c0 1.305 0 1.305 2.307 1.305C22 13.305 22 13.305 22 12s0-1.305-2.308-1.305c-2.307 0-2.307 0-2.307 1.305zm-1.578-3.808c.924.924.924.924 2.555-.708 1.632-1.632 1.632-1.632.709-2.555-.923-.923-.923-.923-2.555.709-1.632 1.632-1.632 1.632-.709 2.554zM12 6.615c1.305 0 1.305 0 1.305-2.307C13.305 2 13.305 2 12 2s-1.305 0-1.305 2.308 0 2.308 1.305 2.307zM8.192 8.193c.924-.923.924-.923-.708-2.555-1.632-1.632-1.632-1.632-2.555-.709-.923.923-.923.923.709 2.555 1.631 1.632 1.631 1.632 2.554.709zM6.615 12c0-1.305 0-1.305-2.307-1.305C2 10.695 2 10.695 2 12s0 1.305 2.308 1.305c2.307 0 2.307 0 2.307-1.305zm1.578 3.808c-.923-.923-.923-.923-2.555.708-1.632 1.632-1.632 1.632-.709 2.555.923.923.923.923 2.555-.709 1.632-1.631 1.632-1.631.709-2.554zm3.8-8.423A4.615 4.615 0 007.378 12a4.62 4.62 0 00.172 1.247H12v.309l-4.113.552a4.615 4.615 0 104.106-6.723z"/></svg>',"target-tile":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.666 2H5.333c-1.995 0-2.667.495-2.667 2v16c0 1.495.672 2 2.667 2h13.333c2.01 0 2.667-.505 2.667-2V4c0-1.505-.662-2-2.667-2zm-6.034 15.478c-2.506 0-4.608-1.784-5.176-4.187l-2.79.417v-1.714l7.966.006v-.167l-1.946-.123a1.966 1.966 0 11.15 1.077l-1.361.203c.41 1.412 1.669 2.44 3.157 2.44 1.823 0 3.3-1.54 3.3-3.441 0-1.901-1.477-3.442-3.3-3.442-1.705 0-3.107 1.348-3.281 3.078l-2.025-.129c.242-2.8 2.525-4.997 5.306-4.997 2.943 0 5.328 2.458 5.328 5.49 0 3.031-2.385 5.49-5.328 5.49z"/></svg>',target:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.985 3.741c-4.184 0-7.619 3.304-7.982 7.518l3.046.193c.262-2.602 2.371-4.63 4.936-4.63 2.742 0 4.964 2.318 4.964 5.177 0 2.86-2.222 5.178-4.964 5.178-2.24 0-4.132-1.546-4.75-3.671l2.047-.306a2.958 2.958 0 10-.225-1.62l2.928.186v.25L2 12.009v2.578l4.198-.627c.854 3.615 4.016 6.3 7.787 6.3 4.427 0 8.015-3.699 8.015-8.26 0-4.56-3.588-8.258-8.015-8.258z"/></svg>',"tick-bold":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.31 20.167L22.063 5.362 20.78 4.167 8.31 14.78l-4.73-3.281-1.517 1.476z"/></svg>',tick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.022 21L1.5 13.186l1.131-.996 5.403 6.472L21.378 3 22.5 4.008 8.022 21z"/></svg>',tileview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.5 10.5h-9v-9h9zM3 9h6V3H3zm19.5 1.5h-9v-9h9zM15 9h6V3h-6zm7.5 13.5h-9v-9h9zM15 21h6v-6h-6zm-4.5 1.5h-9v-9h9zM3 21h6v-6H3z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.063 6.012a7.924 7.924 0 01-2.357.676 4.275 4.275 0 001.804-2.374 7.999 7.999 0 01-2.606 1.041A4.016 4.016 0 0015.91 4a4.2 4.2 0 00-4.103 4.292 4.496 4.496 0 00.106.978 11.488 11.488 0 01-8.457-4.484 4.422 4.422 0 00-.556 2.157 4.345 4.345 0 001.826 3.572 3.95 3.95 0 01-1.859-.537v.054a4.25 4.25 0 003.291 4.209 3.938 3.938 0 01-1.853.073 4.136 4.136 0 003.833 2.98 7.992 7.992 0 01-6.074 1.778A11.247 11.247 0 008.353 21c7.547 0 11.674-6.54 11.674-12.21q0-.28-.012-.556a8.564 8.564 0 002.048-2.222z"/></svg>',whatsapp:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.244 2a9.78 9.78 0 00-9.818 9.743 9.646 9.646 0 001.408 5.03L2.063 22l5.435-1.727a9.835 9.835 0 0014.565-8.53A9.78 9.78 0 0012.244 2zm0 17.852a8.174 8.174 0 01-4.497-1.34l-3.14.997 1.02-3.011a8.02 8.02 0 01-1.556-4.755 8.173 8.173 0 118.173 8.11zm4.603-5.896c-.246-.134-1.455-.781-1.682-.873-.226-.09-.391-.138-.569.104-.176.242-.677.785-.83.945-.152.161-.299.176-.545.042a6.857 6.857 0 01-1.97-1.309 7.52 7.52 0 01-1.328-1.774c-.137-.254-.001-.384.13-.503.116-.107.26-.281.39-.422a1.64 1.64 0 00.267-.405.452.452 0 00-.004-.437c-.058-.126-.513-1.369-.703-1.874-.19-.506-.402-.43-.549-.436-.145-.005-.312-.032-.479-.038a.923.923 0 00-.68.286 2.778 2.778 0 00-.955 2.041 4.815 4.815 0 00.926 2.61 10.237 10.237 0 004.14 3.913c2.51 1.09 2.523.759 2.984.734a2.536 2.536 0 001.736-1.12 2.072 2.072 0 00.19-1.176c-.059-.106-.223-.174-.469-.308z"/></svg>',"wind-title":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.666 2H5.333c-2.005 0-2.667.495-2.667 2v16c0 1.495.656 2 2.667 2h13.333c1.995 0 2.667-.505 2.667-2V4c0-1.505-.672-2-2.667-2zM18.5 17.245l-.334.577-6.063-3.5-.111.193 1.254 1.15c-.366.21-5.821 1.835-6.37 1.946-1.029.209-1.034.212-1.367-.366l-.333-.577 6.063-3.502-.111-.192-1.623.507c.005-.961 1.321-5.954 1.5-6.486.333-.994.333-1 1-1h.666v7h.222l.37-1.66c.742.434 4.5 4.124 4.87 4.544.695.786.7.789.367 1.366z"/></svg>',wind:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.141 17.865c-.548-.62-6.098-6.072-7.195-6.712l-.546 2.452h-.328V3.264h-.985c-.985 0-.985.008-1.477 1.477-.263.785-2.208 8.162-2.215 9.581l2.398-.75.163.285L2 19.03l.492.853c.493.853.5.849 2.018.54.812-.164 8.871-2.565 9.412-2.876l-1.853-1.697.164-.284 8.957 5.17.492-.853c.492-.853.486-.857-.54-2.018z"/></svg>',xing:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.702 5.95a.477.477 0 00-.416.18.427.427 0 00.017.443l2.062 3.376a.014.014 0 010 .016l-3.24 5.409a.426.426 0 000 .442.456.456 0 00.398.197h3.05a.93.93 0 00.832-.557l3.293-5.507L8.601 6.49a.942.942 0 00-.85-.541h-3.05zM17.517 2a.892.892 0 00-.817.55L9.912 13.93l4.334 7.52a.953.953 0 00.852.549h3.047a.46.46 0 00.405-.184.43.43 0 00-.006-.446l-4.3-7.43a.016.016 0 010-.019L20.997 2.63a.431.431 0 00.007-.445.462.462 0 00-.406-.184h-3.081z"/></svg>',"youtube-small":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.062 6.8a2.632 2.632 0 00-1.857-1.86C18.567 4.5 12 4.5 12 4.5s-6.567 0-8.205.438a2.628 2.628 0 00-1.857 1.859 27.448 27.448 0 00-.438 5.062 27.414 27.414 0 00.438 5.06 2.632 2.632 0 001.857 1.86c1.638.44 8.205.44 8.205.44s6.567 0 8.205-.44a2.628 2.628 0 001.857-1.86 27.413 27.413 0 00.438-5.06 27.413 27.413 0 00-.438-5.06zM9.914 15V8.719l5.438 3.117z"/></svg>'};let Gq=(()=>{class t{constructor(e,i){this.sanitized=e,this.svgString="",this.svgName="",this.hasTransitions=i.nativeElement.hasAttribute("has-transitions")}set name(e){this.svgName=e,this.svgString=this.sanitized.bypassSecurityTrustHtml(function(t,n){return n[t]}(e,Uq))}}return t.\u0275fac=function(e){return new(e||t)(he(Xm),he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-icon"]],inputs:{name:"name"},decls:1,vars:3,consts:[[1,"container",3,"innerHTML"]],template:function(e,i){1&e&&Se(0,"div",0),2&e&&(Rn("bt3-icon--transitioned",i.hasTransitions),B("innerHTML",i.svgString,Zi))},styles:['@charset "UTF-8";:host{display:inline-block;width:2.4rem;height:2.4rem;position:relative}svg{top:0;bottom:0;left:0;right:0;position:absolute;fill:var(--themeBase)}.bt3-icon--transitioned svg{transition:all .3s ease-in-out}\n'],encapsulation:3}),t})(),Yq=(()=>{class t{constructor(){this.isMobileOnly=!1,this.isInitialized=!1,this.scrollbarSize=`${(0,k5.Z)()}px`}set mobileOnly(e){this.isMobileOnly="true"===e}ngOnInit(){this.isInitialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-horizontal-scroll"]],hostVars:4,hostBindings:function(e,i){2&e&&(Ru("--scrollbar-size",i.scrollbarSize),Rn("is-initialized",i.isInitialized))},inputs:{mobileOnly:"mobileOnly"},decls:3,vars:2,consts:[[1,"bt3-horizontal-scroll__scroll"],[1,"bt3-horizontal-scroll__inline-block"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),Se(2,"slot"),z(),z()),2&e&&Rn("bt3-horizontal-scroll__scroll--mobile",i.isMobileOnly)},styles:['@charset "UTF-8";.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}.bt3-grid__mobile-breakout-right,:host{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-right,:host{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}.bt3-grid__mobile-breakout-left,:host{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-grid__mobile-breakout-left,:host{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-right,:host{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-right,:host{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-grid__mobile-breakout-left,:host{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__mobile-breakout-left,:host{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-theme--primary .bt3-horizontal-scroll__inline-block,.bt3-theme--primary :host:before,.bt3-theme--primary :host:after,.bt3-grid__container.bt3-theme--primary,.bt3-theme--primary.bt3-horizontal-scroll__inline-block{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-theme--secondary .bt3-horizontal-scroll__inline-block,.bt3-theme--secondary :host:before,.bt3-theme--secondary :host:after,.bt3-grid__container.bt3-theme--secondary,.bt3-theme--secondary.bt3-horizontal-scroll__inline-block{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container,.bt3-horizontal-scroll__inline-block,:host:before,:host:after{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}:host{z-index:0;position:relative;display:block;overflow:hidden;--gradientColor: var(--scrollShadowColor, var(--white))}:host:before,:host:after{content:" ";position:absolute;top:0;bottom:var(--scrollbar-size);background:linear-gradient(90deg,var(--gradientColor) 0%,var(--gradientColor) 25%,rgba(255,255,255,0) 50%);z-index:1;pointer-events:none}:host:before{left:-1px}:host:after{right:-1px;transform:scaleX(-1)}.bt3-horizontal-scroll__inline-block{display:inline-block}.bt3-horizontal-scroll__scroll{overflow:auto;display:block}@media (min-width: 60em){.bt3-horizontal-scroll__scroll--mobile .bt3-horizontal-scroll__inline-block{padding:0;width:100%}}\n'],encapsulation:3}),t})(),qq=(()=>{class t{constructor(e){this.elRef=e}ngAfterViewInit(){const e=this.delay&&parseInt(this.delay,10)||0;if(!this.selector)return;let i=!0;this.observer=new IntersectionObserver(c=>{let h=0;c.forEach(b=>{var w;const E=b.target;i&&this.initClass&&E.classList.add(this.initClass),b.isIntersecting&&(null===(w=this.observer)||void 0===w||w.unobserve(E),i?this.enteredClass&&E.classList.add(this.enteredClass):(setTimeout(()=>requestAnimationFrame(()=>this.enteredClass&&E.classList.add(this.enteredClass)),h),h+=e))}),i=!1}),this.elRef.nativeElement.querySelectorAll(this.selector).forEach(c=>{var h;null===(h=this.observer)||void 0===h||h.observe(c)})}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-viewport-entry-notification"]],inputs:{selector:"selector",initClass:"initClass",enteredClass:"enteredClass",delay:"delay"},decls:1,vars:0,template:function(e,i){1&e&&Se(0,"slot")},styles:[":host{display:block}\n"],encapsulation:3}),t})();const Wq=["video"];let Zq=(()=>{class t{constructor(){this.videoUrl="",this.videoType="",this.videoId="",this.isLoaded=!1,this.isVideoLoop=!1}set videoLoop(e){this.isVideoLoop="true"===e||"1"===e}ngAfterViewInit(){var e;const i=null===(e=this.video)||void 0===e?void 0:e.nativeElement;if(!i)return;const a=()=>{this.isLoaded=!0,i.muted=!0,i.play()};i.readyState>=i.HAVE_FUTURE_DATA?a():i.addEventListener("canplay",a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-hero-video"]],viewQuery:function(e,i){if(1&e&&En(Wq,5),2&e){let a;Xt(a=Kt())&&(i.video=a.first)}},inputs:{videoUrl:"videoUrl",videoType:"videoType",videoId:"videoId",videoLoop:"videoLoop"},decls:4,vars:5,consts:[[1,"bt3-hero-video"],["playsinline","","muted","","autoplay","",1,"bt3-hero-video__video",3,"loop"],["video",""],[3,"src","type"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"video",1,2),Se(3,"source",3),z(),z()),2&e&&(Rn("bt3-hero-video--loaded",i.isLoaded),F(1),B("loop",i.isVideoLoop),F(2),B("src",i.videoUrl,en)("type",i.videoType))},styles:["@keyframes heroScaleAnimation{0%{transform:scale(1.33)}to{transform:scale(1)}}:host{height:100%}.bt3-hero-video{width:100%;height:100%;position:relative;transform:scale(1.33)}.bt3-hero-video--loaded{animation:heroScaleAnimation .5s forwards}.bt3-hero-video__video{object-fit:cover;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}\n"],encapsulation:3}),t})();var T5=Yn(112);let Xq=(()=>{class t{constructor(){this.arrowAnimationState=!0,this.saveSpaceTop=80,(0,T5.polyfill)()}onArrowAnimationDone(){this.arrowAnimationState=!this.arrowAnimationState}onIndicatorClick(){if(window.innerWidth<600&&this.onClickScrollMobileTarget){const e=document.querySelector(`.${this.onClickScrollMobileTarget}`);e&&window.scrollTo({top:e.offsetTop-this.saveSpaceTop,behavior:"smooth"})}else if(this.onClickScrollTarget){const e=document.querySelector(`.${this.onClickScrollTarget}`);if(e){const i=e.offsetHeight+this.saveSpaceTop>window.innerHeight?e.offsetTop-this.saveSpaceTop:e.offsetTop+e.offsetHeight-window.innerHeight;window.scrollTo({top:i,behavior:"smooth"})}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["scroll-indicator"]],inputs:{onClickScrollTarget:"onClickScrollTarget",onClickScrollMobileTarget:"onClickScrollMobileTarget"},decls:2,vars:1,consts:[["aria-hidden","true","type","button","tabindex","-1",1,"scroll-indicator",3,"click"],["name","arrow-down",1,"scroll-indicator__icon"]],template:function(e,i){1&e&&(R(0,"button",0),Ze("click",function(){return i.onIndicatorClick()}),R(1,"bt3-icon",1),Ze("@arrowFly.done",function(){return i.onArrowAnimationDone()}),z(),z()),2&e&&(F(1),B("@arrowFly",i.arrowAnimationState))},styles:[".scroll-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid var(--white);border-radius:2.15rem;transition:all .3s ease-in-out;width:4.3rem;height:7.7rem}.scroll-indicator[_ngcontent-%COMP%]:focus{outline:none}.scroll-indicator__icon[_ngcontent-%COMP%]{width:3rem;height:3rem;--themeBase: var(--white)}"],data:{animation:[kr("arrowFly",[ra("true <=> false",[va(4e3,z2([Ln({transform:"translateY(0)",offset:0}),Ln({transform:"translateY(0)",offset:.4}),Ln({transform:"translateY(300%)",offset:.498}),Ln({opacity:0,offset:.499}),Ln({transform:"translateY(-300%)",offset:.5}),Ln({opacity:1,offset:.501}),Ln({transform:"translateY(0)",offset:.6}),Ln({transform:"translateY(0)",offset:1})]))])])]}}),t})(),E5=(()=>{class t{constructor(){this.stocksUrl="/_api/v1/stock"}getObservableFromFetch(){return new An(e=>{fetch(this.stocksUrl).then(i=>i.json()).then(i=>{e.next(i),e.complete()}).catch(i=>e.error(i))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kq=function(t,n){return{"arrow-right--pos":t,"arrow-right--neg":n}};let Jq=(()=>{class t{constructor(e){this.stockService=e,this.stock={difference:"",value:"",date:new Date},this.currentDateString="",this.currentStockDifference=0}fetchStockData(){this.stockServiceObservable=this.stockService.getObservableFromFetch(),this.stockServiceObservable.subscribe(e=>{this.stock=e.data,this.stock.date=new Date(e.data.datetime),this.getCurrentDateTimeString(this.stock.date),this.stock.value=this.formatStockValue(this.stock.value),this.stock.difference=this.formatStockDifference(this.stock.difference),this.currentStockDifference=this.checkStockDifference(this.stock.difference)})}checkStockDifference(e){return e.includes("0.00")?0:e.includes("+")?1:e.includes("-")?-1:0}formatStockDifference(e){return e.slice(0,-2).replace(/,/g,".")}formatStockValue(e){return Number(e.toString().replace(/,/g,".")).toFixed(2)}ngOnInit(){this.fetchStockData()}getCurrentDateTimeString(e){this.currentDateString=`${e.getDate()}. ${e.toLocaleString("default",{month:"long"})} ${e.getFullYear()}, ${this.minTwoDigits(e.getHours())}:${this.minTwoDigits(e.getMinutes())}`}minTwoDigits(e){return(e<10?"0":"")+e}ngOnDestroy(){this.stockServiceObservable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(E5))},t.\u0275cmp=Ct({type:t,selectors:[["app-stock"]],decls:9,vars:7,consts:[[1,"stock"],[1,"stock-wrapper"],[1,"stock-value"],["name","arrow-right",1,"stock-arrow",3,"ngClass"],[1,"stock-change"],[1,"stock-date"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"p",1),R(2,"span",2),ot(3),z(),Se(4,"bt3-icon",3),R(5,"span",4),ot(6),z(),z(),R(7,"p",5),ot(8),z(),z()),2&e&&(F(3),vn(" CHF ",i.stock.value," "),F(1),B("ngClass",Cr(4,Kq,1===i.currentStockDifference,-1===i.currentStockDifference)),F(2),vn(" ",i.stock.difference,"% "),F(2),Kn(i.currentDateString))},directives:[Pr],styles:['@charset "UTF-8";.stock-value{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.8rem;line-height:1.2}@media (min-width: 60em){.stock-value{font-size:2.4rem;line-height:1.2}}.stock-change{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.stock-change{font-size:1.8rem}}.stock-date{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin-top:.6rem}@media (min-width: 60em){.stock-date{font-size:1.8rem}}.stock-wrapper{display:flex;align-items:center}.stock-arrow{--themeBase: var(--white);margin:0 .8rem 0 2.1rem}.arrow-right--pos{transform:rotate(-45deg)}.arrow-right--neg{transform:rotate(45deg)}\n'],encapsulation:3}),t})();var Qq=Yn(653);let eW=(()=>{class t{constructor(e){this.element=e,this.component=null}ngAfterViewInit(){const e=(0,Qq.iframeResizer)({checkOrigin:!1,heightCalculationMethod:"lowestElement",log:!1},this.element.nativeElement);this.component=e&&e.length>0?e[0]:null}ngOnDestroy(){this.component&&this.component.iFrameResizer&&this.component.iFrameResizer.close()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275dir=Tt({type:t,selectors:[["","appIframeResizer",""]]}),t})();function tW(t,n){1&t&&Se(0,"iframe",3),2&t&&j("src",Z(2).sourceSafeUrl,Cu)}function nW(t,n){1&t&&Se(0,"iframe",4),2&t&&j("src",Z(2).sourceSafeUrl,Cu)}function iW(t,n){if(1&t&&(zt(0),Q(1,tW,1,1,"iframe",1),Q(2,nW,1,1,"iframe",2),Nt()),2&t){const e=Z();F(1),B("ngIf",e.isResizing),F(1),B("ngIf",!e.isResizing)}}let aW=(()=>{class t{constructor(e){this.sanitizationService=e,this.sourceSafeUrl=""}set resizing(e){this.isResizing="1"===e||"true"===e}ngOnInit(){this.source&&(this.sourceSafeUrl=this.sanitizationService.bypassSecurityTrustResourceUrl(this.source))}}return t.\u0275fac=function(e){return new(e||t)(he(Xm))},t.\u0275cmp=Ct({type:t,selectors:[["app-iframe"]],inputs:{source:"source",resizing:"resizing"},decls:1,vars:1,consts:[[4,"ngIf"],["appIframeResizer","","class","iframe","width","100%","scrolling","no","frameborder","0",4,"ngIf"],["class","iframe iframe--fix-height","width","100%","frameborder","0",4,"ngIf"],["appIframeResizer","","width","100%","scrolling","no","frameborder","0",1,"iframe"],["width","100%","frameborder","0",1,"iframe","iframe--fix-height"]],template:function(e,i){1&e&&Q(0,iW,3,2,"ng-container",0),2&e&&B("ngIf",i.sourceSafeUrl)},directives:[ri,eW],styles:[".iframe--fix-height{height:60vh}\n"],encapsulation:3}),t})();const D5={leading:!0,trailing:!1};function Ik(t,n=P0,e=D5){return i=>i.lift(new sW(t,n,e.leading,e.trailing))}class sW{constructor(n,e,i,a){this.duration=n,this.scheduler=e,this.leading=i,this.trailing=a}call(n,e){return e.subscribe(new lW(n,this.duration,this.scheduler,this.leading,this.trailing))}}class lW extends Sn{constructor(n,e,i,a,c){super(n),this.duration=e,this.scheduler=i,this.leading=a,this.trailing=c,this._hasTrailingValue=!1,this._trailingValue=null}_next(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(cW,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)}}function cW(t){const{subscriber:n}=t;n.clearThrottle()}const dW=["*"];var y_=(()=>(function(t){t.EXPANDED="EXPANDED",t.HIDDEN="HIDDEN",t.COLLAPSED="COLLAPSED"}(y_||(y_={})),y_))();let uW=(()=>{class t{constructor(e){this.elRef=e}ngAfterViewInit(){const e=this.elRef.nativeElement.querySelector("bfe-global-navigation");this.initializeControlAppearance(e),this.initializeFlyoutListener(e)}initializeFlyoutListener(e){this.flyoutSubscription=$c(document,"bt3:open-flyout").subscribe(i=>{e.setAttribute("control-navigation-open-flyout",i.detail.flyoutId.toString())})}initializeControlAppearance(e){this.scrollSubscription=$c(window,"scroll").pipe(Ik(300,Mx,{trailing:!0})).subscribe(()=>{let i=y_.HIDDEN;window.scrollY<window.innerHeight/3&&(i=y_.EXPANDED),window.scrollY>2*window.innerHeight/3&&(i=y_.COLLAPSED),e.setAttribute("control-appearance",i)})}ngOnDestroy(){var e;null===(e=this.scrollSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-navigation-status"]],ngContentSelectors:dW,decls:1,vars:0,template:function(e,i){1&e&&(hr(),aa(0))},encapsulation:2}),t})();const hW=["*"];let mW=(()=>{class t{constructor(e){this.el=e,this.scrollOffset=100,(0,T5.polyfill)()}ngAfterContentInit(){this.anchor=this.el.nativeElement.querySelector(".bt3-atom-button, .bt3-page-header__date-line-link"),this.anchor&&this.anchor.addEventListener("click",this.doSmoothScroll.bind(this))}doSmoothScroll(e){var i;e.preventDefault();const a=this.anchor.getAttribute("href"),c=a?document.querySelector(a):null;if(c){let h=c.offsetTop+(null!==(i=c.offsetParent.offsetTop)&&void 0!==i?i:0);window.scrollTo({top:h-this.scrollOffset,behavior:"smooth"})}}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-in-page-scroll"]],ngContentSelectors:hW,decls:1,vars:0,template:function(e,i){1&e&&(hr(),aa(0))},encapsulation:2}),t})();const S5=function(t){return["bt3-filter-result",t]};function pW(t,n){if(1&t&&(R(0,"a",3),Dl(1,4),z()),2&t){const e=Z(),i=Ft(4);ec(Ga(6,S5,"bt3-filter-result--"+e.type)),zi("href",e.item.url,en),B("target",e.item.urlOpensInNewTab?"_blank":"_self"),j("rel",e.item.urlOpensInNewTab?"noopener":null),F(1),B("ngTemplateOutlet",i)}}function fW(t,n){if(1&t&&Se(0,"div",4),2&t){const e=Z(),i=Ft(4);ec(Ga(3,S5,"bt3-filter-result--"+e.type)),B("ngTemplateOutlet",i)}}function gW(t,n){if(1&t&&(R(0,"div",9),Se(1,"img",10),z()),2&t){const e=Z(3);F(1),zi("src",e.item.image.src,en),j("alt",e.item.image.alt)}}function _W(t,n){if(1&t&&(zt(0),Q(1,gW,2,2,"div",8),Nt()),2&t){const e=Z(2);F(1),B("ngIf",e.item.image&&e.item.image.src)}}function bW(t,n){if(1&t&&(R(0,"p",12),ot(1),z()),2&t){const e=Z(3);F(1),vn(" ",e.item.distanceNearestLocation," km ")}}function yW(t,n){if(1&t&&(zt(0),Q(1,bW,2,1,"p",11),Nt()),2&t){const e=n.$implicit,i=Z(2);F(1),B("ngIf",i.showDistance&&e.isHeadquarters&&e.distance&&e.distance>0)}}function vW(t,n){if(1&t&&(Q(0,_W,2,1,"ng-container",5),R(1,"h3",6),ot(2),z(),Q(3,yW,2,1,"ng-container",7)),2&t){const e=Z();B("ngIf",e.item.image),F(2),Kn(e.item.title),F(1),B("ngForOf",e.item.locations)}}let I5=(()=>{class t{constructor(){this.type="default",this.item={id:"",image:{src:""},type:"",url:"",title:""},this.showDistance=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-result"]],inputs:{type:"type",item:"item",showDistance:"showDistance"},decls:5,vars:2,consts:[[3,"class","href","target",4,"ngIf"],[3,"class","ngTemplateOutlet",4,"ngIf"],["resultContent",""],[3,"href","target"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"bt3-filter-result__heading"],[4,"ngFor","ngForOf"],["class","bt3-filter-result__image-wrapper",4,"ngIf"],[1,"bt3-filter-result__image-wrapper"],["loading","lazy",1,"bt3-filter-result__image",3,"src"],["class","bt3-filter-result__distance",4,"ngIf"],[1,"bt3-filter-result__distance"]],template:function(e,i){1&e&&(zt(0),Q(1,pW,2,8,"a",0),Q(2,fW,1,5,"div",1),Nt(),Q(3,vW,4,3,"ng-template",null,2,Hs)),2&e&&(F(1),B("ngIf",i.item.url),F(1),B("ngIf",!i.item.url))},directives:[ri,ju,ya],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h3,p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-filter-result{text-decoration:none;display:block}.bt3-filter-result__image-wrapper{width:100%;margin-bottom:3rem}@media (max-width: 37.49em){.bt3-filter-result__image-wrapper{margin-bottom:1.8rem}}.bt3-filter-result__image{width:100%}.bt3-filter-result__heading{font-size:2.4rem;color:var(--black-900)}.bt3-filter-result__distance{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);margin-top:1.6rem}@media (min-width: 60em){.bt3-filter-result__distance{font-size:2.1rem;line-height:1.5}}.bt3-filter-result--subsidiary .bt3-filter-result__image-wrapper{position:relative;padding-bottom:62%;border:1px solid var(--black-400)}.bt3-filter-result--subsidiary .bt3-filter-result__image{position:absolute;top:3rem;left:3rem;width:calc(100% - 6rem);height:calc(100% - 6rem);object-fit:contain}\n'],encapsulation:2}),t})();function xW(t,n){if(1&t&&Se(0,"img",8),2&t){const e=Z();B("src",e.item.image.src,en)("srcset",e.item.image.srcset,en)("alt",e.item.image.alt)}}let A5=(()=>{class t{constructor(){this.item={id:"",image:{src:""},type:"",url:"",title:"",dateLocalizedShort:"",lead:""},this.isLast=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-press-release-teaser"]],inputs:{item:"item",isLast:"isLast"},decls:11,vars:7,consts:[[1,"bt3-press-release-teaser__link",3,"href"],[1,"bt3-press-release-teaser__image-wrapper"],["class","bt3-press-release-teaser__image","loading","lazy",3,"src","srcset","alt",4,"ngIf"],[1,"bt3-press-release-teaser__meta"],[1,"bt3-press-release-teaser__title"],[1,"bt3-press-release-teaser__content"],[1,"bt3-press-release-teaser__text"],[1,"bt3-press-release-teaser__date"],["loading","lazy",1,"bt3-press-release-teaser__image",3,"src","srcset","alt"]],template:function(e,i){1&e&&(R(0,"a",0),R(1,"div",1),Q(2,xW,1,3,"img",2),z(),R(3,"div",3),R(4,"h3",4),ot(5),z(),R(6,"div",5),R(7,"p",6),ot(8),z(),R(9,"p",7),ot(10),z(),z(),z(),z()),2&e&&(Rn("bt3-press-release-teaser__link--last",i.isLast),B("href",i.item.url,en),F(2),B("ngIf",i.item.image),F(3),Kn(i.item.title),F(3),Kn(i.item.lead),F(2),vn(" ",i.item.dateLocalizedShort," "))},directives:[ri],styles:['@charset "UTF-8";.bt3-press-release-teaser__link{text-decoration:none;border-top:1px solid var(--black-300);color:var(--black-900);padding:1.8rem 0 3rem;display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:1.8rem;column-gap:1.8rem}@media (min-width: 37.5em){.bt3-press-release-teaser__link{grid-column-gap:3rem;column-gap:3rem;padding:3.8rem 0}}@media (hover: hover){.bt3-press-release-teaser__link:hover .bt3-press-release-teaser__image{transform:scale(1.1)}.bt3-press-release-teaser__link:hover .bt3-press-release-teaser__title{color:var(--blue-900)}.bt3-press-release-teaser__link:hover .bt3-press-release-teaser__image-wrapper,.bt3-press-release-teaser__link:hover .bt3-press-release-teaser__meta{transform:translate(.9rem)}}.bt3-press-release-teaser__link--last{border-bottom:1px solid var(--black-300)}.bt3-press-release-teaser__image-wrapper{grid-column:1;line-height:0;overflow:hidden;align-self:flex-start;transform:translate(0);transition:transform .6s ease-in-out}.bt3-press-release-teaser__image{width:100%;line-height:1;transform:scale(1);transition:transform .3s ease-in-out}.bt3-press-release-teaser__meta{grid-column:2/span 2;display:flex;flex-direction:column;transform:translate(0);transition:transform .4s ease-in-out}.bt3-press-release-teaser__title{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.3;margin:0}@media (min-width: 60em){.bt3-press-release-teaser__title{font-size:3rem}}.bt3-press-release-teaser__content{margin-top:1.2rem;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}@media (min-width: 37.5em){.bt3-press-release-teaser__content{margin-top:1.8rem}}.bt3-press-release-teaser__text{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin:0}@media (min-width: 60em){.bt3-press-release-teaser__text{font-size:2.1rem;line-height:1.5}}.bt3-press-release-teaser__date{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin:1.2rem 0 0}@media (min-width: 60em){.bt3-press-release-teaser__date{font-size:1.8rem}}@media (min-width: 37.5em){.bt3-press-release-teaser__date{margin:3rem 0 0}}\n'],encapsulation:2}),t})();function wW(t,n){if(1&t){const e=Cn();R(0,"bt3-select",13),Ze("selectionChange",function(a){return mt(e),Z(2).onSelectionChange(a)}),z()}if(2&t){const e=Z(2);zi("label",e.teaserData.select.label),zi("field-name",e.teaserData.select.name),zi("field-id",e.teaserData.select.id),j("data-options",e.selectOptionsJson)}}const CW=function(t){return{"bt3-press-release-subscribe-teaser--compact":t}};function kW(t,n){if(1&t&&(R(0,"div",1),R(1,"div",2),Se(2,"bt3-icon",3),z(),R(3,"div",4),R(4,"div",5),R(5,"div",6),Se(6,"bt3-icon",3),z(),R(7,"div"),R(8,"h3",7),ot(9),z(),R(10,"span",8),ot(11),z(),z(),z(),R(12,"div",9),R(13,"bt3-form-style-wrapper"),R(14,"bt3-form",10),Q(15,wW,1,4,"bt3-select",11),Se(16,"bt3-button-link",12),z(),z(),z(),z(),z()),2&t){const e=Z();B("ngClass",Ga(9,CW,e.compactDisplay)),F(9),vn(" ",e.title," "),F(2),vn("",e.text," "),F(3),B("action",e.teaserData.target),F(1),B("ngIf",e.teaserData.select&&e.selectOptionsJson),F(1),zi("label",e.buttonText),zi("disabled",!!e.targetUrl),j("url",e.targetUrl?e.targetUrl:null)("button-level",e.buttonLevels.SECONDARY)}}let O5=(()=>{class t{constructor(e){this.el=e,this.title="",this.text="",this.buttonText="",this.compactDisplay=!1,this.buttonLevels=tc}set teaserJsonData(e){var i,a,c;this.teaserData=JSON.parse(e),(null===(a=null===(i=this.teaserData)||void 0===i?void 0:i.select)||void 0===a?void 0:a.items)&&(this.selectOptionsJson=JSON.stringify(null===(c=this.teaserData)||void 0===c?void 0:c.select.items))}set isCompact(e){this.compactDisplay="true"===e}onSelectionChange(e){let i=e.detail.value;this.targetUrl=Array.isArray(i)?i[0].id:i.id}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-press-release-subscribe-teaser"]],viewQuery:function(e,i){if(1&e&&En(hp,5),2&e){let a;Xt(a=Kt())&&(i.select=a.first)}},inputs:{teaserJsonData:"teaserJsonData",isCompact:"isCompact",title:"title",text:"text",buttonText:"buttonText"},decls:1,vars:1,consts:[["class","bt3-press-release-subscribe-teaser",3,"ngClass",4,"ngIf"],[1,"bt3-press-release-subscribe-teaser",3,"ngClass"],[1,"bt3-press-release-subscribe-teaser__icon-wrapper","bt3-press-release-subscribe-teaser__icon-wrapper--tablet"],["name","mail",1,"bt3-press-release-subscribe-teaser__icon"],[1,"bt3-press-release-subscribe-teaser__content"],[1,"bt3-press-release-subscribe-teaser__text-wrapper"],[1,"bt3-press-release-subscribe-teaser__icon-wrapper","bt3-press-release-subscribe-teaser__icon-wrapper--mobile"],[1,"bt3-press-release-subscribe-teaser__title"],[1,"bt3-press-release-subscribe-teaser__text"],[1,"bt3-press-release-subscribe-teaser__form-controls"],["method","GET","id","subscribe_newsletter_form",1,"bt3-form--inverted","bt3-form--single-line","bt3-press-release-subscribe-teaser__form",3,"action"],["required","required","class","bt3-press-release-subscribe-teaser__select",3,"label","field-name","field-id","selectionChange",4,"ngIf"],["has-extra-padding","true","is-white","true","open-in-new-tab","true",3,"label","disabled"],["required","required",1,"bt3-press-release-subscribe-teaser__select",3,"label","field-name","field-id","selectionChange"]],template:function(e,i){1&e&&Q(0,kW,17,11,"div",0),2&e&&B("ngIf",i.teaserData)},directives:[ri,Pr],styles:[".bt3-press-release-subscribe-teaser{background:var(--themeDark, var(--blue-900));padding:3.8rem;display:flex;flex-direction:column}.bt3-theme--primary .bt3-press-release-subscribe-teaser,.bt3-press-release-subscribe-teaser.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-press-release-subscribe-teaser,.bt3-press-release-subscribe-teaser.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser{padding-bottom:5.4rem;display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:1.8rem;column-gap:1.8rem}}@media (min-width: 60em){.bt3-press-release-subscribe-teaser{grid-column-gap:3.6rem;column-gap:3.6rem}}.bt3-press-release-subscribe-teaser__icon-wrapper{--themeBase: var(--white);display:flex;justify-content:flex-start}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__icon-wrapper{grid-column:1/span 1;justify-content:center}}.bt3-press-release-subscribe-teaser__icon-wrapper--mobile{margin-right:1.8rem}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__icon-wrapper--mobile{display:none}}.bt3-press-release-subscribe-teaser__icon-wrapper--tablet{display:none}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__icon-wrapper--tablet{display:flex}}.bt3-press-release-subscribe-teaser__icon{width:6rem;height:6rem}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__icon{width:50%;height:auto;transform:translateY(-10%)}}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__icon{width:33%}}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__content{grid-column:2/span 2;min-width:0}}.bt3-press-release-subscribe-teaser__title{color:var(--white);font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.3;margin-top:.3rem}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__title{font-size:3rem}}@media (min-width: 37.5em){.bt3-press-release-subscribe-teaser__title{margin-top:0}}.bt3-press-release-subscribe-teaser__text{color:var(--white);margin-top:.9rem;display:block;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__text{font-size:2.1rem;line-height:1.5}}.bt3-press-release-subscribe-teaser__form-controls{margin-top:1.8rem}.bt3-press-release-subscribe-teaser__form .bt3-atom-button{margin-top:1.8rem}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__form .bt3-atom-button{margin-top:-1px;height:calc(100% + 1px)}}.bt3-press-release-subscribe-teaser__form .bt3-form{display:flex;flex-direction:column}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__form .bt3-form{flex-direction:row}}@media (min-width: 60em){.bt3-press-release-subscribe-teaser__select{margin-right:3rem;flex-shrink:1;flex-basis:35rem}}.bt3-press-release-subscribe-teaser__text-wrapper{display:flex}@media (min-width: 60em){.bt3-press-release-subscribe-teaser--compact{grid-template-columns:repeat(4,1fr)}}@media (min-width: 60em){.bt3-press-release-subscribe-teaser--compact .bt3-press-release-subscribe-teaser__icon-wrapper{grid-column:1/span 1}}@media (min-width: 60em){.bt3-press-release-subscribe-teaser--compact .bt3-press-release-subscribe-teaser__content{grid-column:2/span 3}}.bt3-press-release-subscribe-teaser--compact .bt3-press-release-subscribe-teaser__icon{width:50%}\n"],encapsulation:2}),t})(),Vx=(()=>{class t{transform(e,...i){return i.forEach(a=>{e=e.replace(a.find.toString(),a.replace.toString())}),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ar({name:"findReplaceString",type:t,pure:!0}),t})();const MW=["templateNoResult"];function TW(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(3);F(1),Kn(", "+e.sortedByDistanceLabel)}}function EW(t,n){if(1&t&&(zt(0),ot(1),Q(2,TW,2,1,"ng-container",1),Nt()),2&t){const e=Z(2);F(1),Yh("",!e.showTiles||e.tileViewDisabled?e.itemsTotalChildLocations:e.itemsTotalLocations," ",e.resultTitleLabel,""),F(1),B("ngIf",e.userLocation)}}function DW(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(3);F(1),Yh(" ",e.itemsTotal," ",e.resultTitleLabel," ")}}function SW(t,n){1&t&&ot(0),2&t&&Kn(Z(3).defaultResultLabel)}function IW(t,n){if(1&t&&(zt(0),Q(1,DW,2,2,"ng-container",10),Q(2,SW,1,1,"ng-template",null,11,Hs),Nt()),2&t){const e=Ft(3),i=Z(2);F(1),B("ngIf",i.filterActive)("ngIfElse",e)}}function AW(t,n){if(1&t){const e=Cn();R(0,"div",12),R(1,"button",13),Ze("click",function(){return mt(e),Z(2).showTiles=!0}),Se(2,"bt3-icon",14),ot(3),z(),R(4,"button",13),Ze("click",function(){return mt(e),Z(2).showTiles=!1}),Se(5,"bt3-icon",15),ot(6),z(),z()}if(2&t){const e=Z(2);F(1),Rn("bt3-filter-results__switch--active",e.showTiles),F(2),vn("",e.tileViewLabel," "),F(1),Rn("bt3-filter-results__switch--active",!e.showTiles),F(2),vn("",e.mapViewLabel," ")}}const L5=function(t,n,e){return{item:t,index:n,isLast:e}};function OW(t,n){if(1&t&&(zt(0),Dl(1,17),Nt()),2&t){const e=n.$implicit,i=n.index,a=n.last;Z(4);const c=Ft(4);F(1),B("ngTemplateOutlet",c)("ngTemplateOutletContext",Wh(2,L5,e,i,a))}}function LW(t,n){if(1&t&&(zt(0),Q(1,OW,2,6,"ng-container",16),Nt()),2&t){const e=Z(3);F(1),B("ngForOf",e.itemsLocationsList)}}function PW(t,n){if(1&t&&(zt(0),Dl(1,17),Nt()),2&t){const e=n.$implicit,i=n.index,a=n.last;Z(4);const c=Ft(4);F(1),B("ngTemplateOutlet",c)("ngTemplateOutletContext",Wh(2,L5,e,i,a))}}function FW(t,n){if(1&t&&(zt(0),Q(1,PW,2,6,"ng-container",16),Nt()),2&t){const e=Z(3);F(1),B("ngForOf",e.items)}}const RW=function(t){return["bt3-filter-results__list",t]};function zW(t,n){if(1&t&&(R(0,"ul"),Q(1,LW,2,1,"ng-container",1),Q(2,FW,2,1,"ng-container",1),z()),2&t){const e=Z(2);ec(Ga(5,RW,"bt3-filter-results__list--"+e.teaserType)),B("@fadeInOutCARDS",void 0),F(1),B("ngIf","subsidiary"===e.type||"apprenticeship"===e.type),F(1),B("ngIf","subsidiary"!==e.type&&"apprenticeship"!==e.type)}}const NW=function(t){return{find:"%c",replace:t}},BW=function(t){return{find:"%t",replace:t}};function VW(t,n){if(1&t&&(R(0,"p",19),ot(1),Vu(2,"findReplaceString"),z()),2&t){const e=Z(3);F(1),vn(" ",O3(2,1,e.numLoadedResultsLabel,Ga(5,NW,"subsidiary"===e.type||"apprenticeship"===e.type?e.itemsLocationsList.length:e.items.length),Ga(7,BW,"subsidiary"===e.type||"apprenticeship"===e.type?e.itemsTotalLocations:e.itemsTotal))," ")}}function HW(t,n){if(1&t){const e=Cn();R(0,"div"),R(1,"bt3-button-link",20),Ze("click",function(){return mt(e),Z(4).getMoreLocationsData()}),z(),z()}if(2&t){const e=Z(4);Fd("bt3-filter-results__load-more-button-wrapper bt3-theme bt3-theme--",e.themeVariant,""),F(1),zi("label",e.loadMoreLabel),zi("button-level",e.buttonLevels.PRIMARY)}}function jW(t,n){if(1&t&&(zt(0),Q(1,HW,2,5,"div",8),Nt()),2&t){const e=Z(3);F(1),B("ngIf",e.itemsLocationsList.length!==e.itemsTotalLocations&&!e.isLoadingMore)}}function UW(t,n){if(1&t){const e=Cn();R(0,"div"),R(1,"bt3-button-link",20),Ze("click",function(){return mt(e),Z(4).getMoreData()}),z(),z()}if(2&t){const e=Z(4);Fd("bt3-filter-results__load-more-button-wrapper bt3-theme bt3-theme--",e.themeVariant,""),F(1),zi("label",e.loadMoreLabel),zi("button-level",e.buttonLevels.PRIMARY)}}function GW(t,n){if(1&t&&(zt(0),Q(1,UW,2,5,"div",8),Nt()),2&t){const e=Z(3);F(1),B("ngIf",e.items.length!==e.itemsTotal&&!e.isLoadingMore)}}function $W(t,n){if(1&t&&(zt(0),Q(1,VW,3,9,"p",18),Q(2,jW,2,1,"ng-container",1),Q(3,GW,2,1,"ng-container",1),Nt()),2&t){const e=Z(2);F(1),B("ngIf",!e.isLoadingMore),F(1),B("ngIf","subsidiary"===e.type||"apprenticeship"===e.type),F(1),B("ngIf","subsidiary"!==e.type&&"apprenticeship"!==e.type)}}function YW(t,n){1&t&&(R(0,"div",21),Se(1,"app-loader"),z())}function qW(t,n){if(1&t){const e=Cn();R(0,"div"),R(1,"div",3),R(2,"div",4),R(3,"div",22),R(4,"div",23),R(5,"app-locations",24),Ze("userLocated",function(a){return mt(e),Z(2).onUserLocatedOnMap(a)}),z(),z(),z(),z(),z(),z()}if(2&t){const e=Z(2);F(1),B("@fadeInOutMAP",void 0),F(4),B("locationsJson",e.itemsLocationsMapJson)("showRouteLabel",e.showRouteLabel)("showMoreLabel",e.showMoreLabel)("backLabel",e.backLabel)("themeVariant",e.themeVariant)("userLocation",e.userLocation)("showDistance",!!e.userLocation)}}function WW(t,n){if(1&t&&(zt(0),R(1,"div",3),R(2,"div",4),R(3,"div",5),R(4,"h2",6),Q(5,EW,3,3,"ng-container",1),Q(6,IW,4,2,"ng-container",1),Q(7,AW,7,6,"div",7),z(),Q(8,zW,3,7,"ul",8),Q(9,$W,4,3,"ng-container",1),Q(10,YW,2,0,"div",9),z(),z(),z(),Q(11,qW,6,8,"div",1),Nt()),2&t){const e=Z();F(5),B("ngIf","subsidiary"===e.type||"apprenticeship"===e.type),F(1),B("ngIf","subsidiary"!==e.type&&"apprenticeship"!==e.type),F(1),B("ngIf",!e.tileViewDisabled&&e.hasMap),F(1),B("ngIf",!e.tileViewDisabled&&e.showTiles),F(1),B("ngIf",!e.tileViewDisabled&&e.showTiles),F(1),B("ngIf",e.isLoadingMore),F(1),B("ngIf",(!e.showTiles||e.tileViewDisabled)&&e.hasMap)}}function ZW(t,n){1&t&&(zt(0),R(1,"div",null,25),aa(3),z(),Nt())}function XW(t,n){if(1&t&&Se(0,"app-filter-result",27),2&t){const e=Z().item,i=Z();B("item",e)("type",i.type)("showDistance",!!i.userLocation)}}function KW(t,n){if(1&t&&(zt(0),Se(1,"app-press-release-subscribe-teaser",29),Nt()),2&t){const e=Z(3);F(1),B("teaserJsonData",e.pressReleaseSubscriptionTeaserJsonData)("title",e.pressReleaseSubscriptionTitle)("text",e.pressReleaseSubscriptionText)("buttonText",e.pressReleaseSubscriptionButtonText)}}function JW(t,n){if(1&t&&(zt(0),Q(1,KW,2,4,"ng-container",1),Se(2,"app-press-release-teaser",28),Nt()),2&t){const e=Z(),i=e.index,a=e.item,c=e.isLast,h=Z();F(1),B("ngIf",h.pressReleaseSubscriptionTeaserJsonData&&3===i),F(1),B("item",a)("isLast",c)}}const QW=function(t){return["bt3-filter-results__list-item",t]};function eZ(t,n){if(1&t&&(R(0,"li"),Q(1,XW,1,3,"app-filter-result",26),Q(2,JW,3,3,"ng-container",1),z()),2&t){const e=Z();ec(Ga(4,QW,"bt3-filter-results__list-item--"+e.type)),F(1),B("ngIf","default"===e.teaserType),F(1),B("ngIf","press-releases"===e.teaserType)}}const tZ=[[["",8,"content-no-results"]]],nZ=[".content-no-results"],iZ={default:"default",subsidiary:"default",apprenticeship:"default","press-releases":"press-releases"},P5="bt3-hidden";let F5=(()=>{class t{constructor(){this.userLocatedOnMap=new Et,this.items=[],this.itemsLocationsList=[],this.userLocation=null,this.itemsTotal=0,this.itemsTotalLocations=0,this.isLoaded=!1,this.isLoadingMore=!1,this.filterActive=!1,this.tileViewDisabled=!0,this.resultTitleLabel="",this.defaultResultLabel="",this.sortedByDistanceLabel="",this.type="default",this.mapViewLabel="",this.tileViewLabel="",this.themeVariant="primary",this.showRouteLabel="",this.showMoreLabel="",this.backLabel="",this.loadMoreLabel="",this.numLoadedResultsLabel="",this.pressReleaseSubscriptionTitle="",this.pressReleaseSubscriptionText="",this.pressReleaseSubscriptionButtonText="",this.onMoreDataRequest=new Et,this.onMoreLocationsDataRequest=new Et,this.itemsLocationsMapJson="",this.itemsTotalChildLocations=0,this.showTiles=!0,this.hasMap=!1,this.teaserType="default",this.buttonLevels=tc}set itemsLocationsMap(e){this.itemsLocationsMapJson=this.getTransformedLocations(e);let i=0;e.forEach(a=>{var c,h;i=(null===(c=a.locations)||void 0===c?void 0:c.length)?i+(null===(h=a.locations)||void 0===h?void 0:h.length):i}),this.itemsTotalChildLocations=i}ngOnInit(){this.hasMap="subsidiary"===this.type||"apprenticeship"===this.type,this.teaserType=iZ[this.type]}ngAfterViewChecked(){var e;const i=null===(e=this.templateNoResult)||void 0===e?void 0:e.nativeElement.querySelector(`.${P5}`);i&&i.classList.remove(P5)}getTransformedLocations(e){const i=e.map(h=>h.locations?[...h.locations.map(b=>(b.title=h.title,b.moreUrl=h.url,b.moreUrlOpensInNewTab=h.urlOpensInNewTab,b))]:[]),a=[].concat(...i),c=this.userLocation?this.sortLocationsByDistance(a):this.sortLocationsAlphabetical(a);return JSON.stringify({data:[{locations:c}],zoomLevel:15})}sortLocationsAlphabetical(e){return e.sort((i,a)=>i.title&&a.title&&i.title!==a.title?i.title.localeCompare(a.title):0)}sortLocationsByDistance(e){return e.sort((i,a)=>i.distance&&a.distance&&i.distance!==a.distance?i.distance>a.distance?1:-1:0),e}onUserLocatedOnMap(e){this.userLocatedOnMap.emit(e)}getMoreData(){this.onMoreDataRequest.emit()}getMoreLocationsData(){this.onMoreLocationsDataRequest.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-results"]],viewQuery:function(e,i){if(1&e&&En(MW,5),2&e){let a;Xt(a=Kt())&&(i.templateNoResult=a.first)}},inputs:{items:"items",itemsLocationsList:"itemsLocationsList",itemsLocationsMap:"itemsLocationsMap",userLocation:"userLocation",itemsTotal:"itemsTotal",itemsTotalLocations:"itemsTotalLocations",isLoaded:"isLoaded",isLoadingMore:"isLoadingMore",filterActive:"filterActive",tileViewDisabled:"tileViewDisabled",resultTitleLabel:"resultTitleLabel",defaultResultLabel:"defaultResultLabel",sortedByDistanceLabel:"sortedByDistanceLabel",type:"type",mapViewLabel:"mapViewLabel",tileViewLabel:"tileViewLabel",themeVariant:"themeVariant",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",backLabel:"backLabel",loadMoreLabel:"loadMoreLabel",numLoadedResultsLabel:"numLoadedResultsLabel",pressReleaseSubscriptionTeaserJsonData:"pressReleaseSubscriptionTeaserJsonData",pressReleaseSubscriptionTitle:"pressReleaseSubscriptionTitle",pressReleaseSubscriptionText:"pressReleaseSubscriptionText",pressReleaseSubscriptionButtonText:"pressReleaseSubscriptionButtonText",showTiles:"showTiles"},outputs:{userLocatedOnMap:"userLocatedOnMap",onMoreDataRequest:"onMoreDataRequest",onMoreLocationsDataRequest:"onMoreLocationsDataRequest"},ngContentSelectors:nZ,decls:5,vars:2,consts:[[1,"bt3-filter-results"],[4,"ngIf"],["teaser",""],[1,"bt3-grid__container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-12","bt3-grid__tablet-col-9","bt3-grid__tablet-col-offset-1"],[1,"bt3-filter-results__heading"],["class","bt3-filter-results__switch-wrapper",4,"ngIf"],[3,"class",4,"ngIf"],["class","bt3-filter-results__loader-wrapper",4,"ngIf"],[4,"ngIf","ngIfElse"],["recommended",""],[1,"bt3-filter-results__switch-wrapper"],[1,"bt3-filter-results__switch",3,"click"],["className","bt3-filter-results__switch-icon","name","tileview"],["className","bt3-filter-results__switch-icon","name","mapview"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","bt3-filter-results__info-num-loaded-results",4,"ngIf"],[1,"bt3-filter-results__info-num-loaded-results"],["has-extra-padding","true",3,"label","button-level","click"],[1,"bt3-filter-results__loader-wrapper"],[1,"bt3-grid__mobile-col-12","bt3-grid__desktop-col-11","bt3-grid__desktop-col-offset-1"],[1,"bt3-filter-results__locations"],[3,"locationsJson","showRouteLabel","showMoreLabel","backLabel","themeVariant","userLocation","showDistance","userLocated"],["templateNoResult",""],[3,"item","type","showDistance",4,"ngIf"],[3,"item","type","showDistance"],[3,"item","isLast"],[3,"teaserJsonData","title","text","buttonText"]],template:function(e,i){1&e&&(hr(tZ),R(0,"div",0),Q(1,WW,12,7,"ng-container",1),Q(2,ZW,4,0,"ng-container",1),z(),Q(3,eZ,3,6,"ng-template",null,2,Hs)),2&e&&(F(1),B("ngIf",i.isLoaded&&("subsidiary"===i.type||"apprenticeship"===i.type)&&i.itemsTotalLocations>0||i.isLoaded&&"subsidiary"!==i.type&&"apprenticeship"!==i.type&&i.items.length>0),F(1),B("ngIf",!i.isLoaded||("subsidiary"===i.type||"apprenticeship"===i.type)&&0===i.itemsTotalLocations||"subsidiary"!==i.type&&"apprenticeship"!==i.type&&0===i.items.length))},directives:[ri,ya,ju,Qm,Ek,I5,A5,O5],pipes:[Vx],styles:['@charset "UTF-8";html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{word-break:break-word}li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}button[_ngcontent-%COMP%]{background:none;border:none;border-radius:0;padding:0;cursor:pointer}h2[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-grid__row[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;flex-flow:row wrap}.bt3-grid__container[_ngcontent-%COMP%]{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}@media (min-width: 37.5em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .bt3-grid__tablet-col-9[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-9[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .bt3-grid__tablet-col-9[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__tablet-col-9[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-1[_ngcontent-%COMP%], .bt3-grid__desktop-col-11[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-11[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:91.6666666667%;max-width:91.6666666667%}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 100em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 120.0625em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 150.0625em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}.bt3-filter-results__list[_ngcontent-%COMP%]{list-style:none}.bt3-filter-results__list--default[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:6rem 1.8rem}@media (min-width: 37.5em){.bt3-filter-results__list--default[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (min-width: 60em){.bt3-filter-results__list--default[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-gap:9rem 3.6rem}}.bt3-filter-results__heading[_ngcontent-%COMP%]{display:flex;margin-bottom:6rem;flex-direction:column}@media (min-width: 60em){.bt3-filter-results__heading[_ngcontent-%COMP%]{margin-bottom:9rem;justify-content:space-between;flex-direction:row}}.bt3-filter-results__switch-wrapper[_ngcontent-%COMP%]{display:flex}.bt3-filter-results__switch[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:0;font-size:1.8rem;color:var(--black-500);--themeBase: var(--black-500);margin-right:3rem;margin-top:3rem}@media (min-width: 60em){.bt3-filter-results__switch[_ngcontent-%COMP%]{margin-top:0}}.bt3-filter-results__switch[_ngcontent-%COMP%]   bt3-icon[_ngcontent-%COMP%]{margin-right:.9rem;vertical-align:middle;transform:translateY(-2px)}.bt3-filter-results__switch[_ngcontent-%COMP%]:hover{color:var(--black-900);--themeBase: var(--black-900)}.bt3-filter-results__switch[_ngcontent-%COMP%]:last-child{margin-right:0}.bt3-filter-results__switch--active[_ngcontent-%COMP%]{color:var(--black-900);--themeBase: var(--black-900)}.bt3-filter-results__locations[_ngcontent-%COMP%]{margin:0 -1.8rem}@media (min-width: 60em){.bt3-filter-results__locations[_ngcontent-%COMP%]{margin:0 -7.2rem 0 0}}.bt3-filter-results__info-num-loaded-results[_ngcontent-%COMP%], .bt3-filter-results__loader-wrapper[_ngcontent-%COMP%]{margin-top:6rem}@media (min-width: 37.5em){.bt3-filter-results__info-num-loaded-results[_ngcontent-%COMP%], .bt3-filter-results__loader-wrapper[_ngcontent-%COMP%]{margin-top:9rem}}.bt3-filter-results__info-num-loaded-results[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);text-align:center}@media (min-width: 60em){.bt3-filter-results__info-num-loaded-results[_ngcontent-%COMP%]{font-size:1.8rem}}.bt3-filter-results__load-more-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:4.5rem}'],data:{animation:[kr("fadeInOutCARDS",[ma("void",Ln({opacity:0})),ra("void <=> *",va("500ms 10ms ease-in-out"))]),kr("fadeInOutMAP",[ma("void",Ln({opacity:0})),ra("void <=> *",va("1000ms 400ms ease-in-out"))])]}}),t})();function aZ(t,n){if(1&t&&(R(0,"h2",9),ot(1),z()),2&t){const e=Z(2);F(1),vn(" ",e.filterTitleLabel," ")}}function rZ(t,n){if(1&t){const e=Cn();R(0,"div",4),R(1,"div",5),R(2,"div",6),Q(3,aZ,2,1,"h2",7),R(4,"app-filter-interface",8),Ze("updateSelectedFilter",function(a){return mt(e),Z().updateSelectedFilter(a)})("updateSelectedYearRangeFilter",function(a){return mt(e),Z().updateSelectedYearRangeFilter(a)})("updateSelectedLocation",function(a){return mt(e),Z().updateSelectedLocation(a)})("deleteSelectedTag",function(a){return mt(e),Z().onTagDelete(a)})("onResetFilters",function(){return mt(e),Z().resetFilters()}),z(),z(),z(),z()}if(2&t){const e=Z();F(3),B("ngIf",e.filterTitleLabel),F(1),B("filters",e.filterData)("selectedFilterData",e.selectedFilterData)("selectedYearRangeFilterData",e.selectedYearRangeFilterData)("userLocation",e.userLocation)("resetFilterLabel",e.resetFilterLabel)("myLocationLabel",e.myLocationLabelSet)("clearButtonAriaLabel",e.clearButtonAriaLabel)("selectedFilterSingularLabel",e.selectedFilterSingularLabel)("selectedFilterPluralLabel",e.selectedFilterPluralLabel)("mapboxCountryCodes",e.mapboxCountryCodes)("themeVariant",e.themeVariant)}}function oZ(t,n){1&t&&Se(0,"app-loader")}const Ak=function(){return[]};function sZ(t,n){if(1&t){const e=Cn();R(0,"app-filter-results",10),Ze("onMoreDataRequest",function(){return mt(e),Z().getData(!0)})("onMoreLocationsDataRequest",function(){return mt(e),Z().updateLocationsData(!0)})("userLocatedOnMap",function(a){return mt(e),Z().updateLocationWithMapLocation(a)}),R(1,"div",11),aa(2),z(),z()}if(2&t){const e=Z();B("userLocation",e.userLocation||null)("items",(null==e.data?null:e.data.data)||Bu(27,Ak))("itemsLocationsList",e.dataLocationsFilteredShown||Bu(28,Ak))("itemsLocationsMap",e.dataLocationsFilteredMap||Bu(29,Ak))("itemsTotal",(null==e.data||null==e.data.meta||null==e.data.meta.pagination?null:e.data.meta.pagination.total)||0)("itemsTotalLocations",e.dataLocationsFiltered.length||0)("isLoaded",e.isLoaded)("isLoadingMore",e.isLoadingMore)("tileViewDisabled",e.tileViewDisabled)("resultTitleLabel",e.resultTitleLabel)("defaultResultLabel",e.defaultResultLabel)("loadMoreLabel",e.loadMoreLabel)("numLoadedResultsLabel",e.numLoadedResultsLabel)("filterActive",e.filterActive)("sortedByDistanceLabel",e.sortedByDistanceLabel)("type",e.type)("tileViewLabel",e.tileViewLabel)("mapViewLabel",e.mapViewLabel)("showRouteLabel",e.showRouteLabel)("showMoreLabel",e.showMoreLabel)("themeVariant",e.themeVariant)("backLabel",e.backLabel)("pressReleaseSubscriptionTeaserJsonData",e.pressReleaseSubscriptionTeaserJsonData)("pressReleaseSubscriptionTitle",e.pressReleaseSubscriptionTitle)("pressReleaseSubscriptionText",e.pressReleaseSubscriptionText)("pressReleaseSubscriptionButtonText",e.pressReleaseSubscriptionButtonText)("showTiles",e.showTiles)}}const lZ=[[["",8,"no-results"]]],cZ=function(t,n){return{"bt3-vertical-margin--first":t,"bt3-vertical-margin--last":n}},dZ=[".no-results"];let R5=(()=>{class t{constructor(){this.endpoint="",this.type="default",this.themeVariant="primary",this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.resetFilterLabel="",this.mapViewLabel="",this.tileViewLabel="",this.showRouteLabel="",this.showMoreLabel="",this.backLabel="",this.clearButtonAriaLabel="",this.myLocationLabel="",this.resultTitleLabel="",this.defaultResultLabel="",this.sortedByDistanceLabel="",this.noResultsLabel="",this.loadMoreLabel="",this.numLoadedResultsLabel="",this.pressReleaseSubscriptionTitle="",this.pressReleaseSubscriptionText="",this.pressReleaseSubscriptionButtonText="",this.showTiles=!0,this.currentEndpointUrl="",this.currentEndpointInitialUrl="",this.isLoaded=!1,this.isLoading=!0,this.isLoadingMore=!1,this.preventMarginTop=!1,this.preventMarginBottom=!1,this.tileViewDisabled=!1,this.numOfItemsPerRequest=6,this.dataLocationsFiltered=[],this.dataLocationsFilteredShown=[],this.dataLocationsFilteredMap=[],this.filterData=[],this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.filterActive=!1,this.myLocationLabelSet="",this.currentPaginationParams="",this.mapboxCountryCodes=lm,this.mapBoxPromise=Promise.resolve().then(Yn.t.bind(Yn,811,23))}set itemsPerRequest(e){this.numOfItemsPerRequest=isNaN(parseInt(e))?this.numOfItemsPerRequest:parseInt(e)}set disableTileView(e){this.tileViewDisabled="true"===e||"1"===e}set isFirst(e){this.preventMarginTop="true"===e||"1"===e}set isLast(e){this.preventMarginBottom="true"===e||"1"===e}ngOnInit(){this.currentEndpointUrl=-1!=this.endpoint.indexOf("http")?this.endpoint:window.location.origin+this.endpoint,this.endpointInitial&&(this.currentEndpointInitialUrl=-1!=this.endpointInitial.indexOf("http")?this.endpointInitial:window.location.origin+this.endpointInitial),this.getData(),("subsidiary"===this.type||"apprenticeship"===this.type)&&this.mapBoxPromise.then(e=>{this.mapbox=e})}getData(e=!1){const i=this.getEndpointUrlWithParameters(),a="subsidiary"===this.type||"apprenticeship"===this.type?i:this.addPaginationParamsToEndpoint(i,e);e?this.isLoadingMore=!0:this.isLoading=!0,fetch(a).then(c=>{200===c.status?c.json().then(h=>{this.data?e?this.data.data.push(...h.data):(this.data.data=h.data,this.data.meta.pagination=h.meta.pagination):this.data=h,this.data&&(this.assignFilterData(this.data),this.adaptCountryCodes()),this.setPreSelectedFilterFromUrl(),("subsidiary"===this.type||"apprenticeship"===this.type)&&this.updateLocationsData(),this.isLoaded=!0,e?this.isLoadingMore=!1:this.isLoading=!1}):console.error("Delivery of filter api failed")}).catch(c=>{console.error("Fetch error: ",c)})}assignFilterData(e){const i=[];e.meta.filterConfiguration.filters.forEach(a=>{if("MultiSelect"===a.filterType||"SingleSelect"===a.filterType||"SearchLocationInput"===a.filterType||"SearchInput"===a.filterType)i.push(a);else if("YearRange"===a.filterType){const c=[];a.filterProperties.years.forEach(h=>{const b={id:h.toString(),title:h.toString()};c.push(b)}),a.filterProperties.options=c,i.push(a)}}),this.filterData=i}updateLocationsData(e=!1,i=!1){var a;if(e||(this.isLoading=!0),null===(a=this.data)||void 0===a?void 0:a.data){if(Object.keys(this.selectedFilterData).length||this.userLocation){let h=this.filterLocationsData(this.data.data);h=this.userLocation&&this.mapbox?this.sortLocationFilterItemsByDistance(h):this.sortLocationFilterItemsAlphabetical(h),this.dataLocationsFiltered=h}else this.dataLocationsFiltered=this.sortLocationFilterItemsAlphabetical(this.data.data);this.dataLocationsFilteredShown=this.dataLocationsFiltered.slice(0,(i?0:this.dataLocationsFilteredShown.length)+this.numOfItemsPerRequest),this.dataLocationsFilteredMap=[...this.dataLocationsFiltered],this.isLoaded=!0,e||(this.isLoading=!1)}}filterLocationsData(e){return Object.keys(this.selectedFilterData).forEach(i=>{const a=this.selectedFilterData[i];if(Array.isArray(a)&&a.length){const c=this.selectedFilterData[i].map(h=>h.id);e=e.filter(h=>!!h[i]&&!!h[i].find(w=>c.find(E=>E===w.id)))}}),e}sortLocationFilterItemsAlphabetical(e){return e.forEach(i=>{var a;null===(a=i.locations)||void 0===a||a.sort((c,h)=>c.title&&h.title&&c.title!==h.title?c.title.localeCompare(h.title):0)}),e.sort((i,a)=>i.title&&a.title&&i.title!==a.title?i.title.localeCompare(a.title):0)}sortLocationFilterItemsByDistance(e){return e.forEach(i=>{i.locations&&i.locations.length&&(i.locations=this.sortLocationByDistance(i.locations),i.distanceNearestLocation=i.locations[0].distance)}),e.sort((i,a)=>i.distanceNearestLocation&&a.distanceNearestLocation&&i.distanceNearestLocation!==a.distanceNearestLocation?i.distanceNearestLocation>a.distanceNearestLocation?1:-1:0),e}sortLocationByDistance(e){if(this.userLocation&&this.mapbox){const i=this.mapbox,a=new this.mapbox.LngLat(this.userLocation.location.longitude,this.userLocation.location.latitude);e.forEach(c=>{const h=a.distanceTo(new i.LngLat(c.geo.longitude,c.geo.latitude));c.distance=Math.round(h/100)/10}),e.sort((c,h)=>c.distance&&h.distance?c.distance>h.distance?1:-1:0)}return e}getEndpointUrlWithParameters(){const i=new URL(decodeURI(window.location.href)).search.replace("?","").split("&").filter(h=>-1!==h.indexOf("filter")),a=0===i.length&&this.endpointInitial?this.endpointInitial:this.endpoint,c=this.endpoint.toString().includes("?")?"&":"?";return i.length>0?`${a}${c}${i.join("&")}`:a}updateUrlParameter(){let e=!1;Object.keys(this.selectedFilterData).forEach(L=>{Array.isArray(this.selectedFilterData[L])&&this.selectedFilterData[L].length>0&&(e=!0)}),this.selectedYearRangeFilterData.length>0&&(e=!0);const i=this.endpointInitial&&e?this.endpointInitial:this.endpoint,a=new URL(-1!=i.indexOf("http")?i:window.location.origin+i);a.search="";const c=a.searchParams;Object.keys(this.selectedFilterData).forEach(L=>{var $;const K=null===($=this.filterData.find(ie=>ie.id===L))||void 0===$?void 0:$.filterType;if("MultiSelect"===K)this.selectedFilterData[L].forEach(ie=>{c.append(`filter[${L}][]`,ie.id)});else if("SingleSelect"===K){const ie=`filter[${L}]`,pe=this.selectedFilterData[L],Pe=Array.isArray(pe)?pe[0].id:pe.id;c.append(ie,Pe)}else if("SearchInput"===K){const ie=`filter[${L}]`,pe=this.selectedFilterData[L],Pe=Array.isArray(pe)?pe[0].title:pe.title;c.append(ie,Pe)}}),Object.keys(this.selectedYearRangeFilterData).forEach(L=>{const $=this.selectedYearRangeFilterData[L].min,K=this.selectedYearRangeFilterData[L].max;$&&c.append("filter[year][from]",$),K&&c.append("filter[year][to]",K)});const h=c.toString();a.search=h,this.currentEndpointUrl=a.toString(),this.filterActive=""!==h;const b=new URL(window.location.href),w=b.search.replace("?","").split("&");b.search=c.toString(),w.forEach(L=>{if(L&&!(L=decodeURI(L)).includes("filter")){let $=L.split("=");b.searchParams.append($[0],$[1])}});const E=`${b.toString()}`;window.history.pushState({path:E},"",E)}addPaginationParamsToEndpoint(e,i){const a=i&&this.data&&this.data.data?this.data.data.length:0,c=e.includes("?")?"&":"?";return this.currentPaginationParams=`${c}pagination[offset]=${a}&pagination[limit]=${this.numOfItemsPerRequest}`,`${e}${this.currentPaginationParams}`}setPreSelectedFilterFromUrl(){const e=new URL(window.location.href),i=this.parseQueryString(e.searchParams.toString()),a=[];i&&(Object.keys(i).forEach(c=>{Array.isArray(i[c])?i[c].forEach(h=>{a.push({key:c,id:h})}):a.push({key:c,id:i[c]})}),this.filterData.filter(c=>{let h=[];a.forEach(b=>{if(("MultiSelect"===c.filterType||"SingleSelect"===c.filterType)&&c.id===b.key&&c.filterProperties.options.forEach(w=>{w.id===b.id&&(w.checked=!0,h.push({id:w.id,title:w.title,checked:!0}))}),"SearchInput"===c.filterType&&c.id===b.key&&h.push({id:b.key,title:b.id.replace(/\+/g," ")}),"YearRange"===c.filterType&&-1!==b.key.indexOf("year")){const w="yearfrom"===b.key,E=this.selectedYearRangeFilterData.year?Object.assign({},this.selectedYearRangeFilterData.year):{};E.id=c.id,w?(E.min=b.id.toString(),E.labelMin=`${c.filterProperties.labels.start} ${b.id}`):(E.max=b.id.toString(),E.labelMax=`${c.filterProperties.labels.end} ${b.id}`),this.selectedYearRangeFilterData.year=E}}),h.length>0?(this.selectedFilterData[c.id]=h,h=[]):delete this.selectedFilterData[c.id]}),Object.keys(this.selectedFilterData).length>0&&(this.filterActive=!0))}parseQueryString(e){const i=e.split("&"),a={};for(let c=0;c<i.length;c++){const h=i[c].split("="),b=decodeURIComponent(h[0]).replace(/[\[\]']+/g,"").replace("filter",""),w=decodeURIComponent(h[1]);if(void 0===a[b])a[b]=decodeURIComponent(w);else if("string"==typeof a[b]){const E=[a[b],decodeURIComponent(w)];a[b]=E}else a[b].push(decodeURIComponent(w))}return a}updateSelectedFilter(e){"search"===e.id&&""===e.value.id?delete this.selectedFilterData[e.id]:(this.selectedFilterData[e.id]=e.value,"countries"===e.id&&this.adaptCountryCodes()),this.updateUrlParameter(),"subsidiary"===this.type||"apprenticeship"===this.type?this.updateLocationsData(!1,!0):this.getData()}updateSelectedYearRangeFilter(e){e.id&&(this.selectedYearRangeFilterData[e.id]?(e.min&&(this.selectedYearRangeFilterData[e.id].min=e.min,this.selectedYearRangeFilterData[e.id].labelMin=e.labelMin),e.max&&(this.selectedYearRangeFilterData[e.id].max=e.max,this.selectedYearRangeFilterData[e.id].labelMax=e.labelMax)):this.selectedYearRangeFilterData[e.id]=e,this.updateUrlParameter(),this.getData())}updateSelectedLocation(e){this.userLocation=e,this.updateUrlParameter(),this.updateLocationsData(!1,!0)}updateLocationWithMapLocation(e){this.userLocation={label:this.myLocationLabel,location:e,locatedOnMap:!0},this.updateUrlParameter(),this.updateLocationsData(!1,!0)}onTagDelete(e){var i;const a=e.id.replace(/(StartYear|EndYear)/,""),c=null===(i=this.filterData.find(h=>h.id===a))||void 0===i?void 0:i.filterType;if("MultiSelect"===c){const h=this.selectedFilterData[a].map(b=>b.id).indexOf(e.value);h>-1&&this.selectedFilterData[a].splice(h,1),"countries"===a&&this.adaptCountryCodes()}if(("SingleSelect"===c||"SearchInput"===c)&&delete this.selectedFilterData[a],"YearRange"===c){const h=this.selectedYearRangeFilterData[a];h&&(-1!==e.id.indexOf("StartYear")?h.min=null:h.max=null)}"SearchLocationInput"===c&&(this.userLocation=null),this.updateUrlParameter(),"subsidiary"===this.type||"apprenticeship"===this.type?this.updateLocationsData(!1,!0):this.getData()}resetFilters(){this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.updateUrlParameter(),this.adaptCountryCodes(),"subsidiary"===this.type||"apprenticeship"===this.type?this.updateLocationsData(!1,!0):this.getData()}adaptCountryCodes(){const e=this.filterData.find(a=>"countries"===a.id),i=this.selectedFilterData.countries;if(i&&Array.isArray(i)){const a=this.getNewMapboxCountryCodes(i);this.mapboxCountryCodes=a.length?a:lm}else if(e){const a=this.getNewMapboxCountryCodes(e.filterProperties.options);this.mapboxCountryCodes=a.length?a:lm}else this.mapboxCountryCodes=lm}getNewMapboxCountryCodes(e){const i=[];return e.forEach(a=>{switch(a.id){case"116":i.push("ch");break;case"117":i.push("de");break;case"118":i.push("at");break;case"119":i.push("fr");break;case"120":i.push("it")}}),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter"]],inputs:{endpoint:"endpoint",endpointInitial:"endpointInitial",itemsPerRequest:"itemsPerRequest",type:"type",themeVariant:"themeVariant",disableTileView:"disableTileView",isFirst:"isFirst",isLast:"isLast",filterTitleLabel:"filterTitleLabel",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",resetFilterLabel:"resetFilterLabel",mapViewLabel:"mapViewLabel",tileViewLabel:"tileViewLabel",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",backLabel:"backLabel",clearButtonAriaLabel:"clearButtonAriaLabel",myLocationLabel:"myLocationLabel",resultTitleLabel:"resultTitleLabel",defaultResultLabel:"defaultResultLabel",sortedByDistanceLabel:"sortedByDistanceLabel",noResultsLabel:"noResultsLabel",loadMoreLabel:"loadMoreLabel",numLoadedResultsLabel:"numLoadedResultsLabel",pressReleaseSubscriptionTeaserJsonData:"pressReleaseSubscriptionTeaserJsonData",pressReleaseSubscriptionTitle:"pressReleaseSubscriptionTitle",pressReleaseSubscriptionText:"pressReleaseSubscriptionText",pressReleaseSubscriptionButtonText:"pressReleaseSubscriptionButtonText",showTiles:"showTiles"},ngContentSelectors:dZ,decls:4,vars:7,consts:[[1,"bt3-filter","bt3-vertical-margin--extra-large",3,"ngClass"],["class","bt3-grid__container",4,"ngIf"],[4,"ngIf"],[3,"userLocation","items","itemsLocationsList","itemsLocationsMap","itemsTotal","itemsTotalLocations","isLoaded","isLoadingMore","tileViewDisabled","resultTitleLabel","defaultResultLabel","loadMoreLabel","numLoadedResultsLabel","filterActive","sortedByDistanceLabel","type","tileViewLabel","mapViewLabel","showRouteLabel","showMoreLabel","themeVariant","backLabel","pressReleaseSubscriptionTeaserJsonData","pressReleaseSubscriptionTitle","pressReleaseSubscriptionText","pressReleaseSubscriptionButtonText","showTiles","onMoreDataRequest","onMoreLocationsDataRequest","userLocatedOnMap",4,"ngIf"],[1,"bt3-grid__container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-12","bt3-grid__tablet-col-9","bt3-grid__tablet-col-offset-1"],["class","bt3-filter__heading",4,"ngIf"],[3,"filters","selectedFilterData","selectedYearRangeFilterData","userLocation","resetFilterLabel","myLocationLabel","clearButtonAriaLabel","selectedFilterSingularLabel","selectedFilterPluralLabel","mapboxCountryCodes","themeVariant","updateSelectedFilter","updateSelectedYearRangeFilter","updateSelectedLocation","deleteSelectedTag","onResetFilters"],[1,"bt3-filter__heading"],[3,"userLocation","items","itemsLocationsList","itemsLocationsMap","itemsTotal","itemsTotalLocations","isLoaded","isLoadingMore","tileViewDisabled","resultTitleLabel","defaultResultLabel","loadMoreLabel","numLoadedResultsLabel","filterActive","sortedByDistanceLabel","type","tileViewLabel","mapViewLabel","showRouteLabel","showMoreLabel","themeVariant","backLabel","pressReleaseSubscriptionTeaserJsonData","pressReleaseSubscriptionTitle","pressReleaseSubscriptionText","pressReleaseSubscriptionButtonText","showTiles","onMoreDataRequest","onMoreLocationsDataRequest","userLocatedOnMap"],[1,"content-no-results"]],template:function(e,i){1&e&&(hr(lZ),R(0,"div",0),Q(1,rZ,5,12,"div",1),Q(2,oZ,1,0,"app-loader",2),Q(3,sZ,3,30,"app-filter-results",3),z()),2&e&&(B("ngClass",Cr(4,cZ,i.preventMarginTop,i.preventMarginBottom)),F(1),B("ngIf",i.filterData&&i.filterData.length),F(1),B("ngIf",!i.isLoaded||i.isLoading),F(1),B("ngIf",i.isLoaded&&!i.isLoading))},styles:[".bt3-filter__heading[_ngcontent-%COMP%]{margin-bottom:.6rem}"]}),t})(),z5=(()=>{class t{constructor(){this.sbjTagItemRemoved=new on}broadcastTagItemRemoved(e){return this.sbjTagItemRemoved.next(e)}broadcastRemoveFilters(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uZ(t,n){if(1&t){const e=Cn();R(0,"div",1),R(1,"app-select",2),Ze("selectionChange",function(a){return mt(e),Z().onFilterChange(a,!0)}),z(),R(2,"app-select",2),Ze("selectionChange",function(a){return mt(e),Z().onFilterChange(a)}),z(),z()}if(2&t){const e=Z();F(1),zi("fieldId",e.fieldId+"StartYear"),zi("fieldName",e.fieldId+"StartYear"),B("label",e.labelStart)("jsonOptions",e.jsonOptionsStart)("removeItemObs",e.sbjStartDateReset),F(1),zi("fieldId",e.fieldId+"EndYear"),zi("fieldName",e.fieldId+"EndYear"),B("label",e.labelEnd)("jsonOptions",e.jsonOptionsEnd)("removeItemObs",e.sbjEndDateReset)}}let N5=(()=>{class t{constructor(){this.selectedYearRangeFilterData={},this.labelStart="",this.labelEnd="",this.yearRangeChange=new Et,this.sbjStartDateReset=new on,this.sbjEndDateReset=new on,this._fieldId=""}set fieldId(e){this._fieldId=e}get fieldId(){return this._fieldId}set jsonOptions(e){const i=JSON.parse(e),a=this.selectedYearRangeFilterData[this._fieldId];if(a){const c=[],h=[];i.forEach(b=>{const w=Object.assign({},b),E=Object.assign({},b);w.checked=!(!a.min||b.id!==a.min),E.checked=!(!a.max||b.id!==a.max),c.push(w),h.push(E)}),this.jsonOptionsStart=JSON.stringify(c),this.jsonOptionsEnd=JSON.stringify(h)}else this.jsonOptionsStart=JSON.stringify(i),this.jsonOptionsEnd=JSON.stringify(i)}ngAfterViewInit(){var e;null===(e=this.sbjTagItemRemoved)||void 0===e||e.subscribe(i=>{if(!i.id||i.value&&"all"===i.value)return this.sbjStartDateReset.next({id:"yearStartYear",value:"",label:""}),void this.sbjEndDateReset.next({id:"yearEndYear",value:"",label:""});i&&-1!==i.id.indexOf("StartYear")&&this.sbjStartDateReset.next({id:"yearStartYear",value:"",label:""}),i&&-1!==i.id.indexOf("EndYear")&&this.sbjEndDateReset.next({id:"yearEndYear",value:"",label:""})})}onFilterChange(e,i=!1){const a=e.value,c={id:this.fieldId};i?(c.min=a.id,c.labelMin=`${this.labelStart} ${a.id}`):(c.max=a.id,c.labelMax=`${this.labelEnd} ${a.id}`),this.yearRangeChange.emit(c)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-year-range"]],inputs:{fieldId:"fieldId",fieldName:"fieldName",selectedYearRangeFilterData:"selectedYearRangeFilterData",jsonOptions:"jsonOptions",labelStart:"labelStart",labelEnd:"labelEnd",sbjTagItemRemoved:"sbjTagItemRemoved"},outputs:{yearRangeChange:"yearRangeChange"},decls:1,vars:1,consts:[["class","bt3-year-range",4,"ngIf"],[1,"bt3-year-range"],[1,"bt3-year-range__select",3,"label","fieldId","fieldName","jsonOptions","removeItemObs","selectionChange"]],template:function(e,i){1&e&&Q(0,uZ,3,10,"div",0),2&e&&B("ngIf",i.fieldId&&i.fieldName&&i.labelStart&&i.labelEnd&&i.jsonOptionsStart&&i.jsonOptionsEnd)},directives:[ri,hp],styles:[".bt3-year-range{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:1.8rem}.bt3-year-range__select{grid-column:auto/span 1}\n"],encapsulation:3}),t})();function hZ(t,n){if(1&t){const e=Cn();R(0,"app-select",10),Ze("selectionChange",function(a){return mt(e),Z(2).onFilterChange(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("label",e.filterProperties.label)("fieldId",e.id)("fieldName",e.id)("jsonOptions",i.getFilterOptions(e))("removeItemObs",i.sbjTagItemRemoved)}}function mZ(t,n){if(1&t){const e=Cn();R(0,"app-multiselect",11),Ze("selectionChange",function(a){return mt(e),Z(2).onFilterChange(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("label",e.filterProperties.label)("fieldId",e.id)("fieldName",e.id)("removeItemObs",i.sbjTagItemRemoved)("selectTriggerSingularLabel",i.selectedFilterSingularLabel)("selectTriggerPluralLabel",i.selectedFilterPluralLabel)("jsonOptions",i.getFilterOptions(e))}}function pZ(t,n){if(1&t){const e=Cn();R(0,"app-location-input",12),Ze("locationSelected",function(a){return mt(e),Z(2).onLocationSelected(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("fieldName",e.id)("fieldId",e.id)("label",e.filterProperties.label)("removeItemObs",i.sbjTagItemRemoved)("clearButtonAriaLabel",i.clearButtonAriaLabel)("myLocationLabel",i.myLocationLabel)("countryCodes",i.mapboxCountryCodes)}}function fZ(t,n){if(1&t){const e=Cn();R(0,"app-year-range",13),Ze("yearRangeChange",function(a){return mt(e),Z(2).onYearRangeChanged(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("fieldId",e.id)("fieldName",e.id)("selectedYearRangeFilterData",i.selectedYearRangeFilterData)("jsonOptions",i.getFilterOptions(e))("labelStart",(null==e.filterProperties.labels?null:e.filterProperties.labels.start)||"")("labelEnd",(null==e.filterProperties.labels?null:e.filterProperties.labels.end)||"")("sbjTagItemRemoved",i.sbjTagItemRemoved)}}function gZ(t,n){if(1&t){const e=Cn();R(0,"app-text-input",14),Ze("onInputChanged",function(a){return mt(e),Z(2).onSearchInputChanged(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("type","search")("fieldName",e.id)("fieldId",e.id)("label",e.filterProperties.label)("clearButtonAriaLabel",i.clearButtonAriaLabel)("removeItemObs",i.sbjTagItemRemoved)("sbjTagItemRemoved",i.sbjTagItemRemoved)}}function _Z(t,n){if(1&t&&(zt(0),R(1,"div",4),Q(2,hZ,1,5,"app-select",5),Q(3,mZ,1,7,"app-multiselect",6),Q(4,pZ,1,7,"app-location-input",7),Q(5,fZ,1,7,"app-year-range",8),Q(6,gZ,1,7,"app-text-input",9),z(),Nt()),2&t){const e=n.$implicit;F(2),B("ngIf","SingleSelect"===e.filterType),F(1),B("ngIf","MultiSelect"===e.filterType),F(1),B("ngIf","SearchLocationInput"===e.filterType),F(1),B("ngIf","YearRange"===e.filterType),F(1),B("ngIf","SearchInput"===e.filterType)}}let B5=(()=>{class t{constructor(e,i){this.filterService=e,this.cdRef=i,this.filters=[],this.selectedFilterData={},this.selectedYearRangeFilterData={},this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.myLocationLabel="",this.clearButtonAriaLabel="",this.mapboxCountryCodes=[],this.filterChangeRequest=new Et,this.yearRangeChangeRequest=new Et,this.userLocated=new Et}set userLocation(e){var i,a;e&&e.locatedOnMap&&(null===(a=null===(i=this.locationInput)||void 0===i?void 0:i.formGroup.get("fieldValue"))||void 0===a||a.setValue(""))}ngOnInit(){this.sbjTagItemRemoved=this.filterService.sbjTagItemRemoved}ngAfterViewInit(){var e,i,a;(null===(e=this.selectedFilterData)||void 0===e?void 0:e.search)&&this.searchInput&&(null===(a=null===(i=this.searchInput)||void 0===i?void 0:i.formGroup.get("fieldValue"))||void 0===a||a.setValue(this.selectedFilterData.search[0].title),this.cdRef.detectChanges())}onFilterChange(e){this.filterChangeRequest.emit(e)}getFilterOptions(e){return JSON.stringify(e.filterProperties.options)}onSearchInputChanged(e){this.filterChangeRequest.emit({id:"search",value:{id:e,title:e},label:"search"})}onLocationSelected(e){this.userLocated.emit(e?{label:e.place_name,location:{longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]},locatedOnMap:!1}:null)}onYearRangeChanged(e){this.yearRangeChangeRequest.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(he(z5),he(wr))},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-options"]],viewQuery:function(e,i){if(1&e&&(En(K0,5),En(g_,5)),2&e){let a;Xt(a=Kt())&&(i.locationInput=a.first),Xt(a=Kt())&&(i.searchInput=a.first)}},inputs:{filters:"filters",selectedFilterData:"selectedFilterData",selectedYearRangeFilterData:"selectedYearRangeFilterData",userLocation:"userLocation",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",myLocationLabel:"myLocationLabel",clearButtonAriaLabel:"clearButtonAriaLabel",mapboxCountryCodes:"mapboxCountryCodes"},outputs:{filterChangeRequest:"filterChangeRequest",yearRangeChangeRequest:"yearRangeChangeRequest",userLocated:"userLocated"},decls:4,vars:1,consts:[[1,"bt3-filter-options"],[1,"bt3-form"],[1,"bt3-form__row"],[4,"ngFor","ngForOf"],[1,"bt3-filter-options__col"],[3,"label","fieldId","fieldName","jsonOptions","removeItemObs","selectionChange",4,"ngIf"],[3,"label","fieldId","fieldName","removeItemObs","selectTriggerSingularLabel","selectTriggerPluralLabel","jsonOptions","selectionChange",4,"ngIf"],[3,"fieldName","fieldId","label","removeItemObs","clearButtonAriaLabel","myLocationLabel","countryCodes","locationSelected",4,"ngIf"],[3,"fieldId","fieldName","selectedYearRangeFilterData","jsonOptions","labelStart","labelEnd","sbjTagItemRemoved","yearRangeChange",4,"ngIf"],[3,"type","fieldName","fieldId","label","clearButtonAriaLabel","removeItemObs","sbjTagItemRemoved","onInputChanged",4,"ngIf"],[3,"label","fieldId","fieldName","jsonOptions","removeItemObs","selectionChange"],[3,"label","fieldId","fieldName","removeItemObs","selectTriggerSingularLabel","selectTriggerPluralLabel","jsonOptions","selectionChange"],[3,"fieldName","fieldId","label","removeItemObs","clearButtonAriaLabel","myLocationLabel","countryCodes","locationSelected"],[3,"fieldId","fieldName","selectedYearRangeFilterData","jsonOptions","labelStart","labelEnd","sbjTagItemRemoved","yearRangeChange"],[3,"type","fieldName","fieldId","label","clearButtonAriaLabel","removeItemObs","sbjTagItemRemoved","onInputChanged"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"app-form-style-wrapper",1),R(2,"div",2),Q(3,_Z,7,5,"ng-container",3),z(),z(),z()),2&e&&(F(3),B("ngForOf",i.filters))},directives:[Vf,ya,ri,hp,X0,K0,N5,g_],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}.bt3-filter-options{margin-bottom:3.8rem}.bt3-filter-options__col{grid-column:auto/span 12;min-width:0}@media (min-width: 60em){.bt3-filter-options__col{grid-column:auto/span 4}.bt3-filter-options__col:nth-child(n+4){margin-top:1.5rem}}\n'],encapsulation:2}),t})();const bZ=function(){return{find:"+",replace:" "}};let V5=(()=>{class t{constructor(){this.tagData={id:"",value:"",label:""},this.removeTag=new Et}onTagRemove(){this.removeTag.emit(this.tagData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-tag"]],inputs:{tagData:"tagData"},outputs:{removeTag:"removeTag"},decls:6,vars:5,consts:[[1,"bt3-filter-tag"],[1,"bt3-filter-tag__label"],[1,"bt3-filter-tag__delete",3,"click"],["name","close","has-transitions","",1,"bt3-filter-tag__delete-icon"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"span",1),ot(2),Vu(3,"findReplaceString"),z(),R(4,"button",2),Ze("click",function(){return i.onTagRemove()}),Se(5,"bt3-icon",3),z(),z()),2&e&&(F(2),Kn(K1(3,1,i.tagData.label,Bu(4,bZ))))},pipes:[Vx],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}.bt3-filter-tag{display:inline-flex;padding:1.6rem 1.8rem;font-size:1.8rem;background:var(--black-200);margin:0 1.8rem 1.8rem 0}.bt3-filter-tag__label{word-break:break-word}.bt3-filter-tag__delete{margin-left:1.5rem;vertical-align:middle;flex-grow:0}@media (hover: hover){.bt3-filter-tag__delete:hover{--themeBase: var(--themeHover, var(--blue-700))}}.bt3-filter-tag__delete .bt3-filter-tag__delete-icon{width:1.2rem;height:1.2rem}\n'],encapsulation:2}),t})();function yZ(t,n){if(1&t){const e=Cn();zt(0),R(1,"app-filter-tag",5),Ze("removeTag",function(a){return mt(e),Z().onTagRemove(a)}),z(),Nt()}if(2&t){const e=n.$implicit;F(1),B("tagData",e)}}function vZ(t,n){if(1&t){const e=Cn();R(0,"button",6),Ze("click",function(){return mt(e),Z().onFiltersReset()}),ot(1),z()}if(2&t){const e=Z();F(1),vn(" ",e.resetFilterLabel," ")}}let H5=(()=>{class t{constructor(e){this.filterService=e,this.filters=[],this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.resetFilterLabel="",this.myLocationLabel="",this.clearButtonAriaLabel="",this.mapboxCountryCodes=[],this.themeVariant="primary",this.updateSelectedFilter=new Et,this.updateSelectedYearRangeFilter=new Et,this.deleteSelectedTag=new Et,this.onResetFilters=new Et,this.updateSelectedLocation=new Et,this.selectedTags=[]}ngOnChanges(){this.getTags()}onFilterChange(e){this.updateSelectedFilter.emit(e),this.getTags()}onYearRangeChange(e){this.updateSelectedYearRangeFilter.emit(e),this.getTags()}onUserLocated(e){this.getTags(),this.userLocation=e,this.updateSelectedLocation.emit(e)}getTags(){const e=this.selectedFilterData,i=this.selectedYearRangeFilterData,a=this.userLocation,c=Object.keys(e),h=Object.keys(i);this.selectedTags=[];const b=c.map(E=>({key:E,values:Array.isArray(e[E])?e[E]:[e[E]]})),w=h.map(E=>({key:E,values:Array.isArray(i[E])?i[E]:[i[E]]}));b.forEach(E=>{Array.isArray(E.values)?E.values.forEach(L=>{L.id&&L.title&&this.selectedTags.push({id:E.key,value:L.id,label:L.title})}):E.values.id&&E.values.title&&this.selectedTags.push({id:E.key,value:E.values.id,label:E.values.title})}),w.forEach(E=>{E.values.forEach(L=>{L.min&&this.selectedTags.push({id:`${E.key}StartYear`,value:L.min,label:L.labelMin}),L.max&&this.selectedTags.push({id:`${E.key}EndYear`,value:L.max,label:L.labelMax})})}),a&&this.selectedTags.push({id:"location",value:a.label,label:a.label})}onTagRemove(e){this.filterService.broadcastTagItemRemoved(e),this.deleteSelectedTag.emit(e),this.getTags()}onFiltersReset(){this.filterService.broadcastTagItemRemoved({value:"all"}),this.onResetFilters.emit(),this.selectedTags=[],this.getTags()}}return t.\u0275fac=function(e){return new(e||t)(he(z5))},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-interface"]],inputs:{filters:"filters",selectedFilterData:"selectedFilterData",selectedYearRangeFilterData:"selectedYearRangeFilterData",userLocation:"userLocation",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",resetFilterLabel:"resetFilterLabel",myLocationLabel:"myLocationLabel",clearButtonAriaLabel:"clearButtonAriaLabel",mapboxCountryCodes:"mapboxCountryCodes",themeVariant:"themeVariant"},outputs:{updateSelectedFilter:"updateSelectedFilter",updateSelectedYearRangeFilter:"updateSelectedYearRangeFilter",deleteSelectedTag:"deleteSelectedTag",onResetFilters:"onResetFilters",updateSelectedLocation:"updateSelectedLocation"},features:[Yi],decls:6,vars:14,consts:[[1,"bt3-form"],[3,"filters","userLocation","selectedFilterData","selectedYearRangeFilterData","selectedFilterSingularLabel","selectedFilterPluralLabel","myLocationLabel","clearButtonAriaLabel","mapboxCountryCodes","filterChangeRequest","yearRangeChangeRequest","userLocated"],[1,"bt3-filter-tags"],[4,"ngFor","ngForOf"],["class","bt3-filter-tags__reset",3,"click",4,"ngIf"],[3,"tagData","removeTag"],[1,"bt3-filter-tags__reset",3,"click"]],template:function(e,i){1&e&&(R(0,"app-form-style-wrapper",0),R(1,"div"),R(2,"app-filter-options",1),Ze("filterChangeRequest",function(c){return i.onFilterChange(c)})("yearRangeChangeRequest",function(c){return i.onYearRangeChange(c)})("userLocated",function(c){return i.onUserLocated(c)}),z(),R(3,"div",2),Q(4,yZ,2,1,"ng-container",3),Q(5,vZ,2,1,"button",4),z(),z(),z()),2&e&&(F(1),Fd("bt3-filter-interface bt3-theme bt3-theme--",i.themeVariant,""),F(1),B("filters",i.filters)("userLocation",i.userLocation)("selectedFilterData",i.selectedFilterData)("selectedYearRangeFilterData",i.selectedYearRangeFilterData)("selectedFilterSingularLabel",i.selectedFilterSingularLabel)("selectedFilterPluralLabel",i.selectedFilterPluralLabel)("myLocationLabel",i.myLocationLabel)("clearButtonAriaLabel",i.clearButtonAriaLabel)("mapboxCountryCodes",i.mapboxCountryCodes),F(2),B("ngForOf",i.selectedTags),F(1),B("ngIf",i.selectedTags.length>0))},directives:[Vf,B5,ya,ri,V5],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}.bt3-filter-interface{margin-bottom:9rem}.bt3-theme--primary .bt3-filter-interface,.bt3-filter-interface.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-filter-interface,.bt3-filter-interface.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (max-width: 37.49em){.bt3-filter-interface{margin-bottom:6rem}}.bt3-filter-tags{display:block}.bt3-filter-tags__reset{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--themeBase, var(--blue-500))}@media (min-width: 60em){.bt3-filter-tags__reset{font-size:1.8rem}}@media (hover: hover){.bt3-filter-tags__reset:hover{color:var(--themeHover, var(--blue-700))}}\n'],encapsulation:2}),t})();function xZ(t,n){if(1&t){const e=Cn();R(0,"app-select",9),Ze("selectionChange",function(a){return mt(e),Z(3).onFilterChange(a)}),z()}if(2&t){const e=Z().$implicit,i=Z(2);B("label",e.filterProperties.label)("fieldId",e.id)("fieldName",e.id)("jsonOptions",i.getFilterOptions(e))}}function wZ(t,n){if(1&t&&(zt(0),Q(1,xZ,1,4,"app-select",8),Nt()),2&t){const e=n.$implicit;F(1),B("ngIf","SingleSelect"===e.filterType)}}function CZ(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(3);F(1),Kn(e.newestLabel)}}function kZ(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(3);F(1),Kn(e.results)}}function MZ(t,n){1&t&&Se(0,"slot",14)}function TZ(t,n){1&t&&Se(0,"app-press-release-teaser",15),2&t&&B("item",Z().$implicit)}function EZ(t,n){if(1&t&&(zt(0),Q(1,MZ,1,0,"slot",12),Q(2,TZ,1,1,"app-press-release-teaser",13),Nt()),2&t){const e=n.index,i=Z(3);F(1),B("ngIf",3===e&&i.initial),F(1),B("ngIf",e<i.maxShow)}}function DZ(t,n){if(1&t&&(zt(0),R(1,"h2",10),Q(2,CZ,2,1,"ng-container",6),Q(3,kZ,2,1,"ng-container",6),z(),R(4,"ul",11),Q(5,EZ,3,2,"ng-container",4),z(),Nt()),2&t){const e=Z(2);F(2),B("ngIf",e.initial),F(1),B("ngIf",!e.initial),F(2),B("ngForOf",e.data.data)}}function SZ(t,n){1&t&&Se(0,"app-loader",16)}function IZ(t,n){if(1&t&&(R(0,"div",1),R(1,"app-form-style-wrapper",2),R(2,"div",3),Q(3,wZ,2,1,"ng-container",4),z(),z(),R(4,"div",5),Q(5,DZ,6,3,"ng-container",6),Q(6,SZ,1,0,"app-loader",7),z(),z()),2&t){const e=Z();F(3),B("ngForOf",e.data.meta.filterConfiguration.filters),F(2),B("ngIf",!e.isLoading),F(1),B("ngIf",e.isLoading)}}let AZ=(()=>{class t{constructor(){this.jsonUrl="",this.newestLabel="",this.filterValues={},this.isLoaded=!1,this.isLoading=!0,this.initial=!0,this.hasMore=!0,this.maxShow=1/0,this.increment=6,this.readOfTotal="",this.readOfTotalBackup="",this.results="",this.resultsBackup=""}set readOfTotalLabel(e){this.readOfTotal=e,this.readOfTotalBackup=e}set resultsLabel(e){this.results=e,this.resultsBackup=e}ngOnInit(){this.getData()}getData(){let e=this.jsonUrl;const i=this.jsonUrl.includes("?")?"&":"?";this.filterValues.year&&(e=`${e}${i}filter[year]=${this.filterValues.year}`),this.isLoading=!0,fetch(e).then(a=>{200===a.status?a.json().then(c=>{this.data?(this.initial=!1,this.data.data=c.data):this.data=c,this.isLoaded=!0,this.isLoading=!1,this.updateDynamicLabels()}):console.error("Delivery of news api failed")}).catch(a=>{console.error("Fetch error: ",a)})}updateDynamicLabels(){this.readOfTotal=this.readOfTotalBackup.replace("%c",this.maxShow<this.data.data.length?this.maxShow.toString():this.data.data.length.toString()).replace("%t",this.data.data.length.toString()),this.results=this.resultsBackup.replace("%t",this.data.data.length.toString())}updateHasMore(){this.hasMore=this.maxShow<this.data.data.length}increaseMax(){this.maxShow=this.maxShow+this.increment,this.updateDynamicLabels(),this.updateHasMore()}onFilterChange(e){this.filterValues[e.id]=e.value.id,this.getData()}getFilterOptions(e){return JSON.stringify(e.filterProperties.options)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-press-release-list"]],inputs:{jsonUrl:"jsonUrl",newestLabel:"newestLabel",readOfTotalLabel:"readOfTotalLabel",resultsLabel:"resultsLabel"},decls:1,vars:1,consts:[["class","bt3-press-release-list",4,"ngIf"],[1,"bt3-press-release-list"],[1,"bt3-form"],[1,"bt3-press-release-list__filters"],[4,"ngFor","ngForOf"],[1,"bt3-press-release-list__wrapper"],[4,"ngIf"],["class","bt3-press-release-list__loader",4,"ngIf"],[3,"label","fieldId","fieldName","jsonOptions","selectionChange",4,"ngIf"],[3,"label","fieldId","fieldName","jsonOptions","selectionChange"],[1,"bt3-press-release-list__title"],[1,"bt3-press-release-list__list"],["name","subscribeTeaser",4,"ngIf"],["class","bt3-press-release-list__list-item",3,"item",4,"ngIf"],["name","subscribeTeaser"],[1,"bt3-press-release-list__list-item",3,"item"],[1,"bt3-press-release-list__loader"]],template:function(e,i){1&e&&Q(0,IZ,7,3,"div",0),2&e&&B("ngIf",i.isLoaded)},directives:[ri,Vf,ya,hp,A5,Qm],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h2,ul{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}h2{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-press-release-list__filters{display:grid;grid-template-columns:1fr}@media (min-width: 37.5em){.bt3-press-release-list__filters{grid-template-columns:1fr 1fr}}@media (min-width: 60em){.bt3-press-release-list__filters{grid-template-columns:1fr 1fr 1fr}}.bt3-press-release-list__title{margin-top:3.8rem}@media (min-width: 37.5em){.bt3-press-release-list__title{margin-top:7.2rem}}.bt3-press-release-list__list{margin-top:3.8rem}@media (min-width: 37.5em){.bt3-press-release-list__list{margin-top:7.2rem}}.bt3-press-release-list__list-item{display:block;border-top:1px solid var(--black-300)}.bt3-press-release-list__list-item:last-child{border-bottom:1px solid var(--black-300)}.bt3-press-release-list__byline{color:var(--black-500);margin-top:6rem;text-align:center;font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-press-release-list__byline{font-size:1.8rem}}@media (min-width: 37.5em){.bt3-press-release-list__byline{margin-top:7.2rem}}.bt3-press-release-list__button{margin-top:4.5rem;display:flex;justify-content:center}.bt3-press-release-list__wrapper{position:relative;min-height:48rem}.bt3-press-release-list__loader{margin-top:3.8rem}@media (min-width: 37.5em){.bt3-press-release-list__loader{margin-top:7.2rem}}\n'],encapsulation:3}),t})(),j5=(()=>{class t{constructor(e){[["bt3-press-release-list",AZ],["bt3-press-release-subscribe-teaser",O5]].forEach(([a,c])=>customElements.define(a,Mr(c,{injector:e})))}ngDoBootstrap(){}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Q0,b_,J0]]}),t})(),Ok=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})(),OZ=(()=>{class t{constructor(e){this.injector=e,[["bt3-filter",R5],["bt3-filter-results",F5],["bt3-filter-result",I5],["bt3-filter-interface",H5],["bt3-filter-options",B5],["bt3-filter-tag",V5]].forEach(([a,c])=>customElements.define(a,Mr(c,{injector:e})))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,b_,Sk,j5,J0,Ok]]}),t})();th(R5,[Pr,ri,H5,Qm,F5],[]);let LZ=(()=>{class t{constructor(){this.label="",this.targetUrl=""}set url(e){this.targetUrl=document.referrer||e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-back-to-overview"]],inputs:{url:"url",label:"label"},decls:4,vars:2,consts:[[1,"bt3-back-to-overview",3,"href"],["name","caret-left",1,"bt3-back-to-overview__icon"],[1,"bt3-back-to-overview__label"]],template:function(e,i){1&e&&(R(0,"a",0),Se(1,"bt3-icon",1),R(2,"span",2),ot(3),z(),z()),2&e&&(B("href",i.targetUrl,en),F(3),Kn(i.label))},styles:[".bt3-back-to-overview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;text-decoration:none;color:var(--black-500);font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5}@media (min-width: 60em){.bt3-back-to-overview[_ngcontent-%COMP%]{font-size:1.8rem}}@media (hover: hover){.bt3-back-to-overview[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--black-900)}.bt3-back-to-overview[_ngcontent-%COMP%]:hover   .bt3-back-to-overview__icon[_ngcontent-%COMP%]{--themeBase: var(--black-900)}}.bt3-back-to-overview__label[_ngcontent-%COMP%]{transform:translateY(.05rem)}.bt3-back-to-overview__icon[_ngcontent-%COMP%]{--themeBase: var(--black-300);margin-right:.9rem;margin-left:-.6rem}"]}),t})(),PZ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-back-to-overview",Mr(LZ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sf]]}),t})(),Hx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,UI]]}),t})();const FZ=["closeButton"];function RZ(t,n){if(1&t){const e=Cn();zt(0),R(1,"button",12),Ze("click",function(){return mt(e),Z().prev()}),R(2,"div",5),Se(3,"bt3-icon",13),z(),z(),R(4,"button",14),Ze("click",function(){return mt(e),Z().next()}),R(5,"div",5),Se(6,"bt3-icon",15),z(),z(),Nt()}if(2&t){const e=Z();F(1),j("aria-label",e.navigationPrevString),F(3),j("aria-label",e.navigationNextString)}}const zZ=function(t){return{"bt3-lightbox--open":t}},NZ=["*"];let Hf=(()=>{class t{constructor(){this.isOpen=!1,this.hasLimitedWidth=!1,this.hasSliderNav=!1,this.closeButtonText="",this.navigationPrevString="",this.navigationNextString="",this.closed=new Et,this.goToPrev=new Et,this.goToNext=new Et}onKeydownHandler(e){"Escape"===e.key&&this.close()}open(){this.isOpen=!0,document.documentElement.classList.add("bt3-prevent-scroll"),setTimeout(()=>{var e;null===(e=this.closeButton)||void 0===e||e.nativeElement.focus({preventScroll:!0})})}close(){this.isOpen=!1,document.documentElement.classList.remove("bt3-prevent-scroll")}handleClickEvent(e){e.composedPath().find(a=>{var c,h;return(null===(c=a.classList)||void 0===c?void 0:c.contains("bt3-lightbox__content"))||(null===(h=a.classList)||void 0===h?void 0:h.contains("bt3-lightbox__navigation"))})||this.emitClosedEvent()}emitClosedEvent(){this.closed.emit()}prev(){this.goToPrev.emit()}next(){this.goToNext.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-lightbox"]],viewQuery:function(e,i){if(1&e&&En(FZ,5),2&e){let a;Xt(a=Kt())&&(i.closeButton=a.first)}},hostBindings:function(e,i){1&e&&Ze("keydown",function(c){return i.onKeydownHandler(c)},!1,Dy)},inputs:{hasLimitedWidth:"hasLimitedWidth",hasSliderNav:"hasSliderNav",closeButtonText:"closeButtonText",navigationPrevString:"navigationPrevString",navigationNextString:"navigationNextString"},outputs:{closed:"closed",goToPrev:"goToPrev",goToNext:"goToNext"},ngContentSelectors:NZ,decls:14,vars:9,consts:[["cdkTrapFocus","",1,"bt3-lightbox",3,"ngClass","cdkTrapFocusAutoCapture"],[1,"bt3-lightbox__wrapper",3,"click"],[1,"bt3-lightbox__background"],["aria-expanded","true",1,"bt3-lightbox__navigation","bt3-lightbox__navigation--close",3,"click"],["closeButton",""],[1,"bt3-lightbox__icon-wrapper"],["name","close","aria-hidden","true",1,"bt3-lightbox__icon"],[1,"bt3-lightbox__grid","bt3-grid__container"],[1,"bt3-lightbox__grid-row","bt3-grid__row"],[1,"bt3-lightbox__content-wrapper"],[1,"bt3-lightbox__content","bt3-grid__breakout-left","bt3-grid__mobile-breakout-right","bt3-grid__desktop-clear-breakout-left","bt3-grid__desktop-clear-breakout-right"],[4,"ngIf"],["role","button",1,"bt3-lightbox__navigation","bt3-lightbox__navigation-prev",3,"click"],["name","caret-large-left",1,"bt3-lightbox__icon"],["role","button",1,"bt3-lightbox__navigation","bt3-lightbox__navigation-next",3,"click"],["name","caret-large-right",1,"bt3-lightbox__icon"]],template:function(e,i){1&e&&(hr(),R(0,"div",0),R(1,"div",1),Ze("click",function(c){return i.handleClickEvent(c)}),Se(2,"div",2),R(3,"button",3,4),Ze("click",function(){return i.emitClosedEvent()}),R(5,"div",5),Se(6,"bt3-icon",6),z(),z(),R(7,"div",7),R(8,"div",8),R(9,"div"),R(10,"div",9),R(11,"div",10),aa(12),z(),z(),z(),z(),z(),Q(13,RZ,7,2,"ng-container",11),z(),z()),2&e&&(B("ngClass",Ga(7,zZ,i.isOpen))("cdkTrapFocusAutoCapture",!0),F(3),j("aria-label",i.closeButtonText),F(6),Fd("bt3-lightbox__grid-col bt3-grid__mobile-col-12 bt3-grid__desktop-col-8 bt3-grid__desktop-col-offset-2 ",i.hasLimitedWidth?"bt3-grid__desktop-l-col-6 bt3-grid__desktop-l-col-offset-3":"",""),F(4),B("ngIf",i.hasSliderNav))},directives:[SI,Pr,ri],styles:[".bt3-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1001;overflow:hidden auto;display:none}.bt3-lightbox__wrapper[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100%}.bt3-lightbox__background[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;min-height:100%;z-index:-1;background-color:var(--white)}@media (min-width: 60em){.bt3-lightbox__background[_ngcontent-%COMP%]{background-color:var(--black-900);opacity:.95}}.bt3-lightbox__navigation[_ngcontent-%COMP%]{position:absolute;display:none;width:4.5rem;height:4.5rem}@media (min-width: 60em){.bt3-lightbox__navigation[_ngcontent-%COMP%]{position:fixed;display:block;width:calc(8.3333333333% - 3.6rem);height:auto}}.bt3-lightbox__navigation--close[_ngcontent-%COMP%]{top:1.8rem;right:1.8rem;display:block}@media (min-width: 60em){.bt3-lightbox__navigation--close[_ngcontent-%COMP%]{top:calc(7.2rem - 3rem);right:7.2rem;width:calc(8.3333333333% - 3.6rem);height:auto}}.bt3-lightbox__navigation-prev[_ngcontent-%COMP%], .bt3-lightbox__navigation-next[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%)}.bt3-lightbox__navigation-prev[_ngcontent-%COMP%]{left:7.2rem}.bt3-lightbox__navigation-next[_ngcontent-%COMP%]{right:7.2rem}.bt3-lightbox__icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding-bottom:100%}.bt3-lightbox__icon[_ngcontent-%COMP%]{--themeBase: var(--black-500);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1.5rem;height:1.5rem}@media (min-width: 37.5em){.bt3-lightbox__icon[_ngcontent-%COMP%]{width:2.1rem;height:2.1rem}}@media (min-width: 60em){.bt3-lightbox__icon[_ngcontent-%COMP%]{--themeBase: var(--white);width:3rem;height:3rem}}.bt3-lightbox__grid[_ngcontent-%COMP%], .bt3-lightbox__grid-row[_ngcontent-%COMP%], .bt3-lightbox__grid-col[_ngcontent-%COMP%]{min-height:100%}.bt3-lightbox__grid[_ngcontent-%COMP%]{width:100%;pointer-events:none}.bt3-lightbox__content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;min-height:100%;padding:9rem 0 6rem;pointer-events:none}@media (min-width: 60em){.bt3-lightbox__content-wrapper[_ngcontent-%COMP%]{padding:1.8rem 0}}.bt3-lightbox__content[_ngcontent-%COMP%]{pointer-events:all}.bt3-lightbox--open[_ngcontent-%COMP%]{display:block}"]}),t})();const BZ=["teaser"],VZ=["slide"];function HZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w1320+" 1320w",en)}function jZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w780+" 780w",en)}function UZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w420+" 420w",en)}function GZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w280+" 280w",en)}function $Z(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w180+" 180w",en)}function YZ(t,n){if(1&t&&(zt(0),Q(1,HZ,1,1,"source",20),Q(2,jZ,1,1,"source",20),Q(3,UZ,1,1,"source",20),Q(4,GZ,1,1,"source",20),Q(5,$Z,1,1,"source",20),Nt()),2&t){const e=Z().ngIf;F(1),B("ngIf",e.formats.w1320),F(1),B("ngIf",e.formats.w780),F(1),B("ngIf",e.formats.w420),F(1),B("ngIf",e.formats.w280),F(1),B("ngIf",e.formats.w180)}}function qZ(t,n){if(1&t&&Se(0,"img",22),2&t){const e=Z().ngIf;B("src",e.publicUrl,en)("alt",e.alternative)}}function WZ(t,n){if(1&t&&(R(0,"picture",18),Q(1,YZ,6,5,"ng-container",17),Q(2,qZ,1,2,"img",19),z()),2&t){const e=n.ngIf;F(1),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function ZZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w1320+" 1320w",en)}function XZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w780+" 780w",en)}function KZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w420+" 420w",en)}function JZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w280+" 280w",en)}function QZ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).ngIf.formats.w180+" 180w",en)}function eX(t,n){if(1&t&&(zt(0),Q(1,ZZ,1,1,"source",20),Q(2,XZ,1,1,"source",20),Q(3,KZ,1,1,"source",20),Q(4,JZ,1,1,"source",20),Q(5,QZ,1,1,"source",20),Nt()),2&t){const e=Z().ngIf;F(1),B("ngIf",e.formats.w1320),F(1),B("ngIf",e.formats.w780),F(1),B("ngIf",e.formats.w420),F(1),B("ngIf",e.formats.w280),F(1),B("ngIf",e.formats.w180)}}function tX(t,n){if(1&t&&Se(0,"img",22),2&t){const e=Z().ngIf;B("src",e.publicUrl,en)("alt",e.alternative)}}function nX(t,n){if(1&t&&(R(0,"picture",24),Q(1,eX,6,5,"ng-container",17),Q(2,tX,1,2,"img",19),z()),2&t){const e=n.ngIf;F(1),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function iX(t,n){if(1&t&&(zt(0),Q(1,nX,3,2,"picture",23),Nt()),2&t){const e=Z().index,i=Z();F(1),B("ngIf",i.imagesOverlay[e])}}function aX(t,n){if(1&t){const e=Cn();R(0,"li",9),R(1,"button",10,11),Ze("click",function(){const c=mt(e).index;return Z().openDetail(c)}),Se(3,"span",12),Se(4,"span",13),Se(5,"span",14),R(6,"div",15),Q(7,WZ,3,2,"picture",16),Q(8,iX,2,1,"ng-container",17),z(),z(),z()}if(2&t){const e=n.$implicit,i=n.index,a=Z();F(3),B("innerHTML",e.fullName,Zi),F(1),B("innerHTML",e.function,Zi),F(1),B("innerHTML",a.openDetailsString,Zi),F(2),B("ngIf",a.images[i]),F(1),B("ngIf",a.imagesOverlay)}}function rX(t,n){if(1&t&&(R(0,"p",33),Se(1,"a",34),z()),2&t){const e=Z().$implicit;F(1),B("href",e.email.url,en)("innerHTML",e.email.label,Zi)}}function oX(t,n){if(1&t&&(R(0,"p",33),Se(1,"a",34),z()),2&t){const e=Z().$implicit;F(1),B("href",e.phone.url,en)("innerHTML",e.phone.label,Zi)}}const sX=function(t,n,e){return{width:t,"max-width":n,"flex-basis":e}},lX=function(t){return{"bt3-cluster-element__lightbox-content-text-slide--active":t}};function cX(t,n){if(1&t&&(R(0,"div",25,26),Se(2,"h2",27),Se(3,"p",28),R(4,"div",29),Se(5,"p",30),Q(6,rX,2,2,"p",31),Q(7,oX,2,2,"p",31),z(),Se(8,"div",32),z()),2&t){const e=n.$implicit,i=n.index,a=Z();il(Wh(12,sX,100/a.total+"%",100/a.total+"%",100/a.total+"%")),B("ngClass",Ga(16,lX,i===a.currentIndex)),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex)("tabindex",i!==a.currentIndex?-1:0),F(2),B("innerHTML",e.fullName,Zi),F(1),B("innerHTML",e.function,Zi),F(2),B("innerHTML",e.education,Zi),F(1),B("ngIf",e.email),F(1),B("ngIf",e.phone),F(1),B("innerHTML",e.description,Zi)}}function dX(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).$implicit.formats.w1320+" 1320w",en)}function uX(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).$implicit.formats.w780+" 780w",en)}function hX(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).$implicit.formats.w420+" 420w",en)}function mX(t,n){if(1&t&&(zt(0),Q(1,dX,1,1,"source",20),Q(2,uX,1,1,"source",20),Q(3,hX,1,1,"source",20),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf",e.formats.w1320),F(1),B("ngIf",e.formats.w780),F(1),B("ngIf",e.formats.w420)}}function pX(t,n){if(1&t&&Se(0,"img",43),2&t){const e=Z().$implicit;let i;B("src",e.publicUrl,en)("alt",null!==(i=e.alternative)&&void 0!==i?i:"")}}const fX=function(t,n){return{duration:t,offset:n}},gX=function(t,n){return{value:t,params:n}};function _X(t,n){if(1&t&&(zt(0),R(1,"div",40),R(2,"picture",41),Q(3,mX,4,3,"ng-container",17),Q(4,pX,1,2,"img",42),z(),z(),Nt()),2&t){const e=n.$implicit,i=n.index,a=Z(2);F(1),Rn("bt3-cluster-element__lightbox-slider-image-slide--current",i===a.currentIndex),B("@slider",Cr(10,gX,a.getPosition(i),Cr(7,fX,a.initial?"0ms":"600ms",a.initial?"0ms":"50ms"))),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex),F(2),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function bX(t,n){if(1&t){const e=Cn();zt(0),R(1,"button",44),Ze("click",function(){return mt(e),Z(2).prev()}),Se(2,"bt3-icon",45),z(),R(3,"button",46),Ze("click",function(){return mt(e),Z(2).next()}),Se(4,"bt3-icon",47),z(),Nt()}if(2&t){const e=Z(2);F(1),j("aria-label",e.previousPersonString),F(2),j("aria-label",e.nextPersonString)}}function yX(t,n){if(1&t){const e=Cn();R(0,"div",35),R(1,"div",36),R(2,"div",37),Ze("swipeleft",function(){return mt(e),Z().next()})("swiperight",function(){return mt(e),Z().prev()}),R(3,"div",38),Q(4,_X,5,13,"ng-container",39),z(),z(),Q(5,bX,5,2,"ng-container",17),z(),z()}if(2&t){const e=Z();F(4),B("ngForOf",e.images),F(1),B("ngIf",e.total>1)}}const vX=function(t,n){return{"margin-left":t,width:n}};let xX=(()=>{class t{constructor(){this.people=[],this.images=[],this.imagesOverlay=[],this.currentIndex=0,this.total=0,this.ready=!1,this.initial=!1,this.position="current",this.openDetailsString="",this.lightboxCloseButtonString="",this.previousPersonString="",this.nextPersonString="",this.getTotal=()=>this.people.length,Yn.e(329).then(Yn.t.bind(Yn,329,23)).finally(()=>this.ready=!0)}set peopleJson(e){this.people=JSON.parse(e),this.total=this.people.length}set imagesJson(e){this.images=JSON.parse(e)}set imagesOverlayJson(e){!e||(this.imagesOverlay=JSON.parse(e))}openDetail(e){this.currentIndex=e,this.initial=!0,this.lightbox.open()}closeDetail(){this.lightbox.close(),this.teaserRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})}next(){this.initial=!1,this.currentIndex=this.getNextIndex(),this.setFocusOnCurrentTextSlide()}prev(){this.initial=!1,this.currentIndex=this.getPreviousIndex(),this.setFocusOnCurrentTextSlide()}setFocusOnCurrentTextSlide(){setTimeout(()=>{this.textSlideRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})})}getPosition(e){return e===this.currentIndex?"current":2===this.getTotal()?"other":e===this.getNextIndex()?"next":e===this.getPreviousIndex()?"previous":"other"}getNextIndex(){return(this.currentIndex+1)%this.getTotal()}getPreviousIndex(){return(this.getTotal()+this.currentIndex-1)%this.getTotal()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-cluster-element"]],viewQuery:function(e,i){if(1&e&&(En(Hf,5),En(BZ,5),En(VZ,5)),2&e){let a;Xt(a=Kt())&&(i.lightbox=a.first),Xt(a=Kt())&&(i.teaserRefs=a),Xt(a=Kt())&&(i.textSlideRefs=a)}},inputs:{peopleJson:"peopleJson",imagesJson:"imagesJson",imagesOverlayJson:"imagesOverlayJson",openDetailsString:"openDetailsString",lightboxCloseButtonString:"lightboxCloseButtonString",previousPersonString:"previousPersonString",nextPersonString:"nextPersonString"},decls:9,vars:12,consts:[[1,"bt3-cluster-element"],[1,"bt3-cluster-element__list"],["class","bt3-cluster-element__list-item",4,"ngFor","ngForOf"],[3,"hasSliderNav","closeButtonText","navigationPrevString","navigationNextString","closed","goToPrev","goToNext"],[1,"bt3-cluster-element__lightbox-content"],[1,"bt3-cluster-element__lightbox-content-text-slider"],[1,"bt3-cluster-element__lightbox-content-text-slider-pane"],["class","bt3-cluster-element__lightbox-content-text-slide",3,"ngClass","style",4,"ngFor","ngForOf"],["class","bt3-cluster-element__lightbox-slider","aria-hidden","true",4,"ngIf"],[1,"bt3-cluster-element__list-item"],[1,"bt3-cluster-element__teaser",3,"click"],["teaser",""],[1,"bt3-cluster-element__teaser-name",3,"innerHTML"],[1,"bt3-cluster-element__teaser-function",3,"innerHTML"],[1,"bt3-visually-hidden",3,"innerHTML"],[1,"bt3-cluster-element__teaser-img-container"],["class","bt3-cluster-element__teaser-img-wrapper bt3-cluster-element__teaser-img-wrapper--default",4,"ngIf"],[4,"ngIf"],[1,"bt3-cluster-element__teaser-img-wrapper","bt3-cluster-element__teaser-img-wrapper--default"],["class","bt3-cluster-element__teaser-img","loading","lazy",3,"src","alt",4,"ngIf"],[3,"srcset",4,"ngIf"],[3,"srcset"],["loading","lazy",1,"bt3-cluster-element__teaser-img",3,"src","alt"],["class","bt3-cluster-element__teaser-img-wrapper bt3-cluster-element__teaser-img-wrapper--overlay",4,"ngIf"],[1,"bt3-cluster-element__teaser-img-wrapper","bt3-cluster-element__teaser-img-wrapper--overlay"],[1,"bt3-cluster-element__lightbox-content-text-slide",3,"ngClass"],["slide",""],[1,"bt3-cluster-element__lightbox-content-heading",3,"innerHTML"],[1,"bt3-cluster-element__lightbox-content-function",3,"innerHTML"],[1,"bt3-cluster-element__lightbox-content-education-and-contact"],[1,"bt3-cluster-element__lightbox-content-education",3,"innerHTML"],["class","bt3-cluster-element__lightbox-content-contact",4,"ngIf"],[1,"bt3-cluster-element__lightbox-content-description",3,"innerHTML"],[1,"bt3-cluster-element__lightbox-content-contact"],[1,"bt3-cluster-element__lightbox-content-contact-link",3,"href","innerHTML"],["aria-hidden","true",1,"bt3-cluster-element__lightbox-slider"],[1,"bt3-cluster-element__lightbox-slider-row"],[1,"bt3-cluster-element__lightbox-slider-content",3,"swipeleft","swiperight"],["role","presentation",1,"bt3-cluster-element__lightbox-slider-image-container"],[4,"ngFor","ngForOf"],[1,"bt3-cluster-element__lightbox-slider-image-slide"],[1,"bt3-cluster-element__lightbox-slider-image-wrapper"],["class","bt3-cluster-element__lightbox-slider-image","loading","lazy",3,"src","alt",4,"ngIf"],["loading","lazy",1,"bt3-cluster-element__lightbox-slider-image",3,"src","alt"],["role","button",1,"bt3-cluster-element__lightbox-slider-previous",3,"click"],["name","caret-large-left",1,"bt3-cluster-element__lightbox-slider-icon"],["role","button",1,"bt3-cluster-element__lightbox-slider-next",3,"click"],["name","caret-large-right",1,"bt3-cluster-element__lightbox-slider-icon"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"ul",1),Q(2,aX,9,5,"li",2),z(),z(),R(3,"app-lightbox",3),Ze("closed",function(){return i.closeDetail()})("goToPrev",function(){return i.prev()})("goToNext",function(){return i.next()}),R(4,"div",4),R(5,"div",5),R(6,"div",6),Q(7,cX,9,18,"div",7),z(),z(),Q(8,yX,6,2,"div",8),z(),z()),2&e&&(F(2),B("ngForOf",i.people),F(1),B("hasSliderNav",i.total>1)("closeButtonText",i.lightboxCloseButtonString)("navigationPrevString",i.previousPersonString)("navigationNextString",i.nextPersonString),F(3),il(Cr(9,vX,-100*i.currentIndex+"%",100*i.total+"%")),F(1),B("ngForOf",i.people),F(1),B("ngIf",i.ready&&i.images))},directives:[ya,Hf,ri,Pr],styles:['@charset "UTF-8";.bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__lightbox-slider-image-slide{position:relative;display:block;overflow:hidden}.bt3-cluster-element__list{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:3rem 1.8rem;gap:3rem 1.8rem;list-style:none}@media (min-width: 60em){.bt3-cluster-element__list{grid-template-columns:repeat(3,1fr);grid-gap:4.5rem 3.6rem;gap:4.5rem 3.6rem}}.bt3-cluster-element__teaser{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.5;font-size:1.5rem;display:flex;align-items:stretch;flex-direction:column;width:100%;text-align:left}@media (min-width: 60em){.bt3-cluster-element__teaser{font-size:2.4rem}}@media (min-width: 60em){.bt3-cluster-element__teaser{font-size:2.1rem}}@media (min-width: 100em){.bt3-cluster-element__teaser{font-size:2.4rem}}@media (hover: hover){.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-name,.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-function,.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__teaser:hover .bt3-cluster-element__lightbox-slider-image-slide{transform:translate(.9rem)}}@media (hover: hover) and (min-width: 60em){.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-name,.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-function,.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__teaser:hover .bt3-cluster-element__lightbox-slider-image-slide{transform:translate(1.8rem)}}@media (hover: hover){.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-img-wrapper--overlay{z-index:1}}@media (hover: hover){.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-img,.bt3-cluster-element__teaser:hover .bt3-cluster-element__lightbox-slider-image{transform:scale(1.05)}}@media (hover: hover) and (min-width: 60em){.bt3-cluster-element__teaser:hover .bt3-cluster-element__teaser-img,.bt3-cluster-element__teaser:hover .bt3-cluster-element__lightbox-slider-image{transform:scale(1.1)}}.bt3-cluster-element__teaser-name,.bt3-cluster-element__teaser-function,.bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__lightbox-slider-image-slide{transform:translate(0);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s}.bt3-cluster-element__teaser-function{margin-top:.3rem}@media (min-width: 60em){.bt3-cluster-element__teaser-function{margin-top:.6rem}}.bt3-cluster-element__teaser-img-container{position:relative;margin-bottom:.9rem;order:-1}.bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__lightbox-slider-image-slide{padding-bottom:67%;width:100%;transition-duration:.4s}@media (min-width: 60em){.bt3-cluster-element__teaser-img-wrapper,.bt3-cluster-element__lightbox-slider-image-slide{margin-bottom:1.8rem}}.bt3-cluster-element__teaser-img-wrapper--overlay{position:absolute;top:0;left:0;z-index:-1;width:100%}.bt3-cluster-element__teaser-img,.bt3-cluster-element__lightbox-slider-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transform:scale(1);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.4s}.bt3-cluster-element__lightbox-content{display:flex;flex-direction:column;background-color:var(--white);padding:0 1.8rem;font-size:2.1rem}@media (min-width: 60em){.bt3-cluster-element__lightbox-content{padding:7.2rem}}.bt3-cluster-element__lightbox-content-text-slider{overflow:hidden;margin:-.9rem;padding:.9rem}.bt3-cluster-element__lightbox-content-text-slider-pane{display:flex}.bt3-cluster-element__lightbox-content-text-slide{display:flex;flex-direction:column;grid-gap:3rem;gap:3rem;flex:0 0 100%;visibility:hidden}@media (min-width: 60em){.bt3-cluster-element__lightbox-content-text-slide{grid-gap:1.8rem;gap:1.8rem}}.bt3-cluster-element__lightbox-content-text-slide--active{visibility:visible}.bt3-cluster-element__lightbox-content-heading{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:3rem;line-height:1.2}@media (min-width: 60em){.bt3-cluster-element__lightbox-content-heading{font-size:3.6rem}}.bt3-cluster-element__lightbox-slider{z-index:0;position:relative;margin-bottom:1.8rem;order:-1}@media (min-width: 60em){.bt3-cluster-element__lightbox-slider{margin-bottom:4.5rem}}.bt3-cluster-element__lightbox-slider-row{display:flex;flex-wrap:wrap}.bt3-cluster-element__lightbox-slider-previous,.bt3-cluster-element__lightbox-slider-next{align-items:center;justify-content:center}@media (min-width: 60em){.bt3-cluster-element__lightbox-slider-previous,.bt3-cluster-element__lightbox-slider-next{display:none}}.bt3-cluster-element__lightbox-slider-previous{margin-left:auto}.bt3-cluster-element__lightbox-slider-next{margin-right:-.8rem;margin-left:2.4rem}.bt3-cluster-element__lightbox-slider-icon{height:2.8rem;width:2.8rem}.bt3-cluster-element__lightbox-slider-content{touch-action:pan-y!important;order:-1;overflow:hidden;width:calc(100% + 3.6rem);margin:0 -1.8rem 3rem}@media (min-width: 60em){.bt3-cluster-element__lightbox-slider-content{order:unset;margin:0 -14.4rem;width:calc(100% + 28.8rem)}}.bt3-cluster-element__lightbox-slider-image-container{position:relative;padding-bottom:47.905%}@media (min-width: 60em){.bt3-cluster-element__lightbox-slider-image-container{padding-bottom:40.2%}}.bt3-cluster-element__lightbox-slider-image-slide{position:absolute;top:0;right:0;width:71.5%;padding-bottom:47.905%;margin-bottom:0;margin-left:auto}@media (min-width: 60em){.bt3-cluster-element__lightbox-slider-image-slide{width:60%;padding-bottom:40.2%}}.bt3-cluster-element__lightbox-slider-image{pointer-events:none}.bt3-cluster-element__lightbox-content-contact-link{color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out}@media (hover: hover){.bt3-cluster-element__lightbox-content-contact-link:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-cluster-element__lightbox-content-description a{color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out}@media (hover: hover){.bt3-cluster-element__lightbox-content-description a:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-cluster-element__lightbox-content-description>*{margin:.9rem 0}.bt3-cluster-element__lightbox-content-description>*:first-child{margin-top:0}.bt3-cluster-element__lightbox-content-description>*:last-child{margin-bottom:0}\n'],encapsulation:2,data:{animation:[kr("slider",[ma("current",Ln({opacity:1,transform:"translate3d(0, 0, 0)"})),ma("next",Ln({opacity:0,transform:"translate3d(100%, 0, 0)"})),ma("previous",Ln({opacity:0,transform:"translate3d(-100%, 0, 0)"})),ma("other",Ln({opacity:0})),ra("current => *",[va("{{duration}} ease-in-out")]),ra("* => current",[va("{{duration}} {{offset}} ease-in-out")])])]}}),t})(),wX=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-cluster-element",Mr(xX,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sv,Hx]]}),t})();function CX(t,n){1&t&&Se(0,"bt3-icon",19)}function kX(t,n){1&t&&Se(0,"bt3-icon",20)}const MX=function(t){return{"bt3-banner--warning":t}};function TX(t,n){if(1&t){const e=Cn();R(0,"div",1),R(1,"div",2),R(2,"div",3),R(3,"div",4),R(4,"div",5),R(5,"div",6),R(6,"button",7),Ze("click",function(){return mt(e),Z().close()}),Se(7,"bt3-icon",8),z(),z(),z(),z(),R(8,"div",9),R(9,"div",10),R(10,"div",11),R(11,"div",12),Q(12,CX,1,0,"bt3-icon",13),Q(13,kX,1,0,"bt3-icon",14),z(),z(),z(),R(14,"div",15),R(15,"div",16),Se(16,"h2",17),Se(17,"div",18),z(),z(),z(),z(),z(),z()}if(2&t){const e=Z();B("ngClass",Ga(7,MX,"warning"===e.type)),j("aria-label",e.prefixString),F(6),j("aria-label",e.closeString),F(6),B("ngIf","info"===e.type),F(1),B("ngIf","warning"===e.type),F(3),B("innerHTML",e.msgTitle,Zi),F(1),B("innerHTML",e.msgText,Zi)}}let EX=(()=>{class t{constructor(){this.cookieNameBannerClosed="bannerClosed",this.bannerVisible=!1,this.type="info",this.prefixString="",this.closeString="",this.bannerVisible=!this.getBannerClosed()}close(){this.bannerVisible=!1;const e=document.querySelector(".bfe-navigation-banner-wrapper");e&&(e.innerHTML="");const i=document.querySelector(".bfe-navigation");i&&(i.style.top="0"),this.saveBannerClosed()}getBannerClosed(){var e;return"true"===((null===(e=document.cookie.match(`(^|;)\\s*${this.cookieNameBannerClosed}\\s*=\\s*([^;]+)`))||void 0===e?void 0:e.pop())||"")}saveBannerClosed(){document.cookie=`${this.cookieNameBannerClosed}=true`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-banner"]],inputs:{msgTitle:"msgTitle",msgText:"msgText",type:"type",prefixString:"prefixString",closeString:"closeString"},decls:1,vars:1,consts:[["class","bt3-banner","role","alert",3,"ngClass",4,"ngIf"],["role","alert",1,"bt3-banner",3,"ngClass"],[1,"bt3-banner__scroll-container"],[1,"bt3-banner__grid","bt3-grid__container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-2","bt3-grid__mobile-col-offset-10","bt3-grid__tablet-col-1","bt3-grid__tablet-col-offset-11"],[1,"bt3-banner__close-button-wrapper"],[1,"bt3-banner__close-button",3,"click"],["name","close","aria-hidden","true",1,"bt3-banner__close-button-icon"],[1,"bt3-banner__content-row","bt3-grid__row"],[1,"bt3-grid__mobile-col-3","bt3-grid__tablet-col-2","bt3-grid__desktop-col-1","bt3-grid__desktop-col-offset-3"],[1,"bt3-banner__icon-container"],[1,"bt3-banner__icon-wrapper"],["class","bt3-banner__icon","name","info-inverted","aria-hidden","true",4,"ngIf"],["class","bt3-banner__icon","name","alert","aria-hidden","true",4,"ngIf"],[1,"bt3-grid__mobile-col-9","bt3-grid__tablet-col-10","bt3-grid__desktop-col-6"],["tabindex","0",1,"bt3-banner-content"],[1,"bt3-banner__heading",3,"innerHTML"],[1,"bt3-banner__text",3,"innerHTML"],["name","info-inverted","aria-hidden","true",1,"bt3-banner__icon"],["name","alert","aria-hidden","true",1,"bt3-banner__icon"]],template:function(e,i){1&e&&Q(0,TX,18,9,"div",0),2&e&&B("ngIf",i.bannerVisible)},directives:[ri,Pr],styles:['.bt3-grid__row{display:flex;flex:0 1 auto;flex-flow:row wrap}.bt3-grid__container{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}.bt3-grid__row{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}.bt3-grid__mobile-col-9,.bt3-grid__mobile-col-3,.bt3-grid__mobile-col-offset-10,.bt3-grid__mobile-col-2{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}.bt3-grid__mobile-col-2{margin-left:0;margin-right:0;flex-basis:16.6666666667%;max-width:16.6666666667%}.bt3-grid__mobile-col-offset-10{margin-left:83.3333333333%}.bt3-grid__mobile-col-3{margin-left:0;margin-right:0;flex-basis:25%;max-width:25%}.bt3-grid__mobile-col-9{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}@media (min-width: 37.5em){.bt3-grid__container{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__row{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-10,.bt3-grid__tablet-col-2,.bt3-grid__tablet-col-offset-11,.bt3-grid__tablet-col-1{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-1{margin-left:0;margin-right:0;flex-basis:8.3333333333%;max-width:8.3333333333%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-11{margin-left:91.6666666667%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-2{margin-left:0;margin-right:0;flex-basis:16.6666666667%;max-width:16.6666666667%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-10{margin-left:0;margin-right:0;flex-basis:83.3333333333%;max-width:83.3333333333%}}@media (min-width: 60em){.bt3-grid__mobile-col-9,.bt3-grid__mobile-col-3,.bt3-grid__mobile-col-offset-10,.bt3-grid__mobile-col-2{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__mobile-col-2{margin-left:0;margin-right:0;flex-basis:16.6666666667%;max-width:16.6666666667%}}@media (min-width: 60em){.bt3-grid__mobile-col-offset-10{margin-left:83.3333333333%}}@media (min-width: 60em){.bt3-grid__mobile-col-3{margin-left:0;margin-right:0;flex-basis:25%;max-width:25%}}@media (min-width: 60em){.bt3-grid__mobile-col-9{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}}@media (min-width: 60em){.bt3-grid__tablet-col-10,.bt3-grid__tablet-col-2,.bt3-grid__tablet-col-offset-11,.bt3-grid__tablet-col-1{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__tablet-col-1{margin-left:0;margin-right:0;flex-basis:8.3333333333%;max-width:8.3333333333%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-11{margin-left:91.6666666667%}}@media (min-width: 60em){.bt3-grid__tablet-col-2{margin-left:0;margin-right:0;flex-basis:16.6666666667%;max-width:16.6666666667%}}@media (min-width: 60em){.bt3-grid__tablet-col-10{margin-left:0;margin-right:0;flex-basis:83.3333333333%;max-width:83.3333333333%}}@media (min-width: 60em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-3,.bt3-grid__desktop-col-6,.bt3-grid__desktop-col-1{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-1{margin-left:0;margin-right:0;flex-basis:8.3333333333%;max-width:8.3333333333%}}@media (min-width: 60em){.bt3-grid__desktop-col-6{margin-left:0;margin-right:0;flex-basis:50%;max-width:50%}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-3{margin-left:25%}}@media (min-width: 100em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 120.0625em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 150.0625em){.bt3-grid__container{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary .bt3-grid__container,.bt3-grid__container.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-grid__container,.bt3-grid__container.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__row{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}:host{display:block}.bt3-banner,.bfc-base .bt3-banner{--themeBase: var(--white);--themeLinkColor: var(--white);--themeHover: var(--white);position:relative;display:block;background-color:var(--blue-500);color:var(--white)}.bt3-banner:after,.bfc-base .bt3-banner:after{content:"";position:absolute;left:0;width:100%;height:.1rem;background-color:var(--blue-500)}.bt3-banner .bt3-banner__scroll-container,.bfc-base .bt3-banner .bt3-banner__scroll-container{max-height:75vh;overflow:hidden auto}.bt3-banner .bt3-banner__grid,.bfc-base .bt3-banner .bt3-banner__grid{position:relative}.bt3-banner .bt3-banner__content-row,.bfc-base .bt3-banner .bt3-banner__content-row{padding:6rem 0}@media (min-width: 60em){.bt3-banner .bt3-banner__content-row,.bfc-base .bt3-banner .bt3-banner__content-row{padding:7.2rem 0}}@media (min-width: 60em){.bt3-banner .bt3-banner__col,.bfc-base .bt3-banner .bt3-banner__col{order:-1}}.bt3-banner .bt3-banner__close-button-wrapper,.bfc-base .bt3-banner .bt3-banner__close-button-wrapper{position:relative}.bt3-banner .bt3-banner__close-button,.bfc-base .bt3-banner .bt3-banner__close-button{position:absolute;top:1.8rem;right:-1.5rem;width:4.5rem;height:4.5rem}@media (min-width: 37.5em){.bt3-banner .bt3-banner__close-button,.bfc-base .bt3-banner .bt3-banner__close-button{right:-1.05rem;width:4.2rem;height:4.2rem}}@media (min-width: 60em){.bt3-banner .bt3-banner__close-button,.bfc-base .bt3-banner .bt3-banner__close-button{right:-1.5rem;width:6rem;height:6rem}}.bt3-banner .bt3-banner__close-button-icon,.bfc-base .bt3-banner .bt3-banner__close-button-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1.5rem;height:1.5rem}@media (min-width: 37.5em){.bt3-banner .bt3-banner__close-button-icon,.bfc-base .bt3-banner .bt3-banner__close-button-icon{width:2.1rem;height:2.1rem}}@media (min-width: 60em){.bt3-banner .bt3-banner__close-button-icon,.bfc-base .bt3-banner .bt3-banner__close-button-icon{width:3rem;height:3rem}}.bt3-banner .bt3-banner__icon-container,.bfc-base .bt3-banner .bt3-banner__icon-container{display:flex;justify-content:center;width:100%;padding:.9rem 1.2rem}@media (min-width: 60em){.bt3-banner .bt3-banner__icon-container,.bfc-base .bt3-banner .bt3-banner__icon-container{padding-top:.9rem}}.bt3-banner .bt3-banner__icon-wrapper,.bfc-base .bt3-banner .bt3-banner__icon-wrapper{width:100%;max-width:5.4rem}.bt3-banner .bt3-banner__icon,.bfc-base .bt3-banner .bt3-banner__icon{display:flex;width:100%;padding-bottom:100%;height:auto}.bt3-banner .bt3-banner__heading,.bfc-base .bt3-banner .bt3-banner__heading{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.7rem;line-height:1.5;font-size:2.1rem;margin:0 0 1.5rem}@media (min-width: 60em){.bt3-banner .bt3-banner__heading,.bfc-base .bt3-banner .bt3-banner__heading{font-size:3.6rem;line-height:1.2}}@media (min-width: 37.5em){.bt3-banner .bt3-banner__heading,.bfc-base .bt3-banner .bt3-banner__heading{font-size:2.7rem;margin:0 0 1.8rem}}.bt3-banner .bt3-banner__text p,.bfc-base .bt3-banner .bt3-banner__text p{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin:.9rem 0}@media (min-width: 60em){.bt3-banner .bt3-banner__text p,.bfc-base .bt3-banner .bt3-banner__text p{font-size:1.8rem}}.bt3-banner .bt3-banner__text p:first-child,.bfc-base .bt3-banner .bt3-banner__text p:first-child{margin-top:0}.bt3-banner .bt3-banner__text p:last-child,.bfc-base .bt3-banner .bt3-banner__text p:last-child{margin-bottom:0}.bt3-banner .bt3-banner__text a,.bfc-base .bt3-banner .bt3-banner__text a{color:var(--themeLinkColor, var(--primary-500));border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out;text-decoration:none}@media (hover: hover){.bt3-banner .bt3-banner__text a:hover,.bfc-base .bt3-banner .bt3-banner__text a:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-banner.bt3-banner--warning,.bfc-base .bt3-banner.bt3-banner--warning{background-color:var(--red-500)}.bt3-banner.bt3-banner--warning:after,.bfc-base .bt3-banner.bt3-banner--warning:after{background-color:var(--red-500)}.bt3-banner.bt3-banner--warning .bt3-banner__icon-container,.bfc-base .bt3-banner.bt3-banner--warning .bt3-banner__icon-container{padding:.6rem .9rem}@media (min-width: 100em){.bt3-banner.bt3-banner--warning .bt3-banner__icon-container,.bfc-base .bt3-banner.bt3-banner--warning .bt3-banner__icon-container{padding-top:.3rem}}.bt3-banner.bt3-banner--warning .bt3-banner__icon-wrapper,.bfc-base .bt3-banner.bt3-banner--warning .bt3-banner__icon-wrapper{max-width:6rem}\n'],encapsulation:2}),t})(),DX=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-banner",Mr(EX,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})();const SX=["teaser"],IX=["slide"],U5=function(t,n,e){return{figure:t,images:n,index:e}};function AX(t,n){if(1&t){const e=Cn();R(0,"button",13,14),Ze("click",function(){mt(e);const a=Z().index;return Z().openDetail(a)}),Dl(2,15),z()}if(2&t){const e=Z(),i=e.$implicit,a=e.index,c=Z(),h=Ft(4);F(2),B("ngTemplateOutlet",h)("ngTemplateOutletContext",Wh(2,U5,i,c.images,a))}}function OX(t,n){if(1&t&&(R(0,"div",16),Dl(1,15),z()),2&t){const e=Z(),i=e.$implicit,a=e.index,c=Z(),h=Ft(4);F(1),B("ngTemplateOutlet",h)("ngTemplateOutletContext",Wh(2,U5,i,c.images,a))}}function LX(t,n){if(1&t&&(R(0,"li",10),Q(1,AX,3,6,"button",11),Q(2,OX,2,6,"div",12),z()),2&t){const e=n.$implicit;F(1),B("ngIf",e.text),F(1),B("ngIf",!e.text)}}function PX(t,n){1&t&&Se(0,"bt3-icon",24),2&t&&B("name",Z().figure.iconKey)}function FX(t,n){1&t&&Se(0,"img",25),2&t&&B("src",Z().figure.iconPath,en)}function RX(t,n){1&t&&Se(0,"source",34),2&t&&B("srcset",Z(2).ngIf.formats.w780,en)}function zX(t,n){1&t&&Se(0,"source",35),2&t&&B("srcset",Z(2).ngIf.formats.w420,en)}function NX(t,n){1&t&&Se(0,"source",36),2&t&&B("srcset",Z(2).ngIf.formats.w280,en)}function BX(t,n){1&t&&Se(0,"source",37),2&t&&B("srcset",Z(2).ngIf.formats.w180,en)}function VX(t,n){if(1&t&&(zt(0),Q(1,RX,1,1,"source",30),Q(2,zX,1,1,"source",31),Q(3,NX,1,1,"source",32),Q(4,BX,1,1,"source",33),Nt()),2&t){const e=Z().ngIf;F(1),B("ngIf",e.formats.w780),F(1),B("ngIf",e.formats.w420),F(1),B("ngIf",e.formats.w280),F(1),B("ngIf",e.formats.w180)}}function HX(t,n){if(1&t&&Se(0,"img",38),2&t){const e=Z().ngIf;B("src",e.publicUrl,en)("alt",e.alternative)}}function jX(t,n){if(1&t&&(R(0,"picture",26),Q(1,VX,5,4,"ng-container",27),Q(2,HX,1,2,"img",28),Se(3,"div",29),z()),2&t){const e=n.ngIf;F(1),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function UX(t,n){if(1&t&&(R(0,"div",17),Q(1,PX,1,1,"bt3-icon",18),Q(2,FX,1,1,"img",19),Se(3,"span",20),Se(4,"div",21),Se(5,"span",22),z(),Q(6,jX,4,2,"picture",23)),2&t){const e=n.figure,i=n.images,a=n.index,c=Z();F(1),B("ngIf",e.iconKey),F(1),B("ngIf",e.iconPath&&!e.iconKey),F(1),B("innerHTML",e.figureString,Zi),F(1),B("innerHTML",e.teaserTitle,Zi),F(1),B("innerHTML",c.openDetailsString,Zi),F(1),B("ngIf",i[a])}}const GX=function(t,n,e){return{width:t,"max-width":n,"flex-basis":e}},$X=function(t){return{"bt3-facts-figures-teaser-list__lightbox-content-text-slide--active":t}};function YX(t,n){if(1&t&&(R(0,"div",39,40),Se(2,"div",41),Se(3,"div",42),z()),2&t){const e=n.$implicit,i=n.index,a=Z();il(Wh(8,GX,100/a.total+"%",100/a.total+"%",100/a.total+"%")),B("ngClass",Ga(12,$X,i===a.currentIndex)),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex)("tabindex",i!==a.currentIndex?-1:0),F(2),B("innerHTML",e.title,Zi),F(1),B("innerHTML",e.text,Zi)}}function qX(t,n){1&t&&Se(0,"source",34),2&t&&B("srcset",Z(2).ngIf.formats.w1320,en)}function WX(t,n){1&t&&Se(0,"source",35),2&t&&B("srcset",Z(2).ngIf.formats.w780,en)}function ZX(t,n){1&t&&Se(0,"source",37),2&t&&B("srcset",Z(2).ngIf.formats.w280,en)}function XX(t,n){if(1&t&&(zt(0),Q(1,qX,1,1,"source",30),Q(2,WX,1,1,"source",31),Q(3,ZX,1,1,"source",33),Nt()),2&t){const e=Z().ngIf;F(1),B("ngIf",e.formats.w1320),F(1),B("ngIf",e.formats.w780),F(1),B("ngIf",e.formats.w280)}}function KX(t,n){if(1&t&&Se(0,"img",53),2&t){const e=Z().ngIf;B("src",e.publicUrl,en)("alt",e.alternative)}}function JX(t,n){if(1&t&&(R(0,"picture",51),Q(1,XX,4,3,"ng-container",27),Q(2,KX,1,2,"img",52),Se(3,"div",29),z()),2&t){const e=n.ngIf;F(1),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function QX(t,n){1&t&&Se(0,"bt3-icon",57),2&t&&B("name",Z(2).$implicit.iconKey)}function eK(t,n){1&t&&Se(0,"img",58),2&t&&B("src",Z(2).$implicit.iconPath,en)}function tK(t,n){if(1&t&&(zt(0),Q(1,QX,1,1,"bt3-icon",54),Q(2,eK,1,1,"img",55),Se(3,"span",56),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf",e.iconKey),F(1),B("ngIf",e.iconPath&&!e.iconKey),F(1),B("innerHTML",e.figureString,Zi)}}const nK=function(t,n){return{duration:t,offset:n}},iK=function(t,n){return{value:t,params:n}};function aK(t,n){if(1&t&&(zt(0),R(1,"div",48),Q(2,JX,4,2,"picture",49),R(3,"div",50),Q(4,tK,4,3,"ng-container",27),z(),z(),Nt()),2&t){const e=n.$implicit,i=n.index,a=Z(2);F(1),Rn("bt3-facts-figures-teaser-list__lightbox-slide--current",i===a.currentIndex),B("@slider",Cr(10,iK,a.getPosition(i),Cr(7,nK,a.initial?"0ms":"600ms",a.initial?"0ms":"50ms"))),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex),F(1),B("ngIf",a.images[i]),F(2),B("ngIf",e)}}function rK(t,n){if(1&t){const e=Cn();zt(0),R(1,"button",59),Ze("click",function(){return mt(e),Z(2).prev()}),Se(2,"bt3-icon",60),z(),R(3,"button",61),Ze("click",function(){return mt(e),Z(2).next()}),Se(4,"bt3-icon",62),z(),Nt()}if(2&t){const e=Z(2);F(1),j("aria-label",e.previousFigureString),F(2),j("aria-label",e.nextFigureString)}}function oK(t,n){if(1&t){const e=Cn();R(0,"div",43),R(1,"div",44),R(2,"div",45),Ze("swipeleft",function(){return mt(e),Z().next()})("swiperight",function(){return mt(e),Z().prev()}),R(3,"div",46),Q(4,aK,5,13,"ng-container",47),z(),z(),Q(5,rK,5,2,"ng-container",27),z(),z()}if(2&t){const e=Z();F(4),B("ngForOf",e.figures),F(1),B("ngIf",e.total>1&&e.allowLightboxCarousel)}}const sK=function(t,n){return{"margin-left":t,width:n}};let lK=(()=>{class t{constructor(e){this.sanitizer=e,this.figures=[],this.images=[],this.currentIndex=0,this.total=0,this.ready=!1,this.initial=!1,this.position="current",this.openDetailsString="",this.lightboxCloseButtonString="",this.previousFigureString="",this.nextFigureString="",this.allowLightboxCarousel=!1,this.getTotal=()=>this.figures.length,Yn.e(329).then(Yn.t.bind(Yn,329,23)).finally(()=>this.ready=!0)}set figuresJson(e){const i=JSON.parse(e);this.figures=this.addSafeIconPathUrlsToFigures(i),this.allowLightboxCarousel=this.getLightboxCarouselApplicability(),this.total=this.figures.length}set imagesJson(e){e&&(this.images=JSON.parse(e))}openDetail(e){this.currentIndex=e,this.initial=!0,this.lightbox.open()}closeDetail(){this.lightbox.close(),this.teaserRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})}next(){!this.allowLightboxCarousel||(this.initial=!1,this.currentIndex=this.getNextIndex(),this.setFocusOnCurrentTextSlide())}prev(){!this.allowLightboxCarousel||(this.initial=!1,this.currentIndex=this.getPreviousIndex(),this.setFocusOnCurrentTextSlide())}setFocusOnCurrentTextSlide(){setTimeout(()=>{this.textSlideRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})})}getPosition(e){return e===this.currentIndex?"current":2===this.getTotal()?"other":e===this.getNextIndex()?"next":e===this.getPreviousIndex()?"previous":"other"}getNextIndex(){return(this.currentIndex+1)%this.getTotal()}getPreviousIndex(){return(this.getTotal()+this.currentIndex-1)%this.getTotal()}getLightboxCarouselApplicability(){if(!this.figures.length)return!1;let e=!0;return this.figures.forEach(i=>{i.text||(e=!1)}),e}addSafeIconPathUrlsToFigures(e){return e.map(i=>{const a=Object.assign({},i);return a.iconPath&&(a.iconPath=this.sanitizer.bypassSecurityTrustResourceUrl(a.iconPath)),a})}}return t.\u0275fac=function(e){return new(e||t)(he(Xm))},t.\u0275cmp=Ct({type:t,selectors:[["app-facts-figures-teaser-list"]],viewQuery:function(e,i){if(1&e&&(En(Hf,5),En(SX,5),En(IX,5)),2&e){let a;Xt(a=Kt())&&(i.lightbox=a.first),Xt(a=Kt())&&(i.teaserRefs=a),Xt(a=Kt())&&(i.textSlideRefs=a)}},inputs:{figuresJson:"figuresJson",imagesJson:"imagesJson",openDetailsString:"openDetailsString",lightboxCloseButtonString:"lightboxCloseButtonString",previousFigureString:"previousFigureString",nextFigureString:"nextFigureString"},decls:11,vars:12,consts:[[1,"bt3-facts-figures-teaser-list"],[1,"bt3-facts-figures-teaser-list__list"],["class","bt3-facts-figures-teaser-list__list-item",4,"ngFor","ngForOf"],["teaserContent",""],[3,"hasSliderNav","closeButtonText","navigationPrevString","navigationNextString","closed","goToPrev","goToNext"],[1,"bt3-facts-figures-teaser-list__lightbox-content"],[1,"bt3-facts-figures-teaser-list__lightbox-content-text-slider"],[1,"bt3-facts-figures-teaser-list__lightbox-content-text-slider-pane"],["class","bt3-facts-figures-teaser-list__lightbox-content-text-slide",3,"ngClass","style",4,"ngFor","ngForOf"],["class","bt3-facts-figures-teaser-list__lightbox-slider","aria-hidden","true",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__list-item"],["class","bt3-facts-figures-teaser-list__teaser bt3-facts-figures-teaser-list__teaser--clickable",3,"click",4,"ngIf"],["class","bt3-facts-figures-teaser-list__teaser",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__teaser","bt3-facts-figures-teaser-list__teaser--clickable",3,"click"],["teaser",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bt3-facts-figures-teaser-list__teaser"],[1,"bt3-facts-figures-teaser-list__teaser-text-wrapper"],["class","bt3-facts-figures-teaser-list__teaser-icon",3,"name",4,"ngIf"],["class","bt3-facts-figures-teaser-list__teaser-icon","alt","",3,"src",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__figure-string",3,"innerHTML"],[1,"bt3-facts-figures-teaser-list__teaser-title",3,"innerHTML"],[1,"bt3-visually-hidden",3,"innerHTML"],["class","bt3-facts-figures-teaser-list__teaser-img-wrapper",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__teaser-icon",3,"name"],["alt","",1,"bt3-facts-figures-teaser-list__teaser-icon",3,"src"],[1,"bt3-facts-figures-teaser-list__teaser-img-wrapper"],[4,"ngIf"],["class","bt3-facts-figures-teaser-list__teaser-img","loading","lazy",3,"src","alt",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__teaser-img-overlay"],["media","(min-width: 1921px)",3,"srcset",4,"ngIf"],["media","(min-width: 601px)",3,"srcset",4,"ngIf"],["media","(min-width: 401px)",3,"srcset",4,"ngIf"],[3,"srcset",4,"ngIf"],["media","(min-width: 1921px)",3,"srcset"],["media","(min-width: 601px)",3,"srcset"],["media","(min-width: 401px)",3,"srcset"],[3,"srcset"],["loading","lazy",1,"bt3-facts-figures-teaser-list__teaser-img",3,"src","alt"],[1,"bt3-facts-figures-teaser-list__lightbox-content-text-slide",3,"ngClass"],["slide",""],[1,"bt3-facts-figures-teaser-list__lightbox-content-heading",3,"innerHTML"],[1,"bt3-atom-rte","bt3-facts-figures-teaser-list__lightbox-content-description",3,"innerHTML"],["aria-hidden","true",1,"bt3-facts-figures-teaser-list__lightbox-slider"],[1,"bt3-facts-figures-teaser-list__lightbox-slider-row"],[1,"bt3-facts-figures-teaser-list__lightbox-slider-content",3,"swipeleft","swiperight"],["role","presentation",1,"bt3-facts-figures-teaser-list__lightbox-slider-image-container"],[4,"ngFor","ngForOf"],[1,"bt3-facts-figures-teaser-list__lightbox-slide"],["class","bt3-facts-figures-teaser-list__lightbox-image-wrapper",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__lightbox-image-text-wrapper"],[1,"bt3-facts-figures-teaser-list__lightbox-image-wrapper"],["class","bt3-facts-figures-teaser-list__lightbox-slider-image","loading","lazy",3,"src","alt",4,"ngIf"],["loading","lazy",1,"bt3-facts-figures-teaser-list__lightbox-slider-image",3,"src","alt"],["class","bt3-facts-figures-teaser-list__teaser-icon bt3-facts-figures-teaser-list__teaser-icon--lightbox",3,"name",4,"ngIf"],["class","bt3-facts-figures-teaser-list__teaser-icon bt3-facts-figures-teaser-list__teaser-icon--lightbox","alt","",3,"src",4,"ngIf"],[1,"bt3-facts-figures-teaser-list__figure-string","bt3-facts-figures-teaser-list__figure-string--lightbox",3,"innerHTML"],[1,"bt3-facts-figures-teaser-list__teaser-icon","bt3-facts-figures-teaser-list__teaser-icon--lightbox",3,"name"],["alt","",1,"bt3-facts-figures-teaser-list__teaser-icon","bt3-facts-figures-teaser-list__teaser-icon--lightbox",3,"src"],["role","button",1,"bt3-facts-figures-teaser-list__lightbox-slider-previous",3,"click"],["name","caret-large-left",1,"bt3-facts-figures-teaser-list__lightbox-slider-icon"],["role","button",1,"bt3-facts-figures-teaser-list__lightbox-slider-next",3,"click"],["name","caret-large-right",1,"bt3-facts-figures-teaser-list__lightbox-slider-icon"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"ul",1),Q(2,LX,3,2,"li",2),z(),z(),Q(3,UX,7,6,"ng-template",null,3,Hs),R(5,"app-lightbox",4),Ze("closed",function(){return i.closeDetail()})("goToPrev",function(){return i.prev()})("goToNext",function(){return i.next()}),R(6,"div",5),R(7,"div",6),R(8,"div",7),Q(9,YX,4,14,"div",8),z(),z(),Q(10,oK,6,2,"div",9),z(),z()),2&e&&(F(2),B("ngForOf",i.figures),F(3),B("hasSliderNav",i.total>1&&i.allowLightboxCarousel)("closeButtonText",i.lightboxCloseButtonString)("navigationPrevString",i.previousFigureString)("navigationNextString",i.nextFigureString),F(3),il(Cr(9,sK,-100*i.currentIndex+"%",100*i.total+"%")),F(1),B("ngForOf",i.figures),F(1),B("ngIf",i.ready))},directives:[ya,Hf,ri,ju,Pr],styles:['@charset "UTF-8";.bt3-facts-figures-teaser-list__teaser-img-wrapper,.bt3-facts-figures-teaser-list__lightbox-image-wrapper,.bt3-facts-figures-teaser-list__lightbox-slide{position:relative;display:block;overflow:hidden}.bt3-facts-figures-teaser-list__list{display:grid;grid-gap:3rem 1.8rem;gap:3rem 1.8rem;list-style:none}@media (min-width: 37.5em){.bt3-facts-figures-teaser-list__list{grid-template-columns:repeat(2,1fr);grid-gap:3rem 1.8rem;gap:3rem 1.8rem}}@media (min-width: 60em){.bt3-facts-figures-teaser-list__list{grid-template-columns:repeat(3,1fr);grid-gap:4.5rem 3.6rem;gap:4.5rem 3.6rem}}.bt3-facts-figures-teaser-list__teaser{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.5;position:relative;align-items:stretch;flex-direction:column;width:100%;height:100%;overflow:hidden;font-size:1.5rem;text-align:left;background-color:var(--themeBase);transform:translate(0);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s}@media (min-width: 60em){.bt3-facts-figures-teaser-list__teaser{font-size:2.4rem}}@media (min-width: 60em){.bt3-facts-figures-teaser-list__teaser{font-size:2.1rem}}@media (min-width: 100em){.bt3-facts-figures-teaser-list__teaser{font-size:2.4rem}}@media (hover: hover){.bt3-facts-figures-teaser-list__teaser--clickable:hover{transform:translate(.9rem)}}@media (hover: hover) and (min-width: 60em){.bt3-facts-figures-teaser-list__teaser--clickable:hover{transform:translate(1.8rem)}}@media (hover: hover){.bt3-facts-figures-teaser-list__teaser--clickable:hover .bt3-facts-figures-teaser-list__teaser-img,.bt3-facts-figures-teaser-list__teaser--clickable:hover .bt3-facts-figures-teaser-list__lightbox-slider-image{transform:scale(1.05)}}@media (hover: hover) and (min-width: 60em){.bt3-facts-figures-teaser-list__teaser--clickable:hover .bt3-facts-figures-teaser-list__teaser-img,.bt3-facts-figures-teaser-list__teaser--clickable:hover .bt3-facts-figures-teaser-list__lightbox-slider-image{transform:scale(1.1)}}.bt3-facts-figures-teaser-list__teaser-text-wrapper{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);line-height:1.2;position:relative;z-index:1;display:flex;flex-direction:column;text-align:center;padding:6rem 1.8rem;color:var(--white)}.bt3-facts-figures-teaser-list__teaser-icon{--themeBase: var(--white);width:6.8rem;height:6.8rem;margin:0 auto 3rem}.bt3-facts-figures-teaser-list__teaser-icon--lightbox{margin-bottom:.9rem}@media (min-width: 37.5em){.bt3-facts-figures-teaser-list__teaser-icon--lightbox{width:9rem;height:9rem;margin-bottom:1.8rem}}.bt3-facts-figures-teaser-list__figure-string{font-size:4.8rem}@media (min-width: 37.5em){.bt3-facts-figures-teaser-list__figure-string--lightbox{font-size:7.2rem}}@media (min-width: 60em){.bt3-facts-figures-teaser-list__figure-string--lightbox{font-size:4.8rem}}@media (min-width: 100em){.bt3-facts-figures-teaser-list__figure-string--lightbox{font-size:7.2rem}}.bt3-facts-figures-teaser-list__teaser-title{display:inline-block;font-size:2.7rem;margin-top:2.1rem}.bt3-facts-figures-teaser-list__teaser-img-wrapper,.bt3-facts-figures-teaser-list__lightbox-image-wrapper,.bt3-facts-figures-teaser-list__lightbox-slide{position:absolute;inset:0;width:100%;height:100%;order:-1}.bt3-facts-figures-teaser-list__teaser-img,.bt3-facts-figures-teaser-list__lightbox-slider-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transform:scale(1);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s}.bt3-facts-figures-teaser-list__teaser-img-overlay{position:absolute;inset:0;background-color:var(--themeBase);opacity:.9}.bt3-facts-figures-teaser-list__lightbox-content{display:flex;flex-direction:column;background-color:var(--white);padding:0 1.8rem;font-size:2.1rem}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-content{padding:7.2rem}}.bt3-facts-figures-teaser-list__lightbox-content-text-slider{overflow:hidden;margin:-.9rem;padding:.9rem}.bt3-facts-figures-teaser-list__lightbox-content-text-slider-pane{display:flex}.bt3-facts-figures-teaser-list__lightbox-content-text-slide{display:flex;flex-direction:column;grid-gap:3rem;gap:3rem;flex:0 0 100%;visibility:hidden}.bt3-facts-figures-teaser-list__lightbox-content-text-slide--active{visibility:visible}.bt3-facts-figures-teaser-list__lightbox-content-heading *{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:3rem;line-height:1.2}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-content-heading *{font-size:3.6rem}}.bt3-facts-figures-teaser-list__lightbox-slider{z-index:0;position:relative;margin-bottom:1.8rem;order:-1}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-slider{margin-bottom:4.5rem}}.bt3-facts-figures-teaser-list__lightbox-slider-row{display:flex;flex-wrap:wrap}.bt3-facts-figures-teaser-list__lightbox-slider-previous,.bt3-facts-figures-teaser-list__lightbox-slider-next{align-items:center;justify-content:center}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-slider-previous,.bt3-facts-figures-teaser-list__lightbox-slider-next{display:none}}.bt3-facts-figures-teaser-list__lightbox-slider-previous{margin-left:auto}.bt3-facts-figures-teaser-list__lightbox-slider-next{margin-right:-.8rem;margin-left:2.4rem}.bt3-facts-figures-teaser-list__lightbox-slider-icon{height:2.8rem;width:2.8rem}.bt3-facts-figures-teaser-list__lightbox-slider-content{touch-action:pan-y!important;order:-1;overflow:hidden;width:calc(100% + 3.6rem);margin:0 -1.8rem 3rem}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-slider-content{order:unset;margin:0 -14.4rem;width:calc(100% + 28.8rem)}}.bt3-facts-figures-teaser-list__lightbox-slider-image-container{position:relative;padding-bottom:47.905%}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-slider-image-container{padding-bottom:26.8%}}.bt3-facts-figures-teaser-list__lightbox-slide{position:absolute;top:0;right:0;width:71.5%;padding-bottom:47.905%;margin-bottom:0;margin-left:auto;background-color:var(--themeBase)}@media (min-width: 60em){.bt3-facts-figures-teaser-list__lightbox-slide{width:40%;padding-bottom:26.8%}}.bt3-facts-figures-teaser-list__lightbox-slider-image{pointer-events:none}.bt3-facts-figures-teaser-list__lightbox-image-text-wrapper{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);line-height:1.2;position:absolute;inset:0;z-index:1;display:flex;flex-direction:column;justify-content:center;text-align:center;padding:.9rem 1.8rem;color:var(--white)}@media (min-width: 37.5em){.bt3-facts-figures-teaser-list__lightbox-image-text-wrapper{padding:1.8rem}}\n'],encapsulation:2,data:{animation:[kr("slider",[ma("current",Ln({opacity:1,transform:"translate3d(0, 0, 0)"})),ma("next",Ln({opacity:0,transform:"translate3d(100%, 0, 0)"})),ma("previous",Ln({opacity:0,transform:"translate3d(-100%, 0, 0)"})),ma("other",Ln({opacity:0})),ra("current => *",[va("{{duration}} ease-in-out")]),ra("* => current",[va("{{duration}} {{offset}} ease-in-out")])])]}}),t})(),cK=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-facts-figures-teaser-list",Mr(lK,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sv,Hx]]}),t})();const dK=function(t){return{"scroll-to-top__button--visible":t}};let uK=(()=>{class t{constructor(){this.label="",this.scrollBreakpoint=0,this.scrollButtonVisible=!1}ngAfterViewInit(){this.initValues(),this.events()}doSmoothScroll(){window.scrollTo({top:0,behavior:"smooth"})}events(){window.addEventListener("scroll",this.scrollBehaviour.bind(this))}initValues(){this.scrollBreakpoint=.9*window.innerHeight}scrollBehaviour(){this.scrollButtonVisible=window.scrollY>=this.scrollBreakpoint}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["scroll-to-top"]],inputs:{label:"label"},decls:6,vars:4,consts:[[1,"scroll-to-top"],[1,"scroll-to-top__button",3,"ngClass","click"],[1,"scroll-to-top__icon-wrapper"],["name","caret-large-left",1,"scroll-to-top__icon"],[1,"scroll-to-top__description"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"button",1),Ze("click",function(){return i.doSmoothScroll()}),R(2,"div",2),Se(3,"bt3-icon",3),z(),R(4,"span",4),ot(5),z(),z(),z()),2&e&&(F(1),B("ngClass",Ga(2,dK,i.scrollButtonVisible)),F(4),vn(" ",i.label," "))},directives:[Pr],styles:["[_nghost-%COMP%]{position:sticky;height:0;bottom:3rem}.scroll-to-top[_ngcontent-%COMP%]{position:relative}.scroll-to-top__button[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:2.1rem;line-height:1.5;position:absolute;right:0;bottom:0;display:flex;z-index:1000;flex-direction:column;align-items:center;min-width:8.6rem;padding:2.4rem .9rem;border:none;grid-row-gap:.6rem;row-gap:.6rem;color:var(--black-500);fill:var(--black-500);background:var(--white);cursor:pointer;transition:all .2s ease-in-out;transform:translateY(calc(100% + 3rem));text-decoration:none}@media (min-width: 60em){.scroll-to-top__button[_ngcontent-%COMP%]{font-size:2.4rem}}@media (hover: hover){.scroll-to-top__button[_ngcontent-%COMP%]:hover{padding-top:1.8rem;grid-row-gap:1.2rem;row-gap:1.2rem;color:var(--black);fill:var(--black)}}.scroll-to-top__button.scroll-to-top__button--visible[_ngcontent-%COMP%]{transform:translateY(0)}.scroll-to-top__button[_ngcontent-%COMP%]   .scroll-to-top__icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.scroll-to-top__button[_ngcontent-%COMP%]   .scroll-to-top__icon-wrapper[_ngcontent-%COMP%]{height:1.2rem}.scroll-to-top__button[_ngcontent-%COMP%]   .scroll-to-top__description[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.3rem}"]}),t})(),hK=(()=>{class t{transform(e,i="DE"){return new Date(e).toLocaleDateString(i,{year:"numeric",month:"long",day:"numeric"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ar({name:"dateLocalizedPipe",type:t,pure:!0}),t})();function mK(t,n){if(1&t&&(R(0,"a",5),R(1,"h3",6),ot(2),z(),z()),2&t){const e=Z(2);zi("href",e.item.url,en),F(2),Kn(e.item.title)}}function pK(t,n){if(1&t&&(zt(0),R(1,"div"),Q(2,mK,3,2,"a",2),R(3,"div",3),Dl(4,4),z(),z(),Nt()),2&t){const e=Z(),i=Ft(2);F(1),function(t,n,e,i,a){Pd(Ir,zu,ge(vt(),t,n,e,i,a),!0)}("bt3-filter-generic-result bt3-filter-generic-result--",e.layout," ",e.imageCentered?"bt3-filter-generic-result--image-centered":"",""),F(1),B("ngIf",e.item.url),F(2),B("ngTemplateOutlet",i)}}function fK(t,n){if(1&t&&(R(0,"div",13),Se(1,"img",14),z()),2&t){const e=Z(4);F(1),zi("src",e.item.image.src,en)}}function gK(t,n){if(1&t&&(zt(0),Q(1,fK,2,1,"div",12),Nt()),2&t){const e=Z(3);F(1),B("ngIf",e.item.image&&e.item.image.src)}}function _K(t,n){if(1&t&&(R(0,"p",15),ot(1),z()),2&t){const e=Z(3);F(1),vn(" ",e.item.description," ")}}function bK(t,n){if(1&t&&(R(0,"p",16),ot(1),Vu(2,"dateLocalizedPipe"),z()),2&t){const e=Z(3);F(1),vn(" ",K1(2,1,1e3*e.item.date,e.lang)," ")}}function yK(t,n){if(1&t&&(R(0,"p",18),ot(1),z()),2&t){const e=Z(4);F(1),vn(" ",e.item.distanceNearestLocation," km ")}}function vK(t,n){if(1&t&&(zt(0),Q(1,yK,2,1,"p",17),Nt()),2&t){const e=n.$implicit,i=Z(3);F(1),B("ngIf",i.showDistance&&e.isHeadquarters&&e.distance&&e.distance>0)}}function xK(t,n){if(1&t&&(zt(0),Q(1,gK,2,1,"ng-container",0),R(2,"div",7),R(3,"p",8),ot(4),z(),Q(5,_K,2,1,"p",9),Q(6,bK,3,4,"p",10),Q(7,vK,2,1,"ng-container",11),z(),Nt()),2&t){const e=Z(2);F(1),B("ngIf",e.item.image),F(3),vn(" ",e.item.title," "),F(1),B("ngIf","minimal"!==e.viewConfig.display),F(1),B("ngIf","full"===e.viewConfig.display),F(1),B("ngForOf",e.item.locations)}}function wK(t,n){if(1&t&&Q(0,xK,8,5,"ng-container",0),2&t){const e=Z();B("ngIf",e.item&&e.viewConfig)}}let CK=(()=>{class t{constructor(){this._item=null,this.layout="tiles-uniform",this.viewConfig=null,this.imageCentered=!1,this.showDistance=!1,this.lang=document.documentElement.lang.slice(0,2).toUpperCase(),this.relations=[]}set item(e){this._item=e,e&&(this.relations=Object.keys(e.relations).map(i=>e.relations[i]))}get item(){return this._item}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic-result"]],inputs:{item:"item",layout:"layout",viewConfig:"viewConfig",imageCentered:"imageCentered",showDistance:"showDistance"},decls:3,vars:1,consts:[[4,"ngIf"],["resultContent",""],["class","bt3-filter-generic-result__link",3,"href",4,"ngIf"],[1,"bt3-filter-generic-result__content"],[3,"ngTemplateOutlet"],[1,"bt3-filter-generic-result__link",3,"href"],[1,"bt3-visually-hidden"],[1,"bt3-filter-generic-result__text-wrapper"],["aria-hidden","true",1,"bt3-filter-generic-result__heading"],["class","bt3-filter-generic-result__lead",4,"ngIf"],["class","bt3-filter-generic-result__meta",4,"ngIf"],[4,"ngFor","ngForOf"],["class","bt3-filter-generic-result__image-wrapper",4,"ngIf"],[1,"bt3-filter-generic-result__image-wrapper"],["loading","lazy",1,"bt3-filter-generic-result__image",3,"src"],[1,"bt3-filter-generic-result__lead"],[1,"bt3-filter-generic-result__meta"],["class","bt3-filter-generic-result__distance",4,"ngIf"],[1,"bt3-filter-generic-result__distance"]],template:function(e,i){1&e&&(Q(0,pK,5,6,"ng-container",0),Q(1,wK,1,1,"ng-template",null,1,Hs)),2&e&&B("ngIf",i.item&&i.layout)},directives:[ri,ju,ya],pipes:[hK],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}h3,p{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p{word-break:break-word}h3{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-filter-generic-result{position:relative;display:block;height:100%}@media (hover: hover){.bt3-filter-generic-result:hover .bt3-filter-generic-result__text-wrapper,.bt3-filter-generic-result:hover .bt3-filter-generic-result__image-wrapper{transform:translate(.9rem)}}@media (hover: hover) and (min-width: 60em){.bt3-filter-generic-result:hover .bt3-filter-generic-result__text-wrapper,.bt3-filter-generic-result:hover .bt3-filter-generic-result__image-wrapper{transform:translate(1.8rem)}}@media (hover: hover){.bt3-filter-generic-result:hover .bt3-filter-generic-result__image{transform:scale(1.05)}}@media (hover: hover) and (min-width: 60em){.bt3-filter-generic-result:hover .bt3-filter-generic-result__image{transform:scale(1.1)}}.bt3-filter-generic-result__link{position:absolute;inset:0;z-index:1;text-decoration:none}.bt3-filter-generic-result__content{display:flex;flex-direction:column;flex:1 0 100%;height:100%}.bt3-filter-generic-result__image-wrapper,.bt3-filter-generic-result__text-wrapper,.bt3-filter-generic-result__image{transition-property:transform;transition-timing-function:ease-in-out}.bt3-filter-generic-result__image-wrapper{position:relative;margin-bottom:3rem;padding-bottom:62%;height:0;overflow:hidden;transition-duration:.4s}@media (max-width: 59.99em){.bt3-filter-generic-result__image-wrapper{margin-bottom:1.8rem}}.bt3-filter-generic-result__image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition-duration:.4s}.bt3-filter-generic-result__text-wrapper{display:flex;flex-direction:column;flex:1 1 auto;transition-duration:.6s}.bt3-filter-generic-result__heading{font-size:2.1rem;color:var(--black-900);line-height:1.2}@media (min-width: 60em){.bt3-filter-generic-result__heading{font-size:2.4rem}}.bt3-filter-generic-result__lead{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;margin-top:1.8rem}@media (min-width: 60em){.bt3-filter-generic-result__lead{font-size:1.8rem}}.bt3-filter-generic-result__meta{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;display:flex;margin-top:1.2rem}@media (min-width: 60em){.bt3-filter-generic-result__meta{font-size:1.8rem}}@media (min-width: 37.5em){.bt3-filter-generic-result__meta{flex-grow:1;align-items:flex-end;margin-top:3rem}}.bt3-filter-generic-result__distance{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);margin-top:1.6rem}@media (min-width: 60em){.bt3-filter-generic-result__distance{font-size:2.1rem;line-height:1.5}}.bt3-filter-generic-result--centered .bt3-filter-generic-result__image-wrapper{border:1px solid var(--black-400)}.bt3-filter-generic-result--centered .bt3-filter-generic-result__image{top:3rem;left:3rem;width:calc(100% - 6rem);height:calc(100% - 6rem);object-fit:contain}.bt3-filter-generic-result--tiles-mixed{height:auto}.bt3-filter-generic-result--tiles-mixed .bt3-filter-generic-result__image-wrapper{padding-bottom:56.25%}.bt3-filter-generic-result--rows{display:flex;padding:1.8rem 0 3rem;border-top:1px solid var(--black-300);border-bottom:1px solid var(--black-300);margin-top:-1px}@media (min-width: 37.5em){.bt3-filter-generic-result--rows{grid-gap:3.6rem;gap:3.6rem;padding:3.8rem 0}}.bt3-filter-generic-result--rows .bt3-filter-generic-result__content{flex-direction:row;grid-gap:1.8rem;gap:1.8rem}.bt3-filter-generic-result--rows .bt3-filter-generic-result__image-wrapper{width:32%;margin-bottom:0;padding-bottom:19.8%;flex:0 0 auto}@media (min-width: 60em){.bt3-filter-generic-result--rows .bt3-filter-generic-result__heading{font-size:3rem}}.bt3-filter-generic-result--rows .bt3-filter-generic-result--last{border-bottom:1px solid var(--black-300)}\n'],encapsulation:2}),t})();const kK=["templateNoResult"];function MK(t,n){if(1&t&&(zt(0),ot(1),Nt()),2&t){const e=Z(4);F(1),Kn(", "+e.sortedByDistanceLabel)}}function TK(t,n){if(1&t&&(zt(0),ot(1),Q(2,MK,2,1,"ng-container",1),Nt()),2&t){const e=Z(3);F(1),Yh(" ",e.itemsTotal," ",e.resultTitleLabel,""),F(1),B("ngIf",e.userLocation)}}function EK(t,n){1&t&&ot(0),2&t&&Kn(Z(3).defaultResultLabel)}function DK(t,n){if(1&t&&(zt(0),Se(1,"bt3-icon",14),ot(2),Nt()),2&t){const e=Z(5);F(2),vn(" ",e.mapViewLabel," ")}}function SK(t,n){if(1&t&&(zt(0),Se(1,"bt3-icon",15),ot(2),Nt()),2&t){const e=Z(5);F(2),vn(" ",e.listViewLabel," ")}}function IK(t,n){if(1&t&&(zt(0),Se(1,"bt3-icon",16),ot(2),Nt()),2&t){const e=Z(5);F(2),vn(" ",e.tileViewLabel," ")}}function AK(t,n){if(1&t){const e=Cn();zt(0),R(1,"button",13),Ze("click",function(){const c=mt(e).$implicit;return Z(4).changeView(c)}),Q(2,DK,3,1,"ng-container",1),Q(3,SK,3,1,"ng-container",1),Q(4,IK,3,1,"ng-container",1),z(),Nt()}if(2&t){const e=n.$implicit,i=Z(4);F(1),Rn("bt3-filter-generic-results__switch--active",i.viewConfigLayoutCurrent===e),F(1),B("ngIf","map"===e),F(1),B("ngIf","rows"===e),F(1),B("ngIf","map"!==e&&"rows"!==e)}}function OK(t,n){if(1&t&&(R(0,"div",12),Q(1,AK,5,5,"ng-container",3),z()),2&t){const e=Z(3);F(1),B("ngForOf",e.viewConfig.layout)}}function LK(t,n){if(1&t&&(zt(0),R(1,"div",4),R(2,"div",5),R(3,"div",6),R(4,"div",7),R(5,"h2",8),Q(6,TK,3,3,"ng-container",9),Q(7,EK,1,1,"ng-template",null,10,Hs),z(),Q(9,OK,2,1,"div",11),z(),z(),z(),z(),Nt()),2&t){const e=Ft(8),i=Z(2);F(6),B("ngIf",i.filterActive)("ngIfElse",e),F(3),B("ngIf",i.viewConfig.layout.length>1)}}const PK=function(t,n,e,i){return{item:t,layout:n,index:e,isLast:i}};function FK(t,n){if(1&t&&(zt(0),Dl(1,18),Nt()),2&t){const e=n.$implicit,i=n.index,a=n.last,c=Z(3).$implicit;Z(2);const h=Ft(3);F(1),B("ngTemplateOutlet",h)("ngTemplateOutletContext",Z1(2,PK,e,c,i,a))}}const RK=function(t){return{find:"%c",replace:t}},zK=function(t){return{find:"%t",replace:t}};function NK(t,n){if(1&t&&(R(0,"p",22),ot(1),Vu(2,"findReplaceString"),z()),2&t){const e=Z(6);F(1),vn(" ",O3(2,1,e.numLoadedResultsLabel,Ga(5,RK,e.itemsList.length),Ga(7,zK,e.itemsTotal))," ")}}function BK(t,n){if(1&t){const e=Cn();R(0,"div"),R(1,"bt3-button-link",23),Ze("click",function(){return mt(e),Z(6).getMoreData()}),z(),z()}if(2&t){const e=Z(6);Fd("bt3-filter-generic-results__load-more-button-wrapper bt3-theme bt3-theme--",e.themeVariant,""),F(1),zi("label",e.loadMoreLabel),zi("button-level",e.buttonLevels.PRIMARY)}}function VK(t,n){1&t&&(R(0,"div",24),Se(1,"app-loader"),z())}function HK(t,n){if(1&t&&(zt(0),Q(1,NK,3,9,"p",19),Q(2,BK,2,5,"div",20),Q(3,VK,2,0,"div",21),Nt()),2&t){const e=Z(5);F(1),B("ngIf",0!==e.itemsList.length&&!e.isLoadingMore),F(1),B("ngIf",e.itemsList.length!==e.itemsTotal&&!e.isLoadingMore),F(1),B("ngIf",e.isLoadingMore)}}const jK=function(t){return{"bt3-grid__tablet-col-9 bt3-grid__tablet-col-offset-1":t}},UK=function(t){return["bt3-filter-generic-results__list",t]};function GK(t,n){if(1&t&&(zt(0),R(1,"div",4),R(2,"div",5),R(3,"div",17),R(4,"ul"),Q(5,FK,2,7,"ng-container",3),z(),Q(6,HK,4,3,"ng-container",1),z(),z(),z(),Nt()),2&t){const e=Z(2).$implicit,i=Z(2);F(3),B("ngClass",Ga(6,jK,"tiles-uniform"===e||"rows"===e)),F(1),ec(Ga(8,UK,"bt3-filter-generic-results__list--"+e)),B("@fadeInOutCards",void 0),F(1),B("ngForOf",i.itemsList),F(1),B("ngIf",i.viewConfig.pagination)}}function $K(t,n){if(1&t){const e=Cn();zt(0),R(1,"div",4),R(2,"div",5),R(3,"div",25),R(4,"div",26),R(5,"app-locations",27),Ze("userLocated",function(a){return mt(e),Z(4).onUserLocatedOnMap(a)}),z(),z(),z(),z(),z(),Nt()}if(2&t){const e=Z(2).$implicit,i=Z(2);F(1),B("@fadeInOutMap","map"===e?"open":"closed"),F(4),B("locationsJson",i.itemsMapJson)("showRouteLabel",i.showRouteLabel)("showMoreLabel",i.showMoreLabel)("backLabel",i.backLabel)("themeVariant",i.themeVariant)("userLocation",i.userLocation)("showDistance",!!i.userLocation)}}function YK(t,n){if(1&t&&(zt(0),Q(1,GK,7,10,"ng-container",1),Q(2,$K,6,8,"ng-container",1),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf","map"!==e),F(1),B("ngIf","map"===e)}}function qK(t,n){if(1&t&&(zt(0),Q(1,YK,3,2,"ng-container",1),Nt()),2&t){const e=n.$implicit,i=Z(2);F(1),B("ngIf",i.viewConfigLayoutCurrent===e)}}function WK(t,n){1&t&&(zt(0),R(1,"div",null,28),aa(3),z(),Nt())}function ZK(t,n){if(1&t&&(zt(0),Q(1,LK,10,3,"ng-container",1),Q(2,qK,2,1,"ng-container",3),Q(3,WK,4,0,"ng-container",1),Nt()),2&t){const e=Z();F(1),B("ngIf",e.hasFilter),F(1),B("ngForOf",e.viewConfig.layout),F(1),B("ngIf",!e.isLoaded||0===e.itemsTotal||0===e.itemsList.length)}}function XK(t,n){if(1&t&&(R(0,"li",29),Se(1,"app-filter-generic-result",30),z()),2&t){const e=n.item,i=n.layout,a=Z();F(1),B("viewConfig",a.viewConfig)("item",e)("layout",i)("showDistance",!!a.userLocation)}}const KK=[[["",8,"content-no-results"]]],JK=[".content-no-results"],G5="bt3-hidden";let QK=(()=>{class t{constructor(e){this._cdRef=e,this.isAsync=!1,this.itemsList=[],this.itemsTotal=0,this.itemsTotalMap=0,this.userLocation=null,this.isLoaded=!1,this.isLoadingMore=!1,this.hasFilter=!1,this.filterActive=!1,this.viewConfig=null,this.viewConfigLayoutCurrent="tiles-uniform",this.resultTitleLabel="",this.tileViewLabel="",this.listViewLabel="",this.mapViewLabel="",this.defaultResultLabel="",this.loadMoreLabel="",this.numLoadedResultsLabel="",this.sortedByDistanceLabel="",this.backLabel="",this.showRouteLabel="",this.showMoreLabel="",this.pressReleaseSubscriptionTitle="",this.pressReleaseSubscriptionText="",this.pressReleaseSubscriptionButtonText="",this.themeVariant="primary",this.userLocatedOnMap=new Et,this.onMoreDataRequest=new Et,this.onViewChangeRequest=new Et,this.itemsMapJson="",this.itemsTotalChildLocations=0,this.buttonLevels=tc}set itemsMap(e){this.itemsMapJson=this.getTransformedLocations(e);let i=0;e.forEach(a=>{var c,h;i=(null===(c=a.locations)||void 0===c?void 0:c.length)?i+(null===(h=a.locations)||void 0===h?void 0:h.length):i}),this.itemsTotalChildLocations=i,this._cdRef.detectChanges()}ngAfterViewChecked(){var e;const i=null===(e=this.templateNoResult)||void 0===e?void 0:e.nativeElement.querySelector(`.${G5}`);i&&i.classList.remove(G5)}getTransformedLocations(e){const i=e.map(c=>c.locations?[...c.locations.map(h=>(h.title=c.title,h.moreUrl=c.url,h.moreUrlOpensInNewTab=c.urlOpensInNewTab,h))]:[]),a=[].concat(...i);return JSON.stringify({data:[{locations:a}],zoomLevel:15})}onUserLocatedOnMap(e){this.userLocatedOnMap.emit(e)}getMoreData(){this.onMoreDataRequest.emit()}changeView(e){this.onViewChangeRequest.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(he(wr))},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic-results"]],viewQuery:function(e,i){if(1&e&&En(kK,5),2&e){let a;Xt(a=Kt())&&(i.templateNoResult=a.first)}},inputs:{isAsync:"isAsync",itemsList:"itemsList",itemsMap:"itemsMap",itemsTotal:"itemsTotal",itemsTotalMap:"itemsTotalMap",userLocation:"userLocation",isLoaded:"isLoaded",isLoadingMore:"isLoadingMore",hasFilter:"hasFilter",filterActive:"filterActive",viewConfig:"viewConfig",viewConfigLayoutCurrent:"viewConfigLayoutCurrent",resultTitleLabel:"resultTitleLabel",tileViewLabel:"tileViewLabel",listViewLabel:"listViewLabel",mapViewLabel:"mapViewLabel",defaultResultLabel:"defaultResultLabel",loadMoreLabel:"loadMoreLabel",numLoadedResultsLabel:"numLoadedResultsLabel",sortedByDistanceLabel:"sortedByDistanceLabel",backLabel:"backLabel",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",pressReleaseSubscriptionTeaserJsonData:"pressReleaseSubscriptionTeaserJsonData",pressReleaseSubscriptionTitle:"pressReleaseSubscriptionTitle",pressReleaseSubscriptionText:"pressReleaseSubscriptionText",pressReleaseSubscriptionButtonText:"pressReleaseSubscriptionButtonText",themeVariant:"themeVariant"},outputs:{userLocatedOnMap:"userLocatedOnMap",onMoreDataRequest:"onMoreDataRequest",onViewChangeRequest:"onViewChangeRequest"},ngContentSelectors:JK,decls:4,vars:1,consts:[[1,"bt3-filter-generic-results"],[4,"ngIf"],["teaser",""],[4,"ngFor","ngForOf"],[1,"bt3-grid__container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-12","bt3-grid__tablet-col-9","bt3-grid__tablet-col-offset-1"],[1,"bt3-filter-generic-results__heading-wrapper"],[1,"bt3-filter-generic-results__heading"],[4,"ngIf","ngIfElse"],["recommended",""],["class","bt3-filter-generic-results__switch-wrapper",4,"ngIf"],[1,"bt3-filter-generic-results__switch-wrapper"],[1,"bt3-filter-generic-results__switch",3,"click"],["className","bt3-filter-generic-results__switch-icon","name","mapview"],["className","bt3-filter-generic-results__switch-icon","name","listview"],["className","bt3-filter-generic-results__switch-icon","name","tileview"],[1,"bt3-grid__mobile-col-12",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","bt3-filter-generic-results__info-num-loaded-results",4,"ngIf"],[3,"class",4,"ngIf"],["class","bt3-filter-generic-results__loader-wrapper",4,"ngIf"],[1,"bt3-filter-generic-results__info-num-loaded-results"],["has-extra-padding","true",3,"label","button-level","click"],[1,"bt3-filter-generic-results__loader-wrapper"],[1,"bt3-grid__mobile-col-12","bt3-grid__desktop-col-11","bt3-grid__desktop-col-offset-1"],[1,"bt3-filter-generic-results__locations"],[3,"locationsJson","showRouteLabel","showMoreLabel","backLabel","themeVariant","userLocation","showDistance","userLocated"],["templateNoResult",""],[1,"bt3-filter-generic-results__list-item"],[1,"bt3-filter-generic-results__result",3,"viewConfig","item","layout","showDistance"]],template:function(e,i){1&e&&(hr(KK),R(0,"div",0),Q(1,ZK,4,3,"ng-container",1),z(),Q(2,XK,2,4,"ng-template",null,2,Hs)),2&e&&(F(1),B("ngIf",i.isLoaded&&i.viewConfig&&i.viewConfig.layout))},directives:[ri,ya,Pr,ju,Qm,Ek,CK],pipes:[Vx],styles:['@charset "UTF-8";html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{word-break:break-word}li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}button[_ngcontent-%COMP%]{background:none;border:none;border-radius:0;padding:0;cursor:pointer}h2[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);word-break:break-word}.bt3-grid__row[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;flex-flow:row wrap}.bt3-grid__container[_ngcontent-%COMP%]{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media all and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}@media (min-width: 37.5em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:1.8rem;padding-left:1.8rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(1.8rem + env(safe-area-inset-right));padding-left:calc(1.8rem + env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-.9rem;margin-left:-.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .bt3-grid__tablet-col-9[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:.9rem;padding-right:.9rem}}@media (min-width: 37.5em){.bt3-grid__tablet-col-9[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}}@media (min-width: 37.5em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__mobile-col-12[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:100%;max-width:100%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%], .bt3-grid__tablet-col-9[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__tablet-col-9[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:75%;max-width:75%}}@media (min-width: 60em){.bt3-grid__tablet-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 60em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 60em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-1[_ngcontent-%COMP%], .bt3-grid__desktop-col-11[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 auto;padding-left:1.8rem;padding-right:1.8rem}}@media (min-width: 60em){.bt3-grid__desktop-col-11[_ngcontent-%COMP%]{margin-left:0;margin-right:0;flex-basis:91.6666666667%;max-width:91.6666666667%}}@media (min-width: 60em){.bt3-grid__desktop-col-offset-1[_ngcontent-%COMP%]{margin-left:8.3333333333%}}@media (min-width: 100em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 100em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 100em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 120.0625em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 120.0625em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 120.0625em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}@media (min-width: 150.0625em){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:7.2rem;padding-left:7.2rem}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-grid__container[_ngcontent-%COMP%], .bt3-grid__container.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}}@media (min-width: 150.0625em) and (orientation: landscape){.bt3-grid__container[_ngcontent-%COMP%]{padding-right:calc(7.2rem + env(safe-area-inset-right));padding-left:calc(7.2rem + env(safe-area-inset-left))}}@media (min-width: 150.0625em){.bt3-grid__row[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:-1.8rem;margin-left:-1.8rem}}.bt3-filter-generic-results[_ngcontent-%COMP%]{overflow:hidden}.bt3-filter-generic-results__list[_ngcontent-%COMP%]{list-style:none}.bt3-filter-generic-results__heading-wrapper[_ngcontent-%COMP%]{display:flex;margin-bottom:6rem;flex-direction:column}@media (min-width: 60em){.bt3-filter-generic-results__heading-wrapper[_ngcontent-%COMP%]{margin-bottom:9rem;justify-content:space-between;flex-direction:row}}.bt3-filter-generic-results__switch-wrapper[_ngcontent-%COMP%]{display:flex}.bt3-filter-generic-results__switch[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:0;font-size:1.8rem;color:var(--black-500);--themeBase: var(--black-500);margin-right:3rem;margin-top:3rem}@media (min-width: 60em){.bt3-filter-generic-results__switch[_ngcontent-%COMP%]{margin-top:0}}.bt3-filter-generic-results__switch[_ngcontent-%COMP%]   bt3-icon[_ngcontent-%COMP%]{margin-right:.9rem;vertical-align:middle;transform:translateY(-2px)}.bt3-filter-generic-results__switch[_ngcontent-%COMP%]:hover{color:var(--black-900);--themeBase: var(--black-900)}.bt3-filter-generic-results__switch[_ngcontent-%COMP%]:last-child{margin-right:0}.bt3-filter-generic-results__switch--active[_ngcontent-%COMP%]{color:var(--black-900);--themeBase: var(--black-900)}.bt3-filter-generic-results__locations[_ngcontent-%COMP%]{margin:0 -1.8rem}@media (min-width: 60em){.bt3-filter-generic-results__locations[_ngcontent-%COMP%]{margin:0 -7.2rem 0 0}}.bt3-filter-generic-results__info-num-loaded-results[_ngcontent-%COMP%], .bt3-filter-generic-results__loader-wrapper[_ngcontent-%COMP%]{margin-top:6rem}@media (min-width: 37.5em){.bt3-filter-generic-results__info-num-loaded-results[_ngcontent-%COMP%], .bt3-filter-generic-results__loader-wrapper[_ngcontent-%COMP%]{margin-top:9rem}}.bt3-filter-generic-results__info-num-loaded-results[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--black-500);text-align:center}@media (min-width: 60em){.bt3-filter-generic-results__info-num-loaded-results[_ngcontent-%COMP%]{font-size:1.8rem}}.bt3-filter-generic-results__load-more-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:4.5rem}.bt3-filter-generic-results__list--tiles-uniform[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:6rem 1.8rem}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-uniform[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-uniform[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-gap:9rem 3.6rem}}.bt3-filter-generic-results__result[_ngcontent-%COMP%]{display:block;height:100%}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(24,1fr);grid-gap:6rem 0}@media (min-width: 25em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]{grid-gap:6rem 1.8rem}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]{grid-gap:9rem 3.6rem}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]{grid-column:span 20;grid-row:span 1}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]{grid-column:span 10}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]{grid-column:span 7}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]{grid-column:span 6}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{display:none}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{font-size:1.8rem}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{font-size:2.4rem}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(even)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:-1.8rem}@media all and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(even)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(even)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:0}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(odd)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:-1.8rem}@media all and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(odd)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(odd)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:0}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-3), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:5/span 20}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-3), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 10}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-3), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 7}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-3), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 6}}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5){grid-column:span 24}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5){grid-column:span 10}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5){grid-column:span 7}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5){grid-column:span 6}}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:-1.8rem}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:calc(-1.8rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 37.49em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{display:block}}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:-1.8rem}}@media (min-width: 37.5em) and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:calc(-1.8rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:0}}@media (min-width: 37.5em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 14;grid-row:span 2}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 7;grid-row:span 1}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1){grid-column:span 6}}@media (min-width: 37.5em) and (max-width: 59.99em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__heading[_ngcontent-%COMP%], .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1)   .bt3-filter-generic-result__heading[_ngcontent-%COMP%]{font-size:3rem}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-5)   .bt3-filter-generic-result__lead[_ngcontent-%COMP%], .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(6n-1)   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{display:block}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-left:calc(-7.2rem - env(safe-area-inset-left))}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:-7.2rem}}@media (min-width: 60em) and (orientation: landscape){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1)   .bt3-filter-generic-result__image-wrapper[_ngcontent-%COMP%]{margin-right:calc(-7.2rem - env(safe-area-inset-right))}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1){grid-column:span 10;grid-row:span 2}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7), .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1){grid-column:span 8}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7)   .bt3-filter-generic-result__heading[_ngcontent-%COMP%], .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1)   .bt3-filter-generic-result__heading[_ngcontent-%COMP%]{font-size:3.6rem}.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-7)   .bt3-filter-generic-result__lead[_ngcontent-%COMP%], .bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-1)   .bt3-filter-generic-result__lead[_ngcontent-%COMP%]{display:block}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-4){grid-column:18/span 7}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-4){grid-column:15/span 6}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n-3){grid-column:5/span 6}}@media (min-width: 60em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n){grid-column:8/span 7}}@media (min-width: 100em){.bt3-filter-generic-results__list--tiles-mixed[_ngcontent-%COMP%]   .bt3-filter-generic-results__list-item[_ngcontent-%COMP%]:nth-child(8n){grid-column:11/span 6}}'],data:{animation:[kr("fadeInOutCards",[ma("void",Ln({opacity:0})),ra("void <=> *",va("500ms 10ms ease-in-out"))]),kr("fadeInOutMap",[ma("void",Ln({opacity:0})),ra("* => open",va("800ms 400ms ease-in-out"))])]}}),t})();function aJ(t,n){if(1&t&&(R(0,"h2",9),ot(1),z()),2&t){const e=Z(2);F(1),vn(" ",e.filterTitleLabel," ")}}function rJ(t,n){if(1&t){const e=Cn();R(0,"div",4),R(1,"div",5),R(2,"div",6),Q(3,aJ,2,1,"h2",7),R(4,"app-filter-generic-interface",8),Ze("updateSelectedFilter",function(a){return mt(e),Z().updateSelectedFilter(a)})("updateSelectedYearRangeFilter",function(a){return mt(e),Z().updateSelectedYearRangeFilter(a)})("updateSelectedLocation",function(a){return mt(e),Z().updateSelectedLocation(a)})("deleteSelectedTag",function(a){return mt(e),Z().onTagDelete(a)})("onResetFilters",function(){return mt(e),Z().resetFilters()}),z(),z(),z(),z()}if(2&t){const e=Z();F(3),B("ngIf",e.filterTitleLabel),F(1),B("filters",e.filterData)("selectedFilterData",e.selectedFilterData)("selectedYearRangeFilterData",e.selectedYearRangeFilterData)("userLocation",e.userLocation)("resetFilterLabel",e.resetFilterLabel)("myLocationLabel",e.myLocationLabelSet)("clearButtonAriaLabel",e.clearButtonAriaLabel)("selectedFilterSingularLabel",e.selectedFilterSingularLabel)("selectedFilterPluralLabel",e.selectedFilterPluralLabel)("mapboxCountryCodes",e.mapboxCountryCodes)("themeVariant",e.themeVariant)}}function oJ(t,n){1&t&&Se(0,"app-loader")}const $5=function(){return[]};function sJ(t,n){if(1&t){const e=Cn();R(0,"app-filter-generic-results",10),Ze("onMoreDataRequest",function(){return mt(e),Z().getData(!0)})("onViewChangeRequest",function(a){return mt(e),Z().changeView(a)})("userLocatedOnMap",function(a){return mt(e),Z().updateLocationWithMapLocation(a)}),R(1,"div",11),aa(2),z(),z()}if(2&t){const e=Z();B("isAsync",e.isAsync)("itemsList",e.dataFilteredShown.data||Bu(28,$5))("itemsMap",e.dataFilteredMap.data||Bu(29,$5))("itemsTotal",e.dataFiltered.data.length||0)("itemsTotalMap",e.dataFilteredMap.data.length||0)("userLocation",e.userLocation||null)("isLoaded",e.isLoaded)("isLoadingMore",e.isLoadingMore)("hasFilter",e.filterConfig.length>0)("filterActive",e.filterActive)("viewConfig",e.viewConfig)("viewConfigLayoutCurrent",e.viewConfigLayoutCurrent)("resultTitleLabel",e.resultTitleLabel)("tileViewLabel",e.tileViewLabel)("listViewLabel",e.listViewLabel)("mapViewLabel",e.mapViewLabel)("defaultResultLabel",e.defaultResultLabel)("loadMoreLabel",e.loadMoreLabel)("numLoadedResultsLabel",e.numLoadedResultsLabel)("sortedByDistanceLabel",e.sortedByDistanceLabel)("backLabel",e.backLabel)("showRouteLabel",e.showRouteLabel)("showMoreLabel",e.showMoreLabel)("pressReleaseSubscriptionTeaserJsonData",e.pressReleaseSubscriptionTeaserJsonData)("pressReleaseSubscriptionTitle",e.pressReleaseSubscriptionTitle)("pressReleaseSubscriptionText",e.pressReleaseSubscriptionText)("pressReleaseSubscriptionButtonText",e.pressReleaseSubscriptionButtonText)("themeVariant",e.themeVariant)}}const lJ=[[["",8,"no-results"]]],cJ=function(t,n){return{"bt3-vertical-margin--first":t,"bt3-vertical-margin--last":n}},dJ=[".no-results"];let Y5=(()=>{class t{constructor(){this.themeVariant="primary",this.resetFilterLabel="",this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.myLocationLabel="",this.clearButtonAriaLabel="",this.resultTitleLabel="",this.defaultResultLabel="",this.mapViewLabel="",this.tileViewLabel="",this.listViewLabel="",this.sortedByDistanceLabel="",this.numLoadedResultsLabel="",this.loadMoreLabel="",this.showRouteLabel="",this.showMoreLabel="",this.backLabel="",this.pressReleaseSubscriptionTitle="",this.pressReleaseSubscriptionText="",this.pressReleaseSubscriptionButtonText="",this._endpoint="",this._endpointInitial="",this._async=!1,this.data={data:[],meta:[]},this.dataFiltered=Object.assign({},this.data),this.dataFilteredShown=Object.assign({},this.data),this.dataFilteredMap=Object.assign({},this.data),this.filterConfig=[],this.viewConfig=null,this.viewConfigLayoutCurrent="tiles-uniform",this.hasMap=!1,this.isAsync=!1,this.isLoaded=!1,this.isLoading=!0,this.isLoadingMore=!1,this.preventMarginTop=!1,this.preventMarginBottom=!1,this.filterData=[],this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.filterActive=!1,this.myLocationLabelSet="",this.currentPaginationParams="",this.mapboxCountryCodes=lm,this.mapBoxPromise=Promise.resolve().then(Yn.t.bind(Yn,811,23))}set endpoint(e){this._endpoint=-1!=e.indexOf("http")?e:window.location.origin+e}get endpoint(){return this._endpoint}set async(e){this.isAsync="true"===e||"1"===e}set filter(e){this.filterConfig=JSON.parse(e)}set view(e){var i,a,c;this.viewConfig=JSON.parse(e),(null===(a=null===(i=this.viewConfig)||void 0===i?void 0:i.layout)||void 0===a?void 0:a.length)&&(this.viewConfigLayoutCurrent=this.viewConfig.layout[0]),(null===(c=this.viewConfig)||void 0===c?void 0:c.layout.find(h=>"map"===h))&&(this.hasMap=!0)}set isFirst(e){this.preventMarginTop="true"===e||"1"===e}set isLast(e){this.preventMarginBottom="true"===e||"1"===e}ngOnInit(){const e=function(t){const n=new URL(t);return-1!==decodeURI(n.search).indexOf("filter[")}(window.location.href);this.assignFilterData(),e?this.setPreSelectedFilterFromUrl():(this.setPreselectedFilterFromFilterConfig(),this.updateUrlParams()),this.setFilterActiveState(),this.adaptCountryCodes(),this.getData(),this.hasMap&&this.mapBoxPromise.then(i=>{this.mapbox=i})}getData(e=!1){e?this.isLoadingMore=!0:this.isLoading=!0,this.isAsync?(e&&this.addPaginationParamsToEndpoint(e),this.getDataFromApi(e)):e?this.showMoreResults():this.getDataFromApi(!1)}getDataFromApi(e=!1){fetch(this.endpoint).then(i=>{200===i.status?i.json().then(a=>{this.data.data.length&&e?this.data.data.push(...a.data):(this.data.data=[...a.data],this.sortData(),this.limitDisplayedItems()),this.isAsync||(this.updateData(),this.removeFilterOptionsWithoutMatchingData(),this.setFilterOptionsCount()),this.isLoaded=!0,e?this.isLoadingMore=!1:this.isLoading=!1}):console.error("Delivery of filter api failed")}).catch(i=>{console.error("Fetch error: ",i)})}assignFilterData(){const e=[];this.filterConfig.forEach(i=>{if("MultiSelect"===i.type||"SingleSelect"===i.type||"SearchLocationInput"===i.type||"SearchInput"===i.type)i.id=i.identifier,e.push(Object.assign({},i));else if("YearRange"===i.type){const a=[];i.years.forEach(c=>{const h={id:c.toString(),title:c.toString()};a.push(h)}),i.options=a,e.push(i)}}),this.filterData=e}removeFilterOptionsWithoutMatchingData(){const e=[];this.filterConfig.forEach(i=>{if("MultiSelect"===i.type||"SingleSelect"===i.type){const a=Object.assign({},i),c=[];a.options.forEach(h=>{this.data.data.filter(w=>{const E=w.relations;return!!E[a.identifier]&&E[a.identifier].filter($=>h.id===$.id).length>0}).length&&c.push(h)}),a.options=c,e.push(a)}else e.push(i)}),this.filterData=e}updateFilterState(){this.updateUrlParams(),this.setFilterActiveState(),this.adaptCountryCodes(),this.isAsync?this.getData():(this.updateData(),this.setFilterOptionsCount())}setFilterActiveState(){let e=!1;Object.keys(this.selectedFilterData).forEach(i=>{("search"===i&&this.selectedFilterData[i].title||Array.isArray(this.selectedFilterData[i])&&this.selectedFilterData[i].length||this.selectedFilterData[i].id)&&(e=!0)}),this.filterActive=e}setFilterOptionsCount(){const e=this.filterData.map(i=>{const a=i;if(a.options){const c=a.options.map(h=>{const b=this.getDataItemsMatchingFilterOption(a.identifier,h.id);return h.count=b.length,h.disabled=0===b.length,h});a.options=c}return a});this.filterData=e}getDataItemsMatchingFilterOption(e,i){return(this.checkOtherFilterSelected(e)?this.dataFiltered:this.data).data.filter(b=>{const w=b.relations;return!!w[e]&&w[e].filter(L=>L.id===i).length>0})||[]}checkOtherFilterSelected(e){let i=!1;return Object.keys(this.selectedFilterData).forEach(a=>{a!==e&&(Array.isArray(this.selectedFilterData[a])&&this.selectedFilterData[a].length||!Array.isArray(this.selectedFilterData[a])&&this.selectedFilterData[a].id)&&(i=!0)}),i}updateData(){this.filterOrResetData(),this.updateDataShown(),this.updateDataMap()}filterOrResetData(){if(this.filterActive){let e=[...this.data.data];Object.keys(this.selectedFilterData).forEach(i=>{const a=this.selectedFilterData[i];if("search"===i){const c=this.selectedFilterData[i],h=Array.isArray(c)&&c[0].title?c[0].title:c.title;e=e.filter(b=>-1!==b.title.toLocaleLowerCase().indexOf(h.toLocaleLowerCase()))}else if(Array.isArray(a)&&a.length){const c=this.selectedFilterData[i].map(h=>h.id);e=e.filter(h=>{const w=h.relations[i];return!!w&&!!w.find(L=>c.find($=>$===L.id))})}}),this.dataFiltered.data=e}else this.dataFiltered.data=[...this.data.data]}sortData(){var e;if(this.userLocation&&this.mapbox)this.data.data=this.sortDataByDistance(this.data.data);else if(null===(e=this.viewConfig)||void 0===e?void 0:e.sorting)switch(this.viewConfig.sorting){case"alphabetical_asc":this.data.data=this.sortDataAlphabetical(this.data.data);break;case"alphabetical_desc":this.data.data=this.sortDataAlphabetical(this.data.data,!0);break;case"date_asc":this.data.data=this.sortDataByDate(this.data.data);break;case"date_desc":this.data.data=this.sortDataByDate(this.data.data,!0);break;case"random":this.data.data=this.sortDataRandomly(this.data.data)}}sortDataAlphabetical(e,i=!1){return e.forEach(a=>{var c;null===(c=a.locations)||void 0===c||c.sort((h,b)=>{const w=i?b:h,E=i?h:b;return w.title&&E.title&&w.title!==E.title?w.title.localeCompare(E.title):0})}),e.sort((a,c)=>{const h=i?c:a,b=i?a:c;return h.title&&b.title&&h.title!==b.title?h.title.localeCompare(b.title):0})}sortDataByDate(e,i=!1){return this.sortDataAlphabetical(e).sort((c,h)=>{const b=i?h:c,w=i?c:h;return b.date&&w.date&&b.date!==w.date?b.date>w.date?1:-1:0})}sortDataRandomly(e){let i=e.length,a=0;for(;0!=i;)a=Math.floor(Math.random()*i),i--,[e[i],e[a]]=[e[a],e[i]];return e}sortDataByDistance(e){return e.forEach(i=>{i.locations&&i.locations.length&&(i.locations=this.sortLocationByDistance(i.locations),i.distanceNearestLocation=i.locations[0].distance)}),e.sort((i,a)=>i.distanceNearestLocation&&a.distanceNearestLocation&&i.distanceNearestLocation!==a.distanceNearestLocation?i.distanceNearestLocation>a.distanceNearestLocation?1:-1:0),e}sortLocationByDistance(e){if(this.userLocation&&this.mapbox){const i=this.mapbox,a=new this.mapbox.LngLat(this.userLocation.location.longitude,this.userLocation.location.latitude);e.forEach(c=>{const h=a.distanceTo(new i.LngLat(c.geo.longitude,c.geo.latitude));c.distance=Math.round(h/100)/10}),e.sort((c,h)=>c.distance&&h.distance?c.distance>h.distance?1:-1:0)}return e}limitDisplayedItems(){var e;!(null===(e=this.viewConfig)||void 0===e?void 0:e.numDisplayedItems)||(this.data.data=this.data.data.slice(0,this.viewConfig.numDisplayedItems))}updateDataShown(e=0){var i;const a=(null===(i=this.viewConfig)||void 0===i?void 0:i.pagination)||this.dataFiltered.data.length;this.dataFilteredShown.data=this.dataFiltered.data.slice(0,e+a)}updateDataMap(){this.dataFilteredMap.data=[...this.dataFiltered.data]}showMoreResults(){this.updateDataShown(this.dataFilteredShown.data.length),this.updateDataMap(),this.isLoadingMore=!1}updateUrlParams(){const e=this.getUpdatedUrl(window.location.href);window.history.pushState({path:e},"",e)}getUpdatedUrl(e){const i=new URL(function(t){const n=new URL(t),e=n.search.replace("?","").split("&"),i=[];return e.forEach(a=>{a.search(/^filter/)&&i.push(a)}),n.search=i.join("&"),n.toString()}(e)),a=i.searchParams;return Object.keys(this.selectedFilterData).forEach(c=>{var h;const b=null===(h=this.filterData.find(w=>w.identifier===c))||void 0===h?void 0:h.type;if("MultiSelect"===b)this.selectedFilterData[c].forEach(w=>{a.append(`filter[${c}][]`,w.id)});else if("SingleSelect"===b){const w=`filter[${c}]`,E=this.selectedFilterData[c],L=Array.isArray(E)?E[0].id:E.id;a.append(w,L)}else if("SearchInput"===b){const w=`filter[${c}]`,E=this.selectedFilterData[c],L=Array.isArray(E)?E[0].title:E.title;a.append(w,L)}}),Object.keys(this.selectedYearRangeFilterData).forEach(c=>{const h=this.selectedYearRangeFilterData[c].min,b=this.selectedYearRangeFilterData[c].max;h&&a.append("filter[year][from]",h),b&&a.append("filter[year][to]",b)}),i.search=a.toString(),i.toString()}addPaginationParamsToEndpoint(e){}setPreselectedFilterFromFilterConfig(){this.filterData.forEach(e=>{let i=[];("MultiSelect"===e.type||"SingleSelect"===e.type)&&e.options.filter(c=>c.checked).forEach(c=>{i.push({id:c.id,title:c.title,checked:!0})}),i.length>0?(this.selectedFilterData[e.identifier]=i,i=[]):delete this.selectedFilterData[e.identifier]})}setPreSelectedFilterFromUrl(){const i=function(t){const n=new URL(window.location.href).searchParams.toString().split("&"),e={};for(let i=0;i<n.length;i++){const a=n[i].split("="),c=decodeURIComponent(a[0]).replace(/[\[\]']+/g,"").replace("filter",""),h=decodeURIComponent(a[1]);if(void 0===e[c])e[c]=decodeURIComponent(h);else if("string"==typeof e[c]){const b=[e[c],decodeURIComponent(h)];e[c]=b}else e[c].push(decodeURIComponent(h))}return e}();if(i){const a=function(t){const n=[];return Object.keys(t).forEach(e=>{Array.isArray(t[e])?t[e].forEach(i=>{n.push({key:e,id:i})}):n.push({key:e,id:t[e]})}),n}(i);this.filterData.forEach(c=>{let h=[];const b=c;b.options&&b.options.map(w=>w.checked=!1),a.forEach(w=>{if(("MultiSelect"===c.type||"SingleSelect"===c.type)&&c.identifier===w.key&&b.options.forEach(E=>{E.id===w.id&&(E.checked=!0,h.push({id:E.id,title:E.title,checked:!0}))}),"SearchInput"===c.type&&c.identifier===w.key&&h.push({id:w.key,title:w.id.replace(/\+/g," ")}),"YearRange"===c.type&&-1!==w.key.indexOf("year")){const E="yearfrom"===w.key,L=this.selectedYearRangeFilterData.year?Object.assign({},this.selectedYearRangeFilterData.year):{};L.id=c.identifier,E?(L.min=w.id.toString(),L.labelMin=`${c.labels.start} ${w.id}`):(L.max=w.id.toString(),L.labelMax=`${c.labels.end} ${w.id}`),this.selectedYearRangeFilterData.year=L}}),h.length>0?(this.selectedFilterData[c.identifier]=h,h=[]):delete this.selectedFilterData[c.identifier]})}}updateSelectedFilter(e){"search"===e.id&&""===e.value.id?delete this.selectedFilterData[e.id]:(this.selectedFilterData[e.id]=e.value.id?[e.value]:e.value,"countries"===e.id&&this.adaptCountryCodes()),this.updateFilterState()}updateSelectedYearRangeFilter(e){e.id&&(this.selectedYearRangeFilterData[e.id]?(e.min&&(this.selectedYearRangeFilterData[e.id].min=e.min,this.selectedYearRangeFilterData[e.id].labelMin=e.labelMin),e.max&&(this.selectedYearRangeFilterData[e.id].max=e.max,this.selectedYearRangeFilterData[e.id].labelMax=e.labelMax)):this.selectedYearRangeFilterData[e.id]=e,this.updateFilterState())}updateSelectedLocation(e){this.userLocation=e,this.sortData(),this.updateFilterState()}updateLocationWithMapLocation(e){this.userLocation={label:this.myLocationLabel,location:e,locatedOnMap:!0},this.updateFilterState()}onTagDelete(e){var i;const a=e.id.replace(/(StartYear|EndYear)/,""),c=null===(i=this.filterData.find(h=>h.identifier===a))||void 0===i?void 0:i.type;if("MultiSelect"===c){const h=this.selectedFilterData[a].map(b=>b.id).indexOf(e.value);h>-1&&this.selectedFilterData[a].splice(h,1),"countries"===a&&this.adaptCountryCodes()}if(("SingleSelect"===c||"SearchInput"===c)&&delete this.selectedFilterData[a],"YearRange"===c){const h=this.selectedYearRangeFilterData[a];h&&(-1!==e.id.indexOf("StartYear")?h.min=null:h.max=null)}"SearchLocationInput"===c&&(this.userLocation=null),this.sortData(),this.updateFilterState()}resetFilters(){this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.sortData(),this.updateFilterState()}changeView(e){this.viewConfigLayoutCurrent=e}adaptCountryCodes(){const e=this.filterData.find(a=>"countries"===a.identifier),i=this.selectedFilterData.countries;if(i&&Array.isArray(i)){const a=this.getNewMapboxCountryCodes(i);this.mapboxCountryCodes=a.length?a:lm}else if(e){const a=this.getNewMapboxCountryCodes(e.options);this.mapboxCountryCodes=a.length?a:lm}else this.mapboxCountryCodes=lm}getNewMapboxCountryCodes(e){const i=[];return e.forEach(a=>{switch(a.id){case"116":i.push("ch");break;case"117":i.push("de");break;case"118":i.push("at");break;case"119":i.push("fr");break;case"120":i.push("it")}}),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic"]],inputs:{endpoint:"endpoint",async:"async",filter:"filter",view:"view",themeVariant:"themeVariant",isFirst:"isFirst",isLast:"isLast",filterTitleLabel:"filterTitleLabel",resetFilterLabel:"resetFilterLabel",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",myLocationLabel:"myLocationLabel",clearButtonAriaLabel:"clearButtonAriaLabel",resultTitleLabel:"resultTitleLabel",defaultResultLabel:"defaultResultLabel",mapViewLabel:"mapViewLabel",tileViewLabel:"tileViewLabel",listViewLabel:"listViewLabel",sortedByDistanceLabel:"sortedByDistanceLabel",numLoadedResultsLabel:"numLoadedResultsLabel",loadMoreLabel:"loadMoreLabel",showRouteLabel:"showRouteLabel",showMoreLabel:"showMoreLabel",backLabel:"backLabel",pressReleaseSubscriptionTeaserJsonData:"pressReleaseSubscriptionTeaserJsonData",pressReleaseSubscriptionTitle:"pressReleaseSubscriptionTitle",pressReleaseSubscriptionText:"pressReleaseSubscriptionText",pressReleaseSubscriptionButtonText:"pressReleaseSubscriptionButtonText"},ngContentSelectors:dJ,decls:4,vars:7,consts:[[1,"bt3-filter-generic","bt3-vertical-margin--extra-large",3,"ngClass"],["class","bt3-grid__container",4,"ngIf"],[4,"ngIf"],[3,"isAsync","itemsList","itemsMap","itemsTotal","itemsTotalMap","userLocation","isLoaded","isLoadingMore","hasFilter","filterActive","viewConfig","viewConfigLayoutCurrent","resultTitleLabel","tileViewLabel","listViewLabel","mapViewLabel","defaultResultLabel","loadMoreLabel","numLoadedResultsLabel","sortedByDistanceLabel","backLabel","showRouteLabel","showMoreLabel","pressReleaseSubscriptionTeaserJsonData","pressReleaseSubscriptionTitle","pressReleaseSubscriptionText","pressReleaseSubscriptionButtonText","themeVariant","onMoreDataRequest","onViewChangeRequest","userLocatedOnMap",4,"ngIf"],[1,"bt3-grid__container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-12","bt3-grid__tablet-col-9","bt3-grid__tablet-col-offset-1"],["class","bt3-filter-generic__heading",4,"ngIf"],[3,"filters","selectedFilterData","selectedYearRangeFilterData","userLocation","resetFilterLabel","myLocationLabel","clearButtonAriaLabel","selectedFilterSingularLabel","selectedFilterPluralLabel","mapboxCountryCodes","themeVariant","updateSelectedFilter","updateSelectedYearRangeFilter","updateSelectedLocation","deleteSelectedTag","onResetFilters"],[1,"bt3-filter-generic__heading"],[3,"isAsync","itemsList","itemsMap","itemsTotal","itemsTotalMap","userLocation","isLoaded","isLoadingMore","hasFilter","filterActive","viewConfig","viewConfigLayoutCurrent","resultTitleLabel","tileViewLabel","listViewLabel","mapViewLabel","defaultResultLabel","loadMoreLabel","numLoadedResultsLabel","sortedByDistanceLabel","backLabel","showRouteLabel","showMoreLabel","pressReleaseSubscriptionTeaserJsonData","pressReleaseSubscriptionTitle","pressReleaseSubscriptionText","pressReleaseSubscriptionButtonText","themeVariant","onMoreDataRequest","onViewChangeRequest","userLocatedOnMap"],[1,"content-no-results"]],template:function(e,i){1&e&&(hr(lJ),R(0,"div",0),Q(1,rJ,5,12,"div",1),Q(2,oJ,1,0,"app-loader",2),Q(3,sJ,3,30,"app-filter-generic-results",3),z()),2&e&&(B("ngClass",Cr(4,cJ,i.preventMarginTop,i.preventMarginBottom)),F(1),B("ngIf",i.filterData&&i.filterData.length),F(1),B("ngIf",!i.isLoaded||i.isLoading),F(1),B("ngIf",i.isLoaded&&!i.isLoading))},styles:[".bt3-filter-generic__heading[_ngcontent-%COMP%]{margin-bottom:.6rem}"]}),t})(),q5=(()=>{class t{constructor(){this.sbjTagItemRemoved=new on}broadcastTagItemRemoved(e){return this.sbjTagItemRemoved.next(e)}broadcastRemoveFilters(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uJ(t,n){if(1&t){const e=Cn();R(0,"app-select",10),Ze("selectionChange",function(a){return mt(e),Z(2).onFilterChange(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("label",e.label)("fieldId",e.id)("fieldName",e.id)("jsonOptions",i.filterOptions[e.id])("removeItemObs",i.sbjTagItemRemoved)}}function hJ(t,n){if(1&t){const e=Cn();R(0,"app-multiselect",11),Ze("selectionChange",function(a){return mt(e),Z(2).onFilterChange(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("label",e.label)("fieldId",e.id)("fieldName",e.id)("removeItemObs",i.sbjTagItemRemoved)("selectTriggerSingularLabel",i.selectedFilterSingularLabel)("selectTriggerPluralLabel",i.selectedFilterPluralLabel)("jsonOptions",i.filterOptions[e.id])}}function mJ(t,n){if(1&t){const e=Cn();R(0,"app-location-input",12),Ze("locationSelected",function(a){return mt(e),Z(2).onLocationSelected(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("fieldName",e.id)("fieldId",e.id)("label",e.label)("removeItemObs",i.sbjTagItemRemoved)("clearButtonAriaLabel",i.clearButtonAriaLabel)("myLocationLabel",i.myLocationLabel)("countryCodes",i.mapboxCountryCodes)}}function pJ(t,n){if(1&t){const e=Cn();R(0,"app-year-range",13),Ze("yearRangeChange",function(a){return mt(e),Z(2).onYearRangeChanged(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("fieldId",e.id)("fieldName",e.id)("selectedYearRangeFilterData",i.selectedYearRangeFilterData)("jsonOptions",i.filterOptions[e.id])("labelStart",(null==e.labels?null:e.labels.start)||"")("labelEnd",(null==e.labels?null:e.labels.end)||"")("sbjTagItemRemoved",i.sbjTagItemRemoved)}}function fJ(t,n){if(1&t){const e=Cn();R(0,"app-text-input",14),Ze("onInputChanged",function(a){return mt(e),Z(2).onSearchInputChanged(a)}),z()}if(2&t){const e=Z().$implicit,i=Z();B("type","search")("fieldName",e.id)("fieldId",e.id)("label",e.label)("clearButtonAriaLabel",i.clearButtonAriaLabel)("removeItemObs",i.sbjTagItemRemoved)("sbjTagItemRemoved",i.sbjTagItemRemoved)}}function gJ(t,n){if(1&t&&(zt(0),R(1,"div",4),Q(2,uJ,1,5,"app-select",5),Q(3,hJ,1,7,"app-multiselect",6),Q(4,mJ,1,7,"app-location-input",7),Q(5,pJ,1,7,"app-year-range",8),Q(6,fJ,1,7,"app-text-input",9),z(),Nt()),2&t){const e=n.$implicit,i=Z();F(2),B("ngIf","SingleSelect"===e.type&&i.filterOptions[e.id]),F(1),B("ngIf","MultiSelect"===e.type&&i.filterOptions[e.id]),F(1),B("ngIf","SearchLocationInput"===e.type),F(1),B("ngIf","YearRange"===e.type&&i.filterOptions[e.id]),F(1),B("ngIf","SearchInput"===e.type)}}let _J=(()=>{class t{constructor(e){this.filterService=e,this.selectedYearRangeFilterData={},this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.myLocationLabel="",this.clearButtonAriaLabel="",this.mapboxCountryCodes=[],this.filterChangeRequest=new Et,this.yearRangeChangeRequest=new Et,this.userLocated=new Et,this._selectedFilterData={},this._filters=[],this.filterOptions={}}set filters(e){this._filters=e,this.updateFilterOptions()}get filters(){return this._filters}set selectedFilterData(e){this._selectedFilterData=e,this.updateFilterOptions()}get selectedFilterData(){return this._selectedFilterData}set userLocation(e){var i,a;e&&e.locatedOnMap&&(null===(a=null===(i=this.locationInput)||void 0===i?void 0:i.formGroup.get("fieldValue"))||void 0===a||a.setValue(""))}ngOnInit(){this.sbjTagItemRemoved=this.filterService.sbjTagItemRemoved}ngAfterViewInit(){var e;(null===(e=this.selectedFilterData)||void 0===e?void 0:e.search)&&this.searchInput&&setTimeout(()=>{var i,a;null===(a=null===(i=this.searchInput)||void 0===i?void 0:i.formGroup.get("fieldValue"))||void 0===a||a.setValue(this.selectedFilterData.search[0].title)},100)}onFilterChange(e){this.filterChangeRequest.emit(e)}onSearchInputChanged(e){this.filterChangeRequest.emit({id:"search",value:{id:e,title:e},label:"search"})}onLocationSelected(e){this.userLocated.emit(e?{label:e.place_name,location:{longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]},locatedOnMap:!1}:null)}onYearRangeChanged(e){this.yearRangeChangeRequest.emit(e)}updateFilterOptions(){const e={};this.filters.forEach(i=>{const a=i;if(a.options){const c=a.options.map(h=>{const b=this.selectedFilterData[a.identifier];if(b){let w=null;Array.isArray(b)?w=b.filter(E=>E.id===h.id):b.id===h.id&&(w=b),h.checked=!(null===w||Array.isArray(w)&&!w.length)}return h});e[a.identifier]=JSON.stringify(c)}}),this.filterOptions=e}}return t.\u0275fac=function(e){return new(e||t)(he(q5))},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic-options"]],viewQuery:function(e,i){if(1&e&&(En(K0,5),En(g_,5)),2&e){let a;Xt(a=Kt())&&(i.locationInput=a.first),Xt(a=Kt())&&(i.searchInput=a.first)}},inputs:{filters:"filters",selectedFilterData:"selectedFilterData",selectedYearRangeFilterData:"selectedYearRangeFilterData",userLocation:"userLocation",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",myLocationLabel:"myLocationLabel",clearButtonAriaLabel:"clearButtonAriaLabel",mapboxCountryCodes:"mapboxCountryCodes"},outputs:{filterChangeRequest:"filterChangeRequest",yearRangeChangeRequest:"yearRangeChangeRequest",userLocated:"userLocated"},decls:4,vars:1,consts:[[1,"bt3-filter-generic-options"],[1,"bt3-form"],[1,"bt3-form__row"],[4,"ngFor","ngForOf"],[1,"bt3-filter-generic-options__col"],[3,"label","fieldId","fieldName","jsonOptions","removeItemObs","selectionChange",4,"ngIf"],[3,"label","fieldId","fieldName","removeItemObs","selectTriggerSingularLabel","selectTriggerPluralLabel","jsonOptions","selectionChange",4,"ngIf"],[3,"fieldName","fieldId","label","removeItemObs","clearButtonAriaLabel","myLocationLabel","countryCodes","locationSelected",4,"ngIf"],[3,"fieldId","fieldName","selectedYearRangeFilterData","jsonOptions","labelStart","labelEnd","sbjTagItemRemoved","yearRangeChange",4,"ngIf"],[3,"type","fieldName","fieldId","label","clearButtonAriaLabel","removeItemObs","sbjTagItemRemoved","onInputChanged",4,"ngIf"],[3,"label","fieldId","fieldName","jsonOptions","removeItemObs","selectionChange"],[3,"label","fieldId","fieldName","removeItemObs","selectTriggerSingularLabel","selectTriggerPluralLabel","jsonOptions","selectionChange"],[3,"fieldName","fieldId","label","removeItemObs","clearButtonAriaLabel","myLocationLabel","countryCodes","locationSelected"],[3,"fieldId","fieldName","selectedYearRangeFilterData","jsonOptions","labelStart","labelEnd","sbjTagItemRemoved","yearRangeChange"],[3,"type","fieldName","fieldId","label","clearButtonAriaLabel","removeItemObs","sbjTagItemRemoved","onInputChanged"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"app-form-style-wrapper",1),R(2,"div",2),Q(3,gJ,7,5,"ng-container",3),z(),z(),z()),2&e&&(F(3),B("ngForOf",i.filters))},directives:[Vf,ya,ri,hp,X0,K0,N5,g_],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}.bt3-filter-generic-options{margin-bottom:3.8rem}.bt3-filter-generic-options__col{grid-column:auto/span 12;min-width:0}@media (min-width: 60em){.bt3-filter-generic-options__col{grid-column:auto/span 4}.bt3-filter-generic-options__col:nth-child(n+4){margin-top:1.5rem}}\n'],encapsulation:2}),t})();const bJ=function(){return{find:"+",replace:" "}};let yJ=(()=>{class t{constructor(){this.tagData={id:"",value:"",label:""},this.removeTag=new Et}onTagRemove(){this.removeTag.emit(this.tagData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic-tag"]],inputs:{tagData:"tagData"},outputs:{removeTag:"removeTag"},decls:6,vars:5,consts:[[1,"bt3-filter-generic-tag"],[1,"bt3-filter-generic-tag__label"],[1,"bt3-filter-generic-tag__delete",3,"click"],["name","close","has-transitions","",1,"bt3-filter-generic-tag__delete-icon"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"span",1),ot(2),Vu(3,"findReplaceString"),z(),R(4,"button",2),Ze("click",function(){return i.onTagRemove()}),Se(5,"bt3-icon",3),z(),z()),2&e&&(F(2),Kn(K1(3,1,i.tagData.label,Bu(4,bJ))))},pipes:[Vx],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}.bt3-filter-generic-tag{display:inline-flex;padding:1.6rem 1.8rem;font-size:1.8rem;background:var(--black-200);margin:0 1.8rem 1.8rem 0}.bt3-filter-generic-tag__label{word-break:break-word}.bt3-filter-generic-tag__delete{margin-left:1.5rem;vertical-align:middle;flex-grow:0}@media (hover: hover){.bt3-filter-generic-tag__delete:hover{--themeBase: var(--themeHover, var(--blue-700))}}.bt3-filter-generic-tag__delete .bt3-filter-generic-tag__delete-icon{width:1.2rem;height:1.2rem}\n'],encapsulation:2}),t})();function vJ(t,n){if(1&t){const e=Cn();zt(0),R(1,"app-filter-generic-tag",5),Ze("removeTag",function(a){return mt(e),Z().onTagRemove(a)}),z(),Nt()}if(2&t){const e=n.$implicit;F(1),B("tagData",e)}}function xJ(t,n){if(1&t){const e=Cn();R(0,"button",6),Ze("click",function(){return mt(e),Z().onFiltersReset()}),ot(1),z()}if(2&t){const e=Z();F(1),vn(" ",e.resetFilterLabel," ")}}let wJ=(()=>{class t{constructor(e){this.filterService=e,this.filters=[],this.selectedFilterData={},this.selectedYearRangeFilterData={},this.userLocation=null,this.selectedFilterSingularLabel="",this.selectedFilterPluralLabel="",this.resetFilterLabel="",this.myLocationLabel="",this.clearButtonAriaLabel="",this.mapboxCountryCodes=[],this.themeVariant="primary",this.updateSelectedFilter=new Et,this.updateSelectedYearRangeFilter=new Et,this.deleteSelectedTag=new Et,this.onResetFilters=new Et,this.updateSelectedLocation=new Et,this.selectedTags=[]}ngOnChanges(){this.getTags()}onFilterChange(e){this.updateSelectedFilter.emit(e),this.getTags()}onYearRangeChange(e){this.updateSelectedYearRangeFilter.emit(e),this.getTags()}onUserLocated(e){this.getTags(),this.userLocation=e,this.updateSelectedLocation.emit(e)}getTags(){const e=this.selectedFilterData,i=this.selectedYearRangeFilterData,a=this.userLocation,c=Object.keys(e),h=Object.keys(i);this.selectedTags=[];const b=c.map(E=>({key:E,values:Array.isArray(e[E])?e[E]:[e[E]]})),w=h.map(E=>({key:E,values:Array.isArray(i[E])?i[E]:[i[E]]}));b.forEach(E=>{Array.isArray(E.values)?E.values.forEach(L=>{L.id&&L.title&&this.selectedTags.push({id:E.key,value:L.id,label:L.title})}):E.values.id&&E.values.title&&this.selectedTags.push({id:E.key,value:E.values.id,label:E.values.title})}),w.forEach(E=>{E.values.forEach(L=>{L.min&&this.selectedTags.push({id:`${E.key}StartYear`,value:L.min,label:L.labelMin}),L.max&&this.selectedTags.push({id:`${E.key}EndYear`,value:L.max,label:L.labelMax})})}),a&&this.selectedTags.push({id:"location",value:a.label,label:a.label})}onTagRemove(e){this.filterService.broadcastTagItemRemoved(e),this.deleteSelectedTag.emit(e),this.getTags()}onFiltersReset(){this.filterService.broadcastTagItemRemoved({value:"all"}),this.onResetFilters.emit(),this.selectedTags=[],this.getTags()}}return t.\u0275fac=function(e){return new(e||t)(he(q5))},t.\u0275cmp=Ct({type:t,selectors:[["app-filter-generic-interface"]],inputs:{filters:"filters",selectedFilterData:"selectedFilterData",selectedYearRangeFilterData:"selectedYearRangeFilterData",userLocation:"userLocation",selectedFilterSingularLabel:"selectedFilterSingularLabel",selectedFilterPluralLabel:"selectedFilterPluralLabel",resetFilterLabel:"resetFilterLabel",myLocationLabel:"myLocationLabel",clearButtonAriaLabel:"clearButtonAriaLabel",mapboxCountryCodes:"mapboxCountryCodes",themeVariant:"themeVariant"},outputs:{updateSelectedFilter:"updateSelectedFilter",updateSelectedYearRangeFilter:"updateSelectedYearRangeFilter",deleteSelectedTag:"deleteSelectedTag",onResetFilters:"onResetFilters",updateSelectedLocation:"updateSelectedLocation"},features:[Yi],decls:6,vars:14,consts:[[1,"bt3-form"],[3,"filters","userLocation","selectedFilterData","selectedYearRangeFilterData","selectedFilterSingularLabel","selectedFilterPluralLabel","myLocationLabel","clearButtonAriaLabel","mapboxCountryCodes","filterChangeRequest","yearRangeChangeRequest","userLocated"],[1,"bt3-filter-generic-interface__tags"],[4,"ngFor","ngForOf"],["class","bt3-filter-generic-interface__tags-reset",3,"click",4,"ngIf"],[3,"tagData","removeTag"],[1,"bt3-filter-generic-interface__tags-reset",3,"click"]],template:function(e,i){1&e&&(R(0,"app-form-style-wrapper",0),R(1,"div"),R(2,"app-filter-generic-options",1),Ze("filterChangeRequest",function(c){return i.onFilterChange(c)})("yearRangeChangeRequest",function(c){return i.onYearRangeChange(c)})("userLocated",function(c){return i.onUserLocated(c)}),z(),R(3,"div",2),Q(4,vJ,2,1,"ng-container",3),Q(5,xJ,2,1,"button",4),z(),z(),z()),2&e&&(F(1),Fd("bt3-filter-generic-interface bt3-theme bt3-theme--",i.themeVariant,""),F(1),B("filters",i.filters)("userLocation",i.userLocation)("selectedFilterData",i.selectedFilterData)("selectedYearRangeFilterData",i.selectedYearRangeFilterData)("selectedFilterSingularLabel",i.selectedFilterSingularLabel)("selectedFilterPluralLabel",i.selectedFilterPluralLabel)("myLocationLabel",i.myLocationLabel)("clearButtonAriaLabel",i.clearButtonAriaLabel)("mapboxCountryCodes",i.mapboxCountryCodes),F(2),B("ngForOf",i.selectedTags),F(1),B("ngIf",i.selectedTags.length>0))},directives:[Vf,_J,ya,ri,yJ],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}.bt3-filter-generic-interface{margin-bottom:9rem}.bt3-theme--primary .bt3-filter-generic-interface,.bt3-filter-generic-interface.bt3-theme--primary{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary .bt3-filter-generic-interface,.bt3-filter-generic-interface.bt3-theme--secondary{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}@media (max-width: 37.49em){.bt3-filter-generic-interface{margin-bottom:6rem}}.bt3-filter-generic-interface__tags{display:block}.bt3-filter-generic-interface__tags-reset{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:1.5rem;line-height:1.5;color:var(--themeBase, var(--blue-500))}@media (min-width: 60em){.bt3-filter-generic-interface__tags-reset{font-size:1.8rem}}@media (hover: hover){.bt3-filter-generic-interface__tags-reset:hover{color:var(--themeHover, var(--blue-700))}}\n'],encapsulation:2}),t})(),CJ=(()=>{class t{constructor(e){this.injector=e,[["bt3-filter-generic",Y5]].forEach(([a,c])=>customElements.define(a,Mr(c,{injector:e})))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,b_,Sk,j5,J0,Ok]]}),t})();th(Y5,[Pr,ri,wJ,Qm,QK],[]);const kJ=["progress"],MJ=["progressContainer"];function TJ(t,n){1&t&&Se(0,"div",11)}function EJ(t,n){if(1&t&&(R(0,"div",12),ot(1),z()),2&t){const e=n.index,i=Z();F(1),vn(" ",(e+1)*i.graphSectionValue," ")}}const W5=function(){return[]};let DJ=(()=>{class t{constructor(){this.amountSections=5,this.graphMaxValue=18,this.graphSectionValue=3,this.percentageCount=0}ngAfterViewInit(){setTimeout(()=>{this.calculateProgress(),this.updateLine()},500)}calculateProgress(){var e;(null===(e=this.progressElement)||void 0===e?void 0:e.nativeElement).style.width=100/this.graphMaxValue*this.percentageCount+"%"}updateLine(){var e;const i=null===(e=this.progressContainerElement)||void 0===e?void 0:e.nativeElement;if(i){const a=i.querySelectorAll(".bt3-campaign-graph__graph-bar-line"),c=Math.floor(this.percentageCount/this.graphSectionValue);for(let h=0;h<c;h++)a[h].classList.add("bt3-campaign-graph__graph-bar-line--active")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-campaign-graph"]],viewQuery:function(e,i){if(1&e&&(En(kJ,5),En(MJ,5)),2&e){let a;Xt(a=Kt())&&(i.progressElement=a.first),Xt(a=Kt())&&(i.progressContainerElement=a.first)}},inputs:{percentageCount:"percentageCount"},decls:12,vars:4,consts:[[1,"bt3-campaign-graph"],[1,"bt3-campaign-graph__graph-wrapper"],[1,"bt3-campaign-graph__graph"],[1,"bt3-campaign-graph__graph-bar-wrapper"],["progressContainer",""],["class","bt3-campaign-graph__graph-bar bt3-campaign-graph__graph-bar-line",4,"ngFor","ngForOf"],[1,"bt3-campaign-graph__graph-bar-progress"],["progress",""],[1,"bt3-campaign-graph__graph-bar-wrapper","bt3-campaign-graph__graph-bar-wrapper--transparent"],["class","bt3-campaign-graph__graph-bar",4,"ngFor","ngForOf"],[1,"bt3-campaign-graph__graph-bar-label"],[1,"bt3-campaign-graph__graph-bar","bt3-campaign-graph__graph-bar-line"],[1,"bt3-campaign-graph__graph-bar"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"div",2),R(3,"div",3,4),Q(5,TJ,1,0,"div",5),Se(6,"div",6,7),z(),R(8,"div",8),Q(9,EJ,2,1,"div",9),R(10,"div",10),ot(11,"%"),z(),z(),z(),z(),z()),2&e&&(F(5),B("ngForOf",Bu(2,W5).constructor(i.amountSections)),F(4),B("ngForOf",Bu(3,W5).constructor(i.amountSections)))},directives:[ya],styles:[".bt3-campaign-graph__graph[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:.9rem;gap:.9rem}.bt3-campaign-graph__graph-bar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;background:var(--white)}.bt3-campaign-graph__graph-bar-wrapper--transparent[_ngcontent-%COMP%]{background:transparent}.bt3-campaign-graph__graph-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:16.6%;min-height:2.4rem;padding-top:.6rem;padding-bottom:.6rem;line-height:1}.bt3-campaign-graph__graph-bar[_ngcontent-%COMP%]:first-child{margin-left:8.3%}.bt3-campaign-graph__graph-bar-line[_ngcontent-%COMP%]{background:linear-gradient(var(--black-300),var(--black-300)) no-repeat center/2px 100%;z-index:1}.bt3-campaign-graph__graph-bar-line--active[_ngcontent-%COMP%]{background:linear-gradient(var(--blue-900),var(--blue-900)) no-repeat center/2px 100%}.bt3-campaign-graph__graph-bar-progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;opacity:.5;background:var(--blue-300);transition:width 1s;width:0}.bt3-campaign-graph__graph-bar-label[_ngcontent-%COMP%]{position:absolute;left:0;padding-top:.6rem;padding-bottom:.6rem;line-height:1}"]}),t})();const SJ=["percentageCountElement"],IJ=["absoluteCountElement"];let AJ=(()=>{class t{constructor(e){this.ngZone=e,this.absoluteCount=0,this.absoluteLabel="",this.percentageCount=0,this.percentageLabel="",this.delay=0,this.duration=1500}easeOutQuart(e){return 1-Math.pow(1-e,4)}ngAfterViewInit(){var e;const i=null===(e=this.absoluteCountElement)||void 0===e?void 0:e.nativeElement;i&&(this.observer=new IntersectionObserver((c,h)=>{c.forEach(b=>{b.isIntersecting&&(this.animateElement(this.absoluteCount,this.absoluteCountElement),this.percentageCountElement&&setTimeout(()=>{this.animateElement(this.percentageCount,this.percentageCountElement,!0)},500),h.unobserve(b.target))})}),this.observer.observe(i))}animateElement(e,i,a=!1){this.ngZone.runOutsideAngular(()=>{const c=Date.now()+this.delay,h=()=>{const b=Math.min((Date.now()-c)/this.duration,1),w=this.easeOutQuart(b)*e;if(i){const E=Math.abs(e)<1?Math.round(10*w)/10:Math.round(w);i.nativeElement.innerHTML=a?`${E}%`:E}b<1&&window.requestAnimationFrame(h)};setTimeout(()=>{window.requestAnimationFrame(h)},this.delay)})}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}}return t.\u0275fac=function(e){return new(e||t)(he(mi))},t.\u0275cmp=Ct({type:t,selectors:[["app-campaign-overview"]],viewQuery:function(e,i){if(1&e&&(En(SJ,5),En(IJ,5)),2&e){let a;Xt(a=Kt())&&(i.percentageCountElement=a.first),Xt(a=Kt())&&(i.absoluteCountElement=a.first)}},inputs:{absoluteCount:"absoluteCount",absoluteLabel:"absoluteLabel",percentageCount:"percentageCount",percentageLabel:"percentageLabel",label:"label"},decls:16,vars:3,consts:[[1,"bt3-campaign-overview"],[1,"bt3-campaign-overview__wrapper","bt3-campaign-overview__wrapper--light"],[1,"bt3-campaign-overview__value-wrapper"],[1,"bt3-campaign-overview__value"],["absoluteCountElement",""],[1,"bt3-campaign-overview__value-label"],[1,"bt3-campaign-overview__wrapper","bt3-campaign-overview__wrapper--dark"],["percentageCountElement",""],[3,"percentageCount"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"div",2),R(3,"span",3,4),ot(5," 0 "),z(),R(6,"span",5),ot(7),z(),z(),z(),R(8,"div",6),R(9,"div",2),R(10,"span",3,7),ot(12," 0"),z(),R(13,"span",5),ot(14),z(),z(),Se(15,"bt3-campaign-graph",8),z(),z()),2&e&&(F(7),vn(" ",i.absoluteLabel," "),F(7),vn(" ",i.percentageLabel," "),F(1),B("percentageCount",i.percentageCount))},styles:[".bt3-campaign-overview[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 37.5em){.bt3-campaign-overview[_ngcontent-%COMP%]{flex-direction:unset}}.bt3-campaign-overview__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:3.8rem;grid-gap:1.8rem;gap:1.8rem;width:100%}@media (min-width: 37.5em){.bt3-campaign-overview__wrapper[_ngcontent-%COMP%]{width:50%}}.bt3-campaign-overview__wrapper--dark[_ngcontent-%COMP%]{background:var(--blue-900);color:var(--white)}.bt3-campaign-overview__wrapper--light[_ngcontent-%COMP%]{background:var(--blue-300);color:var(--blue-900)}.bt3-campaign-overview__value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;grid-gap:.9rem;gap:.9rem}@media (min-width: 37.5em){.bt3-campaign-overview__value-wrapper[_ngcontent-%COMP%]{align-items:unset;flex-direction:column;grid-gap:0;gap:0}}.bt3-campaign-overview__value[_ngcontent-%COMP%]{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);font-size:3.8rem;line-height:1}@media (min-width: 37.5em){.bt3-campaign-overview__value[_ngcontent-%COMP%]{font-size:6rem}}.bt3-campaign-overview__value-label[_ngcontent-%COMP%]{font-size:1.2rem}@media (min-width: 37.5em){.bt3-campaign-overview__value-label[_ngcontent-%COMP%]{font-size:1.8rem}}"]}),t})(),OJ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-campaign-overview",Mr(AJ,{injector:e})),customElements.define("bt3-campaign-graph",Mr(DJ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})(),LJ=(()=>{class t{constructor(){this.targetDate="",this.description="",this.linkDescription="",this.linkTargetUrl="",this.linkTargetLabel="",this.daysLabel="Days",this.hoursLabel="Hours",this.minutesLabel="Min",this.secondsLabel="Sec",this.buttonLevels=tc,this.remainingDays="0",this.remainingHours="0",this.remainingMinutes="0",this.remainingSeconds="0"}ngAfterViewInit(){this.getInitialValues(),this.refreshIntervalId=setInterval(()=>{const i=new Date(this.targetDate).getTime()-Date.now(),a=new Date(i);i<0?(this.remainingDays="00",this.remainingHours="00",this.remainingMinutes="00",this.remainingSeconds="00",clearInterval(this.refreshIntervalId)):(this.remainingDays=("0"+Math.floor(i/1e3/60/60/24).toString()).slice(-2),this.remainingHours=("0"+(a.getUTCHours()+a.getTimezoneOffset()/60-1)).slice(-2),this.remainingMinutes=("0"+a.getMinutes()).slice(-2),this.remainingSeconds=("0"+a.getSeconds()).slice(-2))},1e3)}getInitialValues(){const i=new Date(this.targetDate).getTime()-Date.now(),a=new Date(i);this.remainingDays=("0"+Math.floor(i/1e3/60/60/24).toString()).slice(-2),this.remainingHours=("0"+(a.getUTCHours()+a.getTimezoneOffset()/60-1)).slice(-2),this.remainingMinutes=("0"+a.getMinutes()).slice(-2),this.remainingSeconds=("0"+a.getSeconds()).slice(-2)}ngOnDestroy(){clearInterval(this.refreshIntervalId)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-campaign-counter"]],inputs:{targetDate:"targetDate",description:"description",linkDescription:"linkDescription",linkTargetUrl:"linkTargetUrl",linkTargetLabel:"linkTargetLabel",daysLabel:"daysLabel",hoursLabel:"hoursLabel",minutesLabel:"minutesLabel",secondsLabel:"secondsLabel"},decls:28,vars:14,consts:[[1,"bt3-campaign-counter"],[1,"bt3-campaign-counter__counter-wrapper"],[1,"bt3-campaign-counter__counter"],[1,"bt3-campaign-counter__counter-value"],[1,"bt3-campaign-counter__counter-label"],[1,"bt3-campaign-counter__description"],[1,"bt3-campaign-counter__link-wrapper"],[1,"bt3-campaign-counter__link-description"],["hasExtraPadding","true","isCounterStyling","true",3,"url","buttonLevel","openInNewTab","label"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"div",2),R(3,"span",3),ot(4),z(),R(5,"span",4),ot(6),z(),z(),R(7,"div",2),R(8,"span",3),ot(9),z(),R(10,"span",4),ot(11),z(),z(),R(12,"div",2),R(13,"span",3),ot(14),z(),R(15,"span",4),ot(16),z(),z(),R(17,"div",2),R(18,"span",3),ot(19),z(),R(20,"span",4),ot(21),z(),z(),z(),R(22,"p",5),ot(23),z(),R(24,"div",6),R(25,"p",7),ot(26),z(),Se(27,"app-button-link",8),z(),z()),2&e&&(F(4),vn(" ",i.remainingDays," "),F(2),Kn(i.daysLabel),F(3),vn(" ",i.remainingHours," "),F(2),Kn(i.hoursLabel),F(3),vn(" ",i.remainingMinutes," "),F(2),vn("",i.minutesLabel," "),F(3),vn(" ",i.remainingSeconds," "),F(2),vn("",i.secondsLabel," "),F(2),vn(" ",i.description," "),F(3),vn(" ",i.linkDescription," "),F(1),zi("label",i.linkTargetLabel),B("url",i.linkTargetUrl)("buttonLevel",i.buttonLevels.PRIMARY)("openInNewTab",!0))},directives:[C0],styles:[".bt3-campaign-counter[_ngcontent-%COMP%]{padding:3rem;background:var(--blue-900);color:var(--white)}@media (min-width: 37.5em){.bt3-campaign-counter[_ngcontent-%COMP%]{padding:6rem}}.bt3-campaign-counter__counter-wrapper[_ngcontent-%COMP%]{display:flex;grid-column-gap:2.4rem;column-gap:2.4rem;justify-content:center;line-height:1}@media (min-width: 37.5em){.bt3-campaign-counter__counter-wrapper[_ngcontent-%COMP%]{grid-column-gap:6rem;column-gap:6rem}}.bt3-campaign-counter__counter[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:.9rem;gap:.9rem;text-align:center}.bt3-campaign-counter__counter-label[_ngcontent-%COMP%]{font-size:1.2rem}@media (min-width: 37.5em){.bt3-campaign-counter__counter-label[_ngcontent-%COMP%]{font-size:2.4rem}}.bt3-campaign-counter__counter-value[_ngcontent-%COMP%]{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);font-size:3.8rem}@media (min-width: 37.5em){.bt3-campaign-counter__counter-value[_ngcontent-%COMP%]{font-size:6rem}}.bt3-campaign-counter__description[_ngcontent-%COMP%]{margin-top:2.4rem;font-size:1.5rem}@media (min-width: 37.5em){.bt3-campaign-counter__description[_ngcontent-%COMP%]{margin-top:3rem;font-size:2.4rem}}.bt3-campaign-counter__link-wrapper[_ngcontent-%COMP%]{margin-top:2.4rem}.bt3-campaign-counter__link-description[_ngcontent-%COMP%]{margin-bottom:.9rem;font-size:1.2rem}@media (min-width: 37.5em){.bt3-campaign-counter__link-description[_ngcontent-%COMP%]{margin-bottom:1.2rem;font-size:1.8rem}}"]}),t})(),PJ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-campaign-counter",Mr(LJ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Q0]]}),t})();const Lk=function(t,n){return{interval:t,offset:n}},Pk=function(t,n){return{value:t,params:n}};function FJ(t,n){if(1&t&&Se(0,"span",6),2&t){const e=n.$implicit,i=n.index,a=Z(2);B("innerHTML",e,Zi)("@valueChar",Cr(5,Pk,a.animationState,Cr(2,Lk,a.animationInterval+"ms",i*a.animationInterval+a.timingOffset*a.animationInterval+"ms")))}}function RJ(t,n){if(1&t&&(R(0,"p",1),R(1,"span",2),Q(2,FJ,1,8,"span",3),z(),Se(3,"span",4),Se(4,"span",5),z()),2&t){const e=Z();F(2),B("ngForOf",e.valueChars),F(1),B("innerHTML",e.figure.unit,Zi)("@text",Cr(8,Pk,e.animationState,Cr(5,Lk,e.animationInterval+"ms",e.valueChars.length*e.animationInterval+e.timingOffset*e.animationInterval+"ms"))),F(1),B("innerHTML",e.figure.label,Zi)("@text",Cr(14,Pk,e.animationState,Cr(11,Lk,e.animationInterval+"ms",(e.valueChars.length+1)*e.animationInterval+e.timingOffset*e.animationInterval+"ms")))}}var oc=(()=>(function(t){t[t.Initial=0]="Initial",t[t.Default=1]="Default"}(oc||(oc={})),oc))();let zJ=(()=>{class t{constructor(e){this.elRef=e,this.figure=null,this.valueChars=[],this.animationState=oc.Initial,this.animationInterval=250,this.timingOffset=0,this.registerIntersectionObserver()}set figureTeaser(e){var i,a;this.figure=e,this.valueChars=null!==(a=null===(i=this.figure)||void 0===i?void 0:i.value.split(""))&&void 0!==a?a:[]}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}registerIntersectionObserver(){this.observer=new IntersectionObserver((i,a)=>{i.forEach(c=>{c.isIntersecting&&(this.animationState=oc.Default,a.disconnect())})}),this.observer.observe(this.elRef.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)(he(Hn))},t.\u0275cmp=Ct({type:t,selectors:[["app-key-figures-figure"]],inputs:{figureTeaser:"figureTeaser",timingOffset:"timingOffset"},decls:1,vars:1,consts:[["class","bt3-key-figures-figure",4,"ngIf"],[1,"bt3-key-figures-figure"],[1,"bt3-key-figures-figure__value"],["class","bt3-key-figures-figure__value-char",3,"innerHTML",4,"ngFor","ngForOf"],[1,"bt3-key-figures-figure__unit",3,"innerHTML"],[1,"bt3-key-figures-figure__label",3,"innerHTML"],[1,"bt3-key-figures-figure__value-char",3,"innerHTML"]],template:function(e,i){1&e&&Q(0,RJ,5,17,"p",0),2&e&&B("ngIf",i.figure)},directives:[ri,ya],styles:['@charset "UTF-8";.bt3-key-figures-figure{display:flex;flex-direction:column;align-items:center;padding:6rem 0 0;text-align:center;line-height:1.2}.bt3-key-figures-figure__value{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);display:flex;justify-content:center;font-size:9rem;color:var(--themeBase)}.bt3-key-figures-figure__unit,.bt3-key-figures-figure__label{font-size:2.4rem}.bt3-key-figures-figure__label{margin-top:6rem}\n'],encapsulation:2,data:{animation:[kr("valueChar",[ma(`${oc.Initial}`,Ln({transform:"translateY(-25%)",opacity:0})),ma(`${oc.Default}`,Ln({transform:"translateY(0)",opacity:1})),ra(`${oc.Initial} <=> ${oc.Default}`,va("{{interval}} {{offset}} ease-out"))]),kr("text",[ma(`${oc.Initial}`,Ln({transform:"translateY(100%)",opacity:0})),ma(`${oc.Default}`,Ln({transform:"translateY(0)",opacity:1})),ra(`${oc.Initial} <=> ${oc.Default}`,va("{{interval}} {{offset}} ease-out"))])]}}),t})();const NJ=["teaser"],BJ=["slide"];function VJ(t,n){if(1&t&&(R(0,"li",3),Se(1,"app-key-figures-figure",4),z()),2&t){const e=n.$implicit,i=n.index;F(1),B("figureTeaser",e)("timingOffset",i)}}let HJ=(()=>{class t{constructor(){this.figures=[]}set figuresJson(e){this.figures=JSON.parse(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-key-figures"]],viewQuery:function(e,i){if(1&e&&(En(Hf,5),En(NJ,5),En(BJ,5)),2&e){let a;Xt(a=Kt())&&(i.lightbox=a.first),Xt(a=Kt())&&(i.teaserRefs=a),Xt(a=Kt())&&(i.textSlideRefs=a)}},inputs:{figuresJson:"figuresJson"},decls:3,vars:1,consts:[[1,"bt3-key-figures"],[1,"bt3-key-figures__list"],["class","bt3-key-figures__list-item",4,"ngFor","ngForOf"],[1,"bt3-key-figures__list-item"],[3,"figureTeaser","timingOffset"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"ul",1),Q(2,VJ,2,2,"li",2),z(),z()),2&e&&(F(2),B("ngForOf",i.figures))},directives:[ya,zJ],styles:['@charset "UTF-8";.bt3-key-figures__list{display:grid;grid-template-columns:1fr;grid-gap:3rem 1.8rem;gap:3rem 1.8rem;list-style:none}@media (min-width: 37.5em){.bt3-key-figures__list{grid-template-columns:repeat(2,1fr)}}@media (min-width: 60em){.bt3-key-figures__list{grid-template-columns:repeat(3,1fr);grid-gap:4.5rem 3.6rem;gap:4.5rem 3.6rem}}\n'],encapsulation:2}),t})(),jJ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-key-figures",Mr(HJ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})();var jx=(()=>(function(t){t.HIDDEN="hidden",t.VISIBLE="visible"}(jx||(jx={})),jx))();function UJ(t,n){if(1&t&&Se(0,"app-button-link",11),2&t){const e=Z(3);B("url",e.data.link.url)("label",e.data.link.label?e.data.link.label:e.showMoreLabel)("openInNewTab",!!e.data.link.isExternal)("icon",e.linkButtonIcons.ARROW_RIGHT)}}function GJ(t,n){if(1&t&&Se(0,"app-button-link",12),2&t){const e=Z(3);B("url",e.data.secondaryLink.url)("buttonLevel",e.linkButtonLevels.SECONDARY)("label",e.data.secondaryLink.label?e.data.secondaryLink.label:e.showMoreLabel)("openInNewTab",!!e.data.secondaryLink.isExternal)("icon",e.linkButtonIcons.ARROW_RIGHT)}}function $J(t,n){if(1&t&&(R(0,"div",8),Q(1,UJ,1,4,"app-button-link",9),Q(2,GJ,1,5,"app-button-link",10),z()),2&t){const e=Z(2);F(1),B("ngIf",e.data.link),F(1),B("ngIf",e.data.secondaryLink)}}function YJ(t,n){if(1&t){const e=Cn();R(0,"div",14),Se(1,"div",15),R(2,"button",16),Ze("click",function(){mt(e);const a=Z().$implicit;return Z(2).onSelectQuestion(a)}),z(),z()}if(2&t){const e=Z().$implicit;B("@slideInOut",void 0),F(1),B("innerHTML",e.label,Zi)}}function qJ(t,n){if(1&t&&(zt(0),Q(1,YJ,3,2,"div",13),Nt()),2&t){const e=Z(2);F(1),B("ngIf",!e.checkedAnswerLabel)}}function WJ(t,n){if(1&t&&(R(0,"div",17),Se(1,"div",15),z()),2&t){const e=Z(2);B("@slideInOutNoDelay",void 0),F(1),B("innerHTML",e.checkedAnswerLabel,Zi)}}function ZJ(t,n){if(1&t&&(R(0,"div",1),R(1,"div",2),Se(2,"div",3),Q(3,$J,3,2,"div",4),z(),R(4,"div",5),Q(5,qJ,2,1,"ng-container",6),Q(6,WJ,2,2,"div",7),z(),z()),2&t){const e=Z();F(1),B("@slideInQuestion",void 0),F(1),B("innerHTML",e.data.label,Zi),F(1),B("ngIf",e.data.link||e.data.secondaryLink),F(1),B("@list",e.data.answers.length),F(1),B("ngForOf",e.data.answers),F(1),B("ngIf",e.checkedAnswerLabel)}}let XJ=(()=>{class t{constructor(){this.elementStates=jx,this.elementState=this.elementStates.HIDDEN,this.linkButtonLevels=tc,this.linkButtonIcons=w0,this.selectQuestion=new Et,this.checkedAnswerLabel=""}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}onSelectQuestion(e){this.selectQuestion.emit(e.nextQuestionId),e.label&&(this.checkedAnswerLabel=e.label)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-chatbot-question"]],inputs:{data:"data",showMoreLabel:"showMoreLabel"},outputs:{selectQuestion:"selectQuestion"},decls:1,vars:1,consts:[["class","chatbot-question",4,"ngIf"],[1,"chatbot-question"],[1,"chatbot-question__chat-bubble"],[1,"chatbot-question__rte","bt3-atom-rte-compact",3,"innerHTML"],["class","chatbot-question__label__link-wrapper",4,"ngIf"],[1,"chatbot-question__answers-container"],[4,"ngFor","ngForOf"],["class","chatbot-question__chat-bubble chatbot-question__chat-bubble--answer chatbot-question__chat-bubble--answer-selected",4,"ngIf"],[1,"chatbot-question__label__link-wrapper"],["isOnLight","true",3,"url","label","openInNewTab","icon",4,"ngIf"],["isOnLight","true",3,"url","buttonLevel","label","openInNewTab","icon",4,"ngIf"],["isOnLight","true",3,"url","label","openInNewTab","icon"],["isOnLight","true",3,"url","buttonLevel","label","openInNewTab","icon"],["class","chatbot-question__chat-bubble chatbot-question__chat-bubble--answer",4,"ngIf"],[1,"chatbot-question__chat-bubble","chatbot-question__chat-bubble--answer"],[1,"bt3-atom-rte-compact","chatbot-question__rte",3,"innerHTML"],[1,"chatbot-question__answer-button",3,"click"],[1,"chatbot-question__chat-bubble","chatbot-question__chat-bubble--answer","chatbot-question__chat-bubble--answer-selected"]],template:function(e,i){1&e&&Q(0,ZJ,7,6,"div",0),2&e&&B("ngIf",i.data)},directives:[ri,ya,C0],styles:['.chatbot-question__answers-container{display:flex;flex-direction:column;grid-gap:3rem;gap:3rem;margin-left:20%}@media (min-width: 37.5em){.chatbot-question__answers-container{margin-left:40%}}.chatbot-question__chat-bubble{display:flex;flex-direction:column;position:relative;padding:2.1rem;color:var(--chatbot-bubble-color, var(--black));background:var(--chatbot-bubble-background, var(--themeLight));margin-bottom:4.5rem;margin-right:10%;text-align:left}@media (min-width: 37.5em){.chatbot-question__chat-bubble{padding:3rem;margin-right:45%}}.chatbot-question__chat-bubble:before{content:"";width:0;height:0;position:absolute;right:0;bottom:-2.4rem;border-left:21px solid var(--chatbot-bubble-background, var(--themeLight));border-right:12px solid transparent;border-top:12px solid var(--chatbot-bubble-background, var(--themeLight));border-bottom:21px solid transparent;transform:rotateY(180deg)}.chatbot-question__chat-bubble--answer{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);margin:0;padding:1.2rem 3.8rem;font-size:1.8rem;color:var(--chatbot-bubble-color-answer, var(--themeDark));background:var(--chatbot-bubble-background, var(--themeLight));transition:all .3s ease-in-out}@media (min-width: 37.5em){.chatbot-question__chat-bubble--answer{padding:2.1rem 3.8rem}}.chatbot-question__chat-bubble--answer:not(.chatbot-question__chat-bubble--answer-selected):before{content:none}@media (hover: hover){.chatbot-question__chat-bubble--answer:not(.chatbot-question__chat-bubble--answer-selected):hover{transform:translate(-.9rem);color:var(--chatbot-bubble-color-answer-hover, var(--themeHover))}}@media (hover: hover) and (min-width: 60em){.chatbot-question__chat-bubble--answer:not(.chatbot-question__chat-bubble--answer-selected):hover{transform:translate(-1.8rem)}}.chatbot-question__chat-bubble--answer-selected{background:var(--chatbot-bubble-background-answer-selected, var(--themeDark));color:var(--chatbot-bubble-color-answer-selected, var(--themeDarkFont))}.chatbot-question__chat-bubble--answer-selected:before{content:"";position:absolute;height:0;width:0;left:0;bottom:-2.4rem;border-left:12px solid transparent;border-right:21px solid var(--chatbot-bubble-background-answer-selected, var(--themeDark));border-top:12px solid var(--chatbot-bubble-background-answer-selected, var(--themeDark));border-bottom:21px solid transparent}.chatbot-question__answer-button{position:absolute;inset:0;background:transparent;width:100%;height:100%}.chatbot-question__rte{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);--themeLinkColor: var(--themeDark, var(--primary-700))}.chatbot-question__label__link-wrapper{display:flex;flex-wrap:wrap;grid-gap:1.2rem;gap:1.2rem;margin-top:2.4rem}\n'],encapsulation:2,data:{animation:[kr("list",[ra("* => *",[WD(":enter",vN(100,qD()),{optional:!0})])]),kr("slideInOut",[ra(":enter",[Ln({opacity:0,transform:"translateX(100%)"}),va("500ms 400ms ease-in",Ln({opacity:1,transform:"translateX(0%)"}))]),ra(":leave",[$D([va("250ms ease-in",Ln({opacity:0,transform:"translateX(100%)"}))])])]),kr("slideInOutNoDelay",[ra(":enter",[Ln({opacity:0,transform:"translateX(100%)"}),va("500ms ease-in",Ln({opacity:1,transform:"translateX(0%)"}))]),ra(":leave",[$D([va("250ms ease-in",Ln({opacity:0,transform:"translateX(100%)"}))])])]),kr("slideInQuestion",[ra(":enter",[Ln({opacity:0,transform:"translateX(-100%)"}),va("750ms ease-in",Ln({opacity:1,transform:"translateX(0%)"}))])])]}}),t})();function KJ(t,n){if(1&t){const e=Cn();zt(0),R(1,"app-chatbot-question",3),Ze("selectQuestion",function(a){return mt(e),Z(2).onSelectQuestion(a)}),z(),Nt()}if(2&t){const e=n.$implicit,i=Z(2);F(1),B("data",e)("showMoreLabel",i.showMoreLabel)}}function JJ(t,n){if(1&t&&(R(0,"div",1),Q(1,KJ,2,2,"ng-container",2),z()),2&t){const e=Z();F(1),B("ngForOf",e.questions)}}let QJ=(()=>{class t{constructor(){this.selectQuestion=new Et,this.questions=[]}set dataJson(e){this.data=JSON.parse(e),this.initChatbot()}initChatbot(){var e,i;if(null===(e=this.data)||void 0===e?void 0:e.initialQuestionId){const a=this.getQuestionById(null===(i=this.data)||void 0===i?void 0:i.initialQuestionId);if(a){const c=this.updateQuestionAnswers(a);this.questions.push(c)}}}getQuestionById(e){var i;return null===(i=this.data)||void 0===i?void 0:i.questions.find(a=>a.id===e)}getAnswerById(e){var i;return null===(i=this.data)||void 0===i?void 0:i.answers.find(a=>a.id===e)}updateQuestionsById(e){var i=this.updateQuestionAnswers(this.getQuestionById(e));this.questions.push(i)}updateQuestionAnswers(e){const i=[];return e.answers.forEach(a=>{i.push(this.getAnswerById(a.id))}),Object.assign(Object.assign({},e),{answers:i})}onSelectQuestion(e){e&&(this.updateQuestionsById(e),this.selectQuestion.emit(e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-chatbot"]],inputs:{dataJson:"dataJson",showMoreLabel:"showMoreLabel"},outputs:{selectQuestion:"selectQuestion"},decls:1,vars:1,consts:[["class","chatbot",4,"ngIf"],[1,"chatbot"],[4,"ngFor","ngForOf"],[3,"data","showMoreLabel","selectQuestion"]],template:function(e,i){1&e&&Q(0,JJ,2,1,"div",0),2&e&&B("ngIf",i.data)},directives:[ri,ya,XJ],styles:[".chatbot[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:6rem;gap:6rem}"]}),t})(),eQ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-chatbot",Mr(QJ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sf,Q0]]}),t})();const tQ=["teaser"],nQ=["slide"];function iQ(t,n){1&t&&Se(0,"source",19),2&t&&B("srcset",Z(2).$implicit.formats.w600+" 600w",en)}function aQ(t,n){1&t&&Se(0,"source",20),2&t&&B("srcset",Z(2).$implicit.formats.w400+" 400w",en)}function rQ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).$implicit.formats.w300+" 300w",en)}function oQ(t,n){if(1&t&&(zt(0),Q(1,iQ,1,1,"source",16),Q(2,aQ,1,1,"source",17),Q(3,rQ,1,1,"source",18),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf",e.formats.w600),F(1),B("ngIf",e.formats.w400),F(1),B("ngIf",e.formats.w300)}}function sQ(t,n){if(1&t&&Se(0,"img",22),2&t){const e=Z().$implicit;B("src",e.publicUrl,en)("alt",e.alternative)}}function lQ(t,n){if(1&t){const e=Cn();R(0,"li",10),R(1,"button",11,12),Ze("click",function(){const c=mt(e).index;return Z().openDetail(c)}),R(3,"div",13),R(4,"picture",14),Q(5,oQ,4,3,"ng-container",8),Q(6,sQ,1,2,"img",15),z(),z(),z(),z()}if(2&t){const e=n.$implicit;F(5),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function cQ(t,n){if(1&t&&(zt(0),Se(1,"p",23),Nt()),2&t){const e=Z();F(1),B("innerHTML",e.images[e.currentIndex].description,Zi)}}function dQ(t,n){if(1&t&&(R(0,"p"),R(1,"a",24),R(2,"span",25),Se(3,"bt3-icon",26),z(),Se(4,"span",23),z(),z()),2&t){const e=Z();F(1),B("href",e.images[e.currentIndex].publicUrl,en),F(3),B("innerHTML",e.downloadString,Zi)}}function uQ(t,n){if(1&t){const e=Cn();zt(0),R(1,"button",27),Ze("click",function(){return mt(e),Z().prev()}),Se(2,"bt3-icon",28),z(),R(3,"button",29),Ze("click",function(){return mt(e),Z().next()}),Se(4,"bt3-icon",30),z(),Nt()}if(2&t){const e=Z();F(1),j("aria-label",e.previousImageString),F(2),j("aria-label",e.nextImageString)}}function hQ(t,n){1&t&&Se(0,"source",19),2&t&&B("srcset",Z(2).$implicit.formats.w1200+" 1200w",en)}function mQ(t,n){1&t&&Se(0,"source",20),2&t&&B("srcset",Z(2).$implicit.formats.w900+" 900w",en)}function pQ(t,n){1&t&&Se(0,"source",41),2&t&&B("srcset",Z(2).$implicit.formats.w600+" 600w",en)}function fQ(t,n){1&t&&Se(0,"source",21),2&t&&B("srcset",Z(2).$implicit.formats.w400+" 400w",en)}function gQ(t,n){if(1&t&&(zt(0),Q(1,hQ,1,1,"source",16),Q(2,mQ,1,1,"source",17),Q(3,pQ,1,1,"source",40),Q(4,fQ,1,1,"source",18),Nt()),2&t){const e=Z().$implicit;F(1),B("ngIf",e.formats.w1200),F(1),B("ngIf",e.formats.w900),F(1),B("ngIf",e.formats.w600),F(1),B("ngIf",e.formats.w400)}}function _Q(t,n){if(1&t&&Se(0,"img",42),2&t){const e=Z().$implicit;let i;B("src",e.publicUrl,en)("alt",null!==(i=null==e?null:e.alternative)&&void 0!==i?i:"")}}const bQ=function(t,n){return{duration:t,offset:n}},yQ=function(t,n){return{value:t,params:n}};function vQ(t,n){if(1&t&&(zt(0),R(1,"div",36,37),R(3,"picture",38),Q(4,gQ,5,4,"ng-container",8),Q(5,_Q,1,2,"img",39),z(),z(),Nt()),2&t){const e=n.$implicit,i=n.index,a=Z(2);F(1),Rn("bt3-image-gallery__lightbox-slider-image-slide--current",i===a.currentIndex),B("@slider",Cr(10,yQ,a.getPosition(i),Cr(7,bQ,a.initial?"0ms":"600ms",a.initial?"0ms":"50ms"))),j("aria-current",i===a.currentIndex)("aria-hidden",i!==a.currentIndex),F(3),B("ngIf",e.formats),F(1),B("ngIf",e.publicUrl)}}function xQ(t,n){if(1&t){const e=Cn();R(0,"div",31),R(1,"div",32),R(2,"div",33),Ze("swipeleft",function(){return mt(e),Z().next()})("swiperight",function(){return mt(e),Z().prev()}),R(3,"div",34),Q(4,vQ,6,13,"ng-container",35),z(),z(),z(),z()}if(2&t){const e=Z();F(4),B("ngForOf",e.imagesOverlay)}}let wQ=(()=>{class t{constructor(){this.images=[],this.imagesOverlay=[],this.currentIndex=0,this.total=0,this.ready=!1,this.initial=!1,this.isDownloadEnabled=!1,this.position="current",this.openDetailsString="",this.lightboxCloseButtonString="",this.previousImageString="",this.nextImageString="",this.downloadString="",Yn.e(329).then(Yn.t.bind(Yn,329,23)).finally(()=>this.ready=!0)}set imagesJson(e){this.images=JSON.parse(e),this.total=this.images.length}set imagesOverlayJson(e){!e||(this.imagesOverlay=JSON.parse(e))}set downloadEnabled(e){this.isDownloadEnabled="true"===e||"1"===e}openDetail(e){this.currentIndex=e,this.initial=!0,this.lightbox.open()}closeDetail(){this.lightbox.close(),this.teaserRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})}next(){this.initial=!1,this.currentIndex=this.getNextIndex(),this.setFocusOnCurrentSlide()}prev(){this.initial=!1,this.currentIndex=this.getPreviousIndex(),this.setFocusOnCurrentSlide()}setFocusOnCurrentSlide(){setTimeout(()=>{this.slideRefs.forEach((e,i)=>{i===this.currentIndex&&e.nativeElement.focus({preventScroll:!0})})})}getPosition(e){return e===this.currentIndex?"current":2===this.total?"other":e===this.getNextIndex()?"next":e===this.getPreviousIndex()?"previous":"other"}getNextIndex(){return(this.currentIndex+1)%this.total}getPreviousIndex(){return(this.total+this.currentIndex-1)%this.total}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-image-gallery"]],viewQuery:function(e,i){if(1&e&&(En(Hf,5),En(tQ,5),En(nQ,5)),2&e){let a;Xt(a=Kt())&&(i.lightbox=a.first),Xt(a=Kt())&&(i.teaserRefs=a),Xt(a=Kt())&&(i.slideRefs=a)}},inputs:{imagesJson:"imagesJson",imagesOverlayJson:"imagesOverlayJson",downloadEnabled:"downloadEnabled",openDetailsString:"openDetailsString",lightboxCloseButtonString:"lightboxCloseButtonString",previousImageString:"previousImageString",nextImageString:"nextImageString",downloadString:"downloadString"},decls:13,vars:12,consts:[[1,"bt3-image-gallery"],[1,"bt3-image-gallery__list"],["class","bt3-image-gallery__list-item",4,"ngFor","ngForOf"],[3,"hasLimitedWidth","hasSliderNav","closeButtonText","navigationPrevString","navigationNextString","closed","goToPrev","goToNext"],[1,"bt3-image-gallery__lightbox-content"],[1,"bt3-image-gallery__lightbox-content-text"],[1,"bt3-image-gallery__lightbox-counter"],[1,"bt3-image-gallery__lightbox-description"],[4,"ngIf"],["class","bt3-image-gallery__lightbox-slider","aria-hidden","true",4,"ngIf"],[1,"bt3-image-gallery__list-item"],[1,"bt3-image-gallery__image-trigger",3,"click"],["teaser",""],[1,"bt3-image-gallery__image-wrapper"],[1,"bt3-image-gallery__image-picture"],["class","bt3-image-gallery__image","loading","lazy",3,"src","alt",4,"ngIf"],["media","(min-width: 1921px)",3,"srcset",4,"ngIf"],["media","(min-width: 1001px)",3,"srcset",4,"ngIf"],[3,"srcset",4,"ngIf"],["media","(min-width: 1921px)",3,"srcset"],["media","(min-width: 1001px)",3,"srcset"],[3,"srcset"],["loading","lazy",1,"bt3-image-gallery__image",3,"src","alt"],[3,"innerHTML"],["target","_blank","download","",1,"bt3-image-gallery__lightbox-download-link","bt3-molecule-link-list__item","bt3-molecule-link-list__item--download",3,"href"],[1,"bt3-molecule-link-list__icon-download-wrapper"],["name","download",1,"bt3-molecule-link-list__icon-download"],["role","button",1,"bt3-image-gallery__lightbox-previous",3,"click"],["name","caret-large-left",1,"bt3-image-gallery__lightbox-slider-icon"],["role","button",1,"bt3-image-gallery__lightbox-next",3,"click"],["name","caret-large-right",1,"bt3-image-gallery__lightbox-slider-icon"],["aria-hidden","true",1,"bt3-image-gallery__lightbox-slider"],[1,"bt3-image-gallery__lightbox-slider-row"],[1,"bt3-image-gallery__lightbox-slider-content",3,"swipeleft","swiperight"],["role","presentation",1,"bt3-image-gallery__lightbox-slider-image-container"],[4,"ngFor","ngForOf"],["tabindex","-1",1,"bt3-image-gallery__lightbox-slider-image-slide"],["slide",""],[1,"bt3-image-gallery__lightbox-slider-image-wrapper"],["class","bt3-image-gallery__lightbox-slider-image","loading","lazy",3,"src","alt",4,"ngIf"],["media","(min-width: 401px)",3,"srcset",4,"ngIf"],["media","(min-width: 401px)",3,"srcset"],["loading","lazy",1,"bt3-image-gallery__lightbox-slider-image",3,"src","alt"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"ul",1),Q(2,lQ,7,2,"li",2),z(),z(),R(3,"app-lightbox",3),Ze("closed",function(){return i.closeDetail()})("goToPrev",function(){return i.prev()})("goToNext",function(){return i.next()}),R(4,"div",4),R(5,"div",5),R(6,"p",6),ot(7),z(),R(8,"div",7),Q(9,cQ,2,1,"ng-container",8),Q(10,dQ,5,2,"p",8),z(),Q(11,uQ,5,2,"ng-container",8),z(),Q(12,xQ,5,1,"div",9),z(),z()),2&e&&(F(2),B("ngForOf",i.images),F(1),B("hasLimitedWidth",!0)("hasSliderNav",i.total>1)("closeButtonText",i.lightboxCloseButtonString)("navigationPrevString",i.previousImageString)("navigationNextString",i.nextImageString),F(4),Yh(" ",i.currentIndex+1,"/",i.total," "),F(2),B("ngIf",null==i.images[i.currentIndex]?null:i.images[i.currentIndex].description),F(1),B("ngIf",i.isDownloadEnabled),F(1),B("ngIf",i.total>1),F(1),B("ngIf",i.ready&&i.imagesOverlay))},directives:[ya,Hf,ri],styles:['@charset "UTF-8";.bt3-image-gallery__lightbox-slider-image-slide{position:relative;display:block;overflow:hidden}.bt3-image-gallery__list{list-style:none;margin-left:0}.bt3-image-gallery__list{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:1.8rem;column-gap:1.8rem;grid-row-gap:1.8rem;row-gap:1.8rem}@media (min-width: 37.5em){.bt3-image-gallery__list{grid-template-columns:repeat(3,1fr)}}.bt3-image-gallery__list-item{position:relative;padding-bottom:100%}.bt3-image-gallery__image-trigger,.bt3-image-gallery__image-wrapper{position:absolute;inset:0}.bt3-image-gallery__image-wrapper{transition:transform .4s ease-in-out}@media (hover: hover){.bt3-image-gallery__image-wrapper:hover{transform:translate(.9rem);z-index:1}.bt3-image-gallery__image-wrapper:hover .bt3-image-gallery__image{transform:scale(1.05)}}@media (hover: hover) and (min-width: 60em){.bt3-image-gallery__image-wrapper:hover .bt3-image-gallery__image{transform:scale(1.1)}}.bt3-image-gallery__image-picture{display:flex;align-items:center;justify-content:center;width:100%;height:100%;overflow:hidden;object-fit:contain}.bt3-image-gallery__image{max-width:100%;max-height:100%;transition:transform .4s ease-in-out}.bt3-image-gallery__lightbox-content{display:flex;flex-direction:column;font-size:2.1rem;background-color:var(--white)}.bt3-image-gallery__lightbox-content-text{display:flex;align-items:flex-start;flex-wrap:wrap;order:1;margin:1.8rem}@media (min-width: 37.5em){.bt3-image-gallery__lightbox-content-text{flex-wrap:nowrap;margin:3.8rem}}.bt3-image-gallery__lightbox-counter{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style);font-size:4.8rem;line-height:1.5;line-height:1;margin-right:3.8rem;white-space:nowrap}.bt3-image-gallery__lightbox-description{font-size:1.5rem;position:relative;display:flex;flex-direction:column;grid-gap:1.5rem;gap:1.5rem;flex:1 1 100%;order:1;margin-top:1.5rem;min-height:7.6em}@media (min-width: 37.5em){.bt3-image-gallery__lightbox-description{flex:1 1 auto;order:unset;margin-top:.1em;min-height:4.6em}}@media (min-width: 60em){.bt3-image-gallery__lightbox-description{margin-top:0}}.bt3-image-gallery__lightbox-download-link{margin-top:0;font-size:inherit}.bt3-image-gallery__lightbox-download-link .bt3-molecule-link-list__icon-download-wrapper{transform:translateY(.4rem);margin-right:.9rem;margin-left:0}.bt3-image-gallery__lightbox-download-link .bt3-molecule-link-list__icon-download-wrapper:after{bottom:.45rem;height:2px}.bt3-image-gallery__lightbox-download-link .bt3-molecule-link-list__icon-download{width:1.8rem;height:1.8rem}.bt3-image-gallery__lightbox-previous,.bt3-image-gallery__lightbox-next{align-items:center;justify-content:center;width:3.8rem;height:3.8rem;transition:all .2s ease-in-out;fill:var(--black-500)}@media (hover: hover){.bt3-image-gallery__lightbox-previous:hover,.bt3-image-gallery__lightbox-next:hover{transform:translate(.6rem);fill:var(--black-900)}}@media (min-width: 60em){.bt3-image-gallery__lightbox-previous,.bt3-image-gallery__lightbox-next{display:none}}.bt3-image-gallery__lightbox-previous{margin-left:auto}@media (hover: hover){.bt3-image-gallery__lightbox-previous:hover{transform:translate(-.6rem)}}.bt3-image-gallery__lightbox-next{margin-right:-.8rem;margin-left:2.4rem}@media (hover: hover){.bt3-image-gallery__lightbox-next:hover{transform:translate(.6rem)}}.bt3-image-gallery__lightbox-slider-icon{width:2.8rem;height:2.8rem}.bt3-image-gallery__lightbox-slider{position:relative}.bt3-image-gallery__lightbox-slider-row{display:flex;flex-wrap:wrap}.bt3-image-gallery__lightbox-slider-content{touch-action:pan-y!important;overflow:hidden;width:100%}.bt3-image-gallery__lightbox-slider-image-container{position:relative;width:100%;max-height:70vh;aspect-ratio:1}.bt3-image-gallery__lightbox-slider-image-slide{position:absolute;top:0;left:0;width:100%;height:100%;margin-bottom:0;order:-1;transform:translate(0);transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.6s}.bt3-image-gallery__lightbox-slider-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain;pointer-events:none}\n'],encapsulation:2,data:{animation:[kr("slider",[ma("current",Ln({opacity:1,transform:"translate3d(0, 0, 0)"})),ma("next",Ln({opacity:0,transform:"translate3d(100%, 0, 0)"})),ma("previous",Ln({opacity:0,transform:"translate3d(-100%, 0, 0)"})),ma("other",Ln({opacity:0})),ra("current => *",[va("{{duration}} ease-in-out")]),ra("* => current",[va("{{duration}} {{offset}} ease-in-out")])])]}}),t})(),CQ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-image-gallery",Mr(wQ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,Sv,Hx]]}),t})(),kQ=(()=>{class t{constructor(e){this.sanitized=e}transform(e){return this.sanitized.bypassSecurityTrustHtml(e)}}return t.\u0275fac=function(e){return new(e||t)(he(Xm,16))},t.\u0275pipe=ar({name:"safeHtml",type:t,pure:!0}),t})();const MQ=["panel"],TQ=["panelContent"];function EQ(t,n){if(1&t&&(zt(0),Se(1,"div",9),Vu(2,"safeHtml"),Nt()),2&t){const e=Z();F(1),B("innerHTML",o0(2,1,e.replyDemoFormHtml),Zi)}}function DQ(t,n){1&t&&(R(0,"div",12),Se(1,"app-loader"),z())}function SQ(t,n){if(1&t&&(zt(0),Q(1,DQ,2,0,"div",10),Se(2,"div",11),Vu(3,"safeHtml"),Nt()),2&t){const e=Z();F(1),B("ngIf",!e.isLoaded||e.isLoading),F(1),B("innerHTML",o0(3,2,e.formHtml),Zi)}}let IQ=(()=>{class t{constructor(){this.formUrl="",this.replyDemoFormHtml="",this.labelOpen="",this.isOpen=!1,this.isLoading=!1,this.isLoaded=!1,this.id=Ck(),this.formHtml=""}toggle(){this.panel&&this.panelContent&&(this.isOpen=!this.isOpen,this.formUrl&&!this.formHtml&&(this.isLoading=!0,fetch(this.formUrl).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.body}).then(e=>{if(!e)return;const i=e.getReader();let a=new TextDecoder;const c=({done:h,value:b})=>{if(h)return;let w=a.decode(b);return w=w.replace(/method="post" id="([A-Za-z0-9-]*)"/gm,(E,L)=>`method="post" id=${L}-${this.id}`),w=w.replace(/id="postcomment-(?!(captcha|parentid|parenttable)\b)([a-z-]*)"/gm,(E,L,$)=>`id="postcomment-${$}-${this.id}"`),this.formHtml=w,i.read().then(c)};return i.read().then(c)}).then(()=>{const e=this.panelContent.nativeElement.querySelector(".h-captcha");window.hcaptcha.render(e),this.isLoading=!1,this.isLoaded=!0}).catch(e=>console.error(e))),this.panel.nativeElement.style.maxHeight=`${this.panelContent.nativeElement.offsetHeight}px`,this.isOpen||requestAnimationFrame(()=>{this.panel&&(this.panel.nativeElement.style.maxHeight="0")}))}onTransitionEnd(e){"max-height"===e.propertyName&&this.isOpen&&(this.panel.nativeElement.style.maxHeight="none")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-blog-comment-reply"]],viewQuery:function(e,i){if(1&e&&(En(MQ,5),En(TQ,5)),2&e){let a;Xt(a=Kt())&&(i.panel=a.first),Xt(a=Kt())&&(i.panelContent=a.first)}},inputs:{formUrl:"formUrl",replyDemoFormHtml:"replyDemoFormHtml",labelOpen:"labelOpen"},decls:10,vars:13,consts:[[1,"bt3-blog-comment-reply"],[1,"bt3-blog-comment-reply__trigger-area"],["button-level","tertiary","button-type","button","has-no-padding","true",3,"id","label","controls","expanded","click"],["trigger",""],[1,"bt3-blog-comment-reply__panel",3,"id","transitionend"],["panel",""],[1,"bt3-blog-comment-reply__panel-content"],["panelContent",""],[4,"ngIf"],[3,"innerHTML"],["class","bt3-blog-comment-reply__loader-wrapper",4,"ngIf"],[1,"bt3-blog-comment-reply__form-html",3,"innerHTML"],[1,"bt3-blog-comment-reply__loader-wrapper"]],template:function(e,i){1&e&&(R(0,"div",0),R(1,"div",1),R(2,"bt3-button-link",2,3),Ze("click",function(){return i.toggle()}),z(),z(),R(4,"div",4,5),Ze("transitionend",function(c){return i.onTransitionEnd(c)}),R(6,"div",6,7),Q(8,EQ,3,3,"ng-container",8),Q(9,SQ,4,4,"ng-container",8),z(),z(),z()),2&e&&(F(2),zi("id","blog-comment-reply-trigger-"+i.id),zi("label",i.labelOpen),zi("controls","blog-comment-reply-panel-"+i.id),zi("expanded",i.isOpen?"true":"false"),F(2),Rn("bt3-blog-comment-reply__panel--opened",i.isOpen),B("id","blog-comment-reply-panel-"+i.id),j("aria-labelledby","blog-comment-reply-trigger-"+i.id),F(2),Rn("bt3-blog-comment-reply__panel-content--opened",i.isOpen),j("aria-hidden",!i.isOpen),F(2),B("ngIf",i.replyDemoFormHtml),F(1),B("ngIf",!i.replyDemoFormHtml))},directives:[ri,Qm],pipes:[kQ],styles:['@charset "UTF-8";html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{margin:0;padding:0;-webkit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale;webkit-font-smoothing:antialiased}button{background:none;border:none;border-radius:0;padding:0;cursor:pointer}b{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style)}.bt3-blog-comment-reply__panel{max-height:0;overflow:hidden;transition:all .4s ease-in-out}.bt3-blog-comment-reply__panel-content{padding-top:1.2rem;padding-right:1px;opacity:0;transform:translate(-1.8rem);transition:all .4s ease-in-out;transition-delay:0s}.bt3-blog-comment-reply__panel-content--opened{opacity:1;transform:translate(0);transition-delay:.3s}.bt3-blog-comment-reply__loader-wrapper{display:flex;align-items:center;justify-content:center;min-height:60rem}\n'],encapsulation:2}),t})(),AQ=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-blog-comment-reply",Mr(IQ,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba,J0,Ok]]}),t})();const OQ=function(t){return{"bt3-header-light-home-link--inverted":t}};function LQ(t,n){if(1&t&&(R(0,"a",1),Se(1,"bt3-icon",2),R(2,"span",3),ot(3),z(),z()),2&t){const e=Z();zi("href",e.homeLink.url,en),B("ngClass",Ga(4,OQ,e.isInverted)),j("target",e.homeLink.isExternal?"_blank":"_self"),F(3),Kn(e.homeLink.label)}}let Z5=(()=>{class t{constructor(){this.isInverted=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-header-light-home-link"]],inputs:{homeLink:"homeLink",isInverted:"isInverted"},decls:1,vars:1,consts:[["class","bt3-header-light-home-link",3,"href","ngClass",4,"ngIf"],[1,"bt3-header-light-home-link",3,"href","ngClass"],["name","arrow-left",1,"bt3-header-light-home-link__icon"],[1,"bt3-header-light-home-link__text"]],template:function(e,i){1&e&&Q(0,LQ,4,6,"a",0),2&e&&B("ngIf",i.homeLink)},directives:[ri,Pr],styles:["[_nghost-%COMP%]{display:inline-flex}.bt3-header-light-home-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:var(--black-500);font-size:1.5rem;text-decoration:none}@media (hover: hover){.bt3-header-light-home-link[_ngcontent-%COMP%]:hover{color:var(--black-700)}}.bt3-header-light-home-link__icon[_ngcontent-%COMP%]{width:2.4rem;margin-right:1.2rem;--themeBase: currentColor}.bt3-header-light-home-link__title[_ngcontent-%COMP%]{font-family:var(--regular-font-family);font-weight:var(--regular-font-weight);font-style:var(--regular-font-style)}@media (min-width: 60em){.bt3-header-light-home-link__title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}.bt3-header-light-home-link--inverted[_ngcontent-%COMP%]{color:var(--black-300)}@media (hover: hover){.bt3-header-light-home-link--inverted[_ngcontent-%COMP%]:hover{color:var(--black-400)}}"]}),t})();const PQ=["element"],FQ=["menuOuter"],RQ=["menuInner"];function zQ(t,n){1&t&&Se(0,"bt3-icon",19)}const NQ=function(t){return{"bt3-header-light-lang-nav__link--active":t}};function BQ(t,n){if(1&t&&(R(0,"li",14),R(1,"a",15),R(2,"span",16),ot(3),z(),R(4,"span",17),ot(5),z(),Q(6,zQ,1,0,"bt3-icon",18),z(),z()),2&t){const e=n.$implicit;F(1),zi("href",e.url,en),B("ngClass",Ga(5,NQ,e.isActive)),F(2),Kn(e.labelShort),F(2),Kn(e.label),F(1),B("ngIf",e.isActive)}}const VQ=function(t,n,e,i){return{"bt3-header-light-lang-nav--open":t,"bt3-header-light-lang-nav--regular-absolute":n,"bt3-header-light-lang-nav--inverted":e,"bt3-header-light-lang-nav--full-width-relative":i}};let X5=(()=>{class t{constructor(){this.currentTriggerLabel="",this.currentLanguageLabel="",this.isOpen=!1,this.isInverted=!1,this.isFullWidth=!1,this.closeOnBlur=!1,this.labelOpenLangNavMenu="",this.labelCloseLangNavMenu=""}ngOnInit(){var e,i,a;this.currentTriggerLabel=this.labelOpenLangNavMenu,this.currentLanguageLabel=null!==(a=null===(i=null===(e=this.langLinks)||void 0===e?void 0:e.find(c=>c.isActive))||void 0===i?void 0:i.labelShort)&&void 0!==a?a:""}ngAfterViewInit(){this.closeOnBlur&&this.element.nativeElement.addEventListener("blur",e=>{!this.element.nativeElement.contains(e.relatedTarget)&&e.relatedTarget!==this.element.nativeElement&&this.close()},!0)}toggle(){this.isOpen?this.close():this.open()}open(){var e;this.isOpen=!0,this.currentTriggerLabel=this.labelCloseLangNavMenu;const i=null!==(e=this.menuInner.nativeElement.offsetHeight)&&void 0!==e?e:0;this.menuOuter.nativeElement.style.maxHeight=`${i}px`,setTimeout(()=>{this.menuOuter.nativeElement.removeAttribute("style")},500)}close(){var e;this.isOpen=!1,this.currentTriggerLabel=this.labelOpenLangNavMenu;const i=null!==(e=this.menuInner.nativeElement.offsetHeight)&&void 0!==e?e:0;this.menuOuter.nativeElement.style.maxHeight=`${i}px`,setTimeout(()=>{this.menuOuter.nativeElement.style.maxHeight=0},0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-header-light-lang-nav"]],viewQuery:function(e,i){if(1&e&&(En(PQ,5),En(FQ,5),En(RQ,5)),2&e){let a;Xt(a=Kt())&&(i.element=a.first),Xt(a=Kt())&&(i.menuOuter=a.first),Xt(a=Kt())&&(i.menuInner=a.first)}},inputs:{langLinks:"langLinks",isInverted:"isInverted",isFullWidth:"isFullWidth",closeOnBlur:"closeOnBlur",labelOpenLangNavMenu:"labelOpenLangNavMenu",labelCloseLangNavMenu:"labelCloseLangNavMenu"},decls:16,vars:9,consts:[[1,"bt3-header-light-lang-nav",3,"ngClass"],["element",""],[1,"bt3-header-light-lang-nav__toggle",3,"click"],[1,"bt3-header-light-lang-nav__toggle-content"],[1,"bt3-header-light-lang-nav__toggle-label-hidden"],[1,"bt3-header-light-lang-nav__toggle-label"],[1,"bt3-header-light-lang-nav__toggle-icon"],["name","caret-down","aria-hidden","true",1,"bt3-header-light-lang-nav__toggle-caret"],["tabindex","-1",1,"bt3-header-light-lang-nav__menu"],["menuOuter",""],[1,"bt3-header-light-lang-nav__menu-inner"],["menuInner",""],[1,"bt3-header-light-lang-nav__list"],["class","bt3-header-light-lang-nav__list-item",4,"ngFor","ngForOf"],[1,"bt3-header-light-lang-nav__list-item"],[1,"bt3-header-light-lang-nav__link",3,"href","ngClass"],["aria-hidden","true",1,"bt3-header-light-lang-nav__link-text"],[1,"bt3-header-light-lang-nav__link-hidden-text"],["class","bt3-header-light-lang-nav__icon","name","check-mark","aria-hidden","true",4,"ngIf"],["name","check-mark","aria-hidden","true",1,"bt3-header-light-lang-nav__icon"]],template:function(e,i){1&e&&(R(0,"div",0,1),R(2,"button",2),Ze("click",function(){return i.toggle()}),R(3,"div",3),R(4,"span",4),ot(5),z(),R(6,"span",5),ot(7),z(),R(8,"span",6),Se(9,"bt3-icon",7),z(),z(),z(),R(10,"nav",8,9),R(12,"div",10,11),R(14,"ul",12),Q(15,BQ,7,7,"li",13),z(),z(),z(),z()),2&e&&(B("ngClass",Z1(4,VQ,i.isOpen,!i.isFullWidth,i.isInverted,i.isFullWidth)),F(5),vn("",i.currentTriggerLabel,":"),F(2),vn(" ",i.currentLanguageLabel," "),F(8),B("ngForOf",i.langLinks))},directives:[Pr,ya,ri],styles:["[_nghost-%COMP%]{display:block}.bt3-header-light-lang-nav[_ngcontent-%COMP%]{position:relative}.bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]{font-size:1.5rem;width:100%;color:var(--black-500)}@media (hover: hover){.bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]:hover{color:var(--black-700)}.bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]:hover   .bt3-header-light-lang-nav__toggle-icon[_ngcontent-%COMP%]{--themeBase: var(--black-700)}}.bt3-header-light-lang-nav__toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center}.bt3-header-light-lang-nav__toggle-label[_ngcontent-%COMP%]{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);display:inline-block;text-decoration:none}.bt3-header-light-lang-nav__toggle-label-hidden[_ngcontent-%COMP%]{border:0!important;clip:rect(0 0 0 0)!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.bt3-header-light-lang-nav__toggle-icon[_ngcontent-%COMP%]{--themeBase: var(--black-500);display:flex;transition:all .3s ease-in-out}.bt3-header-light-lang-nav__menu[_ngcontent-%COMP%]{overflow:hidden;max-height:0;transition:all .3s ease-in-out}.bt3-header-light-lang-nav__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;white-space:nowrap;list-style:none}.bt3-header-light-lang-nav__list-item[_ngcontent-%COMP%]{border-top:1px solid var(--black-200)}.bt3-header-light-lang-nav__list-item[_ngcontent-%COMP%]:last-child{border-bottom:1px solid var(--black-200)}.bt3-header-light-lang-nav--open[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle-icon[_ngcontent-%COMP%]{transform:rotate(-180deg)}.bt3-header-light-lang-nav--open[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__list[_ngcontent-%COMP%]{margin-top:0}.bt3-header-light-lang-nav--open[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__menu[_ngcontent-%COMP%]{max-height:unset}.bt3-header-light-lang-nav__link[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.2rem 0;font-size:1.5rem;color:var(--black-500);text-decoration:none;--themeBase: var(--black-500)}@media (hover: hover){.bt3-header-light-lang-nav__link[_ngcontent-%COMP%]:hover{color:var(--black-700);--themeBase: var(--black-700)}}.bt3-header-light-lang-nav__icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:.4rem}.bt3-header-light-lang-nav__link-hidden-text[_ngcontent-%COMP%]{border:0!important;clip:rect(0 0 0 0)!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.bt3-header-light-lang-nav--regular-absolute[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__menu[_ngcontent-%COMP%]{position:absolute;left:-9rem;margin-top:1.5rem;overflow:hidden}@media (min-width: 60em){.bt3-header-light-lang-nav--regular-absolute[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__menu[_ngcontent-%COMP%]{left:-18.2rem}}.bt3-header-light-lang-nav--regular-absolute[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__menu-inner[_ngcontent-%COMP%]{padding:0 1.8rem 1.8rem}.bt3-header-light-lang-nav--regular-absolute[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__list[_ngcontent-%COMP%]{padding:1.2rem .9rem;background:var(--white);width:12rem;box-shadow:0 6px 18px #12121240}@media (min-width: 60em){.bt3-header-light-lang-nav--regular-absolute[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__list[_ngcontent-%COMP%]{width:24.2rem;padding:3.8rem}}.bt3-header-light-lang-nav--full-width-relative[_ngcontent-%COMP%]{border-top:1px solid var(--black-200);border-bottom:1px solid var(--black-200)}.bt3-header-light-lang-nav--full-width-relative[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]{padding-left:3.8rem;padding-right:3.8rem}.bt3-header-light-lang-nav--full-width-relative[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle-content[_ngcontent-%COMP%]{justify-content:space-between;padding:.9rem 0}.bt3-header-light-lang-nav--full-width-relative[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__menu[_ngcontent-%COMP%]{position:relative;padding:0 3.8rem}.bt3-header-light-lang-nav--full-width-relative[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__list[_ngcontent-%COMP%]{padding-bottom:3.8rem}.bt3-header-light-lang-nav--inverted[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]{color:var(--black-300)}@media (hover: hover){.bt3-header-light-lang-nav--inverted[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]:hover{color:var(--black-400)}}.bt3-header-light-lang-nav--inverted[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle-icon[_ngcontent-%COMP%]{--themeBase: var(--black-300)}@media (hover: hover){.bt3-header-light-lang-nav--inverted[_ngcontent-%COMP%]   .bt3-header-light-lang-nav__toggle[_ngcontent-%COMP%]:hover   .bt3-header-light-lang-nav__toggle-icon[_ngcontent-%COMP%]{--themeBase: var(--black-400)}}"]}),t})();const HQ=function(t){return{"bt3-header-light-download-link--inverted":t}};function jQ(t,n){if(1&t&&(R(0,"a",1),R(1,"span",2),Se(2,"bt3-icon",3),z(),R(3,"span",4),ot(4),z(),z()),2&t){const e=Z();ec(Ga(4,HQ,e.isInverted)),zi("href",e.downloadLink.url,en),F(4),Kn(e.downloadLink.label)}}let K5=(()=>{class t{constructor(){this.isInverted=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-header-light-download-link"]],inputs:{downloadLink:"downloadLink",isInverted:"isInverted"},decls:1,vars:1,consts:[["class","bt3-header-light-download-link bt3-molecule-link-list__item","target","_blank",3,"class","href",4,"ngIf"],["target","_blank",1,"bt3-header-light-download-link","bt3-molecule-link-list__item",3,"href"],[1,"bt3-molecule-link-list__icon-download-wrapper"],["name","download",1,"bt3-molecule-link-list__icon-download"],[1,"bt3-molecule-link-list__icon-download__label"]],template:function(e,i){1&e&&Q(0,jQ,5,6,"a",0),2&e&&B("ngIf",i.downloadLink)},directives:[ri],styles:["[_nghost-%COMP%]{display:inline-flex}.bt3-header-light-download-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:var(--black-500);text-decoration:none}@media (hover: hover){.bt3-header-light-download-link[_ngcontent-%COMP%]:hover{color:var(--black-700)}}.bt3-header-light-download-link.bt3-molecule-link-list__item[_ngcontent-%COMP%]{--themeLinkColor: var(--black-500);--themeHover: var(--black-700);align-items:center;grid-gap:1.2rem;gap:1.2rem;margin-top:0;font-size:1.5rem;color:var(--themeLinkColor)}@media (hover: hover){.bt3-header-light-download-link.bt3-molecule-link-list__item[_ngcontent-%COMP%]:hover{color:var(--themeHover)}}@media (min-width: 37.5em){.bt3-header-light-download-link.bt3-molecule-link-list__item[_ngcontent-%COMP%]{display:flex}}.bt3-header-light-download-link[_ngcontent-%COMP%]   .bt3-molecule-link-list__icon-download-wrapper[_ngcontent-%COMP%]{margin:0;transform:scale(.8)}.bt3-header-light-download-link--inverted.bt3-molecule-link-list__item[_ngcontent-%COMP%]{--themeLinkColor: var(--black-300);--themeHover: var(--black-400);color:var(--black-300)}@media (hover: hover){.bt3-header-light-download-link--inverted.bt3-molecule-link-list__item[_ngcontent-%COMP%]:hover{color:var(--black-400)}}"]}),t})();function UQ(t,n){if(1&t){const e=Cn();R(0,"a",17),Ze("click",function(a){return mt(e),Z(4).handleNavClick(a)}),ot(1),z()}if(2&t){const e=Z().$implicit;zi("href",e.url,en),F(1),Kn(e.label)}}function GQ(t,n){if(1&t&&(R(0,"a",18),ot(1),z()),2&t){const e=Z().$implicit;zi("href",e.url,en),j("target",e.isExternal?"_blank":"_self"),F(1),Kn(e.label)}}function $Q(t,n){if(1&t&&(R(0,"li",14),Q(1,UQ,2,2,"a",15),Q(2,GQ,2,3,"a",16),z()),2&t){const e=n.$implicit;F(1),B("ngIf",e.isAnchor),F(1),B("ngIf",!e.isAnchor)}}function YQ(t,n){if(1&t&&(zt(0),R(1,"nav",11),R(2,"ul",12),Q(3,$Q,3,2,"li",13),z(),z(),Nt()),2&t){const e=Z(2);F(3),B("ngForOf",e.mainNavLinks)}}function qQ(t,n){if(1&t&&(zt(0),Se(1,"app-header-light-download-link",21),Nt()),2&t){const e=n.ngIf;F(1),B("downloadLink",e)}}function WQ(t,n){if(1&t&&(zt(0),R(1,"div",19),Se(2,"app-header-light-home-link",20),Q(3,qQ,2,1,"ng-container",9),z(),Nt()),2&t){const e=Z(2);F(2),B("homeLink",e.data.homeLink),F(1),B("ngIf",e.data.downloadLink)}}function ZQ(t,n){if(1&t){const e=Cn();R(0,"div",1),R(1,"div",2),R(2,"div",3),R(3,"button",4),Ze("click",function(){return mt(e),Z().close()}),R(4,"span",5),ot(5),z(),Se(6,"bt3-icon",6),z(),z(),z(),R(7,"div",7),R(8,"div",8),Q(9,YQ,4,1,"ng-container",9),Q(10,WQ,4,2,"ng-container",9),z(),z(),Se(11,"app-header-light-lang-nav",10),z()}if(2&t){const e=Z();F(5),Kn(e.labelCloseNavMenu),F(4),B("ngIf",e.mainNavLinks),F(1),B("ngIf",e.data.homeLink||e.data.downloadLink),F(1),B("langLinks",e.data.langNav)("labelOpenLangNavMenu",e.labelOpenLangNavMenu)("labelCloseLangNavMenu",e.labelCloseLangNavMenu)("isFullWidth",!0)}}let XQ=(()=>{class t{constructor(){this.data=null,this.mainNavLinks=[],this.labelCloseNavMenu="",this.labelOpenLangNavMenu="",this.labelCloseLangNavMenu="",this.closed=new Et,this.anchorClicked=new Et}close(){this.closed.emit()}handleNavClick(e){var i;e.preventDefault();const a=e.target;if(!a)return;const c=null!==(i=a.getAttribute("href"))&&void 0!==i?i:"";this.close(),this.anchorClicked.emit(c)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-header-light-menu"]],inputs:{data:"data",mainNavLinks:"mainNavLinks",labelCloseNavMenu:"labelCloseNavMenu",labelOpenLangNavMenu:"labelOpenLangNavMenu",labelCloseLangNavMenu:"labelCloseLangNavMenu"},outputs:{closed:"closed",anchorClicked:"anchorClicked"},decls:1,vars:1,consts:[["class","bt3-header-light-menu",4,"ngIf"],[1,"bt3-header-light-menu"],[1,"bt3-header-light-menu__top-bar"],[1,"bt3-header-light-menu__top-bar-content"],[1,"bt3-header-light-menu__close-btn",3,"click"],[1,"bt3-header-light-menu__close-btn-label"],["name","close",1,"bt3-header-light-menu__close-btn-icon"],[1,"bt3-header-light-menu__main"],[1,"bt3-header-light-menu__main-content"],[4,"ngIf"],[1,"bt3-header-light-menu__lang-nav",3,"langLinks","labelOpenLangNavMenu","labelCloseLangNavMenu","isFullWidth"],[1,"bt3-header-light-menu__nav-primary"],[1,"bt3-header-light-menu__main-nav"],["class","bt3-header-light-menu__main-nav-item",4,"ngFor","ngForOf"],[1,"bt3-header-light-menu__main-nav-item"],["class","bt3-header-light-menu__main-nav-link",3,"href","click",4,"ngIf"],["class","bt3-header-light-menu__main-nav-link",3,"href",4,"ngIf"],[1,"bt3-header-light-menu__main-nav-link",3,"href","click"],[1,"bt3-header-light-menu__main-nav-link",3,"href"],[1,"bt3-header-light-menu__nav-secondary"],[3,"homeLink"],[3,"downloadLink"]],template:function(e,i){1&e&&Q(0,ZQ,12,7,"div",0),2&e&&B("ngIf",i.data)},directives:[ri,X5,ya,Z5,K5],styles:["[_nghost-%COMP%]{z-index:1000;position:fixed;top:0;left:0;width:100%;height:100vh;display:block;overflow-y:auto}.bt3-header-light-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-height:100%;padding-bottom:6rem;background-color:var(--white)}.bt3-header-light-menu__top-bar[_ngcontent-%COMP%]{padding:3.8rem}.bt3-header-light-menu__top-bar-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.bt3-header-light-menu__close-btn[_ngcontent-%COMP%]{display:flex;margin:-1.2rem -1.2rem -1.2rem 0;padding:1.2rem;color:var(--black-500)}@media (hover: hover){.bt3-header-light-menu__close-btn[_ngcontent-%COMP%]:hover{color:var(--black-700)}.bt3-header-light-menu__close-btn[_ngcontent-%COMP%]:hover   .bt3-header-light-menu__close-btn-icon[_ngcontent-%COMP%]{--themeBase: var(--black-700)}}.bt3-header-light-menu__close-btn-label[_ngcontent-%COMP%]{border:0!important;clip:rect(0 0 0 0)!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.bt3-header-light-menu__close-btn-icon[_ngcontent-%COMP%]{--themeBase: var(--black-500);width:1.8rem;height:1.8rem}.bt3-header-light-menu__nav-primary[_ngcontent-%COMP%], .bt3-header-light-menu__nav-secondary[_ngcontent-%COMP%]{padding:0 3.8rem}.bt3-header-light-menu__main-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none}.bt3-header-light-menu__main-nav-item[_ngcontent-%COMP%]{border-top:1px solid var(--black-200)}.bt3-header-light-menu__main-nav-item[_ngcontent-%COMP%]:last-child{border-bottom:1px solid var(--black-200)}.bt3-header-light-menu__main-nav-link[_ngcontent-%COMP%]{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);display:flex;font-size:1.8rem;color:var(--black-500);text-decoration:none;padding:.9rem 0}@media (hover: hover){.bt3-header-light-menu__main-nav-link[_ngcontent-%COMP%]:hover{color:var(--black-700)}}.bt3-header-light-menu__nav-secondary[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:2.4rem;gap:2.4rem;padding-top:4.5rem;padding-bottom:4.5rem}"]}),t})();function KQ(t,n){if(1&t){const e=Cn();R(0,"button",13),Ze("click",function(){return mt(e),Z(2).openMenu()}),R(1,"span",14),ot(2),z(),Se(3,"bt3-icon",15),z()}if(2&t){const e=Z(2);F(2),Kn(e.labelOpenNavMenu)}}function JQ(t,n){if(1&t&&(zt(0),Se(1,"app-header-light-download-link",16),Nt()),2&t){const e=n.ngIf,i=Z(2);F(1),B("downloadLink",e)("isInverted",!(!i.data.mainNav||!i.data.mainNav.length))}}function QQ(t,n){if(1&t){const e=Cn();R(0,"a",25),Ze("click",function(a){return mt(e),Z(5).handleNavClick(a)}),ot(1),z()}if(2&t){const e=Z().$implicit;zi("href",e.url,en),F(1),Kn(e.label)}}function eee(t,n){if(1&t&&(R(0,"a",26),ot(1),z()),2&t){const e=Z().$implicit;zi("href",e.url,en),j("target",e.isExternal?"_blank":"_self"),F(1),Kn(e.label)}}function tee(t,n){if(1&t&&(R(0,"li",22),Q(1,QQ,2,2,"a",23),Q(2,eee,2,3,"a",24),z()),2&t){const e=n.$implicit;F(1),B("ngIf",e.isAnchor),F(1),B("ngIf",!e.isAnchor)}}const J5=function(t){return{"bt3-grid__desktop-col-11 bt3-grid__desktop-col-offset-1":t}};function nee(t,n){if(1&t){const e=Cn();zt(0),R(1,"div",17),R(2,"div",3),R(3,"div",4),R(4,"div",18),R(5,"ul",19),Q(6,tee,3,2,"li",20),z(),z(),z(),z(),z(),R(7,"app-header-light-menu",21),Ze("closed",function(){return mt(e),Z(3).closeMenu()})("anchorClicked",function(a){return mt(e),Z(3).scrollToTarget(a)}),z(),Nt()}if(2&t){const e=Z(3);F(3),B("ngClass",Ga(8,J5,e.data.hasLeftIndent)),F(3),B("ngForOf",e.mainNavLinks),F(1),B("@menu",e.menuVisibilityState)("data",e.data)("mainNavLinks",e.mainNavLinks)("labelCloseNavMenu",e.labelCloseNavMenu)("labelOpenLangNavMenu",e.labelOpenLangNavMenu)("labelCloseLangNavMenu",e.labelCloseLangNavMenu)}}function iee(t,n){if(1&t&&(zt(0),Q(1,nee,8,10,"ng-container",10),Nt()),2&t){const e=Z(2);F(1),B("ngIf",e.mainNavLinks.length)}}function aee(t,n){if(1&t&&(R(0,"div",27),R(1,"div",3),R(2,"div",28),R(3,"div",29),R(4,"a",30),Se(5,"bt3-icon",31),z(),z(),z(),z(),z()),2&t){const e=Z(2);F(4),j("target",e.data.homeLink.isExternal?"_blank":"_self")}}const ree=function(t,n,e){return{"bt3-header-light--has-main-nav":t,"bt3-header-light--bold-title":n,"bt3-header-light--logo-hidden":e}};function oee(t,n){if(1&t&&(R(0,"div",1),R(1,"div",2),R(2,"div",3),R(3,"div",4),R(4,"div",5),Q(5,KQ,4,1,"button",6),Se(6,"app-header-light-home-link",7),Se(7,"span",8),R(8,"div",9),Q(9,JQ,2,2,"ng-container",10),Se(10,"app-header-light-lang-nav",11),z(),z(),z(),z(),z(),Q(11,iee,2,1,"ng-container",10),Q(12,aee,6,1,"div",12),z()),2&t){const e=Z();Fd("bt3-header-light ",e.data.themeVariant?"bt3-theme--"+e.data.themeVariant:"",""),B("ngClass",Wh(18,ree,e.data.mainNav&&e.data.mainNav.length,e.data.hasBoldTitle,"EXPANDED"!==e.logoVisibilityState))("@displayAnimation",e.headerVisibilityState),F(3),B("ngClass",Ga(22,J5,e.data.hasLeftIndent)),F(2),B("ngIf",e.data.mainNav&&e.data.mainNav.length),F(1),B("homeLink",e.data.homeLink)("isInverted",!(!e.data.mainNav||!e.data.mainNav.length)),F(1),B("innerHtml",e.data.title,Zi),F(2),B("ngIf",e.data.downloadLink),F(1),B("langLinks",e.data.langNav)("isInverted",!!(e.data.mainNav&&e.data.mainNav.length>0))("closeOnBlur",!0)("labelOpenLangNavMenu",e.labelOpenLangNavMenu)("labelCloseLangNavMenu",e.labelCloseLangNavMenu),F(1),B("ngIf",e.mainNavLinks),F(1),B("ngIf",e.data.homeLink&&e.data.hasLogo)}}var mp=(()=>(function(t){t.HIDDEN="hidden",t.VISIBLE="visible"}(mp||(mp={})),mp))(),Ux=(()=>(function(t){t.EXPANDED="EXPANDED",t.HIDDEN="HIDDEN",t.COLLAPSED="COLLAPSED"}(Ux||(Ux={})),Ux))();let see=(()=>{class t{constructor(){this.visibilityStates=mp,this.logoVisibilityStates=Ux,this.headerVisibilityState=this.visibilityStates.HIDDEN,this.menuVisibilityState=this.visibilityStates.HIDDEN,this.logoVisibilityState=this.logoVisibilityStates.EXPANDED,this.data=null,this.mainNavLinks=[],this.scrollOffset=48,this.labelOpenNavMenu="",this.labelCloseNavMenu="",this.labelOpenLangNavMenu="",this.labelCloseLangNavMenu=""}set dataJson(e){var i,a,c;this.data=JSON.parse(e),this.mainNavLinks=null!==(c=null===(a=null===(i=this.data)||void 0===i?void 0:i.mainNav)||void 0===a?void 0:a.map(h=>Object.assign(Object.assign({},h),{isAnchor:h.url.startsWith("#")})))&&void 0!==c?c:[]}set showHeader(e){this.headerVisibilityState="true"===e||"1"===e?this.visibilityStates.VISIBLE:this.visibilityStates.HIDDEN}ngOnInit(){this.scrollSubscription=$c(window,"scroll").pipe(Ik(300,Mx,{trailing:!0})).subscribe(()=>{let e=this.logoVisibilityStates.HIDDEN;window.scrollY<window.innerHeight/3&&(e=this.logoVisibilityStates.EXPANDED),window.scrollY>2*window.innerHeight/3&&(e=this.logoVisibilityStates.COLLAPSED),this.logoVisibilityState=e})}ngOnDestroy(){var e;null===(e=this.scrollSubscription)||void 0===e||e.unsubscribe()}openMenu(){this.menuVisibilityState=this.visibilityStates.VISIBLE,document.documentElement.style.overflow="hidden"}closeMenu(){this.menuVisibilityState=this.visibilityStates.HIDDEN,document.documentElement.style.overflow="unset"}handleNavClick(e){var i;e.preventDefault();const a=e.target;if(!a)return;const c=null!==(i=a.getAttribute("href"))&&void 0!==i?i:"";this.scrollToTarget(c)}scrollToTarget(e){var i;const a=e?document.querySelector(e):null;if(!a)return;let c=a.offsetTop+(null!==(i=a.offsetParent.offsetTop)&&void 0!==i?i:0);window.scrollTo({top:c-this.scrollOffset,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-header-light"]],inputs:{dataJson:"dataJson",showHeader:"showHeader",labelOpenNavMenu:"labelOpenNavMenu",labelCloseNavMenu:"labelCloseNavMenu",labelOpenLangNavMenu:"labelOpenLangNavMenu",labelCloseLangNavMenu:"labelCloseLangNavMenu"},decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"bt3-grid__container","bt3-header-light__top-container"],[1,"bt3-grid__row"],[1,"bt3-grid__mobile-col-12","bt3-grid__tablet-col-12",3,"ngClass"],[1,"bt3-header-light__top-container-content"],["class","bt3-header-light__menu-btn",3,"click",4,"ngIf"],[1,"bt3-header-light__home-link",3,"homeLink","isInverted"],[1,"bt3-header-light__title",3,"innerHtml"],[1,"bt3-header-light__nav-wrapper"],[4,"ngIf"],[1,"bt3-header-light__lang-nav",3,"langLinks","isInverted","closeOnBlur","labelOpenLangNavMenu","labelCloseLangNavMenu"],["class","bt3-grid__container bt3-header-light__logo-container","aria-hidden","true",4,"ngIf"],[1,"bt3-header-light__menu-btn",3,"click"],[1,"bt3-header-light__menu-btn-label"],["name","menu",1,"bt3-header-light__menu-btn-icon"],[1,"bt3-header-light__download-link",3,"downloadLink","isInverted"],[1,"bt3-grid__container","bt3-header-light__bottom-container"],[1,"bt3-header-light__bottom-container-content"],[1,"bt3-header-light__main-nav"],["class","bt3-header-light__main-nav-item",4,"ngFor","ngForOf"],[1,"bt3-header-light__menu",3,"data","mainNavLinks","labelCloseNavMenu","labelOpenLangNavMenu","labelCloseLangNavMenu","closed","anchorClicked"],[1,"bt3-header-light__main-nav-item"],["class","bt3-header-light__main-nav-link",3,"href","click",4,"ngIf"],["class","bt3-header-light__main-nav-link",3,"href",4,"ngIf"],[1,"bt3-header-light__main-nav-link",3,"href","click"],[1,"bt3-header-light__main-nav-link",3,"href"],["aria-hidden","true",1,"bt3-grid__container","bt3-header-light__logo-container"],[1,"bt3-grid__mobile-col-4","bt3-grid__mobile-col-offset-8","bt3-grid__tablet-col-2","bt3-grid__tablet-col-offset-10"],[1,"bt3-header-light__logo-wrapper"],["href","data.homeLink.url",1,"bt3-header-light__logo"],["name","bkw-logo","aria-hidden","true",1,"bt3-header-light__logo-img"]],template:function(e,i){1&e&&Q(0,oee,13,24,"div",0),2&e&&B("ngIf",i.data)},directives:[ri,Pr,Z5,X5,K5,ya,XQ],styles:[".bt3-header-light[_ngcontent-%COMP%]{z-index:1000;position:fixed;width:100%;background-color:var(--white);box-shadow:0 3px 12px #12121226}.bt3-theme--primary[_ngcontent-%COMP%]   .bt3-header-light[_ngcontent-%COMP%], .bt3-header-light.bt3-theme--primary[_ngcontent-%COMP%]{--themeLight: var(--primary-300);--themeLightFont: var(--black-900);--themeBase: var(--primary-500);--themeDark: var(--primary-900);--themeDarkFont: var(--white);--themeHover: var(--primary-700);--themeLinkColor: var(--primary-500)}.bt3-theme--secondary[_ngcontent-%COMP%]   .bt3-header-light[_ngcontent-%COMP%], .bt3-header-light.bt3-theme--secondary[_ngcontent-%COMP%]{--themeLight: var(--accent-300);--themeLightFont: var(--black-900);--themeBase: var(--accent-500);--themeDark: var(--accent-900);--themeDarkFont: var(--white);--themeHover: var(--accent-700);--themeLinkColor: var(--accent-500)}.bt3-header-light__top-container-content[_ngcontent-%COMP%], .bt3-header-light__bottom-container-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:5.4rem;padding:.6rem 0}.bt3-header-light__top-container-content[_ngcontent-%COMP%]{justify-content:space-between;grid-gap:.9rem;gap:.9rem;font-size:1.5rem}@media (min-width: 37.5em){.bt3-header-light__top-container-content[_ngcontent-%COMP%]{grid-gap:2.4rem;gap:2.4rem}}.bt3-header-light__menu-btn[_ngcontent-%COMP%]{--themeBase: var(--black-500);display:flex;align-items:center;justify-content:center;margin-left:-1.2rem;width:4.5rem;height:4.5rem;color:var(--themeBase);background:transparent;border:0;border-radius:0;cursor:pointer}@media (hover: hover){.bt3-header-light__menu-btn[_ngcontent-%COMP%]:hover{--themeBase: var(--black-700)}}.bt3-header-light__menu-btn-label[_ngcontent-%COMP%]{border:0!important;clip:rect(0 0 0 0)!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.bt3-header-light__nav-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:4.5rem;gap:4.5rem}.bt3-header-light__download-link[_ngcontent-%COMP%]{display:none}@media (min-width: 37.5em){.bt3-header-light__download-link[_ngcontent-%COMP%]{display:block}}.bt3-header-light__lang-nav[_ngcontent-%COMP%]{display:block;margin-right:-.6rem}.bt3-header-light__logo-container[_ngcontent-%COMP%]{position:relative;z-index:-1}.bt3-header-light__logo-wrapper[_ngcontent-%COMP%]{position:relative}@media (min-width: 37.5em){.bt3-header-light__logo-wrapper[_ngcontent-%COMP%]{margin-left:-1.8rem}}@media (min-width: 60em){.bt3-header-light__logo-wrapper[_ngcontent-%COMP%]{margin-left:-3.6rem}}.bt3-header-light__logo[_ngcontent-%COMP%]{position:absolute;top:2.4rem;display:flex;width:100%;padding-bottom:22%;transition:all .3s ease-in-out}@media (min-width: 37.5em){.bt3-header-light__logo[_ngcontent-%COMP%]{top:4.5rem}}@media (min-width: 60em){.bt3-header-light__logo[_ngcontent-%COMP%]{padding-right:18%;padding-bottom:18.04%}}.bt3-header-light__logo-img[_ngcontent-%COMP%]{width:100%;height:auto}.bt3-header-light__bottom-container[_ngcontent-%COMP%]{display:none;background-color:var(--white)}@media (min-width: 60em){.bt3-header-light__bottom-container[_ngcontent-%COMP%]{display:block}}.bt3-header-light__bottom-container-content[_ngcontent-%COMP%]{overflow:hidden}.bt3-header-light__main-nav[_ngcontent-%COMP%]{display:flex;grid-gap:3rem;gap:3rem;list-style:none;margin:0;padding:0}.bt3-header-light__main-nav-item[_ngcontent-%COMP%]{display:flex;flex:0 0 auto}.bt3-header-light__main-nav-link[_ngcontent-%COMP%]{--themeLinkColor: var(--black-500);--themeHover: var(--black-700);color:var(--themeLinkColor, var(--primary-500));text-decoration:none;border-bottom:.1rem var(--themeLinkColor, var(--primary-500)) solid;padding-bottom:.1rem;transition:all .3s ease-in-out;font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style);font-size:1.5rem;border-bottom:none}@media (hover: hover){.bt3-header-light__main-nav-link[_ngcontent-%COMP%]:hover{color:var(--themeHover, var(--primary-900));border-color:var(--themeHover, var(--primary-900))}}.bt3-header-light__menu[_ngcontent-%COMP%]{transform:translateY(-100%);opacity:0}.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__top-container[_ngcontent-%COMP%]{color:var(--white);background-color:var(--black-900)}.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__menu-btn[_ngcontent-%COMP%]{--themeBase: var(--black-300)}@media (hover: hover){.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__menu-btn[_ngcontent-%COMP%]:hover{--themeBase: var(--black-400)}}@media (min-width: 60em){.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__menu-btn[_ngcontent-%COMP%]{display:none}}@media (max-width: 59.99em){.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__home-link[_ngcontent-%COMP%]{display:none}}.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__nav-wrapper[_ngcontent-%COMP%]{display:none}@media (min-width: 60em){.bt3-header-light--has-main-nav[_ngcontent-%COMP%]   .bt3-header-light__nav-wrapper[_ngcontent-%COMP%]{display:flex}}.bt3-header-light--bold-title[_ngcontent-%COMP%]   .bt3-header-light__title[_ngcontent-%COMP%]{font-family:var(--bold-font-family);font-weight:var(--bold-font-weight);font-style:var(--bold-font-style)}.bt3-header-light--logo-hidden[_ngcontent-%COMP%]   .bt3-header-light__logo[_ngcontent-%COMP%]{transform:translateY(calc(-1 * (100% + 2.4rem)))}@media (min-width: 37.5em){.bt3-header-light--logo-hidden[_ngcontent-%COMP%]   .bt3-header-light__logo[_ngcontent-%COMP%]{transform:translateY(calc(-1 * (100% + 4.5rem)))}}"],data:{animation:[kr("displayAnimation",[ma(`${mp.VISIBLE}`,Ln({transform:"translateY(0)"})),ma(`${mp.HIDDEN}`,Ln({transform:"translateY(-400%)"})),ra("* <=> *",va("300ms ease-out"))]),kr("menu",[ma(`${mp.VISIBLE}`,Ln({transform:"translateY(0)",opacity:1})),ma(`${mp.HIDDEN}`,Ln({transform:"translateY(-100%)",opacity:0})),ra("* <=> *",va("300ms ease-out"))])]}}),t})(),lee=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-header-light",Mr(see,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})();const cee=["target"];let dee=(()=>{class t{constructor(){this.hash=""}ngAfterViewInit(){this.hash&&this.targetElement&&`#${this.hash}`===window.location.hash&&(window.onload=()=>{setTimeout(()=>{this.targetElement.nativeElement.scrollIntoView({behavior:"smooth"})},100)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-url-scroll-handler"]],viewQuery:function(e,i){if(1&e&&En(cee,5),2&e){let a;Xt(a=Kt())&&(i.targetElement=a.first)}},inputs:{hash:"hash"},decls:2,vars:0,consts:[[1,"bt3-url-scroll-handler"],["target",""]],template:function(e,i){1&e&&Se(0,"div",0,1)},styles:[".bt3-url-scroll-handler[_ngcontent-%COMP%]{scroll-margin-top:9rem}@media (min-width: 60em){.bt3-url-scroll-handler[_ngcontent-%COMP%]{scroll-margin-top:12rem}}"]}),t})(),uee=(()=>{class t{constructor(e){this.injector=e,customElements.define("bt3-url-scroll-handler",Mr(dee,{injector:e}))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})(),hee=(()=>{class t{constructor(){this.element=null}ngAfterViewInit(){this.selector&&(this.element=document.querySelector(this.selector),this.setScrollSubscription())}ngOnDestroy(){var e;null===(e=this.scrollSubscription)||void 0===e||e.unsubscribe()}setScrollSubscription(){this.scrollSubscription=$c(window,"scroll").pipe(Ik(100,Mx,{trailing:!0})).subscribe(()=>{this.handleScroll()})}handleScroll(){this.element&&(window.scrollY>2*window.innerHeight?this.element.style.display="none":this.element.removeAttribute("style"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-fixed-background-element-handler"]],inputs:{selector:"selector"},decls:0,vars:0,template:function(e,i){},encapsulation:3}),t})(),mee=(()=>{class t{constructor(e){this.injector=e,[["bt3-fixed-background-element-handler",hee]].forEach(([a,c])=>customElements.define(a,Mr(c,{injector:e})))}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({imports:[[Ba]]}),t})(),pee=(()=>{class t{constructor(e){[["bt3-gallery-slider",IN],["bt3-navigation-status",uW],["bt3-breadcrumb",Nq],["bt3-video",jq],["bt3-icon",Gq],["bt3-horizontal-scroll",Yq],["bt3-viewport-entry-notification",qq],["bt3-scroll-indicator",Xq],["bt3-scroll-to-top",uK],["bt3-hero-video",Zq],["bt3-stock",Jq],["bt3-iframe",aW],["bt3-inpage-scroll",mW]].forEach(([a,c])=>customElements.define(a,Mr(c,{injector:e})))}ngDoBootstrap(){}}return t.\u0275fac=function(e){return new(e||t)(Ne(Xn))},t.\u0275mod=gn({type:t}),t.\u0275inj=dn({providers:[E5],imports:[[PZ,Fq,F2,M5,Sf,Sv,b_,OZ,CJ,Sk,Hx,wX,DX,cK,OJ,PJ,jJ,eQ,CQ,AQ,uee,lee,mee]]}),t})();(function(){if(SE)throw new Error("Cannot enable prod mode after platform setup.");DE=!1})(),dN().bootstrapModule(pee).catch(t=>console.error(t))})()})();